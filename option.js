!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var n in a)("object"==typeof exports?exports:e)[n]=a[n]}}(self,(()=>(()=>{var e,t,a={7745:(e,t,a)=>{!function(e){("undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:this).muxjs=function(){function e(t,a,n){function r(o,s){if(!a[o]){if(!t[o]){if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=a[o]={exports:{}};t[o][0].call(d.exports,(function(e){return r(t[o][1][e]||e)}),d,d.exports,e,t,a,n)}return a[o].exports}for(var i=void 0,o=0;o<n.length;o++)r(n[o]);return r}return e}()({1:[function(e,t,a){"use strict";var n,r=e(31),i=e(2);(n=function(){var e=new Uint8Array,t=0;n.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(a){var n,r,o,s,l=0,d=0;for(e.length?(s=e.length,(e=new Uint8Array(a.byteLength+s)).set(e.subarray(0,s)),e.set(a,s)):e=a;e.length-d>=3;)if(e[d]!=="I".charCodeAt(0)||e[d+1]!=="D".charCodeAt(0)||e[d+2]!=="3".charCodeAt(0))if(255!=(255&e[d])||240!=(240&e[d+1]))d++;else{if(e.length-d<7)break;if(d+(l=i.parseAdtsSize(e,d))>e.length)break;o={type:"audio",data:e.subarray(d,d+l),pts:t,dts:t},this.trigger("data",o),d+=l}else{if(e.length-d<10)break;if(d+(l=i.parseId3TagSize(e,d))>e.length)break;r={type:"timed-metadata",data:e.subarray(d,d+l)},this.trigger("data",r),d+=l}n=e.length-d,e=n>0?e.subarray(d):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new r,t.exports=n},{2:2,31:31}],2:[function(e,t,a){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(e,t){var a=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return a=a>=0?a:0,(16&e[t+5])>>4?a+20:a+10},i=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=r(e,t),i(e,t))},o=function(e){var t=i(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},s=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},l=function(e,t,a){var n,r="";for(n=t;n<a;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r},d=function(e,t,a){return unescape(l(e,t,a))},c=function(e,t){var a=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|a},u=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},h=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},f=function(e){var t,a,n;t=10,64&e[5]&&(t+=4,t+=s(e.subarray(10,14)));do{if((a=s(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+a+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"===d(n,0,r)){var i=n.subarray(r+1),o=(1&i[3])<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2;return o*=4,o+=3&i[7]}break}}t+=10,t+=a}while(t<e.byteLength);return null};t.exports={isLikelyAacData:o,parseId3TagSize:r,parseAdtsSize:c,parseType:u,parseSampleRate:h,parseAacTimestamp:f}},{}],3:[function(e,t,a){"use strict";var n,r=e(31),i=e(29).ONE_SECOND_IN_TS,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(e){var t,a=0;n.prototype.init.call(this),this.push=function(n){var r,s,l,d,c,u,h=0;if(e||(a=0),"audio"===n.type)for(t?(d=t,(t=new Uint8Array(d.byteLength+n.data.byteLength)).set(d),t.set(n.data,d.byteLength)):t=n.data;h+5<t.length;)if(255===t[h]&&240==(246&t[h+1])){if(s=2*(1&~t[h+1]),r=(3&t[h+3])<<11|t[h+4]<<3|(224&t[h+5])>>5,u=(c=1024*(1+(3&t[h+6])))*i/o[(60&t[h+2])>>>2],l=h+r,t.byteLength<l)return;if(this.trigger("data",{pts:n.pts+a*u,dts:n.dts+a*u,sampleCount:c,audioobjecttype:1+(t[h+2]>>>6&3),channelcount:(1&t[h+2])<<2|(192&t[h+3])>>>6,samplerate:o[(60&t[h+2])>>>2],samplingfrequencyindex:(60&t[h+2])>>>2,samplesize:16,data:t.subarray(h+7+s,l)}),a++,t.byteLength===l)return void(t=void 0);t=t.subarray(l)}else h++},this.flush=function(){a=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new r,t.exports=n},{29:29,31:31}],4:[function(e,t,a){"use strict";var n,r,i,o=e(31),s=e(30);(r=function(){var e,t,a=0;r.prototype.init.call(this),this.push=function(n){var r;t?((r=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),r.set(n.data,t.byteLength),t=r):t=n.data;for(var i=t.byteLength;a<i-3;a++)if(1===t[a+2]){e=a+5;break}for(;e<i;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}a+3!==e-2&&this.trigger("data",t.subarray(a+3,e-2));do{e++}while(1!==t[e]&&e<i);a=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(a+3,e-2)),a=e-2,e+=3;break;default:e+=3}t=t.subarray(a),e-=a,a=0},this.reset=function(){t=null,a=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(a+3)),t=null,a=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new o,i={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(n=function(){var e,t,a,o,l,d,c,u=new r;n.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,a=e.pts,o=e.dts,u.push(e))},u.on("data",(function(n){var r={trackId:t,pts:a,dts:o,data:n};switch(31&n[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=l(n.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=l(n.subarray(1)),r.config=d(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",r)})),u.on("done",(function(){e.trigger("done")})),u.on("partialdone",(function(){e.trigger("partialdone")})),u.on("reset",(function(){e.trigger("reset")})),u.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){u.flush()},this.partialFlush=function(){u.partialFlush()},this.reset=function(){u.reset()},this.endTimeline=function(){u.endTimeline()},c=function(e,t){var a,n=8,r=8;for(a=0;a<e;a++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},l=function(e){for(var t,a,n=e.byteLength,r=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return e;t=n-r.length,a=new Uint8Array(t);var o=0;for(i=0;i<t;o++,i++)o===r[0]&&(o++,r.shift()),a[i]=e[o];return a},d=function(e){var t,a,n,r,o,l,d,u,h,f,p,v,m,g=0,y=0,b=0,_=0,E=1;if(a=(t=new s(e)).readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),i[a]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==o?8:12,m=0;m<p;m++)t.readBoolean()&&c(m<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(l=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),d=t.readUnsignedExpGolomb(),m=0;m<d;m++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),h=t.readUnsignedExpGolomb(),0===(f=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(E=v[0]/v[1])}return{profileIdc:a,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*g-2*y)*E),height:(2-f)*(h+1)*16-2*b-2*_,sarRatio:v}}}).prototype=new o,t.exports={H264Stream:n,NalByteStream:r}},{30:30,31:31}],5:[function(e,t,a){var n=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];t.exports=n},{}],6:[function(e,t,a){var n=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];t.exports=n},{}],7:[function(e,t,a){var n,r=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],o=function(e){for(var t=[];e--;)t.push(0);return t},s=function(e){return Object.keys(e).reduce((function(t,a){return t[a]=new Uint8Array(e[a].reduce((function(e,t){return e.concat(t)}),[])),t}),{})};t.exports=function(){if(!n){var e={96e3:[r,[227,64],o(154),[56]],88200:[r,[231],o(170),[56]],64e3:[r,[248,192],o(240),[56]],48e3:[r,[255,192],o(268),[55,148,128],o(54),[112]],44100:[r,[255,192],o(268),[55,163,128],o(84),[112]],32e3:[r,[255,192],o(268),[55,234],o(226),[112]],24e3:[r,[255,192],o(268),[55,255,128],o(268),[111,112],o(126),[224]],16e3:[r,[255,192],o(268),[55,255,128],o(268),[111,255],o(269),[223,108],o(195),[1,192]],12e3:[i,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,253,128],o(259),[56]],11025:[i,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,255,192],o(268),[55,175,128],o(108),[112]],8e3:[i,o(268),[3,121,16],o(47),[7]]};n=s(e)}return n}},{}],8:[function(e,t,a){"use strict";var n=e(31),r=e(23),i=function(){i.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new u(0,0),new u(0,1),new u(1,0),new u(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this)};i.prototype=new n,i.prototype.push=function(e){var t,a,n;if("sei_rbsp"===e.nalUnitType&&(t=r.parseSei(e.escapedRBSP)).payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(a=r.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=r.parseCaptionPackets(e.pts,a),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},i.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},i.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},i.prototype.flush=function(){return this.flushStream("flush")},i.prototype.partialFlush=function(){return this.flushStream("partialFlush")},i.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},i.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},i.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},i.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},i.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=o[e]||e,String.fromCharCode(e))},l=14,d=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var e=[],t=l+1;t--;)e.push("");return e},u=function(e,t){u.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,a,n,r,i;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),a=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=a,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=c();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))i=s((n=(3&n)<<8)|r),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=s((n=(3&n)<<8)|r),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var o=d.indexOf(7968&t);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),i=s(n),i+=s(r),this[this.mode_](e.pts,i),this.column_+=i.length)}else this.lastControlCode_=null}};u.prototype=new n,u.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},u.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=l,this.rollUpRows_=2,this.formatting_=[]},u.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},u.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},u.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},u.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},u.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},u.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},u.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},u.prototype.isNormalChar=function(e){return e>=32&&e<=127},u.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=l,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==t&&t!==this.row_)for(var a=0;a<this.rollUpRows_;a++)this.displayed_[t-a]=this.displayed_[this.row_-a],this.displayed_[this.row_-a]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},u.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var a=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,a)},u.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},u.prototype.popOn=function(e,t){var a=this.nonDisplayed_[this.row_];a+=t,this.nonDisplayed_[this.row_]=a},u.prototype.rollUp=function(e,t){var a=this.displayed_[this.row_];a+=t,this.displayed_[this.row_]=a},u.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<l+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},u.prototype.paintOn=function(e,t){var a=this.displayed_[this.row_];a+=t,this.displayed_[this.row_]=a},t.exports={CaptionStream:i,Cea608Stream:u}},{23:23,31:31}],9:[function(e,t,a){"use strict";var n,r,i,o=e(31),s=e(8),l=e(11),d=e(12).TimestampRolloverStream,c=188,u=71;(n=function(){var e=new Uint8Array(c),t=0;n.prototype.init.call(this),this.push=function(a){var n,r=0,i=c;for(t?((n=new Uint8Array(a.byteLength+t)).set(e.subarray(0,t)),n.set(a,t),t=0):n=a;i<n.byteLength;)n[r]!==u||n[i]!==u?(r++,i++):(this.trigger("data",n.subarray(r,i)),r+=c,i+=c);r<n.byteLength&&(e.set(n.subarray(r),0),t=n.byteLength-r)},this.flush=function(){t===c&&e[0]===u&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new o,(r=function(){var e,t,a,n;r.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var r=0;n.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===n.type?t(e.subarray(r),n):a(e.subarray(r),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},a=function(e,t){var a,r;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},a=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<a;){var i=e[r],o=(31&e[r+1])<<8|e[r+2];i===l.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=o:i===l.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=o:i===l.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][o]=i),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var a={},n=4;if(a.payloadUnitStartIndicator=!!(64&t[1]),a.pid=31&t[1],a.pid<<=8,a.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===a.pid)a.type="pat",e(t.subarray(n),a),this.trigger("data",a);else if(a.pid===this.pmtPid)for(a.type="pmt",e(t.subarray(n),a),this.trigger("data",a);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,a]):this.processPes_(t,n,a)},this.processPes_=function(e,t,a){a.pid===this.programMapTable.video?a.streamType=l.H264_STREAM_TYPE:a.pid===this.programMapTable.audio?a.streamType=l.ADTS_STREAM_TYPE:a.streamType=this.programMapTable["timed-metadata"][a.pid],a.type="pes",a.data=e.subarray(t),this.trigger("data",a)}}).prototype=new o,r.STREAM_TYPES={h264:27,adts:15},i=function(){var e,t=this,a={data:[],size:0},n={data:[],size:0},r={data:[],size:0},o=function(e,t){var a;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(a=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&a&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},s=function(e,a,n){var r,i=new Uint8Array(e.size),s={type:a},l=0,d=0,c=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)r=e.data[l],i.set(r.data,d),d+=r.data.byteLength;o(i,s),c="video"===a||s.packetLength<=e.size,(n||c)&&(e.size=0,e.data.length=0),c&&t.trigger("data",s)}};i.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,t;switch(i.streamType){case l.H264_STREAM_TYPE:e=a,t="video";break;case l.ADTS_STREAM_TYPE:e=n,t="audio";break;case l.METADATA_STREAM_TYPE:e=r,t="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var a={type:"metadata",tracks:[]};null!==(e=i.programMapTable).video&&a.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&a.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",a)}})[i.type]()},this.reset=function(){a.size=0,a.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(a,"video"),s(n,"audio"),s(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},i.prototype=new o;var h={PAT_PID:0,MP2T_PACKET_LENGTH:c,TransportPacketStream:n,TransportParseStream:r,ElementaryStream:i,TimestampRolloverStream:d,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:e(10)};for(var f in l)l.hasOwnProperty(f)&&(h[f]=l[f]);t.exports=h},{10:10,11:11,12:12,31:31,8:8}],10:[function(e,t,a){"use strict";var n,r=e(31),i=e(11),o=function(e,t,a){var n,r="";for(n=t;n<a;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r},s=function(e,t,a){return decodeURIComponent(o(e,t,a))},l=function(e,t,a){return unescape(o(e,t,a))},d=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},c={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=l(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(n=function(e){var t,a={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,o=[],s=0;if(n.prototype.init.call(this),this.dispatchType=i.METADATA_STREAM_TYPE.toString(16),a.descriptor)for(t=0;t<a.descriptor.length;t++)this.dispatchType+=("00"+a.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,i,l,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))a.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(e),s+=e.data.byteLength,1===o.length&&(r=d(e.data.subarray(6,10)),r+=10),!(s<r)){for(t={data:new Uint8Array(r),frames:[],pts:o[0].pts,dts:o[0].dts},u=0;u<r;)t.data.set(o[0].data.subarray(0,r-u),u),u+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();n=10,64&t.data[5]&&(n+=4,n+=d(t.data.subarray(10,14)),r-=d(t.data.subarray(16,20)));do{if((i=d(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)}).key=l.id,c[l.id]&&(c[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var h=l.data,f=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;f*=4,f+=3&h[7],l.timeStamp=f,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),n+=10,n+=i}while(n<r);this.trigger("data",t)}}}).prototype=new r,t.exports=n},{11:11,31:31}],11:[function(e,t,a){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],12:[function(e,t,a){"use strict";var n=e(31),r=8589934592,i=4294967296,o="shared",s=function(e,t){var a=1;for(e>t&&(a=-1);Math.abs(t-e)>i;)e+=a*r;return e},l=function(e){var t,a;l.prototype.init.call(this),this.type_=e||o,this.push=function(e){this.type_!==o&&e.type!==this.type_||(void 0===a&&(a=e.dts),e.dts=s(e.dts,a),e.pts=s(e.pts,a),t=e.dts,this.trigger("data",e))},this.flush=function(){a=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){a=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};l.prototype=new n,t.exports={TimestampRolloverStream:l,handleRollover:s}},{31:31}],13:[function(e,t,a){var n=e(7),r=e(29),i=function(e){var t,a=0;for(t=0;t<e.length;t++)a+=e[t].data.byteLength;return a},o=function(e,t,a,i){var o,s,l,d,c=0,u=0,h=0,f=0;if(t.length&&(o=r.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),c=Math.ceil(r.ONE_SECOND_IN_TS/(e.samplerate/1024)),a&&i&&(u=o-Math.max(a,i),f=(h=Math.floor(u/c))*c),!(h<1||f>r.ONE_SECOND_IN_TS/2))){for((s=n()[e.samplerate])||(s=t[0].data),l=0;l<h;l++)d=t[0],t.splice(0,0,{data:s,dts:d.dts-c,pts:d.pts-c});e.baseMediaDecodeTime-=Math.floor(r.videoTsToAudioTs(f,e.samplerate))}},s=function(e,t,a){return t.minSegmentDts>=a?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=a&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},l=function(e){var t,a,n=[];for(t=0;t<e.length;t++)a=e[t],n.push({size:a.data.byteLength,duration:1024});return n},d=function(e){var t,a,n=0,r=new Uint8Array(i(e));for(t=0;t<e.length;t++)a=e[t],r.set(a.data,n),n+=a.data.byteLength;return r};t.exports={prefixWithSilence:o,trimAdtsFramesByEarliestDts:s,generateSampleTable:l,concatenateFrameData:d}},{29:29,7:7}],14:[function(e,t,a){"use strict";var n=e(23).discardEmulationPreventionBytes,r=e(8).CaptionStream,i=e(15),o=e(25),s=e(27),l=e(26),d=function(e,t){for(var a=e,n=0;n<t.length;n++){var r=t[n];if(a<r.size)return r;a-=r.size}return null},c=function(e,t,a){var r,i,o,s,l=new DataView(e.buffer,e.byteOffset,e.byteLength),c=[];for(i=0;i+4<e.length;i+=o)if(o=l.getUint32(i),i+=4,!(o<=0))switch(31&e[i]){case 6:var u=e.subarray(i+1,i+1+o),h=d(i,t);if(r={nalUnitType:"sei_rbsp",size:o,data:u,escapedRBSP:n(u),trackId:a},h)r.pts=h.pts,r.dts=h.dts,s=h;else{if(!s){console.log("We've encountered a nal unit without data. See mux.js#233.");break}r.pts=s.pts,r.dts=s.dts}c.push(r)}return c},u=function(e,t,a){var n=t,r=a.defaultSampleDuration||0,i=a.defaultSampleSize||0,o=a.trackId,l=[];return e.forEach((function(e){var t=s(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=i),e.trackId=o,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration})),l=l.concat(t)})),l},h=function(e,t){var a=i(e,["moof","traf"]),n=i(e,["mdat"]),r={},s=[];return n.forEach((function(e,t){var n=a[t];s.push({mdat:e,traf:n})})),s.forEach((function(e){var a,n,s=e.mdat,d=e.traf,h=i(d,["tfhd"]),f=l(h[0]),p=f.trackId,v=i(d,["tfdt"]),m=v.length>0?o(v[0]).baseMediaDecodeTime:0,g=i(d,["trun"]);t===p&&g.length>0&&(a=u(g,m,f),n=c(s,a,p),r[p]||(r[p]=[]),r[p]=r[p].concat(n))})),r},f=function(e,t,a){return null===t?null:{seiNals:h(e,t)[t],timescale:a}},p=function(){var e,t,a,n,i,o,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new r,s=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,i.captions.push(e),i.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||a===e[0]&&n===t[a])},this.parse=function(e,r,o){var s;if(!this.isInitialized())return null;if(!r||!o)return null;if(this.isNewInit(r,o))a=r[0],n=o[a];else if(null===a||!n)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,r,o)}return null!==(s=f(e,a,n))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],a=null,n=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};t.exports=p},{15:15,23:23,25:25,26:26,27:27,8:8}],15:[function(e,t,a){var n=e(28).toUnsigned,r=e(19),i=function(e,t){var a,o,s,l,d,c=[];if(!t.length)return null;for(a=0;a<e.byteLength;)o=n(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]),s=r(e.subarray(a+4,a+8)),l=o>1?a+o:e.byteLength,s===t[0]&&(1===t.length?c.push(e.subarray(a+8,l)):(d=i(e.subarray(a+8,l),t.slice(1))).length&&(c=c.concat(d))),a=l;return c};t.exports=i},{19:19,28:28}],16:[function(e,t,a){var n=function(e){var t,a,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(a=e[t]).nalUnitType?(n.length&&(n.duration=a.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[a]).byteLength=a.data.byteLength,n.pts=a.pts,n.dts=a.dts):("slice_layer_without_partitioning_rbsp_idr"===a.nalUnitType&&(n.keyFrame=!0),n.duration=a.dts-n.dts,n.byteLength+=a.data.byteLength,n.push(a));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},r=function(e){var t,a,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(a=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[a]).nalCount=a.length,n.byteLength=a.byteLength,n.pts=a.pts,n.dts=a.dts,n.duration=a.duration):(n.duration+=a.duration,n.nalCount+=a.length,n.byteLength+=a.byteLength,n.push(a));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},i=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},o=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},s=function(e,t){var a=o();return a.dataOffset=t,a.compositionTimeOffset=e.pts-e.dts,a.duration=e.duration,a.size=4*e.length,a.size+=e.byteLength,e.keyFrame&&(a.flags.dependsOn=2,a.flags.isNonSyncSample=0),a},l=function(e,t){var a,n,r,i,o,l=t||0,d=[];for(a=0;a<e.length;a++)for(i=e[a],n=0;n<i.length;n++)o=i[n],l+=(r=s(o,l)).size,d.push(r);return d},d=function(e){var t,a,n,r,i,o,s=0,l=e.byteLength,d=e.nalCount,c=new Uint8Array(l+4*d),u=new DataView(c.buffer);for(t=0;t<e.length;t++)for(r=e[t],a=0;a<r.length;a++)for(i=r[a],n=0;n<i.length;n++)o=i[n],u.setUint32(s,o.data.byteLength),s+=4,c.set(o.data,s),s+=o.data.byteLength;return c},c=function(e,t){var a,n=[];return a=s(e,t||0),n.push(a),n},u=function(e){var t,a,n=0,r=e.byteLength,i=e.length,o=new Uint8Array(r+4*i),s=new DataView(o.buffer);for(t=0;t<e.length;t++)a=e[t],s.setUint32(n,a.data.byteLength),n+=4,o.set(a.data,n),n+=a.data.byteLength;return o};t.exports={groupNalsIntoFrames:n,groupFramesIntoGops:r,extendFirstKeyFrame:i,generateSampleTable:l,concatenateNalData:d,generateSampleTableForFrame:c,concatenateNalDataForFrame:u}},{}],17:[function(e,t,a){t.exports={generator:e(18),probe:e(20),Transmuxer:e(22).Transmuxer,AudioSegmentStream:e(22).AudioSegmentStream,VideoSegmentStream:e(22).VideoSegmentStream,CaptionParser:e(14)}},{14:14,18:18,20:20,22:22}],18:[function(e,t,a){"use strict";var n,r,i,o,s,l,d,c,u,h,f,p,v,m,g,y,b,_,E,T,w,S,x,k,A,L,D,C,I,R,O,P,M,N,B,F,U,j,z,V,G,H=Math.pow(2,32)-1,q=4294967295;!function(){var e;if(x={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in x)x.hasOwnProperty(e)&&(x[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),L=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),A=new Uint8Array([0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),C=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),I={video:D,audio:C},P=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),M=new Uint8Array([0,0,0,0,0,0,0,0]),N=M,B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),F=M,R=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(e){var t,a,n=[],r=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)r+=n[t].byteLength;for(a=new Uint8Array(r+8),new DataView(a.buffer,a.byteOffset,a.byteLength).setUint32(0,a.byteLength),a.set(e,4),t=0,r=8;t<n.length;t++)a.set(n[t],r),r+=n[t].byteLength;return a},r=function(){return n(x.dinf,n(x.dref,P))},i=function(e){return n(x.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return n(x.ftyp,k,A,k,L)},y=function(e){return n(x.hdlr,I[e])},s=function(e){return n(x.mdat,e)},g=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate,e.duration=e.duration/9e4*e.samplerate,t[16]=e.duration>>>24&255,t[17]=e.duration>>>16&255,t[18]=e.duration>>>8&255,t[19]=255&e.duration),n(x.mdhd,t)},m=function(e){return n(x.mdia,g(e),y(e.type),d(e))},l=function(e){return n(x.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},d=function(e){return n(x.minf,"video"===e.type?n(x.vmhd,R):n(x.smhd,O),r(),_(e))},c=function(e,t){for(var a=[],r=t.length;r--;)a[r]=T(t[r]);return n.apply(null,[x.moof,l(e)].concat(a))},u=function(e){for(var t=e.length,a=[];t--;)a[t]=p(e[t]);return n.apply(null,[x.moov,f(q)].concat(a).concat(h(e)))},h=function(e){for(var t=e.length,a=[];t--;)a[t]=w(e[t]);return n.apply(null,[x.mvex].concat(a))},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(x.mvhd,t)},b=function(e){var t,a,r=e.samples||[],i=new Uint8Array(4+r.length);for(a=0;a<r.length;a++)t=r[a].flags,i[a+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return n(x.sdtp,i)},_=function(e){return n(x.stbl,E(e),n(x.stts,F),n(x.stsc,N),n(x.stsz,B),n(x.stco,M))},E=function(e){return n(x.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?U(e):j(e))},U=function(e){var t,a,r=e.sps||[],i=e.pps||[],o=[],s=[];for(t=0;t<r.length;t++)o.push((65280&r[t].byteLength)>>>8),o.push(255&r[t].byteLength),o=o.concat(Array.prototype.slice.call(r[t]));for(t=0;t<i.length;t++)s.push((65280&i[t].byteLength)>>>8),s.push(255&i[t].byteLength),s=s.concat(Array.prototype.slice.call(i[t]));if(a=[x.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(x.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],o,[i.length],s))),n(x.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],d=e.sarRatio[1];a.push(n(x.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&d)>>24,(16711680&d)>>16,(65280&d)>>8,255&d])))}return n.apply(null,a)},j=function(e){return n(x.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},v=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return n(x.tkhd,t)},T=function(e){var t,a,r,i,o,s,l;return t=n(x.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(H+1)),l=Math.floor(e.baseMediaDecodeTime%(H+1)),a=n(x.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),o=92,"audio"===e.type?(r=S(e,o),n(x.traf,t,a,r)):(i=b(e),r=S(e,i.length+o),n(x.traf,t,a,r,i))},p=function(e){return e.duration=e.duration||q,n(x.trak,v(e),m(e))},w=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),n(x.trex,t)},G=function(e,t){var a=0,n=0,r=0,i=0;return e.length&&(void 0!==e[0].duration&&(a=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(i=8)),[0,0,a|n|r|i,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},V=function(e,t){var a,r,i,o,s,l;for(t+=20+16*(o=e.samples||[]).length,i=G(o,t),(r=new Uint8Array(i.length+16*o.length)).set(i),a=i.length,l=0;l<o.length;l++)s=o[l],r[a++]=(4278190080&s.duration)>>>24,r[a++]=(16711680&s.duration)>>>16,r[a++]=(65280&s.duration)>>>8,r[a++]=255&s.duration,r[a++]=(4278190080&s.size)>>>24,r[a++]=(16711680&s.size)>>>16,r[a++]=(65280&s.size)>>>8,r[a++]=255&s.size,r[a++]=s.flags.isLeading<<2|s.flags.dependsOn,r[a++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,r[a++]=61440&s.flags.degradationPriority,r[a++]=15&s.flags.degradationPriority,r[a++]=(4278190080&s.compositionTimeOffset)>>>24,r[a++]=(16711680&s.compositionTimeOffset)>>>16,r[a++]=(65280&s.compositionTimeOffset)>>>8,r[a++]=255&s.compositionTimeOffset;return n(x.trun,r)},z=function(e,t){var a,r,i,o,s,l;for(t+=20+8*(o=e.samples||[]).length,i=G(o,t),(a=new Uint8Array(i.length+8*o.length)).set(i),r=i.length,l=0;l<o.length;l++)s=o[l],a[r++]=(4278190080&s.duration)>>>24,a[r++]=(16711680&s.duration)>>>16,a[r++]=(65280&s.duration)>>>8,a[r++]=255&s.duration,a[r++]=(4278190080&s.size)>>>24,a[r++]=(16711680&s.size)>>>16,a[r++]=(65280&s.size)>>>8,a[r++]=255&s.size;return n(x.trun,a)},S=function(e,t){return"audio"===e.type?z(e,t):V(e,t)},t.exports={ftyp:o,mdat:s,moof:c,moov:u,setDuration:function(e){e&&(q=9e4*e)},initSegment:function(e){var t,a=o(),n=u(e);return(t=new Uint8Array(a.byteLength+n.byteLength)).set(a),t.set(n,a.byteLength),t}}},{}],19:[function(e,t,a){var n=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])};t.exports=n},{}],20:[function(e,t,a){"use strict";var n,r,i,o,s,l,d=e(28).toUnsigned,c=e(28).toHexString,u=e(15),h=e(19),f=e(26),p=e(27),v=e(25);n=function(e){var t={};return u(e,["moov","trak"]).reduce((function(e,t){var a,n,r,i,o;return(a=u(t,["tkhd"])[0])?(n=a[0],i=d(a[r=0===n?12:20]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),(o=u(t,["mdia","mdhd"])[0])?(r=0===(n=o[0])?12:20,e[i]=d(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),e):null):null}),t)},r=function(e,t){var a,n,r;return a=u(t,["moof","traf"]),n=[].concat.apply([],a.map((function(t){return u(t,["tfhd"]).map((function(a){var n,r,i;return n=d(a[4]<<24|a[5]<<16|a[6]<<8|a[7]),r=e[n]||9e4,i=u(t,["tfdt"]).map((function(e){var t,a;return t=e[0],a=d(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(a*=Math.pow(2,32),a+=d(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),a}))[0],(i=i||1/0)/r}))}))),r=Math.min.apply(null,n),isFinite(r)?r:0},i=function(e,t){var a,n=u(t,["moof","traf"]),r=0,i=0;if(n&&n.length){var o=u(n[0],["tfhd"])[0],s=u(n[0],["trun"])[0],l=u(n[0],["tfdt"])[0];if(o&&(a=f(o).trackId),l&&(r=v(l).baseMediaDecodeTime),s){var d=p(s);d.samples&&d.samples.length&&(i=d.samples[0].compositionTimeOffset||0)}}return(r+i)/(e[a]||9e4)},o=function(e){var t=u(e,["moov","trak"]),a=[];return t.forEach((function(e){var t=u(e,["mdia","hdlr"]),n=u(e,["tkhd"]);t.forEach((function(e,t){var r,i,o=h(e.subarray(8,12)),s=n[t];"vide"===o&&(i=0===(r=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),a.push(i))}))})),a},l=function(e){var t=0===e[0]?12:20;return d(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},s=function(e){var t=u(e,["moov","trak"]),a=[];return t.forEach((function(e){var t,n,r={},i=u(e,["tkhd"])[0];i&&(n=(t=new DataView(i.buffer,i.byteOffset,i.byteLength)).getUint8(0),r.id=0===n?t.getUint32(12):t.getUint32(20));var o=u(e,["mdia","hdlr"])[0];if(o){var s=h(o.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var d=u(e,["mdia","minf","stbl","stsd"])[0];if(d){var f=d.subarray(8);r.codec=h(f.subarray(4,8));var p,v=u(f,[r.codec])[0];v&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(p=v.subarray(78),"avcC"===h(p.subarray(4,8))&&p.length>11?(r.codec+=".",r.codec+=c(p[9]),r.codec+=c(p[10]),r.codec+=c(p[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(p=v.subarray(28),"esds"===h(p.subarray(4,8))&&p.length>20&&0!==p[19]?(r.codec+="."+c(p[19]),r.codec+="."+c(p[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var m=u(e,["mdia","mdhd"])[0];m&&(r.timescale=l(m)),a.push(r)})),a},t.exports={findBox:u,parseType:h,timescale:n,startTime:r,compositionStartTime:i,videoTrackIds:o,tracks:s,getTimescaleFromMediaHeader:l}},{15:15,19:19,25:25,26:26,27:27,28:28}],21:[function(e,t,a){var n=e(29).ONE_SECOND_IN_TS,r=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},i=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},o=function(e,t){var a,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),a=e.timelineStartInfo.baseMediaDecodeTime,a+=r,a=Math.max(0,a),"audio"===e.type&&(a*=e.samplerate/n,a=Math.floor(a)),a};t.exports={clearDtsInfo:i,calculateTrackBaseMediaDecodeTime:o,collectDtsInfo:r}},{29:29}],22:[function(e,t,a){"use strict";var n,r,i,o,s=e(31),l=e(18),d=e(16),c=e(13),u=e(21),h=e(9),f=e(29),p=e(3),v=e(4).H264Stream,m=e(1),g=e(2).isLikelyAacData,y=e(29).ONE_SECOND_IN_TS,b=e(5),_=e(6),E=function(e,t){var a;if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0},T=function(e,t,a,n,r,i){return{start:{dts:e,pts:e+(a-t)},end:{dts:e+(n-t),pts:e+(r-a)},prependedContentDuration:i,baseMediaDecodeTime:e}};(r=function(e,t){var a=[],n=0,i=0,o=0,s=1/0;t=t||{},r.prototype.init.call(this),this.push=function(t){u.collectDtsInfo(e,t),e&&b.forEach((function(a){e[a]=t[a]})),a.push(t)},this.setEarliestDts=function(e){i=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var r,d,h,f,p;0!==a.length?(r=c.trimAdtsFramesByEarliestDts(a,e,i),e.baseMediaDecodeTime=u.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),c.prefixWithSilence(e,r,o,s),e.samples=c.generateSampleTable(r),h=l.mdat(c.concatenateFrameData(r)),a=[],d=l.moof(n,[e]),f=new Uint8Array(d.byteLength+h.byteLength),n++,f.set(d),f.set(h,d.byteLength),u.clearDtsInfo(e),p=Math.ceil(1024*y/e.samplerate),r.length&&this.trigger("timingInfo",{start:r[0].pts,end:r[0].pts+r.length*p}),this.trigger("data",{track:e,boxes:f}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){u.clearDtsInfo(e),a=[],this.trigger("reset")}}).prototype=new s,(n=function(e,t){var a,r,i=0,o=[],s=[];t=t||{},n.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){u.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||a||(a=t.config,e.sps=[t.data],_.forEach((function(t){e[t]=a[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var a,n,r,c,h,f,p,v,m=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(a=d.groupNalsIntoFrames(o),(r=d.groupFramesIntoGops(a))[0][0].keyFrame||((n=this.getGopForFusion_(o[0],e))?(m=n.duration,r.unshift(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.pts=n.pts,r.dts=n.dts,r.duration+=n.duration):r=d.extendFirstKeyFrame(r)),s.length){var g;if(!(g=t.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r)))return this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");u.clearDtsInfo(e),r=g}u.collectDtsInfo(e,r),e.samples=d.generateSampleTable(r),h=l.mdat(d.concatenateNalData(r)),e.baseMediaDecodeTime=u.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",r.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),p=r[0],v=r[r.length-1],this.trigger("segmentTimingInfo",T(e.baseMediaDecodeTime,p.dts,p.pts,v.dts+v.duration,v.pts+v.duration,m)),this.trigger("timingInfo",{start:r[0].pts,end:r[r.length-1].pts+r[r.length-1].duration}),this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),c=l.moof(i,[e]),f=new Uint8Array(c.byteLength+h.byteLength),i++,f.set(c),f.set(h,c.byteLength),this.trigger("data",{track:e,boxes:f}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){u.clearDtsInfo(e),a=void 0,r=void 0},this.getGopForFusion_=function(t){var a,n,r,i,o,s=45e3,l=1e4,d=1/0;for(o=0;o<this.gopCache_.length;o++)r=(i=this.gopCache_[o]).gop,e.pps&&E(e.pps[0],i.pps[0])&&e.sps&&E(e.sps[0],i.sps[0])&&(r.dts<e.timelineStartInfo.dts||(a=t.dts-r.dts-r.duration)>=-l&&a<=s&&(!n||d>a)&&(n=i,d=a));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,a,n,r,i,o,l,d;for(i=e.byteLength,o=e.nalCount,l=e.duration,t=a=0;t<s.length&&a<e.length&&(n=s[t],r=e[a],n.pts!==r.pts);)r.pts>n.pts?t++:(a++,i-=r.byteLength,o-=r.nalCount,l-=r.duration);return 0===a?e:a===e.length?null:((d=e.slice(a)).byteLength=i,d.duration=l,d.nalCount=o,d.pts=d[0].pts,d.dts=d[0].dts,d)},this.alignGopsAtEnd_=function(e){var t,a,n,r,i,o,l;for(t=s.length-1,a=e.length-1,i=null,o=!1;t>=0&&a>=0;){if(n=s[t],r=e[a],n.pts===r.pts){o=!0;break}n.pts>r.pts?t--:(t===s.length-1&&(i=a),a--)}if(!o&&null===i)return null;if(0===(l=o?a:i))return e;var d=e.slice(l),c=d.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return d.byteLength=c.byteLength,d.duration=c.duration,d.nalCount=c.nalCount,d.pts=d[0].pts,d.dts=d[0].dts,d},this.alignGopsWith=function(e){s=e}}).prototype=new s,(o=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new s,o.prototype.flush=function(e){var t,a,n,r,i=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,_.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,b.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=l.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],i),i+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=f.metadataTsToSeconds(t.startPts,s,this.keepOriginalTimestamps),t.endTime=f.metadataTsToSeconds(t.endPts,s,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(a=this.pendingMetadata[r]).cueTime=f.metadataTsToSeconds(a.pts,s,this.keepOriginalTimestamps),o.metadata.push(a);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),r=0;r<o.captions.length;r++)t=o.captions[r],this.trigger("caption",t);for(r=0;r<o.metadata.length;r++)a=o.metadata[r],this.trigger("id3Frame",a)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},o.prototype.setRemux=function(e){this.remuxTracks=e},(i=function(e){var t,a,s=this,d=!0;i.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},l.setDuration(e.duration),this.setupAacPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="aac",n.metadataStream=new h.MetadataStream,n.aacStream=new m,n.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata"),n.adtsStream=new p,n.coalesceStream=new o(e,n.metadataStream),n.headOfPipeline=n.aacStream,n.aacStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.aacStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.metadataStream.on("timestamp",(function(e){n.aacStream.setTimestamp(e.timeStamp)})),n.aacStream.on("data",(function(i){"timed-metadata"!==i.type&&"audio"!==i.type||n.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new r(a,e),n.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream),s.trigger("trackinfo",{hasAudio:!!a,hasVideo:!!t}))})),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new h.MetadataStream,i.packetStream=new h.TransportPacketStream,i.parseStream=new h.TransportParseStream,i.elementaryStream=new h.ElementaryStream,i.timestampRolloverStream=new h.TimestampRolloverStream,i.adtsStream=new p,i.h264Stream=new v,i.captionStream=new h.CaptionStream,i.coalesceStream=new o(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",(function(o){var l;if("metadata"===o.type){for(l=o.tracks.length;l--;)t||"video"!==o.tracks[l].type?a||"audio"!==o.tracks[l].type||((a=o.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=o.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new n(t,e),i.videoSegmentStream.on("timelineStartInfo",(function(t){a&&!e.keepOriginalTimestamps&&(a.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-s.baseMediaDecodeTime))})),i.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",(function(e){a&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),i.videoSegmentStream.on("timingInfo",s.trigger.bind(s,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),a&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new r(a,e),i.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),s.trigger("trackinfo",{hasAudio:!!a,hasVideo:!!t})}})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",(function(e){e.dispatchType=i.metadataStream.dispatchType,s.trigger("id3Frame",e)})),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,u.clearDtsInfo(a),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,u.clearDtsInfo(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var a=this.transmuxPipeline_;e.remux=t,a&&a.coalesceStream&&a.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(d){var t=g(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),d=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){d=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,t.exports={Transmuxer:i,VideoSegmentStream:n,AudioSegmentStream:r,AUDIO_PROPERTIES:b,VIDEO_PROPERTIES:_,generateVideoSegmentTimingInfo:T}},{1:1,13:13,16:16,18:18,2:2,21:21,29:29,3:3,31:31,4:4,5:5,6:6,9:9}],23:[function(e,t,a){"use strict";var n=4,r=128,i=function(e){for(var t=0,a={payloadType:-1,payloadSize:0},i=0,o=0;t<e.byteLength&&e[t]!==r;){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)o+=255,t++;if(o+=e[t++],!a.payload&&i===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){a.payloadType=i,a.payloadSize=o,a.payload=e.subarray(t,t+o);break}a.payload=void 0}t+=o,i=0,o=0}return a},o=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},s=function(e,t){var a,n,r,i,o=[];if(!(64&t[0]))return o;for(n=31&t[0],a=0;a<n;a++)i={type:3&t[2+(r=3*a)],pts:e},4&t[r+2]&&(i.ccData=t[r+3]<<8|t[r+4],o.push(i));return o},l=function(e){for(var t,a,n=e.byteLength,r=[],i=1;i<n-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(r.push(i+2),i+=2):i++;if(0===r.length)return e;t=n-r.length,a=new Uint8Array(t);var o=0;for(i=0;i<t;o++,i++)o===r[0]&&(o++,r.shift()),a[i]=e[o];return a};t.exports={parseSei:i,parseUserData:o,parseCaptionPackets:s,discardEmulationPreventionBytes:l,USER_DATA_REGISTERED_ITU_T_T35:n}},{}],24:[function(e,t,a){var n=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}};t.exports=n},{}],25:[function(e,t,a){var n=e(28).toUnsigned,r=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:n(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t};t.exports=r},{28:28}],26:[function(e,t,a){var n=function(e){var t,a=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:a.getUint32(4)},r=1&n.flags[2],i=2&n.flags[2],o=8&n.flags[2],s=16&n.flags[2],l=32&n.flags[2],d=65536&n.flags[0],c=131072&n.flags[0];return t=8,r&&(t+=4,n.baseDataOffset=a.getUint32(12),t+=4),i&&(n.sampleDescriptionIndex=a.getUint32(t),t+=4),o&&(n.defaultSampleDuration=a.getUint32(t),t+=4),s&&(n.defaultSampleSize=a.getUint32(t),t+=4),l&&(n.defaultSampleFlags=a.getUint32(t)),d&&(n.durationIsEmpty=!0),!r&&c&&(n.baseDataOffsetIsMoof=!0),n};t.exports=n},{}],27:[function(e,t,a){var n=e(24),r=function(e){var t,a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&a.flags[2],o=4&a.flags[2],s=1&a.flags[1],l=2&a.flags[1],d=4&a.flags[1],c=8&a.flags[1],u=r.getUint32(4),h=8;for(i&&(a.dataOffset=r.getInt32(h),h+=4),o&&u&&(t={flags:n(e.subarray(h,h+4))},h+=4,s&&(t.duration=r.getUint32(h),h+=4),l&&(t.size=r.getUint32(h),h+=4),c&&(1===a.version?t.compositionTimeOffset=r.getInt32(h):t.compositionTimeOffset=r.getUint32(h),h+=4),a.samples.push(t),u--);u--;)t={},s&&(t.duration=r.getUint32(h),h+=4),l&&(t.size=r.getUint32(h),h+=4),d&&(t.flags=n(e.subarray(h,h+4)),h+=4),c&&(1===a.version?t.compositionTimeOffset=r.getInt32(h):t.compositionTimeOffset=r.getUint32(h),h+=4),a.samples.push(t);return a};t.exports=r},{24:24}],28:[function(e,t,a){var n=function(e){return e>>>0},r=function(e){return("00"+e.toString(16)).slice(-2)};t.exports={toUnsigned:n,toHexString:r}},{}],29:[function(e,t,a){var n,r,i,o,s,l,d,c=9e4;n=function(e){return e*c},r=function(e,t){return e*t},i=function(e){return e/c},o=function(e,t){return e/t},s=function(e,t){return n(o(e,t))},l=function(e,t){return r(i(e),t)},d=function(e,t,a){return i(a?e:e-t)},t.exports={ONE_SECOND_IN_TS:c,secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:o,audioTsToVideoTs:s,videoTsToAudioTs:l,metadataTsToSeconds:d}},{}],30:[function(e,t,a){"use strict";var n;n=function(e){var t=e.byteLength,a=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var r=e.byteLength-t,i=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");i.set(e.subarray(r,r+o)),a=new DataView(i.buffer).getUint32(0),n=8*o,t-=o},this.skipBits=function(e){var r;n>e?(a<<=e,n-=e):(e-=n,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),a<<=e,n-=e)},this.readBits=function(e){var r=Math.min(n,e),i=a>>>32-r;return(n-=r)>0?a<<=r:t>0&&this.loadWord(),(r=e-r)>0?i<<r|this.readBits(r):i},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(a&2147483648>>>e))return a<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},{}],31:[function(e,t,a){"use strict";var n=function(){this.init=function(){var e={};this.on=function(t,a){e[t]||(e[t]=[]),e[t]=e[t].concat(a)},this.off=function(t,a){var n;return!!e[t]&&(n=e[t].indexOf(a),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var a,n,r,i;if(a=e[t])if(2===arguments.length)for(r=a.length,n=0;n<r;++n)a[n].call(this,arguments[1]);else{for(i=[],n=arguments.length,n=1;n<arguments.length;++n)i.push(arguments[n]);for(r=a.length,n=0;n<r;++n)a[n].apply(this,i)}},this.dispose=function(){e={}}}};n.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},n.prototype.partialFlush=function(e){this.trigger("partialdone",e)},n.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},n.prototype.reset=function(e){this.trigger("reset",e)},t.exports=n},{}]},{},[17])(17)}()},2267:(e,t,a)=>{"use strict";a.r(t);a(6322),a(9533),a(4976),a(4070),a(5566),a(3045),a(2863),a(3072),a(7637);function n(){}var r=Object.assign,i="undefined"!=typeof window;function o(e,t){var a=t.split("."),n=e;return a.forEach((e=>{var t;n=null!=(t=n[e])?t:""})),n}function s(e,t,a){return t.reduce(((t,n)=>(a&&void 0===e[n]||(t[n]=e[n]),t)),{})}function l(e,t){const a=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)a[n[e]]=!0;return t?e=>!!a[e.toLowerCase()]:e=>!!a[e]}function d(e){if(I(e)){const t={};for(let a=0;a<e.length;a++){const n=e[a],r=M(n)?f(n):d(n);if(r)for(const e in r)t[e]=r[e]}return t}return M(e)||B(e)?e:void 0}const c=/;(?![^(]*\))/g,u=/:([^]+)/,h=/\/\*.*?\*\//gs;function f(e){const t={};return e.replace(h,"").split(c).forEach((e=>{if(e){const a=e.split(u);a.length>1&&(t[a[0].trim()]=a[1].trim())}})),t}function p(e){let t="";if(M(e))t=e;else if(I(e))for(let a=0;a<e.length;a++){const n=p(e[a]);n&&(t+=n+" ")}else if(B(e))for(const a in e)e[a]&&(t+=a+" ");return t.trim()}const v="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",m=l(v);function g(e){return!!e||""===e}const y=e=>M(e)?e:null==e?"":I(e)||B(e)&&(e.toString===U||!P(e.toString))?JSON.stringify(e,b,2):String(e),b=(e,t)=>t&&t.__v_isRef?b(e,t.value):R(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,a])=>(e[`${t} =>`]=a,e)),{})}:O(t)?{[`Set(${t.size})`]:[...t.values()]}:!B(t)||I(t)||z(t)?t:String(t),_={},E=[],T=()=>{},w=()=>!1,S=/^on[^a-z]/,x=e=>S.test(e),k=e=>e.startsWith("onUpdate:"),A=Object.assign,L=(e,t)=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)},D=Object.prototype.hasOwnProperty,C=(e,t)=>D.call(e,t),I=Array.isArray,R=e=>"[object Map]"===j(e),O=e=>"[object Set]"===j(e),P=e=>"function"==typeof e,M=e=>"string"==typeof e,N=e=>"symbol"==typeof e,B=e=>null!==e&&"object"==typeof e,F=e=>B(e)&&P(e.then)&&P(e.catch),U=Object.prototype.toString,j=e=>U.call(e),z=e=>"[object Object]"===j(e),V=e=>M(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,G=l(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),H=e=>{const t=Object.create(null);return a=>t[a]||(t[a]=e(a))},q=/-(\w)/g,K=H((e=>e.replace(q,((e,t)=>t?t.toUpperCase():"")))),Y=/\B([A-Z])/g,W=H((e=>e.replace(Y,"-$1").toLowerCase())),X=H((e=>e.charAt(0).toUpperCase()+e.slice(1))),Z=H((e=>e?`on${X(e)}`:"")),Q=(e,t)=>!Object.is(e,t),J=(e,t)=>{for(let a=0;a<e.length;a++)e[a](t)},$=(e,t,a)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:a})},ee=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let te;const ae=()=>te||(te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a.g?a.g:{});let ne;class re{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=ne,!e&&ne&&(this.index=(ne.scopes||(ne.scopes=[])).push(this)-1)}run(e){if(this.active){const t=ne;try{return ne=this,e()}finally{ne=t}}else 0}on(){ne=this}off(){ne=this.parent}stop(e){if(this.active){let t,a;for(t=0,a=this.effects.length;t<a;t++)this.effects[t].stop();for(t=0,a=this.cleanups.length;t<a;t++)this.cleanups[t]();if(this.scopes)for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this.active=!1}}}function ie(e,t=ne){t&&t.active&&t.effects.push(e)}const oe=e=>{const t=new Set(e);return t.w=0,t.n=0,t},se=e=>(e.w&ue)>0,le=e=>(e.n&ue)>0,de=new WeakMap;let ce=0,ue=1;let he;const fe=Symbol(""),pe=Symbol("");class ve{constructor(e,t=null,a){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,ie(this,a)}run(){if(!this.active)return this.fn();let e=he,t=ge;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=he,he=this,ge=!0,ue=1<<++ce,ce<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ue})(this):me(this),this.fn()}finally{ce<=30&&(e=>{const{deps:t}=e;if(t.length){let a=0;for(let n=0;n<t.length;n++){const r=t[n];se(r)&&!le(r)?r.delete(e):t[a++]=r,r.w&=~ue,r.n&=~ue}t.length=a}})(this),ue=1<<--ce,he=this.parent,ge=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){he===this?this.deferStop=!0:this.active&&(me(this),this.onStop&&this.onStop(),this.active=!1)}}function me(e){const{deps:t}=e;if(t.length){for(let a=0;a<t.length;a++)t[a].delete(e);t.length=0}}let ge=!0;const ye=[];function be(){ye.push(ge),ge=!1}function _e(){const e=ye.pop();ge=void 0===e||e}function Ee(e,t,a){if(ge&&he){let t=de.get(e);t||de.set(e,t=new Map);let n=t.get(a);n||t.set(a,n=oe());Te(n,void 0)}}function Te(e,t){let a=!1;ce<=30?le(e)||(e.n|=ue,a=!se(e)):a=!e.has(he),a&&(e.add(he),he.deps.push(e))}function we(e,t,a,n,r,i){const o=de.get(e);if(!o)return;let s=[];if("clear"===t)s=[...o.values()];else if("length"===a&&I(e)){const e=ee(n);o.forEach(((t,a)=>{("length"===a||a>=e)&&s.push(t)}))}else switch(void 0!==a&&s.push(o.get(a)),t){case"add":I(e)?V(a)&&s.push(o.get("length")):(s.push(o.get(fe)),R(e)&&s.push(o.get(pe)));break;case"delete":I(e)||(s.push(o.get(fe)),R(e)&&s.push(o.get(pe)));break;case"set":R(e)&&s.push(o.get(fe))}if(1===s.length)s[0]&&Se(s[0]);else{const e=[];for(const t of s)t&&e.push(...t);Se(oe(e))}}function Se(e,t){const a=I(e)?e:[...e];for(const e of a)e.computed&&xe(e,t);for(const e of a)e.computed||xe(e,t)}function xe(e,t){(e!==he||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ke=l("__proto__,__v_isRef,__isVue"),Ae=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(N)),Le=Oe(),De=Oe(!1,!0),Ce=Oe(!0),Ie=Re();function Re(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const a=gt(this);for(let e=0,t=this.length;e<t;e++)Ee(a,0,e+"");const n=a[t](...e);return-1===n||!1===n?a[t](...e.map(gt)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){be();const a=gt(this)[t].apply(this,e);return _e(),a}})),e}function Oe(e=!1,t=!1){return function(a,n,r){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_isShallow"===n)return t;if("__v_raw"===n&&r===(e?t?lt:st:t?ot:it).get(a))return a;const i=I(a);if(!e&&i&&C(Ie,n))return Reflect.get(Ie,n,r);const o=Reflect.get(a,n,r);return(N(n)?Ae.has(n):ke(n))?o:(e||Ee(a,0,n),t?o:wt(o)?i&&V(n)?o:o.value:B(o)?e?ut(o):ct(o):o)}}function Pe(e=!1){return function(t,a,n,r){let i=t[a];if(pt(i)&&wt(i)&&!wt(n))return!1;if(!e&&(vt(n)||pt(n)||(i=gt(i),n=gt(n)),!I(t)&&wt(i)&&!wt(n)))return i.value=n,!0;const o=I(t)&&V(a)?Number(a)<t.length:C(t,a),s=Reflect.set(t,a,n,r);return t===gt(r)&&(o?Q(n,i)&&we(t,"set",a,n):we(t,"add",a,n)),s}}const Me={get:Le,set:Pe(),deleteProperty:function(e,t){const a=C(e,t),n=(e[t],Reflect.deleteProperty(e,t));return n&&a&&we(e,"delete",t,void 0),n},has:function(e,t){const a=Reflect.has(e,t);return N(t)&&Ae.has(t)||Ee(e,0,t),a},ownKeys:function(e){return Ee(e,0,I(e)?"length":fe),Reflect.ownKeys(e)}},Ne={get:Ce,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Be=A({},Me,{get:De,set:Pe(!0)}),Fe=e=>e,Ue=e=>Reflect.getPrototypeOf(e);function je(e,t,a=!1,n=!1){const r=gt(e=e.__v_raw),i=gt(t);a||(t!==i&&Ee(r,0,t),Ee(r,0,i));const{has:o}=Ue(r),s=n?Fe:a?_t:bt;return o.call(r,t)?s(e.get(t)):o.call(r,i)?s(e.get(i)):void(e!==r&&e.get(t))}function ze(e,t=!1){const a=this.__v_raw,n=gt(a),r=gt(e);return t||(e!==r&&Ee(n,0,e),Ee(n,0,r)),e===r?a.has(e):a.has(e)||a.has(r)}function Ve(e,t=!1){return e=e.__v_raw,!t&&Ee(gt(e),0,fe),Reflect.get(e,"size",e)}function Ge(e){e=gt(e);const t=gt(this);return Ue(t).has.call(t,e)||(t.add(e),we(t,"add",e,e)),this}function He(e,t){t=gt(t);const a=gt(this),{has:n,get:r}=Ue(a);let i=n.call(a,e);i||(e=gt(e),i=n.call(a,e));const o=r.call(a,e);return a.set(e,t),i?Q(t,o)&&we(a,"set",e,t):we(a,"add",e,t),this}function qe(e){const t=gt(this),{has:a,get:n}=Ue(t);let r=a.call(t,e);r||(e=gt(e),r=a.call(t,e));n&&n.call(t,e);const i=t.delete(e);return r&&we(t,"delete",e,void 0),i}function Ke(){const e=gt(this),t=0!==e.size,a=e.clear();return t&&we(e,"clear",void 0,void 0),a}function Ye(e,t){return function(a,n){const r=this,i=r.__v_raw,o=gt(i),s=t?Fe:e?_t:bt;return!e&&Ee(o,0,fe),i.forEach(((e,t)=>a.call(n,s(e),s(t),r)))}}function We(e,t,a){return function(...n){const r=this.__v_raw,i=gt(r),o=R(i),s="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,d=r[e](...n),c=a?Fe:t?_t:bt;return!t&&Ee(i,0,l?pe:fe),{next(){const{value:e,done:t}=d.next();return t?{value:e,done:t}:{value:s?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function Xe(e){return function(...t){return"delete"!==e&&this}}function Ze(){const e={get(e){return je(this,e)},get size(){return Ve(this)},has:ze,add:Ge,set:He,delete:qe,clear:Ke,forEach:Ye(!1,!1)},t={get(e){return je(this,e,!1,!0)},get size(){return Ve(this)},has:ze,add:Ge,set:He,delete:qe,clear:Ke,forEach:Ye(!1,!0)},a={get(e){return je(this,e,!0)},get size(){return Ve(this,!0)},has(e){return ze.call(this,e,!0)},add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear"),forEach:Ye(!0,!1)},n={get(e){return je(this,e,!0,!0)},get size(){return Ve(this,!0)},has(e){return ze.call(this,e,!0)},add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear"),forEach:Ye(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{e[r]=We(r,!1,!1),a[r]=We(r,!0,!1),t[r]=We(r,!1,!0),n[r]=We(r,!0,!0)})),[e,a,t,n]}const[Qe,Je,$e,et]=Ze();function tt(e,t){const a=t?e?et:$e:e?Je:Qe;return(t,n,r)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(C(a,n)&&n in t?a:t,n,r)}const at={get:tt(!1,!1)},nt={get:tt(!1,!0)},rt={get:tt(!0,!1)};const it=new WeakMap,ot=new WeakMap,st=new WeakMap,lt=new WeakMap;function dt(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>j(e).slice(8,-1))(e))}function ct(e){return pt(e)?e:ht(e,!1,Me,at,it)}function ut(e){return ht(e,!0,Ne,rt,st)}function ht(e,t,a,n,r){if(!B(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=dt(e);if(0===o)return e;const s=new Proxy(e,2===o?n:a);return r.set(e,s),s}function ft(e){return pt(e)?ft(e.__v_raw):!(!e||!e.__v_isReactive)}function pt(e){return!(!e||!e.__v_isReadonly)}function vt(e){return!(!e||!e.__v_isShallow)}function mt(e){return ft(e)||pt(e)}function gt(e){const t=e&&e.__v_raw;return t?gt(t):e}function yt(e){return $(e,"__v_skip",!0),e}const bt=e=>B(e)?ct(e):e,_t=e=>B(e)?ut(e):e;function Et(e){ge&&he&&Te((e=gt(e)).dep||(e.dep=oe()))}function Tt(e,t){(e=gt(e)).dep&&Se(e.dep)}function wt(e){return!(!e||!0!==e.__v_isRef)}function St(e){return xt(e,!1)}function xt(e,t){return wt(e)?e:new kt(e,t)}class kt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:gt(e),this._value=t?e:bt(e)}get value(){return Et(this),this._value}set value(e){const t=this.__v_isShallow||vt(e)||pt(e);e=t?e:gt(e),Q(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:bt(e),Tt(this))}}function At(e){return wt(e)?e.value:e}const Lt={get:(e,t,a)=>At(Reflect.get(e,t,a)),set:(e,t,a,n)=>{const r=e[t];return wt(r)&&!wt(a)?(r.value=a,!0):Reflect.set(e,t,a,n)}};function Dt(e){return ft(e)?e:new Proxy(e,Lt)}var Ct;class It{constructor(e,t,a,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Ct]=!1,this._dirty=!0,this.effect=new ve(e,(()=>{this._dirty||(this._dirty=!0,Tt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=a}get value(){const e=gt(this);return Et(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Ct="__v_isReadonly";function Rt(e,t,a,n){let r;try{r=n?e(...n):e()}catch(e){Pt(e,t,a)}return r}function Ot(e,t,a,n){if(P(e)){const r=Rt(e,t,a,n);return r&&F(r)&&r.catch((e=>{Pt(e,t,a)})),r}const r=[];for(let i=0;i<e.length;i++)r.push(Ot(e[i],t,a,n));return r}function Pt(e,t,a,n=!0){t&&t.vnode;if(t){let n=t.parent;const r=t.proxy,i=a;for(;n;){const t=n.ec;if(t)for(let a=0;a<t.length;a++)if(!1===t[a](e,r,i))return;n=n.parent}const o=t.appContext.config.errorHandler;if(o)return void Rt(o,null,10,[e,r,i])}!function(e,t,a,n=!0){console.error(e)}(e,0,0,n)}let Mt=!1,Nt=!1;const Bt=[];let Ft=0;const Ut=[];let jt=null,zt=0;const Vt=Promise.resolve();let Gt=null;function Ht(e){const t=Gt||Vt;return e?t.then(this?e.bind(this):e):t}function qt(e){Bt.length&&Bt.includes(e,Mt&&e.allowRecurse?Ft+1:Ft)||(null==e.id?Bt.push(e):Bt.splice(function(e){let t=Ft+1,a=Bt.length;for(;t<a;){const n=t+a>>>1;Zt(Bt[n])<e?t=n+1:a=n}return t}(e.id),0,e),Kt())}function Kt(){Mt||Nt||(Nt=!0,Gt=Vt.then(Jt))}function Yt(e){I(e)?Ut.push(...e):jt&&jt.includes(e,e.allowRecurse?zt+1:zt)||Ut.push(e),Kt()}function Wt(e,t=(Mt?Ft+1:0)){for(0;t<Bt.length;t++){const e=Bt[t];e&&e.pre&&(Bt.splice(t,1),t--,e())}}function Xt(e){if(Ut.length){const e=[...new Set(Ut)];if(Ut.length=0,jt)return void jt.push(...e);for(jt=e,jt.sort(((e,t)=>Zt(e)-Zt(t))),zt=0;zt<jt.length;zt++)jt[zt]();jt=null,zt=0}}const Zt=e=>null==e.id?1/0:e.id,Qt=(e,t)=>{const a=Zt(e)-Zt(t);if(0===a){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return a};function Jt(e){Nt=!1,Mt=!0,Bt.sort(Qt);try{for(Ft=0;Ft<Bt.length;Ft++){const e=Bt[Ft];e&&!1!==e.active&&Rt(e,null,14)}}finally{Ft=0,Bt.length=0,Xt(),Mt=!1,Gt=null,(Bt.length||Ut.length)&&Jt(e)}}new Set;new Map;let $t,ea=[],ta=!1;function aa(e,...t){$t?$t.emit(e,...t):ta||ea.push({event:e,args:t})}function na(e,t){var a,n;if($t=e,$t)$t.enabled=!0,ea.forEach((({event:e,args:t})=>$t.emit(e,...t))),ea=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(n=null===(a=window.navigator)||void 0===a?void 0:a.userAgent)||void 0===n?void 0:n.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{na(e,t)})),setTimeout((()=>{$t||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ta=!0,ea=[])}),3e3)}else ta=!0,ea=[]}const ra=sa("component:added"),ia=sa("component:updated"),oa=sa("component:removed");function sa(e){return t=>{aa(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function la(e,t,...a){if(e.isUnmounted)return;const n=e.vnode.props||_;let r=a;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const e=`${"modelValue"===o?"model":o}Modifiers`,{number:t,trim:i}=n[e]||_;i&&(r=a.map((e=>M(e)?e.trim():e))),t&&(r=a.map(ee))}let s;__VUE_PROD_DEVTOOLS__&&function(e,t,a){aa("component:emit",e.appContext.app,e,t,a)}(e,t,r);let l=n[s=Z(t)]||n[s=Z(K(t))];!l&&i&&(l=n[s=Z(W(t))]),l&&Ot(l,e,6,r);const d=n[s+"Once"];if(d){if(e.emitted){if(e.emitted[s])return}else e.emitted={};e.emitted[s]=!0,Ot(d,e,6,r)}}function da(e,t,a=!1){const n=t.emitsCache,r=n.get(e);if(void 0!==r)return r;const i=e.emits;let o={},s=!1;if(__VUE_OPTIONS_API__&&!P(e)){const n=e=>{const a=da(e,t,!0);a&&(s=!0,A(o,a))};!a&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return i||s?(I(i)?i.forEach((e=>o[e]=null)):A(o,i),B(e)&&n.set(e,o),o):(B(e)&&n.set(e,null),null)}function ca(e,t){return!(!e||!x(t))&&(t=t.slice(2).replace(/Once$/,""),C(e,t[0].toLowerCase()+t.slice(1))||C(e,W(t))||C(e,t))}let ua=null,ha=null;function fa(e){const t=ua;return ua=e,ha=e&&e.type.__scopeId||null,t}function pa(e){ha=e}function va(){ha=null}function ma(e,t=ua,a){if(!t)return e;if(e._n)return e;const n=(...a)=>{n._d&&gr(-1);const r=fa(t);let i;try{i=e(...a)}finally{fa(r),n._d&&gr(1)}return __VUE_PROD_DEVTOOLS__&&ia(t),i};return n._n=!0,n._c=!0,n._d=!0,n}function ga(e){const{type:t,vnode:a,proxy:n,withProxy:r,props:i,propsOptions:[o],slots:s,attrs:l,emit:d,render:c,renderCache:u,data:h,setupState:f,ctx:p,inheritAttrs:v}=e;let m,g;const y=fa(e);try{if(4&a.shapeFlag){const e=r||n;m=Rr(c.call(e,e,u,i,f,h,p)),g=l}else{const e=t;0,m=Rr(e.length>1?e(i,{attrs:l,slots:s,emit:d}):e(i,null)),g=t.props?l:ya(l)}}catch(t){hr.length=0,Pt(t,e,1),m=Ar(cr)}let b=m;if(g&&!1!==v){const e=Object.keys(g),{shapeFlag:t}=b;e.length&&7&t&&(o&&e.some(k)&&(g=ba(g,o)),b=Dr(b,g))}return a.dirs&&(b=Dr(b),b.dirs=b.dirs?b.dirs.concat(a.dirs):a.dirs),a.transition&&(b.transition=a.transition),m=b,fa(y),m}const ya=e=>{let t;for(const a in e)("class"===a||"style"===a||x(a))&&((t||(t={}))[a]=e[a]);return t},ba=(e,t)=>{const a={};for(const n in e)k(n)&&n.slice(9)in t||(a[n]=e[n]);return a};function _a(e,t,a){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!ca(a,i))return!0}return!1}function Ea({vnode:e,parent:t},a){for(;t&&t.subTree===e;)(e=t.vnode).el=a,t=t.parent}const Ta=e=>e.__isSuspense;function wa(e,t){t&&t.pendingBranch?I(e)?t.effects.push(...e):t.effects.push(e):Yt(e)}function Sa(e,t){if(jr){let a=jr.provides;const n=jr.parent&&jr.parent.provides;n===a&&(a=jr.provides=Object.create(n)),a[e]=t}else 0}function xa(e,t,a=!1){const n=jr||ua;if(n){const r=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return a&&P(t)?t.call(n.proxy):t}else 0}function ka(e,t){return Da(e,null,t)}const Aa={};function La(e,t,a){return Da(e,t,a)}function Da(e,t,{immediate:a,deep:n,flush:r,onTrack:i,onTrigger:o}=_){const s=jr;let l,d,c=!1,u=!1;if(wt(e)?(l=()=>e.value,c=vt(e)):ft(e)?(l=()=>e,n=!0):I(e)?(u=!0,c=e.some((e=>ft(e)||vt(e))),l=()=>e.map((e=>wt(e)?e.value:ft(e)?Ra(e):P(e)?Rt(e,s,2):void 0))):l=P(e)?t?()=>Rt(e,s,2):()=>{if(!s||!s.isUnmounted)return d&&d(),Ot(e,s,3,[f])}:T,t&&n){const e=l;l=()=>Ra(e())}let h,f=e=>{d=g.onStop=()=>{Rt(e,s,4)}};if(Yr){if(f=T,t?a&&Ot(t,s,3,[l(),u?[]:void 0,f]):l(),"sync"!==r)return T;{const e=ri();h=e.__watcherHandles||(e.__watcherHandles=[])}}let p=u?new Array(e.length).fill(Aa):Aa;const v=()=>{if(g.active)if(t){const e=g.run();(n||c||(u?e.some(((e,t)=>Q(e,p[t]))):Q(e,p)))&&(d&&d(),Ot(t,s,3,[e,p===Aa?void 0:u&&p[0]===Aa?[]:p,f]),p=e)}else g.run()};let m;v.allowRecurse=!!t,"sync"===r?m=v:"post"===r?m=()=>Jn(v,s&&s.suspense):(v.pre=!0,s&&(v.id=s.uid),m=()=>qt(v));const g=new ve(l,m);t?a?v():p=g.run():"post"===r?Jn(g.run.bind(g),s&&s.suspense):g.run();const y=()=>{g.stop(),s&&s.scope&&L(s.scope.effects,g)};return h&&h.push(y),y}function Ca(e,t,a){const n=this.proxy,r=M(e)?e.includes(".")?Ia(n,e):()=>n[e]:e.bind(n,n);let i;P(t)?i=t:(i=t.handler,a=t);const o=jr;Vr(this);const s=Da(r,i.bind(n),a);return o?Vr(o):Gr(),s}function Ia(e,t){const a=t.split(".");return()=>{let t=e;for(let e=0;e<a.length&&t;e++)t=t[a[e]];return t}}function Ra(e,t){if(!B(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),wt(e))Ra(e.value,t);else if(I(e))for(let a=0;a<e.length;a++)Ra(e[a],t);else if(O(e)||R(e))e.forEach((e=>{Ra(e,t)}));else if(z(e))for(const a in e)Ra(e[a],t);return e}function Oa(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return an((()=>{e.isMounted=!0})),on((()=>{e.isUnmounting=!0})),e}const Pa=[Function,Array],Ma={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pa,onEnter:Pa,onAfterEnter:Pa,onEnterCancelled:Pa,onBeforeLeave:Pa,onLeave:Pa,onAfterLeave:Pa,onLeaveCancelled:Pa,onBeforeAppear:Pa,onAppear:Pa,onAfterAppear:Pa,onAppearCancelled:Pa},setup(e,{slots:t}){const a=zr(),n=Oa();let r;return()=>{const i=t.default&&Va(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){let e=!1;for(const t of i)if(t.type!==cr){0,o=t,e=!0;break}}const s=gt(e),{mode:l}=s;if(n.isLeaving)return Ua(o);const d=ja(o);if(!d)return Ua(o);const c=Fa(d,s,n,a);za(d,c);const u=a.subTree,h=u&&ja(u);let f=!1;const{getTransitionKey:p}=d.type;if(p){const e=p();void 0===r?r=e:e!==r&&(r=e,f=!0)}if(h&&h.type!==cr&&(!Tr(d,h)||f)){const e=Fa(h,s,n,a);if(za(h,e),"out-in"===l)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,!1!==a.update.active&&a.update()},Ua(o);"in-out"===l&&d.type!==cr&&(e.delayLeave=(e,t,a)=>{Ba(n,h)[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=a})}return o}}},Na=Ma;function Ba(e,t){const{leavingVNodes:a}=e;let n=a.get(t.type);return n||(n=Object.create(null),a.set(t.type,n)),n}function Fa(e,t,a,n){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:u,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:v,onAppear:m,onAfterAppear:g,onAppearCancelled:y}=t,b=String(e.key),_=Ba(a,e),E=(e,t)=>{e&&Ot(e,n,9,t)},T=(e,t)=>{const a=t[1];E(e,t),I(e)?e.every((e=>e.length<=1))&&a():e.length<=1&&a()},w={mode:i,persisted:o,beforeEnter(t){let n=s;if(!a.isMounted){if(!r)return;n=v||s}t._leaveCb&&t._leaveCb(!0);const i=_[b];i&&Tr(e,i)&&i.el._leaveCb&&i.el._leaveCb(),E(n,[t])},enter(e){let t=l,n=d,i=c;if(!a.isMounted){if(!r)return;t=m||l,n=g||d,i=y||c}let o=!1;const s=e._enterCb=t=>{o||(o=!0,E(t?i:n,[e]),w.delayedLeave&&w.delayedLeave(),e._enterCb=void 0)};t?T(t,[e,s]):s()},leave(t,n){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),a.isUnmounting)return n();E(u,[t]);let i=!1;const o=t._leaveCb=a=>{i||(i=!0,n(),E(a?p:f,[t]),t._leaveCb=void 0,_[r]===e&&delete _[r])};_[r]=e,h?T(h,[t,o]):o()},clone:e=>Fa(e,t,a,n)};return w}function Ua(e){if(qa(e))return(e=Dr(e)).children=null,e}function ja(e){return qa(e)?e.children?e.children[0]:void 0:e}function za(e,t){6&e.shapeFlag&&e.component?za(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Va(e,t=!1,a){let n=[],r=0;for(let i=0;i<e.length;i++){let o=e[i];const s=null==a?o.key:String(a)+String(null!=o.key?o.key:i);o.type===lr?(128&o.patchFlag&&r++,n=n.concat(Va(o.children,t,s))):(t||o.type!==cr)&&n.push(null!=s?Dr(o,{key:s}):o)}if(r>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}function Ga(e){return P(e)?{setup:e,name:e.name}:e}const Ha=e=>!!e.type.__asyncLoader;const qa=e=>e.type.__isKeepAlive;RegExp,RegExp;function Ka(e,t){return I(e)?e.some((e=>Ka(e,t))):M(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function Ya(e,t){Xa(e,"a",t)}function Wa(e,t){Xa(e,"da",t)}function Xa(e,t,a=jr){const n=e.__wdc||(e.__wdc=()=>{let t=a;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if($a(t,n,a),a){let e=a.parent;for(;e&&e.parent;)qa(e.parent.vnode)&&Za(n,t,a,e),e=e.parent}}function Za(e,t,a,n){const r=$a(t,e,n,!0);sn((()=>{L(n[t],r)}),a)}function Qa(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ja(e){return 128&e.shapeFlag?e.ssContent:e}function $a(e,t,a=jr,n=!1){if(a){const r=a[e]||(a[e]=[]),i=t.__weh||(t.__weh=(...n)=>{if(a.isUnmounted)return;be(),Vr(a);const r=Ot(t,a,e,n);return Gr(),_e(),r});return n?r.unshift(i):r.push(i),i}}const en=e=>(t,a=jr)=>(!Yr||"sp"===e)&&$a(e,((...e)=>t(...e)),a),tn=en("bm"),an=en("m"),nn=en("bu"),rn=en("u"),on=en("bum"),sn=en("um"),ln=en("sp"),dn=en("rtg"),cn=en("rtc");function un(e,t=jr){$a("ec",e,t)}function hn(e,t){const a=ua;if(null===a)return e;const n=Jr(a)||a.proxy,r=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[a,i,o,s=_]=t[e];a&&(P(a)&&(a={mounted:a,updated:a}),a.deep&&Ra(i),r.push({dir:a,instance:n,value:i,oldValue:void 0,arg:o,modifiers:s}))}return e}function fn(e,t,a,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const s=r[o];i&&(s.oldValue=i[o].value);let l=s.dir[n];l&&(be(),Ot(l,a,8,[e.el,s,e,t]),_e())}}const pn="components";function vn(e,t){return gn(pn,e,!0,t)||e}const mn=Symbol();function gn(e,t,a=!0,n=!1){const r=ua||jr;if(r){const a=r.type;if(e===pn){const e=$r(a,!1);if(e&&(e===t||e===K(t)||e===X(K(t))))return a}const i=yn(r[e]||a[e],t)||yn(r.appContext[e],t);return!i&&n?a:i}}function yn(e,t){return e&&(e[t]||e[K(t)]||e[X(K(t))])}function bn(e,t,a,n){let r;const i=a&&a[n];if(I(e)||M(e)){r=new Array(e.length);for(let a=0,n=e.length;a<n;a++)r[a]=t(e[a],a,void 0,i&&i[a])}else if("number"==typeof e){0,r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i&&i[a])}else if(B(e))if(e[Symbol.iterator])r=Array.from(e,((e,a)=>t(e,a,void 0,i&&i[a])));else{const a=Object.keys(e);r=new Array(a.length);for(let n=0,o=a.length;n<o;n++){const o=a[n];r[n]=t(e[o],o,n,i&&i[n])}}else r=[];return a&&(a[n]=r),r}const _n=e=>e?Hr(e)?Jr(e)||e.proxy:_n(e.parent):null,En=A(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_n(e.parent),$root:e=>_n(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?Ln(e):e.type,$forceUpdate:e=>e.f||(e.f=()=>qt(e.update)),$nextTick:e=>e.n||(e.n=Ht.bind(e.proxy)),$watch:e=>__VUE_OPTIONS_API__?Ca.bind(e):T}),Tn=(e,t)=>e!==_&&!e.__isScriptSetup&&C(e,t),wn={get({_:e},t){const{ctx:a,setupState:n,data:r,props:i,accessCache:o,type:s,appContext:l}=e;let d;if("$"!==t[0]){const s=o[t];if(void 0!==s)switch(s){case 1:return n[t];case 2:return r[t];case 4:return a[t];case 3:return i[t]}else{if(Tn(n,t))return o[t]=1,n[t];if(r!==_&&C(r,t))return o[t]=2,r[t];if((d=e.propsOptions[0])&&C(d,t))return o[t]=3,i[t];if(a!==_&&C(a,t))return o[t]=4,a[t];__VUE_OPTIONS_API__&&!Sn||(o[t]=0)}}const c=En[t];let u,h;return c?("$attrs"===t&&Ee(e,0,t),c(e)):(u=s.__cssModules)&&(u=u[t])?u:a!==_&&C(a,t)?(o[t]=4,a[t]):(h=l.config.globalProperties,C(h,t)?h[t]:void 0)},set({_:e},t,a){const{data:n,setupState:r,ctx:i}=e;return Tn(r,t)?(r[t]=a,!0):n!==_&&C(n,t)?(n[t]=a,!0):!C(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=a,!0))},has({_:{data:e,setupState:t,accessCache:a,ctx:n,appContext:r,propsOptions:i}},o){let s;return!!a[o]||e!==_&&C(e,o)||Tn(t,o)||(s=i[0])&&C(s,o)||C(n,o)||C(En,o)||C(r.config.globalProperties,o)},defineProperty(e,t,a){return null!=a.get?e._.accessCache[t]=0:C(a,"value")&&this.set(e,t,a.value,null),Reflect.defineProperty(e,t,a)}};let Sn=!0;function xn(e){const t=Ln(e),a=e.proxy,n=e.ctx;Sn=!1,t.beforeCreate&&kn(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:s,provide:l,inject:d,created:c,beforeMount:u,mounted:h,beforeUpdate:f,updated:p,activated:v,deactivated:m,beforeDestroy:g,beforeUnmount:y,destroyed:b,unmounted:_,render:E,renderTracked:w,renderTriggered:S,errorCaptured:x,serverPrefetch:k,expose:A,inheritAttrs:L,components:D,directives:C,filters:R}=t;if(d&&function(e,t,a=T,n=!1){I(e)&&(e=Rn(e));for(const a in e){const r=e[a];let i;i=B(r)?"default"in r?xa(r.from||a,r.default,!0):xa(r.from||a):xa(r),wt(i)&&n?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[a]=i}}(d,n,null,e.appContext.config.unwrapInjectedRef),o)for(const e in o){const t=o[e];P(t)&&(n[e]=t.bind(a))}if(r){0;const t=r.call(a,a);0,B(t)&&(e.data=ct(t))}if(Sn=!0,i)for(const e in i){const t=i[e],r=P(t)?t.bind(a,a):P(t.get)?t.get.bind(a,a):T;0;const o=!P(t)&&P(t.set)?t.set.bind(a):T,s=ti({get:r,set:o});Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(s)for(const e in s)An(s[e],n,a,e);if(l){const e=P(l)?l.call(a):l;Reflect.ownKeys(e).forEach((t=>{Sa(t,e[t])}))}function O(e,t){I(t)?t.forEach((t=>e(t.bind(a)))):t&&e(t.bind(a))}if(c&&kn(c,e,"c"),O(tn,u),O(an,h),O(nn,f),O(rn,p),O(Ya,v),O(Wa,m),O(un,x),O(cn,w),O(dn,S),O(on,y),O(sn,_),O(ln,k),I(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>a[e],set:t=>a[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===T&&(e.render=E),null!=L&&(e.inheritAttrs=L),D&&(e.components=D),C&&(e.directives=C)}function kn(e,t,a){Ot(I(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,a)}function An(e,t,a,n){const r=n.includes(".")?Ia(a,n):()=>a[n];if(M(e)){const a=t[e];P(a)&&La(r,a)}else if(P(e))La(r,e.bind(a));else if(B(e))if(I(e))e.forEach((e=>An(e,t,a,n)));else{const n=P(e.handler)?e.handler.bind(a):t[e.handler];P(n)&&La(r,n,e)}else 0}function Ln(e){const t=e.type,{mixins:a,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:r.length||a||n?(l={},r.length&&r.forEach((e=>Dn(l,e,o,!0))),Dn(l,t,o)):l=t,B(t)&&i.set(t,l),l}function Dn(e,t,a,n=!1){const{mixins:r,extends:i}=t;i&&Dn(e,i,a,!0),r&&r.forEach((t=>Dn(e,t,a,!0)));for(const r in t)if(n&&"expose"===r);else{const n=Cn[r]||a&&a[r];e[r]=n?n(e[r],t[r]):t[r]}return e}const Cn={data:In,props:Pn,emits:Pn,methods:Pn,computed:Pn,beforeCreate:On,created:On,beforeMount:On,mounted:On,beforeUpdate:On,updated:On,beforeDestroy:On,beforeUnmount:On,destroyed:On,unmounted:On,activated:On,deactivated:On,errorCaptured:On,serverPrefetch:On,components:Pn,directives:Pn,watch:function(e,t){if(!e)return t;if(!t)return e;const a=A(Object.create(null),e);for(const n in t)a[n]=On(e[n],t[n]);return a},provide:In,inject:function(e,t){return Pn(Rn(e),Rn(t))}};function In(e,t){return t?e?function(){return A(P(e)?e.call(this,this):e,P(t)?t.call(this,this):t)}:t:e}function Rn(e){if(I(e)){const t={};for(let a=0;a<e.length;a++)t[e[a]]=e[a];return t}return e}function On(e,t){return e?[...new Set([].concat(e,t))]:t}function Pn(e,t){return e?A(A(Object.create(null),e),t):t}function Mn(e,t,a,n=!1){const r={},i={};$(i,wr,1),e.propsDefaults=Object.create(null),Nn(e,t,r,i);for(const t in e.propsOptions[0])t in r||(r[t]=void 0);a?e.props=n?r:ht(r,!1,Be,nt,ot):e.type.props?e.props=r:e.props=i,e.attrs=i}function Nn(e,t,a,n){const[r,i]=e.propsOptions;let o,s=!1;if(t)for(let l in t){if(G(l))continue;const d=t[l];let c;r&&C(r,c=K(l))?i&&i.includes(c)?(o||(o={}))[c]=d:a[c]=d:ca(e.emitsOptions,l)||l in n&&d===n[l]||(n[l]=d,s=!0)}if(i){const t=gt(a),n=o||_;for(let o=0;o<i.length;o++){const s=i[o];a[s]=Bn(r,t,s,n[s],e,!C(n,s))}}return s}function Bn(e,t,a,n,r,i){const o=e[a];if(null!=o){const e=C(o,"default");if(e&&void 0===n){const e=o.default;if(o.type!==Function&&P(e)){const{propsDefaults:i}=r;a in i?n=i[a]:(Vr(r),n=i[a]=e.call(null,t),Gr())}else n=e}o[0]&&(i&&!e?n=!1:!o[1]||""!==n&&n!==W(a)||(n=!0))}return n}function Fn(e,t,a=!1){const n=t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},s=[];let l=!1;if(__VUE_OPTIONS_API__&&!P(e)){const n=e=>{l=!0;const[a,n]=Fn(e,t,!0);A(o,a),n&&s.push(...n)};!a&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!i&&!l)return B(e)&&n.set(e,E),E;if(I(i))for(let e=0;e<i.length;e++){0;const t=K(i[e]);Un(t)&&(o[t]=_)}else if(i){0;for(const e in i){const t=K(e);if(Un(t)){const a=i[e],n=o[t]=I(a)||P(a)?{type:a}:Object.assign({},a);if(n){const e=Vn(Boolean,n.type),a=Vn(String,n.type);n[0]=e>-1,n[1]=a<0||e<a,(e>-1||C(n,"default"))&&s.push(t)}}}}const d=[o,s];return B(e)&&n.set(e,d),d}function Un(e){return"$"!==e[0]}function jn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function zn(e,t){return jn(e)===jn(t)}function Vn(e,t){return I(t)?t.findIndex((t=>zn(t,e))):P(t)&&zn(t,e)?0:-1}const Gn=e=>"_"===e[0]||"$stable"===e,Hn=e=>I(e)?e.map(Rr):[Rr(e)],qn=(e,t,a)=>{if(t._n)return t;const n=ma(((...e)=>Hn(t(...e))),a);return n._c=!1,n},Kn=(e,t,a)=>{const n=e._ctx;for(const a in e){if(Gn(a))continue;const r=e[a];if(P(r))t[a]=qn(0,r,n);else if(null!=r){0;const e=Hn(r);t[a]=()=>e}}},Yn=(e,t)=>{const a=Hn(t);e.slots.default=()=>a};function Wn(){return{app:null,config:{isNativeTag:w,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xn=0;function Zn(e,t){return function(a,n=null){P(a)||(a=Object.assign({},a)),null==n||B(n)||(n=null);const r=Wn(),i=new Set;let o=!1;const s=r.app={_uid:Xn++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:ii,get config(){return r.config},set config(e){0},use:(e,...t)=>(i.has(e)||(e&&P(e.install)?(i.add(e),e.install(s,...t)):P(e)&&(i.add(e),e(s,...t))),s),mixin:e=>(__VUE_OPTIONS_API__&&(r.mixins.includes(e)||r.mixins.push(e)),s),component:(e,t)=>t?(r.components[e]=t,s):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,s):r.directives[e],mount(i,l,d){if(!o){0;const c=Ar(a,n);return c.appContext=r,l&&t?t(c,i):e(c,i,d),o=!0,s._container=i,i.__vue_app__=s,__VUE_PROD_DEVTOOLS__&&(s._instance=c.component,function(e,t){aa("app:init",e,t,{Fragment:lr,Text:dr,Comment:cr,Static:ur})}(s,ii)),Jr(c.component)||c.component.proxy}},unmount(){o&&(e(null,s._container),__VUE_PROD_DEVTOOLS__&&(s._instance=null,function(e){aa("app:unmount",e)}(s)),delete s._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,s)};return s}}function Qn(e,t,a,n,r=!1){if(I(e))return void e.forEach(((e,i)=>Qn(e,t&&(I(t)?t[i]:t),a,n,r)));if(Ha(n)&&!r)return;const i=4&n.shapeFlag?Jr(n.component)||n.component.proxy:n.el,o=r?null:i,{i:s,r:l}=e;const d=t&&t.r,c=s.refs===_?s.refs={}:s.refs,u=s.setupState;if(null!=d&&d!==l&&(M(d)?(c[d]=null,C(u,d)&&(u[d]=null)):wt(d)&&(d.value=null)),P(l))Rt(l,s,12,[o,c]);else{const t=M(l),n=wt(l);if(t||n){const s=()=>{if(e.f){const a=t?C(u,l)?u[l]:c[l]:l.value;r?I(a)&&L(a,i):I(a)?a.includes(i)||a.push(i):t?(c[l]=[i],C(u,l)&&(u[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else t?(c[l]=o,C(u,l)&&(u[l]=o)):n&&(l.value=o,e.k&&(c[e.k]=o))};o?(s.id=-1,Jn(s,a)):s()}else 0}}const Jn=wa;function $n(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&(ae().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(ae().__VUE_PROD_DEVTOOLS__=!1);const a=ae();a.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&na(a.__VUE_DEVTOOLS_GLOBAL_HOOK__,a);const{insert:n,remove:r,patchProp:i,createElement:o,createText:s,createComment:l,setText:d,setElementText:c,parentNode:u,nextSibling:h,setScopeId:f=T,insertStaticContent:p}=e,v=(e,t,a,n=null,r=null,i=null,o=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Tr(e,t)&&(n=Z(e),V(e,r,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:d,ref:c,shapeFlag:u}=t;switch(d){case dr:m(e,t,a,n);break;case cr:g(e,t,a,n);break;case ur:null==e&&y(t,a,n,o);break;case lr:R(e,t,a,n,r,i,o,s,l);break;default:1&u?w(e,t,a,n,r,i,o,s,l):6&u?O(e,t,a,n,r,i,o,s,l):(64&u||128&u)&&d.process(e,t,a,n,r,i,o,s,l,$)}null!=c&&r&&Qn(c,e&&e.ref,i,t||e,!t)},m=(e,t,a,r)=>{if(null==e)n(t.el=s(t.children),a,r);else{const a=t.el=e.el;t.children!==e.children&&d(a,t.children)}},g=(e,t,a,r)=>{null==e?n(t.el=l(t.children||""),a,r):t.el=e.el},y=(e,t,a,n)=>{[e.el,e.anchor]=p(e.children,t,a,n,e.el,e.anchor)},b=({el:e,anchor:t})=>{let a;for(;e&&e!==t;)a=h(e),r(e),e=a;r(t)},w=(e,t,a,n,r,i,o,s,l)=>{o=o||"svg"===t.type,null==e?S(t,a,n,r,i,o,s,l):L(e,t,r,i,o,s,l)},S=(e,t,a,r,s,l,d,u)=>{let h,f;const{type:p,props:v,shapeFlag:m,transition:g,dirs:y}=e;if(h=e.el=o(e.type,l,v&&v.is,v),8&m?c(h,e.children):16&m&&k(e.children,h,null,r,s,l&&"foreignObject"!==p,d,u),y&&fn(e,null,r,"created"),v){for(const t in v)"value"===t||G(t)||i(h,t,null,v[t],l,e.children,r,s,X);"value"in v&&i(h,"value",null,v.value),(f=v.onVnodeBeforeMount)&&Nr(f,r,e)}x(h,e,e.scopeId,d,r),__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(h,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(h,"__vueParentComponent",{value:r,enumerable:!1})),y&&fn(e,null,r,"beforeMount");const b=(!s||s&&!s.pendingBranch)&&g&&!g.persisted;b&&g.beforeEnter(h),n(h,t,a),((f=v&&v.onVnodeMounted)||b||y)&&Jn((()=>{f&&Nr(f,r,e),b&&g.enter(h),y&&fn(e,null,r,"mounted")}),s)},x=(e,t,a,n,r)=>{if(a&&f(e,a),n)for(let t=0;t<n.length;t++)f(e,n[t]);if(r){if(t===r.subTree){const t=r.vnode;x(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},k=(e,t,a,n,r,i,o,s,l=0)=>{for(let d=l;d<e.length;d++){const l=e[d]=s?Or(e[d]):Rr(e[d]);v(null,l,t,a,n,r,i,o,s)}},L=(e,t,a,n,r,o,s)=>{const l=t.el=e.el;let{patchFlag:d,dynamicChildren:u,dirs:h}=t;d|=16&e.patchFlag;const f=e.props||_,p=t.props||_;let v;a&&er(a,!1),(v=p.onVnodeBeforeUpdate)&&Nr(v,a,t,e),h&&fn(t,e,a,"beforeUpdate"),a&&er(a,!0);const m=r&&"foreignObject"!==t.type;if(u?D(e.dynamicChildren,u,l,a,n,m,o):s||F(e,t,l,null,a,n,m,o,!1),d>0){if(16&d)I(l,t,f,p,a,n,r);else if(2&d&&f.class!==p.class&&i(l,"class",null,p.class,r),4&d&&i(l,"style",f.style,p.style,r),8&d){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const s=o[t],d=f[s],c=p[s];c===d&&"value"!==s||i(l,s,d,c,r,e.children,a,n,X)}}1&d&&e.children!==t.children&&c(l,t.children)}else s||null!=u||I(l,t,f,p,a,n,r);((v=p.onVnodeUpdated)||h)&&Jn((()=>{v&&Nr(v,a,t,e),h&&fn(t,e,a,"updated")}),n)},D=(e,t,a,n,r,i,o)=>{for(let s=0;s<t.length;s++){const l=e[s],d=t[s],c=l.el&&(l.type===lr||!Tr(l,d)||70&l.shapeFlag)?u(l.el):a;v(l,d,c,null,n,r,i,o,!0)}},I=(e,t,a,n,r,o,s)=>{if(a!==n){if(a!==_)for(const l in a)G(l)||l in n||i(e,l,a[l],null,s,t.children,r,o,X);for(const l in n){if(G(l))continue;const d=n[l],c=a[l];d!==c&&"value"!==l&&i(e,l,c,d,s,t.children,r,o,X)}"value"in n&&i(e,"value",a.value,n.value)}},R=(e,t,a,r,i,o,l,d,c)=>{const u=t.el=e?e.el:s(""),h=t.anchor=e?e.anchor:s("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:v}=t;v&&(d=d?d.concat(v):v),null==e?(n(u,a,r),n(h,a,r),k(t.children,a,h,i,o,l,d,c)):f>0&&64&f&&p&&e.dynamicChildren?(D(e.dynamicChildren,p,a,i,o,l,d),(null!=t.key||i&&t===i.subTree)&&tr(e,t,!0)):F(e,t,a,h,i,o,l,d,c)},O=(e,t,a,n,r,i,o,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?r.ctx.activate(t,a,n,o,l):P(t,a,n,r,i,o,l):M(e,t,l)},P=(e,t,a,n,r,i,o)=>{const s=e.component=Ur(e,n,r);if(qa(e)&&(s.ctx.renderer=$),Wr(s),s.asyncDep){if(r&&r.registerDep(s,N),!e.el){const e=s.subTree=Ar(cr);g(null,e,t,a)}}else N(s,e,t,a,r,i,o)},M=(e,t,a)=>{const n=t.component=e.component;if(function(e,t,a){const{props:n,children:r,component:i}=e,{props:o,children:s,patchFlag:l}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(a&&l>=0))return!(!r&&!s||s&&s.$stable)||n!==o&&(n?!o||_a(n,o,d):!!o);if(1024&l)return!0;if(16&l)return n?_a(n,o,d):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const a=e[t];if(o[a]!==n[a]&&!ca(d,a))return!0}}return!1}(e,t,a)){if(n.asyncDep&&!n.asyncResolved)return void B(n,t,a);n.next=t,function(e){const t=Bt.indexOf(e);t>Ft&&Bt.splice(t,1)}(n.update),n.update()}else t.el=e.el,n.vnode=t},N=(e,t,a,n,r,i,o)=>{const s=e.effect=new ve((()=>{if(e.isMounted){let t,{next:a,bu:n,u:s,parent:l,vnode:d}=e,c=a;0,er(e,!1),a?(a.el=d.el,B(e,a,o)):a=d,n&&J(n),(t=a.props&&a.props.onVnodeBeforeUpdate)&&Nr(t,l,a,d),er(e,!0);const h=ga(e);0;const f=e.subTree;e.subTree=h,v(f,h,u(f.el),Z(f),e,r,i),a.el=h.el,null===c&&Ea(e,h.el),s&&Jn(s,r),(t=a.props&&a.props.onVnodeUpdated)&&Jn((()=>Nr(t,l,a,d)),r),__VUE_PROD_DEVTOOLS__&&ia(e)}else{let o;const{el:s,props:l}=t,{bm:d,m:c,parent:u}=e,h=Ha(t);if(er(e,!1),d&&J(d),!h&&(o=l&&l.onVnodeBeforeMount)&&Nr(o,u,t),er(e,!0),s&&te){const a=()=>{e.subTree=ga(e),te(s,e.subTree,e,r,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&a())):a()}else{0;const o=e.subTree=ga(e);0,v(null,o,a,n,e,r,i),t.el=o.el}if(c&&Jn(c,r),!h&&(o=l&&l.onVnodeMounted)){const e=t;Jn((()=>Nr(o,u,e)),r)}(256&t.shapeFlag||u&&Ha(u.vnode)&&256&u.vnode.shapeFlag)&&e.a&&Jn(e.a,r),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&ra(e),t=a=n=null}}),(()=>qt(l)),e.scope),l=e.update=()=>s.run();l.id=e.uid,er(e,!0),l()},B=(e,t,a)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,function(e,t,a,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,s=gt(r),[l]=e.propsOptions;let d=!1;if(!(n||o>0)||16&o){let n;Nn(e,t,r,i)&&(d=!0);for(const i in s)t&&(C(t,i)||(n=W(i))!==i&&C(t,n))||(l?!a||void 0===a[i]&&void 0===a[n]||(r[i]=Bn(l,s,i,void 0,e,!0)):delete r[i]);if(i!==s)for(const e in i)t&&C(t,e)||(delete i[e],d=!0)}else if(8&o){const a=e.vnode.dynamicProps;for(let n=0;n<a.length;n++){let o=a[n];if(ca(e.emitsOptions,o))continue;const c=t[o];if(l)if(C(i,o))c!==i[o]&&(i[o]=c,d=!0);else{const t=K(o);r[t]=Bn(l,s,t,c,e,!1)}else c!==i[o]&&(i[o]=c,d=!0)}}d&&we(e,"set","$attrs")}(e,t.props,n,a),((e,t,a)=>{const{vnode:n,slots:r}=e;let i=!0,o=_;if(32&n.shapeFlag){const e=t._;e?a&&1===e?i=!1:(A(r,t),a||1!==e||delete r._):(i=!t.$stable,Kn(t,r)),o=t}else t&&(Yn(e,t),o={default:1});if(i)for(const e in r)Gn(e)||e in o||delete r[e]})(e,t.children,a),be(),Wt(),_e()},F=(e,t,a,n,r,i,o,s,l=!1)=>{const d=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void j(d,h,a,n,r,i,o,s,l);if(256&f)return void U(d,h,a,n,r,i,o,s,l)}8&p?(16&u&&X(d,r,i),h!==d&&c(a,h)):16&u?16&p?j(d,h,a,n,r,i,o,s,l):X(d,r,i,!0):(8&u&&c(a,""),16&p&&k(h,a,n,r,i,o,s,l))},U=(e,t,a,n,r,i,o,s,l)=>{t=t||E;const d=(e=e||E).length,c=t.length,u=Math.min(d,c);let h;for(h=0;h<u;h++){const n=t[h]=l?Or(t[h]):Rr(t[h]);v(e[h],n,a,null,r,i,o,s,l)}d>c?X(e,r,i,!0,!1,u):k(t,a,n,r,i,o,s,l,u)},j=(e,t,a,n,r,i,o,s,l)=>{let d=0;const c=t.length;let u=e.length-1,h=c-1;for(;d<=u&&d<=h;){const n=e[d],c=t[d]=l?Or(t[d]):Rr(t[d]);if(!Tr(n,c))break;v(n,c,a,null,r,i,o,s,l),d++}for(;d<=u&&d<=h;){const n=e[u],d=t[h]=l?Or(t[h]):Rr(t[h]);if(!Tr(n,d))break;v(n,d,a,null,r,i,o,s,l),u--,h--}if(d>u){if(d<=h){const e=h+1,u=e<c?t[e].el:n;for(;d<=h;)v(null,t[d]=l?Or(t[d]):Rr(t[d]),a,u,r,i,o,s,l),d++}}else if(d>h)for(;d<=u;)V(e[d],r,i,!0),d++;else{const f=d,p=d,m=new Map;for(d=p;d<=h;d++){const e=t[d]=l?Or(t[d]):Rr(t[d]);null!=e.key&&m.set(e.key,d)}let g,y=0;const b=h-p+1;let _=!1,T=0;const w=new Array(b);for(d=0;d<b;d++)w[d]=0;for(d=f;d<=u;d++){const n=e[d];if(y>=b){V(n,r,i,!0);continue}let c;if(null!=n.key)c=m.get(n.key);else for(g=p;g<=h;g++)if(0===w[g-p]&&Tr(n,t[g])){c=g;break}void 0===c?V(n,r,i,!0):(w[c-p]=d+1,c>=T?T=c:_=!0,v(n,t[c],a,null,r,i,o,s,l),y++)}const S=_?function(e){const t=e.slice(),a=[0];let n,r,i,o,s;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(r=a[a.length-1],e[r]<l){t[n]=r,a.push(n);continue}for(i=0,o=a.length-1;i<o;)s=i+o>>1,e[a[s]]<l?i=s+1:o=s;l<e[a[i]]&&(i>0&&(t[n]=a[i-1]),a[i]=n)}}i=a.length,o=a[i-1];for(;i-- >0;)a[i]=o,o=t[o];return a}(w):E;for(g=S.length-1,d=b-1;d>=0;d--){const e=p+d,u=t[e],h=e+1<c?t[e+1].el:n;0===w[d]?v(null,u,a,h,r,i,o,s,l):_&&(g<0||d!==S[g]?z(u,a,h,2):g--)}}},z=(e,t,a,r,i=null)=>{const{el:o,type:s,transition:l,children:d,shapeFlag:c}=e;if(6&c)return void z(e.component.subTree,t,a,r);if(128&c)return void e.suspense.move(t,a,r);if(64&c)return void s.move(e,t,a,$);if(s===lr){n(o,t,a);for(let e=0;e<d.length;e++)z(d[e],t,a,r);return void n(e.anchor,t,a)}if(s===ur)return void(({el:e,anchor:t},a,r)=>{let i;for(;e&&e!==t;)i=h(e),n(e,a,r),e=i;n(t,a,r)})(e,t,a);if(2!==r&&1&c&&l)if(0===r)l.beforeEnter(o),n(o,t,a),Jn((()=>l.enter(o)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,s=()=>n(o,t,a),d=()=>{e(o,(()=>{s(),i&&i()}))};r?r(o,s,d):d()}else n(o,t,a)},V=(e,t,a,n=!1,r=!1)=>{const{type:i,props:o,ref:s,children:l,dynamicChildren:d,shapeFlag:c,patchFlag:u,dirs:h}=e;if(null!=s&&Qn(s,null,a,e,!0),256&c)return void t.ctx.deactivate(e);const f=1&c&&h,p=!Ha(e);let v;if(p&&(v=o&&o.onVnodeBeforeUnmount)&&Nr(v,t,e),6&c)Y(e.component,a,n);else{if(128&c)return void e.suspense.unmount(a,n);f&&fn(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,a,r,$,n):d&&(i!==lr||u>0&&64&u)?X(d,t,a,!1,!0):(i===lr&&384&u||!r&&16&c)&&X(l,t,a),n&&H(e)}(p&&(v=o&&o.onVnodeUnmounted)||f)&&Jn((()=>{v&&Nr(v,t,e),f&&fn(e,null,t,"unmounted")}),a)},H=e=>{const{type:t,el:a,anchor:n,transition:i}=e;if(t===lr)return void q(a,n);if(t===ur)return void b(e);const o=()=>{r(a),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:n}=i,r=()=>t(a,o);n?n(e.el,o,r):r()}else o()},q=(e,t)=>{let a;for(;e!==t;)a=h(e),r(e),e=a;r(t)},Y=(e,t,a)=>{const{bum:n,scope:r,update:i,subTree:o,um:s}=e;var l;n&&J(n),r.stop(),i&&(i.active=!1,V(o,e,t,a)),s&&Jn(s,t),Jn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&(l=e,$t&&"function"==typeof $t.cleanupBuffer&&!$t.cleanupBuffer(l)&&oa(l))},X=(e,t,a,n=!1,r=!1,i=0)=>{for(let o=i;o<e.length;o++)V(e[o],t,a,n,r)},Z=e=>6&e.shapeFlag?Z(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),Q=(e,t,a)=>{null==e?t._vnode&&V(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,a),Wt(),Xt(),t._vnode=e},$={p:v,um:V,m:z,r:H,mt:P,mc:k,pc:F,pbc:D,n:Z,o:e};let ee,te;return t&&([ee,te]=t($)),{render:Q,hydrate:ee,createApp:Zn(Q,ee)}}function er({effect:e,update:t},a){e.allowRecurse=t.allowRecurse=a}function tr(e,t,a=!1){const n=e.children,r=t.children;if(I(n)&&I(r))for(let e=0;e<n.length;e++){const t=n[e];let i=r[e];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=r[e]=Or(r[e]),i.el=t.el),a||tr(t,i)),i.type===dr&&(i.el=t.el)}}const ar=e=>e&&(e.disabled||""===e.disabled),nr=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,rr=(e,t)=>{const a=e&&e.to;if(M(a)){if(t){const e=t(a);return e}return null}return a};function ir(e,t,a,{o:{insert:n},m:r},i=2){0===i&&n(e.targetAnchor,t,a);const{el:o,anchor:s,shapeFlag:l,children:d,props:c}=e,u=2===i;if(u&&n(o,t,a),(!u||ar(c))&&16&l)for(let e=0;e<d.length;e++)r(d[e],t,a,2);u&&n(s,t,a)}const or={__isTeleport:!0,process(e,t,a,n,r,i,o,s,l,d){const{mc:c,pc:u,pbc:h,o:{insert:f,querySelector:p,createText:v,createComment:m}}=d,g=ar(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=v(""),d=t.anchor=v("");f(e,a,n),f(d,a,n);const u=t.target=rr(t.props,p),h=t.targetAnchor=v("");u&&(f(h,u),o=o||nr(u));const m=(e,t)=>{16&y&&c(b,e,t,r,i,o,s,l)};g?m(a,d):u&&m(u,h)}else{t.el=e.el;const n=t.anchor=e.anchor,c=t.target=e.target,f=t.targetAnchor=e.targetAnchor,v=ar(e.props),m=v?a:c,y=v?n:f;if(o=o||nr(c),_?(h(e.dynamicChildren,_,m,r,i,o,s),tr(e,t,!0)):l||u(e,t,m,y,r,i,o,s,!1),g)v||ir(t,a,n,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=rr(t.props,p);e&&ir(t,e,null,d,0)}else v&&ir(t,c,f,d,1)}sr(t)},remove(e,t,a,n,{um:r,o:{remove:i}},o){const{shapeFlag:s,children:l,anchor:d,targetAnchor:c,target:u,props:h}=e;if(u&&i(c),(o||!ar(h))&&(i(d),16&s))for(let e=0;e<l.length;e++){const n=l[e];r(n,t,a,!0,!!n.dynamicChildren)}},move:ir,hydrate:function(e,t,a,n,r,i,{o:{nextSibling:o,parentNode:s,querySelector:l}},d){const c=t.target=rr(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(ar(t.props))t.anchor=d(o(e),t,s(e),a,n,r,i),t.targetAnchor=l;else{t.anchor=o(e);let s=l;for(;s;)if(s=o(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}d(l,t,c,a,n,r,i)}sr(t)}return t.anchor&&o(t.anchor)}};function sr(e){const t=e.ctx;if(t&&t.ut){let a=e.children[0].el;for(;a!==e.targetAnchor;)1===a.nodeType&&a.setAttribute("data-v-owner",t.uid),a=a.nextSibling;t.ut()}}const lr=Symbol(void 0),dr=Symbol(void 0),cr=Symbol(void 0),ur=Symbol(void 0),hr=[];let fr=null;function pr(e=!1){hr.push(fr=e?null:[])}function vr(){hr.pop(),fr=hr[hr.length-1]||null}let mr=1;function gr(e){mr+=e}function yr(e){return e.dynamicChildren=mr>0?fr||E:null,vr(),mr>0&&fr&&fr.push(e),e}function br(e,t,a,n,r,i){return yr(kr(e,t,a,n,r,i,!0))}function _r(e,t,a,n,r){return yr(Ar(e,t,a,n,r,!0))}function Er(e){return!!e&&!0===e.__v_isVNode}function Tr(e,t){return e.type===t.type&&e.key===t.key}const wr="__vInternal",Sr=({key:e})=>null!=e?e:null,xr=({ref:e,ref_key:t,ref_for:a})=>null!=e?M(e)||wt(e)||P(e)?{i:ua,r:e,k:t,f:!!a}:e:null;function kr(e,t=null,a=null,n=0,r=null,i=(e===lr?0:1),o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sr(t),ref:t&&xr(t),scopeId:ha,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ua};return s?(Pr(l,a),128&i&&e.normalize(l)):a&&(l.shapeFlag|=M(a)?8:16),mr>0&&!o&&fr&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&fr.push(l),l}const Ar=Lr;function Lr(e,t=null,a=null,n=0,r=null,i=!1){if(e&&e!==mn||(e=cr),Er(e)){const n=Dr(e,t,!0);return a&&Pr(n,a),mr>0&&!i&&fr&&(6&n.shapeFlag?fr[fr.indexOf(e)]=n:fr.push(n)),n.patchFlag|=-2,n}if(ei(e)&&(e=e.__vccOpts),t){t=function(e){return e?mt(e)||wr in e?A({},e):e:null}(t);let{class:e,style:a}=t;e&&!M(e)&&(t.class=p(e)),B(a)&&(mt(a)&&!I(a)&&(a=A({},a)),t.style=d(a))}return kr(e,t,a,n,r,M(e)?1:Ta(e)?128:(e=>e.__isTeleport)(e)?64:B(e)?4:P(e)?2:0,i,!0)}function Dr(e,t,a=!1){const{props:n,ref:r,patchFlag:i,children:o}=e,s=t?Mr(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Sr(s),ref:t&&t.ref?a&&r?I(r)?r.concat(xr(t)):[r,xr(t)]:xr(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lr?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Dr(e.ssContent),ssFallback:e.ssFallback&&Dr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Cr(e=" ",t=0){return Ar(dr,null,e,t)}function Ir(e="",t=!1){return t?(pr(),_r(cr,null,e)):Ar(cr,null,e)}function Rr(e){return null==e||"boolean"==typeof e?Ar(cr):I(e)?Ar(lr,null,e.slice()):"object"==typeof e?Or(e):Ar(dr,null,String(e))}function Or(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Dr(e)}function Pr(e,t){let a=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(I(t))a=16;else if("object"==typeof t){if(65&n){const a=t.default;return void(a&&(a._c&&(a._d=!1),Pr(e,a()),a._c&&(a._d=!0)))}{a=32;const n=t._;n||wr in t?3===n&&ua&&(1===ua.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=ua}}else P(t)?(t={default:t,_ctx:ua},a=32):(t=String(t),64&n?(a=16,t=[Cr(t)]):a=8);e.children=t,e.shapeFlag|=a}function Mr(...e){const t={};for(let a=0;a<e.length;a++){const n=e[a];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=p([t.class,n.class]));else if("style"===e)t.style=d([t.style,n.style]);else if(x(e)){const a=t[e],r=n[e];!r||a===r||I(a)&&a.includes(r)||(t[e]=a?[].concat(a,r):r)}else""!==e&&(t[e]=n[e])}return t}function Nr(e,t,a,n=null){Ot(e,t,7,[a,n])}const Br=Wn();let Fr=0;function Ur(e,t,a){const n=e.type,r=(t?t.appContext:e.appContext)||Br,i={uid:Fr++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new re(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fn(n,r),emitsOptions:da(n,r),emit:null,emitted:null,propsDefaults:_,inheritAttrs:n.inheritAttrs,ctx:_,data:_,props:_,attrs:_,slots:_,refs:_,setupState:_,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=la.bind(null,i),e.ce&&e.ce(i),i}let jr=null;const zr=()=>jr||ua,Vr=e=>{jr=e,e.scope.on()},Gr=()=>{jr&&jr.scope.off(),jr=null};function Hr(e){return 4&e.vnode.shapeFlag}let qr,Kr,Yr=!1;function Wr(e,t=!1){Yr=t;const{props:a,children:n}=e.vnode,r=Hr(e);Mn(e,a,r,t),((e,t)=>{if(32&e.vnode.shapeFlag){const a=t._;a?(e.slots=gt(t),$(t,"_",a)):Kn(t,e.slots={})}else e.slots={},t&&Yn(e,t);$(e.slots,wr,1)})(e,n);const i=r?function(e,t){const a=e.type;0;e.accessCache=Object.create(null),e.proxy=yt(new Proxy(e.ctx,wn)),!1;const{setup:n}=a;if(n){const a=e.setupContext=n.length>1?Qr(e):null;Vr(e),be();const r=Rt(n,e,0,[e.props,a]);if(_e(),Gr(),F(r)){if(r.then(Gr,Gr),t)return r.then((a=>{Xr(e,a,t)})).catch((t=>{Pt(t,e,0)}));e.asyncDep=r}else Xr(e,r,t)}else Zr(e,t)}(e,t):void 0;return Yr=!1,i}function Xr(e,t,a){P(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:B(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=Dt(t)),Zr(e,a)}function Zr(e,t,a){const n=e.type;if(!e.render){if(!t&&qr&&!n.render){const t=n.template||Ln(e).template;if(t){0;const{isCustomElement:a,compilerOptions:r}=e.appContext.config,{delimiters:i,compilerOptions:o}=n,s=A(A({isCustomElement:a,delimiters:i},r),o);n.render=qr(t,s)}}e.render=n.render||T,Kr&&Kr(e)}__VUE_OPTIONS_API__&&(Vr(e),be(),xn(e),_e(),Gr())}function Qr(e){const t=t=>{e.exposed=t||{}};let a;return{get attrs(){return a||(a=function(e){return new Proxy(e.attrs,{get:(t,a)=>(Ee(e,0,"$attrs"),t[a])})}(e))},slots:e.slots,emit:e.emit,expose:t}}function Jr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Dt(yt(e.exposed)),{get:(t,a)=>a in t?t[a]:a in En?En[a](e):void 0,has:(e,t)=>t in e||t in En}))}function $r(e,t=!0){return P(e)?e.displayName||e.name:e.name||t&&e.__name}function ei(e){return P(e)&&"__vccOpts"in e}const ti=(e,t)=>function(e,t,a=!1){let n,r;const i=P(e);return i?(n=e,r=T):(n=e.get,r=e.set),new It(n,r,i||!r,a)}(e,0,Yr);function ai(e,t,a){const n=arguments.length;return 2===n?B(t)&&!I(t)?Er(t)?Ar(e,null,[t]):Ar(e,t):Ar(e,null,t):(n>3?a=Array.prototype.slice.call(arguments,2):3===n&&Er(a)&&(a=[a]),Ar(e,t,a))}const ni=Symbol(""),ri=()=>{{const e=xa(ni);return e}};const ii="3.2.45";var oi="undefined"!=typeof window;function si(e){return oi?requestAnimationFrame(e):-1}function li(e){si((()=>si(e)))}var di=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),ci=e=>{const t=At(e);if(t===window){const e=t.innerWidth,a=t.innerHeight;return di(e,a)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():di(0,0)};function ui(e){const t=xa(e,null);if(t){const e=zr(),{link:a,unlink:n,internalChildren:r}=t;a(e),sn((()=>n(e)));return{parent:t,index:ti((()=>r.indexOf(e)))}}return{parent:null,index:St(-1)}}function hi(e,t,a){const n=function(e){const t=[],a=e=>{Array.isArray(e)&&e.forEach((e=>{var n;Er(e)&&(t.push(e),(null==(n=e.component)?void 0:n.subTree)&&(t.push(e.component.subTree),a(e.component.subTree.children)),e.children&&a(e.children))}))};return a(e),t}(e.subTree.children);a.sort(((e,t)=>n.indexOf(e.vnode)-n.indexOf(t.vnode)));const r=a.map((e=>e.proxy));t.sort(((e,t)=>r.indexOf(e)-r.indexOf(t)))}function fi(e){const t=ct([]),a=ct([]),n=zr();return{children:t,linkChildren:r=>{Sa(e,Object.assign({link:e=>{e.proxy&&(a.push(e),t.push(e.proxy),hi(n,t,a))},unlink:e=>{const n=a.indexOf(e);t.splice(n,1),a.splice(n,1)},children:t,internalChildren:a},r))}}}var pi,vi;function mi(e){let t;an((()=>{e(),Ht((()=>{t=!0}))})),Ya((()=>{t&&e()}))}function gi(e,t,a={}){if(!oi)return;const{target:n=window,passive:r=!1,capture:i=!1}=a;let o;const s=a=>{const n=At(a);n&&!o&&(n.addEventListener(e,t,{capture:i,passive:r}),o=!0)},l=a=>{const n=At(a);n&&o&&(n.removeEventListener(e,t,i),o=!1)};sn((()=>l(n))),Wa((()=>l(n))),mi((()=>s(n))),wt(n)&&La(n,((e,t)=>{l(t),s(e)}))}var yi,bi=/scroll|auto|overlay/i,_i=oi?window:void 0;function Ei(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function Ti(e,t=_i){let a=e;for(;a&&a!==t&&Ei(a);){const{overflowY:e}=window.getComputedStyle(a);if(bi.test(e))return a;a=a.parentNode}return t}function wi(e,t=_i){const a=St();return an((()=>{e.value&&(a.value=Ti(e.value,t))})),a}var Si=Symbol("van-field");function xi(e){const t=xa(Si,null);t&&!t.customValue.value&&(t.customValue.value=e,La(e,(()=>{t.resetValidation(),t.validateWithTrigger("onChange")})))}var ki=e=>null!=e,Ai=e=>"function"==typeof e,Li=e=>null!==e&&"object"==typeof e,Di=e=>Li(e)&&Ai(e.then)&&Ai(e.catch);var Ci=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function Ii(e){var t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Ri(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Oi(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Pi(e){Ri(window,e),Ri(document.body,e)}function Mi(e,t){if(e===window)return 0;var a=t?Ii(t):Oi();return ci(e).top+a}var Ni=!!i&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());var Bi=e=>e.stopPropagation();function Fi(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&Bi(e)}function Ui(e){var t=At(e);if(!t)return!1;var a=window.getComputedStyle(t),n="none"===a.display,r=null===t.offsetParent&&"fixed"!==a.position;return n||r}var ji,{width:zi,height:Vi}=function(){if(!pi&&(pi=St(0),vi=St(0),oi)){const e=()=>{pi.value=window.innerWidth,vi.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:pi,height:vi}}();function Gi(e){if(ki(e))return Ci(e)?e+"px":String(e)}function Hi(e){if(ki(e)){var t=Gi(e);return{width:t,height:t}}}function qi(e){var t={};return void 0!==e&&(t.zIndex=+e),t}function Ki(e){return+(e=e.replace(/rem/g,""))*function(){if(!ji){var e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;ji=parseFloat(t)}return ji}()}function Yi(e){if("number"==typeof e)return e;if(i){if(e.includes("rem"))return Ki(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*zi.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*Vi.value/100}(e)}return parseFloat(e)}var Wi=/-(\w)/g,Xi=e=>e.replace(Wi,((e,t)=>t.toUpperCase()));var Zi=(e,t,a)=>Math.min(Math.max(e,t),a);function Qi(e,t,a){var n=e.indexOf(t);return-1===n?e:"-"===t&&0!==n?e.slice(0,n):e.slice(0,n+1)+e.slice(n).replace(a,"")}function Ji(e){return e.install=t=>{var{name:a}=e;t.component(a,e),t.component(Xi("-"+a),e)},e}var{hasOwnProperty:$i}=Object.prototype;function eo(e,t){return Object.keys(t).forEach((a=>{!function(e,t,a){var n=t[a];ki(n)&&($i.call(e,a)&&Li(n)?e[a]=eo(Object(e[a]),n):e[a]=n)}(e,t,a)})),e}var to=St("zh-CN"),ao=ct({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>e+"年"+t+"月",rangePrompt:e=>"最多选择 "+e+" 天"},vanCascader:{select:"请选择"},vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{unlimited:"无使用门槛",discount:e=>e+"折",condition:e=>"满"+e+"元可用"},vanCouponCell:{title:"优惠券",count:e=>e+"张可用"},vanCouponList:{exchange:"兑换",close:"不使用优惠券",enable:"可用",disabled:"不可用",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",defaultAddress:"设为默认收货地址"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌信息"},vanAddressList:{add:"新增地址"}}});const no={messages:()=>ao[to.value],use(e,t){to.value=e,this.add({[e]:t})},add(e){void 0===e&&(e={}),eo(ao,e)}};function ro(e){var t=Xi(e)+".";return function(e){for(var a=no.messages(),n=o(a,t+e)||o(a,e),r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return Ai(n)?n(...i):n}}function io(e,t){return t?"string"==typeof t?" "+e+"--"+t:Array.isArray(t)?t.reduce(((t,a)=>t+io(e,a)),""):Object.keys(t).reduce(((a,n)=>a+(t[n]?io(e,n):"")),""):""}function oo(e){return(t,a)=>(t&&"string"!=typeof t&&(a=t,t=""),""+(t=t?e+"__"+t:e)+io(t,a))}function so(e){var t="van-"+e;return[t,oo(t),ro(t)]}var lo=null,co=[Number,String],uo={type:Boolean,default:!0},ho=e=>({type:e,required:!0}),fo=()=>({type:Array,default:()=>[]}),po=e=>({type:co,default:e}),vo=e=>({type:String,default:e}),mo="van-hairline",go=mo+"--top",yo=mo+"--left",bo=mo+"--surround",_o=mo+"--top-bottom",Eo="van-haptics-feedback",To=Symbol("van-form");const wo="undefined"!=typeof document?document:null,So=wo&&wo.createElement("template"),xo={insert:(e,t,a)=>{t.insertBefore(e,a||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,a,n)=>{const r=t?wo.createElementNS("http://www.w3.org/2000/svg",e):wo.createElement(e,a?{is:a}:void 0);return"select"===e&&n&&null!=n.multiple&&r.setAttribute("multiple",n.multiple),r},createText:e=>wo.createTextNode(e),createComment:e=>wo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,a,n,r,i){const o=a?a.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),a),r!==i&&(r=r.nextSibling););else{So.innerHTML=n?`<svg>${e}</svg>`:e;const r=So.content;if(n){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,a)}return[o?o.nextSibling:t.firstChild,a?a.previousSibling:t.lastChild]}};const ko=/\s*!important$/;function Ao(e,t,a){if(I(a))a.forEach((a=>Ao(e,t,a)));else if(null==a&&(a=""),t.startsWith("--"))e.setProperty(t,a);else{const n=function(e,t){const a=Do[t];if(a)return a;let n=K(t);if("filter"!==n&&n in e)return Do[t]=n;n=X(n);for(let a=0;a<Lo.length;a++){const r=Lo[a]+n;if(r in e)return Do[t]=r}return t}(e,t);ko.test(a)?e.setProperty(W(n),a.replace(ko,""),"important"):e[n]=a}}const Lo=["Webkit","Moz","ms"],Do={};const Co="http://www.w3.org/1999/xlink";function Io(e,t,a,n){e.addEventListener(t,a,n)}function Ro(e,t,a,n,r=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[a,s]=function(e){let t;if(Oo.test(e)){let a;for(t={};a=e.match(Oo);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}const a=":"===e[2]?e.slice(3):W(e.slice(2));return[a,t]}(t);if(n){const o=i[t]=function(e,t){const a=e=>{if(e._vts){if(e._vts<=a.attached)return}else e._vts=Date.now();Ot(function(e,t){if(I(t)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,a.value),t,5,[e])};return a.value=e,a.attached=(()=>Po||(Mo.then((()=>Po=0)),Po=Date.now()))(),a}(n,r);Io(e,a,o,s)}else o&&(!function(e,t,a,n){e.removeEventListener(t,a,n)}(e,a,o,s),i[t]=void 0)}}const Oo=/(?:Once|Passive|Capture)$/;let Po=0;const Mo=Promise.resolve();const No=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const Bo="transition",Fo="animation",Uo=(e,{slots:t})=>ai(Na,Go(e),t);Uo.displayName="Transition";const jo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zo=(Uo.props=A({},Na.props,jo),(e,t=[])=>{I(e)?e.forEach((e=>e(...t))):e&&e(...t)}),Vo=e=>!!e&&(I(e)?e.some((e=>e.length>1)):e.length>1);function Go(e){const t={};for(const a in e)a in jo||(t[a]=e[a]);if(!1===e.css)return t;const{name:a="v",type:n,duration:r,enterFromClass:i=`${a}-enter-from`,enterActiveClass:o=`${a}-enter-active`,enterToClass:s=`${a}-enter-to`,appearFromClass:l=i,appearActiveClass:d=o,appearToClass:c=s,leaveFromClass:u=`${a}-leave-from`,leaveActiveClass:h=`${a}-leave-active`,leaveToClass:f=`${a}-leave-to`}=e,p=function(e){if(null==e)return null;if(B(e))return[Ho(e.enter),Ho(e.leave)];{const t=Ho(e);return[t,t]}}(r),v=p&&p[0],m=p&&p[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:b,onLeave:_,onLeaveCancelled:E,onBeforeAppear:T=g,onAppear:w=y,onAppearCancelled:S=b}=t,x=(e,t,a)=>{Ko(e,t?c:s),Ko(e,t?d:o),a&&a()},k=(e,t)=>{e._isLeaving=!1,Ko(e,u),Ko(e,f),Ko(e,h),t&&t()},L=e=>(t,a)=>{const r=e?w:y,o=()=>x(t,e,a);zo(r,[t,o]),Yo((()=>{Ko(t,e?l:i),qo(t,e?c:s),Vo(r)||Xo(t,n,v,o)}))};return A(t,{onBeforeEnter(e){zo(g,[e]),qo(e,i),qo(e,o)},onBeforeAppear(e){zo(T,[e]),qo(e,l),qo(e,d)},onEnter:L(!1),onAppear:L(!0),onLeave(e,t){e._isLeaving=!0;const a=()=>k(e,t);qo(e,u),$o(),qo(e,h),Yo((()=>{e._isLeaving&&(Ko(e,u),qo(e,f),Vo(_)||Xo(e,n,m,a))})),zo(_,[e,a])},onEnterCancelled(e){x(e,!1),zo(b,[e])},onAppearCancelled(e){x(e,!0),zo(S,[e])},onLeaveCancelled(e){k(e),zo(E,[e])}})}function Ho(e){return ee(e)}function qo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Ko(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:a}=e;a&&(a.delete(t),a.size||(e._vtc=void 0))}function Yo(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Wo=0;function Xo(e,t,a,n){const r=e._endId=++Wo,i=()=>{r===e._endId&&n()};if(a)return setTimeout(i,a);const{type:o,timeout:s,propCount:l}=Zo(e,t);if(!o)return n();const d=o+"end";let c=0;const u=()=>{e.removeEventListener(d,h),i()},h=t=>{t.target===e&&++c>=l&&u()};setTimeout((()=>{c<l&&u()}),s+1),e.addEventListener(d,h)}function Zo(e,t){const a=window.getComputedStyle(e),n=e=>(a[e]||"").split(", "),r=n(`${Bo}Delay`),i=n(`${Bo}Duration`),o=Qo(r,i),s=n(`${Fo}Delay`),l=n(`${Fo}Duration`),d=Qo(s,l);let c=null,u=0,h=0;t===Bo?o>0&&(c=Bo,u=o,h=i.length):t===Fo?d>0&&(c=Fo,u=d,h=l.length):(u=Math.max(o,d),c=u>0?o>d?Bo:Fo:null,h=c?c===Bo?i.length:l.length:0);return{type:c,timeout:u,propCount:h,hasTransform:c===Bo&&/\b(transform|all)(,|$)/.test(n(`${Bo}Property`).toString())}}function Qo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,a)=>Jo(t)+Jo(e[a]))))}function Jo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function $o(){return document.body.offsetHeight}new WeakMap,new WeakMap;const es=["ctrl","shift","alt","meta"],ts={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>es.some((a=>e[`${a}Key`]&&!t.includes(a)))},as=(e,t)=>(a,...n)=>{for(let e=0;e<t.length;e++){const n=ts[t[e]];if(n&&n(a,t))return}return e(a,...n)},ns={beforeMount(e,{value:t},{transition:a}){e._vod="none"===e.style.display?"":e.style.display,a&&t?a.beforeEnter(e):rs(e,t)},mounted(e,{value:t},{transition:a}){a&&t&&a.enter(e)},updated(e,{value:t,oldValue:a},{transition:n}){!t!=!a&&(n?t?(n.beforeEnter(e),rs(e,!0),n.enter(e)):n.leave(e,(()=>{rs(e,!1)})):rs(e,t))},beforeUnmount(e,{value:t}){rs(e,t)}};function rs(e,t){e.style.display=t?e._vod:"none"}const is=A({patchProp:(e,t,a,n,r=!1,i,o,s,l)=>{"class"===t?function(e,t,a){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):a?e.setAttribute("class",t):e.className=t}(e,n,r):"style"===t?function(e,t,a){const n=e.style,r=M(a);if(a&&!r){for(const e in a)Ao(n,e,a[e]);if(t&&!M(t))for(const e in t)null==a[e]&&Ao(n,e,"")}else{const i=n.display;r?t!==a&&(n.cssText=a):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}(e,a,n):x(t)?k(t)||Ro(e,t,0,n,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,a,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&No.test(t)&&P(a));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(No.test(t)&&M(a))return!1;return t in e}(e,t,n,r))?function(e,t,a,n,r,i,o){if("innerHTML"===t||"textContent"===t)return n&&o(n,r,i),void(e[t]=null==a?"":a);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=a;const n=null==a?"":a;return e.value===n&&"OPTION"!==e.tagName||(e.value=n),void(null==a&&e.removeAttribute(t))}let s=!1;if(""===a||null==a){const n=typeof e[t];"boolean"===n?a=g(a):null==a&&"string"===n?(a="",s=!0):"number"===n&&(a=0,s=!0)}try{e[t]=a}catch(e){}s&&e.removeAttribute(t)}(e,t,n,i,o,s,l):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),function(e,t,a,n,r){if(n&&t.startsWith("xlink:"))null==a?e.removeAttributeNS(Co,t.slice(6,t.length)):e.setAttributeNS(Co,t,a);else{const n=m(t);null==a||n&&!g(a)?e.removeAttribute(t):e.setAttribute(t,n?"":a)}}(e,t,n,r))}},xo);let os;function ss(){return os||(os=$n(is))}const ls=(...e)=>{const t=ss().createApp(...e);const{mount:a}=t;return t.mount=e=>{const n=ds(e);if(!n)return;const r=t._component;P(r)||r.render||r.template||(r.template=n.innerHTML),n.innerHTML="";const i=a(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},t};function ds(e){if(M(e)){return document.querySelector(e)}return e}function cs(e,t){var{args:a=[],done:r,canceled:i}=t;if(e){var o=e.apply(null,a);Di(o)?o.then((e=>{e?r():i&&i()})).catch(n):o?r():i&&i()}else r()}var us=0;function hs(){var e=zr(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return t+"-"+ ++us}var fs={to:[String,Object],url:String,replace:Boolean};function ps(e){var{to:t,url:a,replace:n,$router:r}=e;t&&r?r[n?"replace":"push"](t):a&&(n?location.replace(a):location.href=a)}function vs(){var e=zr().proxy;return()=>ps(e)}function ms(e){var t=zr();t&&r(t.proxy,e)}var gs=Symbol();function ys(e){var t=xa(gs,null);t&&La(t,(t=>{t&&e()}))}var[bs,_s]=so("sticky");const Es=Ga({name:bs,props:{zIndex:co,position:vo("top"),container:Object,offsetTop:po(0),offsetBottom:po(0)},emits:["scroll","change"],setup(e,t){var{emit:a,slots:n}=t,o=St(),s=wi(o),l=ct({fixed:!1,width:0,height:0,transform:0}),d=ti((()=>Yi("top"===e.position?e.offsetTop:e.offsetBottom))),c=ti((()=>{var{fixed:e,height:t,width:a}=l;if(e)return{width:a+"px",height:t+"px"}})),u=ti((()=>{if(l.fixed){var t=r(qi(e.zIndex),{width:l.width+"px",height:l.height+"px",[e.position]:d.value+"px"});return l.transform&&(t.transform="translate3d(0, "+l.transform+"px, 0)"),t}})),h=()=>{if(o.value&&!Ui(o)){var{container:t,position:n}=e,r=ci(o),i=Ii(window);if(l.width=r.width,l.height=r.height,"top"===n)if(t){var s=ci(t),c=s.bottom-d.value-l.height;l.fixed=d.value>r.top&&s.bottom>0,l.transform=c<0?c:0}else l.fixed=d.value>r.top;else{var{clientHeight:u}=document.documentElement;if(t){var h=ci(t),f=u-h.top-d.value-l.height;l.fixed=u-d.value<r.bottom&&u>h.top,l.transform=f<0?-f:0}else l.fixed=u-d.value<r.bottom}(e=>{a("scroll",{scrollTop:e,isFixed:l.fixed})})(i)}};return La((()=>l.fixed),(e=>a("change",e))),gi("scroll",h,{target:s}),function(e,t){if(i&&window.IntersectionObserver){var a=new IntersectionObserver((e=>{t(e[0].intersectionRatio>0)}),{root:document.body}),n=()=>{e.value&&a.unobserve(e.value)};Wa(n),on(n),mi((()=>{e.value&&a.observe(e.value)}))}}(o,h),()=>Ar("div",{ref:o,style:c.value},[Ar("div",{class:_s({fixed:l.fixed}),style:u.value},[null==n.default?void 0:n.default()])])}});var Ts=Ji(Es);var[ws,Ss]=so("badge");var xs=Ji(Ga({name:ws,props:{dot:Boolean,max:co,tag:vo("div"),color:String,offset:Array,content:co,showZero:uo,position:vo("top-right")},setup(e,t){var{slots:a}=t,n=()=>{if(a.content)return!0;var{content:t,showZero:n}=e;return ki(t)&&""!==t&&(n||0!==t)},r=()=>{var{dot:t,max:r,content:i}=e;if(!t&&n())return a.content?a.content():ki(r)&&Ci(i)&&+i>r?r+"+":i},i=ti((()=>{var t={background:e.color};if(e.offset){var[n,r]=e.offset;a.default?(t.top=Gi(r),t.right="number"==typeof n?Gi(-n):n.startsWith("-")?n.replace("-",""):"-"+n):(t.marginTop=Gi(r),t.marginLeft=Gi(n))}return t})),o=()=>{if(n()||e.dot)return Ar("div",{class:Ss([e.position,{dot:e.dot,fixed:!!a.default}]),style:i.value},[r()])};return()=>{if(a.default){var{tag:t}=e;return Ar(t,{class:Ss("wrapper")},{default:()=>[a.default(),o()]})}return o()}}}));var[ks,As]=so("tab");const Ls=Ga({name:ks,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:co,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,renderTitle:Function,inactiveColor:String,showZeroBadge:uo},setup(e){var t=ti((()=>{var t={},{type:a,color:n,disabled:r,isActive:i,activeColor:o,inactiveColor:s}=e;n&&"card"===a&&(t.borderColor=n,r||(i?t.backgroundColor=n:t.color=n));var l=i?o:s;return l&&(t.color=l),t})),a=()=>{var t=Ar("span",{class:As("text",{ellipsis:!e.scrollable})},[e.renderTitle?e.renderTitle():e.title]);return e.dot||ki(e.badge)&&""!==e.badge?Ar(xs,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[t]}):t};return()=>Ar("div",{id:e.id,role:"tab",class:[As({active:e.isActive,disabled:e.disabled})],style:t.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[a()])}});function Ds(){var e=St(0),t=St(0),a=St(0),n=St(0),r=St(0),i=St(0),o=St(""),s=()=>{a.value=0,n.value=0,r.value=0,i.value=0,o.value=""};return{move:s=>{var l,d,c=s.touches[0];a.value=c.clientX<0?0:c.clientX-e.value,n.value=c.clientY-t.value,r.value=Math.abs(a.value),i.value=Math.abs(n.value),o.value||(o.value=(l=r.value,d=i.value,l>d&&l>10?"horizontal":d>l&&d>10?"vertical":""))},start:a=>{s(),e.value=a.touches[0].clientX,t.value=a.touches[0].clientY},reset:s,startX:e,startY:t,deltaX:a,deltaY:n,offsetX:r,offsetY:i,direction:o,isVertical:()=>"vertical"===o.value,isHorizontal:()=>"horizontal"===o.value}}var[Cs,Is]=so("swipe"),Rs={loop:uo,width:co,height:co,vertical:Boolean,autoplay:po(0),duration:po(500),touchable:uo,lazyRender:Boolean,initialSwipe:po(0),indicatorColor:String,showIndicators:uo,stopPropagation:uo},Os=Symbol(Cs);const Ps=Ga({name:Cs,props:Rs,emits:["change"],setup(e,t){var a,n,{emit:r,slots:i}=t,o=St(),s=ct({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),l=Ds(),{children:d,linkChildren:c}=fi(Os),u=ti((()=>d.length)),h=ti((()=>s[e.vertical?"height":"width"])),f=ti((()=>e.vertical?l.deltaY.value:l.deltaX.value)),p=ti((()=>s.rect?(e.vertical?s.rect.height:s.rect.width)-h.value*u.value:0)),v=ti((()=>Math.ceil(Math.abs(p.value)/h.value))),m=ti((()=>u.value*h.value)),g=ti((()=>(s.active+u.value)%u.value)),y=ti((()=>{var t=e.vertical?"vertical":"horizontal";return l.direction.value===t})),b=ti((()=>{var t={transitionDuration:(s.swiping?0:e.duration)+"ms",transform:"translate"+(e.vertical?"Y":"X")+"("+s.offset+"px)"};if(h.value){var a=e.vertical?"height":"width",n=e.vertical?"width":"height";t[a]=m.value+"px",t[n]=e[n]?e[n]+"px":""}return t})),_=function(t,a){void 0===a&&(a=0);var n=t*h.value;e.loop||(n=Math.min(n,-p.value));var r=a-n;return e.loop||(r=Zi(r,p.value,0)),r},E=t=>{var{pace:a=0,offset:n=0,emitChange:i}=t;if(!(u.value<=1)){var{active:o}=s,l=(t=>{var{active:a}=s;return t?e.loop?Zi(a+t,-1,u.value):Zi(a+t,0,v.value):a})(a),c=_(l,n);if(e.loop){if(d[0]&&c!==p.value){var h=c<p.value;d[0].setOffset(h?m.value:0)}if(d[u.value-1]&&0!==c){var f=c>0;d[u.value-1].setOffset(f?-m.value:0)}}s.active=l,s.offset=c,i&&l!==o&&r("change",g.value)}},T=()=>{s.swiping=!0,s.active<=-1?E({pace:u.value}):s.active>=u.value&&E({pace:-u.value})},w=()=>{T(),l.reset(),li((()=>{s.swiping=!1,E({pace:1,emitChange:!0})}))},S=()=>clearTimeout(a),x=()=>{S(),e.autoplay>0&&u.value>1&&(a=setTimeout((()=>{w(),x()}),+e.autoplay))},k=function(t){if(void 0===t&&(t=+e.initialSwipe),o.value){if(!Ui(o)){var a,n,r={width:o.value.offsetWidth,height:o.value.offsetHeight};s.rect=r,s.width=+(null!=(a=e.width)?a:r.width),s.height=+(null!=(n=e.height)?n:r.height)}u.value&&(t=Math.min(u.value-1,t)),s.active=t,s.swiping=!0,s.offset=_(t),d.forEach((e=>{e.setOffset(0)})),x()}},A=()=>k(s.active),L=t=>{e.touchable&&(l.start(t),n=Date.now(),S(),T())},D=t=>{e.touchable&&s.swiping&&(l.move(t),(y.value||l.offsetY.value>l.offsetX.value===e.vertical)&&Fi(t,e.stopPropagation),y.value&&E({offset:f.value}))},C=()=>{if(e.touchable&&s.swiping){var t=Date.now()-n,a=f.value/t;if((Math.abs(a)>.25||Math.abs(f.value)>h.value/2)&&y.value){var r=e.vertical?l.offsetY.value:l.offsetX.value,i=0;i=e.loop?r>0?f.value>0?-1:1:0:-Math[f.value>0?"ceil":"floor"](f.value/h.value),E({pace:i,emitChange:!0})}else f.value&&E({pace:0});s.swiping=!1,x()}},I=(t,a)=>{var n=a===g.value,r=n?{backgroundColor:e.indicatorColor}:void 0;return Ar("i",{style:r,class:Is("indicator",{active:n})},null)};return ms({prev:()=>{T(),l.reset(),li((()=>{s.swiping=!1,E({pace:-1,emitChange:!0})}))},next:w,state:s,resize:A,swipeTo:function(t,a){void 0===a&&(a={}),T(),l.reset(),li((()=>{var n;n=e.loop&&t===u.value?0===s.active?0:t:t%u.value,a.immediate?li((()=>{s.swiping=!1})):s.swiping=!1,E({pace:n-s.active,emitChange:!0})}))}}),c({size:h,props:e,count:u,activeIndicator:g}),La((()=>e.initialSwipe),(e=>k(+e))),La(u,(()=>k(s.active))),La((()=>e.autoplay),x),La([zi,Vi],A),La(function(){if(!yi&&(yi=St("visible"),oi)){const e=()=>{yi.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return yi}(),(e=>{"visible"===e?x():S()})),an(k),Ya((()=>k(s.active))),ys((()=>k(s.active))),Wa(S),on(S),()=>Ar("div",{ref:o,class:Is()},[Ar("div",{style:b.value,class:Is("track",{vertical:e.vertical}),onTouchstart:L,onTouchmove:D,onTouchend:C,onTouchcancel:C},[null==i.default?void 0:i.default()]),i.indicator?i.indicator({active:g.value}):e.showIndicators&&u.value>1?Ar("div",{class:Is("indicators",{vertical:e.vertical})},[Array(u.value).fill("").map(I)]):void 0])}});var Ms=Ji(Ps);var[Ns,Bs]=so("tabs");const Fs=Ga({name:Ns,props:{count:ho(Number),inited:Boolean,animated:Boolean,duration:ho(co),swipeable:Boolean,lazyRender:Boolean,currentIndex:ho(Number)},emits:["change"],setup(e,t){var{emit:a,slots:n}=t,r=St(),i=e=>a("change",e),o=t=>{var a=r.value;a&&a.state.active!==t&&a.swipeTo(t,{immediate:!e.inited})};return La((()=>e.currentIndex),o),an((()=>{o(e.currentIndex)})),()=>{return Ar("div",{class:Bs("content",{animated:e.animated||e.swipeable})},[(t=null==n.default?void 0:n.default(),e.animated||e.swipeable?Ar(Ms,{ref:r,loop:!1,class:Bs("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:i},{default:()=>[t]}):t)]);var t}}});var[Us,js]=so("tabs"),zs={type:vo("line"),color:String,border:Boolean,sticky:Boolean,active:po(0),duration:po(.3),animated:Boolean,ellipsis:uo,swipeable:Boolean,scrollspy:Boolean,offsetTop:po(0),background:String,lazyRender:uo,lineWidth:co,lineHeight:co,beforeChange:Function,swipeThreshold:po(5),titleActiveColor:String,titleInactiveColor:String},Vs=Symbol(Us);const Gs=Ga({name:Us,props:zs,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,t){var a,n,r,i,{emit:o,slots:l}=t,d=St(),c=St(),u=St(),h=hs(),f=wi(d),[p,v]=(i=St([]),nn((()=>{i.value=[]})),[i,e=>t=>{i.value[e]=t}]),{children:m,linkChildren:g}=fi(Vs),y=ct({inited:!1,position:"",lineStyle:{},currentIndex:-1}),b=ti((()=>m.length>e.swipeThreshold||!e.ellipsis)),_=ti((()=>({borderColor:e.color,background:e.background}))),E=(e,t)=>{var a;return null!=(a=e.name)?a:t},T=ti((()=>{var e=m[y.currentIndex];if(e)return E(e,y.currentIndex)})),w=ti((()=>Yi(e.offsetTop))),S=ti((()=>e.sticky?w.value+a:0)),x=t=>{var a=c.value,n=p.value;if(b.value&&a&&n&&n[y.currentIndex]){var r=n[y.currentIndex].$el;!function(e,t,a){var n=0,r=e.scrollLeft,i=0===a?1:Math.round(1e3*a/16);!function a(){e.scrollLeft+=(t-r)/i,++n<i&&si(a)}()}(a,r.offsetLeft-(a.offsetWidth-r.offsetWidth)/2,t?0:+e.duration)}},k=()=>{var t=y.inited;Ht((()=>{var a=p.value;if(a&&a[y.currentIndex]&&"line"===e.type&&!Ui(d.value)){var n=a[y.currentIndex].$el,{lineWidth:r,lineHeight:i}=e,o=n.offsetLeft+n.offsetWidth/2,s={width:Gi(r),backgroundColor:e.color,transform:"translateX("+o+"px) translateX(-50%)"};if(t&&(s.transitionDuration=e.duration+"s"),ki(i)){var l=Gi(i);s.height=l,s.borderRadius=l}y.lineStyle=s}}))},A=t=>{var a=(e=>{for(var t=e<y.currentIndex?-1:1;e>=0&&e<m.length;){if(!m[e].disabled)return e;e+=t}})(t);if(ki(a)){var n=m[a],r=E(n,a),i=null!==y.currentIndex;y.currentIndex=a,r!==e.active&&(o("update:active",r),i&&o("change",r,n.title))}},L=e=>{var t=m.find(((t,a)=>E(t,a)===e)),a=t?m.indexOf(t):0;A(a)},D=function(t){if(void 0===t&&(t=!1),e.scrollspy){var a=m[y.currentIndex].$el;if(a&&f.value){var r=Mi(a,f.value)-S.value;n=!0,function(e,t,a,n){var r=Ii(e),i=r<t,o=0===a?1:Math.round(1e3*a/16),s=(t-r)/o;!function a(){r+=s,(i&&r>t||!i&&r<t)&&(r=t),Ri(e,r),i&&r<t||!i&&r>t?si(a):n&&si(n)}()}(f.value,r,t?0:+e.duration,(()=>{n=!1}))}}},C=e=>{r=e.isFixed,o("scroll",e)},I=()=>m.map(((t,a)=>Ar(Ls,Mr({id:h+"-"+a,ref:v(a),type:e.type,color:e.color,style:t.titleStyle,class:t.titleClass,isActive:a===y.currentIndex,controls:t.id,scrollable:b.value,renderTitle:t.$slots.title,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:n=>((t,a,n)=>{var{title:r,disabled:i}=m[a],s=E(m[a],a);i?o("disabled",s,r):(cs(e.beforeChange,{args:[s],done:()=>{A(a),D()}}),o("click",s,r),ps(t)),o("click-tab",{name:s,title:r,event:n,disabled:i})})(t,a,n)},s(t,["dot","badge","title","disabled","showZeroBadge"])),null))),R=()=>{var t,a,{type:n,border:r}=e;return Ar("div",{ref:u,class:[js("wrap",{scrollable:b.value}),{[_o]:"line"===n&&r}]},[Ar("div",{ref:c,role:"tablist",class:js("nav",[n,{complete:b.value}]),style:_.value,"aria-orientation":"horizontal"},[null==(t=l["nav-left"])?void 0:t.call(l),I(),"line"===n&&Ar("div",{class:js("line"),style:y.lineStyle},null),null==(a=l["nav-right"])?void 0:a.call(l)])])};La([()=>e.color,zi],k),La((()=>e.active),(e=>{e!==T.value&&L(e)})),La((()=>m.length),(()=>{y.inited&&(L(e.active),k(),Ht((()=>{x(!0)})))})),La((()=>y.currentIndex),(()=>{x(),k(),r&&!e.scrollspy&&Pi(Math.ceil(Mi(d.value)-w.value))}));return ms({resize:k,scrollTo:e=>{Ht((()=>{L(e),D(!0)}))}}),Ya(k),ys(k),mi((()=>{L(e.active),Ht((()=>{y.inited=!0,u.value&&(a=ci(u.value).height),x(!0)}))})),gi("scroll",(()=>{if(e.scrollspy&&!n){var t=(()=>{for(var e=0;e<m.length;e++){var{top:t}=ci(m[e].$el);if(t>S.value)return 0===e?0:e-1}return m.length-1})();A(t)}}),{target:f}),g({id:h,props:e,setLine:k,onRendered:(e,t)=>o("rendered",e,t),currentName:T,scrollIntoView:x}),()=>{var t,a;return Ar("div",{ref:d,class:js([e.type])},[e.sticky?Ar(Ts,{container:d.value,offsetTop:w.value,onScroll:C},{default:()=>[R(),null==(t=l["nav-bottom"])?void 0:t.call(l)]}):[R(),null==(a=l["nav-bottom"])?void 0:a.call(l)],Ar(Fs,{count:m.length,inited:y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:y.currentIndex,onChange:A},{default:()=>[null==l.default?void 0:l.default()]})])}}});var Hs=Symbol(),[qs,Ks]=so("swipe-item");var Ys=Ji(Ga({name:qs,setup(e,t){var a,{slots:n}=t,r=ct({offset:0,inited:!1,mounted:!1}),{parent:i,index:o}=ui(Os);if(i){var s=ti((()=>{var e={},{vertical:t}=i.props;return i.size.value&&(e[t?"height":"width"]=i.size.value+"px"),r.offset&&(e.transform="translate"+(t?"Y":"X")+"("+r.offset+"px)"),e})),l=ti((()=>{var{loop:e,lazyRender:t}=i.props;if(!t||a)return!0;if(!r.mounted)return!1;var n=i.activeIndicator.value,s=i.count.value-1,l=0===n&&e?s:n-1,d=n===s&&e?0:n+1;return a=o.value===n||o.value===l||o.value===d}));return an((()=>{Ht((()=>{r.mounted=!0}))})),ms({setOffset:e=>{r.offset=e}}),()=>Ar("div",{class:Ks(),style:s.value},[l.value?null==n.default?void 0:n.default():null])}}}));var[Ws,Xs]=so("tab");var Zs=Ji(Ga({name:Ws,props:r({},fs,{dot:Boolean,name:co,badge:co,title:String,disabled:Boolean,titleClass:lo,titleStyle:[String,Object],showZeroBadge:uo}),setup(e,t){var{slots:a}=t,n=hs(),r=St(!1),{parent:i,index:o}=ui(Vs);if(i){var s=()=>{var t;return null!=(t=e.name)?t:o.value},l=ti((()=>{var t=s()===i.currentName.value;return t&&!r.value&&(r.value=!0,i.props.lazyRender&&Ht((()=>{i.onRendered(s(),e.title)}))),t}));return La((()=>e.title),(()=>{i.setLine(),i.scrollIntoView()})),Sa(Hs,l),()=>{var e=i.id+"-"+o.value,{animated:t,swipeable:s,scrollspy:d,lazyRender:c}=i.props;if(a.default||t){var u=d||l.value;if(t||s)return Ar(Ys,{id:n,role:"tabpanel",class:Xs("panel-wrapper",{inactive:!l.value}),tabindex:l.value?0:-1,"aria-hidden":!l.value,"aria-labelledby":e},{default:()=>[Ar("div",{class:Xs("panel")},[null==a.default?void 0:a.default()])]});var h=r.value||d||!c?null==a.default?void 0:a.default():null;return ms({id:n}),hn(Ar("div",{id:n,role:"tabpanel",class:Xs("panel"),tabindex:u?0:-1,"aria-labelledby":e},[h]),[[ns,u]])}}}}}));const Qs=Zs;var Js=Ji(Gs);const $s=Js;var[el,tl]=so("config-provider"),al=Symbol(el);Ga({name:el,props:{tag:vo("div"),themeVars:Object,iconPrefix:String},setup(e,t){var{slots:a}=t,n=ti((()=>{if(e.themeVars)return t=e.themeVars,a={},Object.keys(t).forEach((e=>{var n;a["--van-"+(n=e,n.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""))]=t[e]})),a;var t,a}));return Sa(al,e),()=>Ar(e.tag,{class:tl(),style:n.value},{default:()=>[null==a.default?void 0:a.default()]})}});var[nl,rl]=so("icon");const il=Ga({name:nl,props:{dot:Boolean,tag:vo("i"),name:String,size:co,badge:co,color:String,classPrefix:String},setup(e,t){var{slots:a}=t,n=xa(al,null),r=ti((()=>e.classPrefix||(null==n?void 0:n.iconPrefix)||rl()));return()=>{var{tag:t,dot:n,name:i,size:o,badge:s,color:l}=e,d=(e=>null==e?void 0:e.includes("/"))(i);return Ar(xs,{dot:n,tag:t,content:s,class:[r.value,d?"":r.value+"-"+i],style:{color:l,fontSize:Gi(o)}},{default:()=>[null==a.default?void 0:a.default(),d&&Ar("img",{class:rl("image"),src:i},null)]})}}});var ol=Ji(il);const sl=ol;var[ll,dl,cl]=so("cascader");const ul=Ga({name:ll,props:{title:String,options:fo(),closeable:uo,swipeable:uo,closeIcon:vo("cross"),modelValue:co,fieldNames:Object,placeholder:String,activeColor:String},emits:["close","change","finish","click-tab","update:modelValue"],setup(e,t){var{slots:a,emit:n}=t,i=St([]),o=St(0),{text:s,value:l,children:d}=r({text:"text",value:"value",children:"children"},e.fieldNames),c=(e,t)=>{for(var a of e){if(a[l]===t)return[a];if(a[d]){var n=c(a[d],t);if(n)return[a,...n]}}},u=()=>{var{options:t,modelValue:a}=e;if(void 0!==a){var n=c(t,a);if(n){var r=t;return i.value=n.map((e=>{var t={options:r,selected:e},a=r.find((t=>t[l]===e[l]));return a&&(r=a[d]),t})),r&&i.value.push({options:r,selected:null}),void Ht((()=>{o.value=i.value.length-1}))}}i.value=[{options:t,selected:null}]},h=()=>n("close"),f=e=>{var{name:t,title:a}=e;return n("click-tab",t,a)},p=(t,r,c)=>{var{disabled:u}=t,h=!(!r||t[l]!==r[l]),f=t.color||(h?e.activeColor:void 0),p=a.option?a.option({option:t,selected:h}):Ar("span",null,[t[s]]);return Ar("li",{role:"menuitemradio",class:[dl("option",{selected:h,disabled:u}),t.className],style:{color:f},tabindex:u?void 0:h?0:-1,"aria-checked":h,"aria-disabled":u||void 0,onClick:()=>((e,t)=>{if(!e.disabled){if(i.value[t].selected=e,i.value.length>t+1&&(i.value=i.value.slice(0,t+1)),e[d]){var a={options:e[d],selected:null};i.value[t+1]?i.value[t+1]=a:i.value.push(a),Ht((()=>{o.value++}))}var r=i.value.map((e=>e.selected)).filter(Boolean);n("update:modelValue",e[l]);var s={value:e[l],tabIndex:t,selectedOptions:r};n("change",s),e[d]||n("finish",s)}})(t,c)},[p,h?Ar(ol,{name:"success",class:dl("selected-icon")},null):null])},v=(e,t,a)=>Ar("ul",{role:"menu",class:dl("options")},[e.map((e=>p(e,t,a)))]),m=(t,n)=>{var r,i,{options:o,selected:l}=t,d=e.placeholder||cl("select"),c=l?l[s]:d;return Ar(Zs,{title:c,titleClass:dl("tab",{unselected:!l})},{default:()=>[null==(r=a["options-top"])?void 0:r.call(a,{tabIndex:n}),v(o,l,n),null==(i=a["options-bottom"])?void 0:i.call(a,{tabIndex:n})]})};return u(),La((()=>e.options),u,{deep:!0}),La((()=>e.modelValue),(e=>{if(void 0!==e){var t=i.value.map((e=>{var t;return null==(t=e.selected)?void 0:t[l]}));if(t.includes(e))return}u()})),()=>Ar("div",{class:dl()},[Ar("div",{class:dl("header")},[Ar("h2",{class:dl("title")},[a.title?a.title():e.title]),e.closeable?Ar(ol,{name:e.closeIcon,class:[dl("close-icon"),Eo],onClick:h},null):null]),Ar(Js,{active:o.value,"onUpdate:active":e=>o.value=e,animated:!0,class:dl("tabs"),color:e.activeColor,swipeThreshold:0,swipeable:e.swipeable,"onClick-tab":f},{default:()=>[i.value.map(m)]})])}});const hl=Ji(ul);a(2534);var[fl,pl]=so("slider");const vl=Ga({name:fl,props:{min:po(0),max:po(100),step:po(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:co,buttonSize:co,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}},emits:["change","drag-end","drag-start","update:modelValue"],setup(e,t){var a,n,r,{emit:i,slots:o}=t,s=St(),l=St(),d=Ds(),c=ti((()=>Number(e.max)-Number(e.min))),u=ti((()=>{var t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:Gi(e.barHeight)}})),h=t=>e.range&&Array.isArray(t),f=()=>{var{modelValue:t,min:a}=e;return h(t)?100*(t[1]-t[0])/c.value+"%":100*(t-Number(a))/c.value+"%"},p=ti((()=>{var t={[e.vertical?"height":"width"]:f(),background:e.activeColor};l.value&&(t.transition="none");return t[e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left"]=(()=>{var{modelValue:t,min:a}=e;return h(t)?100*(t[0]-Number(a))/c.value+"%":"0%"})(),t})),v=t=>{var a=+e.min,n=+e.max,r=+e.step;t=Zi(t,a,n);var i,o,s,l=Math.round((t-a)/r)*r;return i=a,o=l,s=Math.pow(10,10),Math.round((i+o)*s)/s},m=(e,t)=>JSON.stringify(e)===JSON.stringify(t),g=(t,a)=>{t=h(t)?(t=>{var a,n,r=null!=(a=t[0])?a:Number(e.min),i=null!=(n=t[1])?n:Number(e.max);return r>i?[i,r]:[r,i]})(t).map(v):v(t),m(t,e.modelValue)||i("update:modelValue",t),a&&!m(t,r)&&i("change",t)},y=t=>{if(t.stopPropagation(),!e.disabled&&!e.readonly){var{min:a,reverse:n,vertical:r,modelValue:i}=e,o=ci(s),l=r?o.height:o.width,d=Number(a)+(r?n?o.bottom-t.clientY:t.clientY-o.top:n?o.right-t.clientX:t.clientX-o.left)/l*c.value;if(h(i)){var[u,f]=i;g(d<=(u+f)/2?[d,f]:[u,d],!0)}else g(d,!0)}},b=t=>{e.disabled||e.readonly||(d.start(t),n=e.modelValue,r=h(n)?n.map(v):v(n),l.value="start")},_=t=>{if(!e.disabled&&!e.readonly){"start"===l.value&&i("drag-start",t),Fi(t,!0),d.move(t),l.value="dragging";var o=ci(s),u=(e.vertical?d.deltaY.value:d.deltaX.value)/(e.vertical?o.height:o.width)*c.value;if(e.reverse&&(u=-u),h(r)){var f=e.reverse?1-a:a;n[f]=r[f]+u}else n=r+u;g(n)}},E=t=>{e.disabled||e.readonly||("dragging"===l.value&&(g(n,!0),i("drag-end",t)),l.value="")},T=t=>{if("number"==typeof t){return pl("button-wrapper",["left","right"][t])}return pl("button-wrapper",e.reverse?"left":"right")},w=(t,a)=>{if("number"==typeof a){var n=o[0===a?"left-button":"right-button"];if(n)return n({value:t})}return o.button?o.button({value:t}):Ar("div",{class:pl("button"),style:Hi(e.buttonSize)},null)},S=t=>{var n="number"==typeof t?e.modelValue[t]:e.modelValue;return Ar("div",{role:"slider",class:T(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":n,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstart:e=>{"number"==typeof t&&(a=t),b(e)},onTouchmove:_,onTouchend:E,onTouchcancel:E,onClick:Bi},[w(n,t)])};return g(e.modelValue),xi((()=>e.modelValue)),()=>Ar("div",{ref:s,style:u.value,class:pl({vertical:e.vertical,disabled:e.disabled}),onClick:y},[Ar("div",{class:pl("bar"),style:p.value},[e.range?[S(0),S(1)]:S()])])}});const ml=Ji(vl);a(4750);var[gl,yl]=so("radio-group"),bl={disabled:Boolean,iconSize:co,direction:String,modelValue:lo,checkedColor:String},_l=Symbol(gl);const El=Ga({name:gl,props:bl,emits:["change","update:modelValue"],setup(e,t){var{emit:a,slots:n}=t,{linkChildren:r}=fi(_l);return La((()=>e.modelValue),(e=>a("change",e))),r({props:e,updateValue:e=>a("update:modelValue",e)}),xi((()=>e.modelValue)),()=>Ar("div",{class:yl([e.direction]),role:"radiogroup"},[null==n.default?void 0:n.default()])}});const Tl=Ji(El);a(6177),a(8202);var wl={name:lo,shape:vo("round"),disabled:Boolean,iconSize:co,modelValue:lo,checkedColor:String,labelPosition:String,labelDisabled:Boolean};const Sl=Ga({props:r({},wl,{bem:ho(Function),role:String,parent:Object,checked:Boolean,bindGroup:uo}),emits:["click","toggle"],setup(e,t){var{emit:a,slots:n}=t,r=St(),i=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},o=ti((()=>i("disabled")||e.disabled)),s=ti((()=>i("direction"))),l=ti((()=>{var t=e.checkedColor||i("checkedColor");if(t&&e.checked&&!o.value)return{borderColor:t,backgroundColor:t}})),d=t=>{var{target:n}=t,i=r.value,s=i===n||(null==i?void 0:i.contains(n));o.value||!s&&e.labelDisabled||a("toggle"),a("click",t)},c=()=>{var{bem:t,shape:a,checked:s}=e,d=e.iconSize||i("iconSize");return Ar("div",{ref:r,class:t("icon",[a,{disabled:o.value,checked:s}]),style:{fontSize:Gi(d)}},[n.icon?n.icon({checked:s,disabled:o.value}):Ar(ol,{name:"success",style:l.value},null)])},u=()=>{if(n.default)return Ar("span",{class:e.bem("label",[e.labelPosition,{disabled:o.value}])},[n.default()])};return()=>{var t="left"===e.labelPosition?[u(),c()]:[c(),u()];return Ar("div",{role:e.role,class:e.bem([{disabled:o.value,"label-disabled":e.labelDisabled},s.value]),tabindex:o.value?void 0:0,"aria-checked":e.checked,onClick:d},[t])}}});var[xl,kl]=so("radio");const Al=Ga({name:xl,props:wl,emits:["update:modelValue"],setup(e,t){var{emit:a,slots:n}=t,{parent:r}=ui(_l),i=()=>{r?r.updateValue(e.name):a("update:modelValue",e.name)};return()=>Ar(Sl,Mr({bem:kl,role:"radio",parent:r,checked:(r?r.props.modelValue:e.modelValue)===e.name,onToggle:i},e),s(n,["default","icon"]))}});const Ll=Ji(Al);a(6674),a(3669),a(1678),a(329),a(9789),a(3273);var[Dl,Cl,Il]=so("uploader"),Rl=e=>Array.isArray(e)?e:[e];function Ol(e,t){return new Promise((a=>{if("file"!==t){var n=new FileReader;n.onload=e=>{a(e.target.result)},"dataUrl"===t?n.readAsDataURL(e):"text"===t&&n.readAsText(e)}else a()}))}function Pl(e,t){return Rl(e).some((e=>!!e.file&&(Ai(t)?t(e.file):e.file.size>t)))}var Ml=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function Nl(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(t=e.url,Ml.test(t)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var t}function Bl(){var e=ct({show:!1}),t=t=>{e.show=t},a=a=>{r(e,a,{transitionAppear:!0}),t(!0)},n=()=>t(!1);return ms({open:a,close:n,toggle:t}),{open:a,close:n,state:e,toggle:t}}function Fl(e){var t=ls(e),a=document.createElement("div");return document.body.appendChild(a),{instance:t.mount(a),unmount(){t.unmount(),document.body.removeChild(a)}}}var Ul={show:Boolean,zIndex:co,overlay:uo,duration:co,teleport:[String,Object],lockScroll:uo,lazyRender:uo,beforeClose:Function,overlayStyle:Object,overlayClass:lo,transitionAppear:Boolean,closeOnClickOverlay:uo},jl=Object.keys(Ul),zl=0,Vl="van-overflow-hidden";function Gl(e){var t=St(!1);return La(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}var[Hl,ql]=so("overlay");var Kl=Ji(Ga({name:Hl,props:{show:Boolean,zIndex:co,duration:co,className:lo,lockScroll:uo,customStyle:Object},setup(e,t){var{slots:a}=t,i=Gl((()=>e.show)),o=e=>{Fi(e,!0)},s=i((()=>{var t=r(qi(e.zIndex),e.customStyle);return ki(e.duration)&&(t.animationDuration=e.duration+"s"),hn(Ar("div",{style:t,class:[ql(),e.className],onTouchmove:e.lockScroll?o:n},[null==a.default?void 0:a.default()]),[[ns,e.show]])}));return()=>Ar(Uo,{name:"van-fade",appear:!0},{default:s})}}));var Yl=r({},Ul,{round:Boolean,position:vo("center"),closeIcon:vo("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:vo("top-right"),safeAreaInsetBottom:Boolean}),[Wl,Xl]=so("popup"),Zl=2e3;const Ql=Ga({name:Wl,inheritAttrs:!1,props:Yl,emits:["open","close","opened","closed","update:show","click-overlay","click-close-icon"],setup(e,t){var a,n,r,i,o,s,l,d,c,{emit:u,attrs:h,slots:f}=t,p=St(),v=St(),m=Gl((()=>e.show||!e.lazyRender)),g=ti((()=>{var t={zIndex:p.value};ki(e.duration)&&(t["center"===e.position?"animationDuration":"transitionDuration"]=e.duration+"s");return t})),y=()=>{a||(void 0!==e.zIndex&&(Zl=+e.zIndex),a=!0,p.value=++Zl,u("open"))},b=()=>{a&&cs(e.beforeClose,{done(){a=!1,u("close"),u("update:show",!1)}})},_=t=>{u("click-overlay",t),e.closeOnClickOverlay&&b()},E=()=>{if(e.overlay)return Ar(Kl,{show:e.show,class:e.overlayClass,zIndex:p.value,duration:e.duration,customStyle:e.overlayStyle,onClick:_},{default:f["overlay-content"]})},T=e=>{u("click-close-icon",e),b()},w=()=>{if(e.closeable)return Ar(ol,{role:"button",tabindex:0,name:e.closeIcon,class:[Xl("close-icon",e.closeIconPosition),Eo],classPrefix:e.iconPrefix,onClick:T},null)},S=()=>u("opened"),x=()=>u("closed"),k=m((()=>{var{round:t,position:a,safeAreaInsetBottom:n}=e;return hn(Ar("div",Mr({ref:v,style:g.value,class:[Xl({round:t,[a]:a}),{"van-safe-area-bottom":n}]},h),[null==f.default?void 0:f.default(),w()]),[[ns,e.show]])})),A=()=>{var{position:t,transition:a,transitionAppear:n}=e;return Ar(Uo,{name:a||("center"===t?"van-fade":"van-popup-slide-"+t),appear:n,onAfterEnter:S,onAfterLeave:x},{default:k})};return La((()=>e.show),(e=>{e?y():(a=!1,u("close"))})),ms({popupRef:v}),r=v,i=()=>e.show&&e.lockScroll,o=Ds(),s=e=>{o.move(e);var t=o.deltaY.value>0?"10":"01",a=Ti(e.target,r.value),{scrollHeight:n,offsetHeight:i,scrollTop:s}=a,l="11";0===s?l=i>=n?"00":"01":s+i>=n&&(l="10"),"11"===l||!o.isVertical()||parseInt(l,2)&parseInt(t,2)||Fi(e,!0)},l=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",s,{passive:!1}),zl||document.body.classList.add(Vl),zl++},d=()=>{zl&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",s),--zl||document.body.classList.remove(Vl))},c=()=>i()&&d(),mi((()=>i()&&l())),Wa(c),on(c),La(i,(e=>{e?l():d()})),gi("popstate",(()=>{e.closeOnPopstate&&(b(),n=!1)})),an((()=>{e.show&&y()})),Ya((()=>{n&&(u("update:show",!0),n=!1)})),Wa((()=>{e.show&&(b(),n=!0)})),Sa(gs,(()=>e.show)),()=>e.teleport?Ar(or,{to:e.teleport},{default:()=>[E(),A()]}):Ar(lr,null,[E(),A()])}});var Jl=Ji(Ql);var[$l,ed]=so("image");const td=Ga({name:$l,props:{src:String,alt:String,fit:String,round:Boolean,width:co,height:co,radius:co,lazyLoad:Boolean,iconSize:co,showError:uo,errorIcon:vo("photo-fail"),iconPrefix:String,showLoading:uo,loadingIcon:vo("photo")},emits:["load","error"],setup(e,t){var{emit:a,slots:n}=t,r=St(!1),o=St(!0),s=St(),{$Lazyload:l}=zr().proxy,d=ti((()=>{var t={width:Gi(e.width),height:Gi(e.height)};return ki(e.radius)&&(t.overflow="hidden",t.borderRadius=Gi(e.radius)),t}));La((()=>e.src),(()=>{r.value=!1,o.value=!0}));var c=e=>{o.value=!1,a("load",e)},u=e=>{r.value=!0,o.value=!1,a("error",e)},h=(t,a,n)=>n?n():Ar(ol,{name:t,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),f=()=>{if(!r.value&&e.src){var t,a={alt:e.alt,class:ed("img"),style:{objectFit:e.fit}};return e.lazyLoad?hn(Ar("img",Mr({ref:s},a),null),[[(t="lazy",gn("directives",t)),e.src]]):Ar("img",Mr({src:e.src,onLoad:c,onError:u},a),null)}},p=e=>{var{el:t}=e;t===s.value&&o.value&&c()},v=e=>{var{el:t}=e;t!==s.value||r.value||u()};return l&&i&&(l.$on("loaded",p),l.$on("error",v),on((()=>{l.$off("loaded",p),l.$off("error",v)}))),()=>Ar("div",{class:ed({round:e.round}),style:d.value},[f(),o.value&&e.showLoading?Ar("div",{class:ed("loading")},[h(e.loadingIcon,ed("loading-icon"),n.loading)]):r.value&&e.showError?Ar("div",{class:ed("error")},[h(e.errorIcon,ed("error-icon"),n.error)]):void 0,null==n.default?void 0:n.default()])}});var ad=Ji(td);var[nd,rd]=so("loading"),id=Array(12).fill(null).map(((e,t)=>Ar("i",{class:rd("line",String(t+1))},null))),od=Ar("svg",{class:rd("circular"),viewBox:"25 25 50 50"},[Ar("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);var sd=Ji(Ga({name:nd,props:{size:co,type:vo("circular"),color:String,vertical:Boolean,textSize:co,textColor:String},setup(e,t){var{slots:a}=t,n=ti((()=>r({color:e.color},Hi(e.size)))),i=()=>{var t;if(a.default)return Ar("span",{class:rd("text"),style:{fontSize:Gi(e.textSize),color:null!=(t=e.textColor)?t:e.color}},[a.default()])};return()=>{var{type:t,vertical:a}=e;return Ar("div",{class:rd([t,{vertical:a}])},[Ar("span",{class:rd("spinner",t),style:n.value},["spinner"===t?id:od]),i()])}}}));const ld=sd;var dd=e=>Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2)),cd=so("image-preview")[1];const ud=Ga({props:{src:String,show:Boolean,active:Number,minZoom:ho(co),maxZoom:ho(co),rootWidth:ho(Number),rootHeight:ho(Number)},emits:["scale","close"],setup(e,t){var a,n,r,i,o,s,{emit:l}=t,d=ct({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),c=Ds(),u=ti((()=>{var{rootWidth:t,rootHeight:a}=e,n=a/t;return d.imageRatio>n})),h=ti((()=>{var{scale:e,moveX:t,moveY:a,moving:n,zooming:r}=d,i={transitionDuration:r||n?"0s":".3s"};if(1!==e){var o=t/e,s=a/e;i.transform="scale("+e+", "+e+") translate("+o+"px, "+s+"px)"}return i})),f=ti((()=>{if(d.imageRatio){var{rootWidth:t,rootHeight:a}=e,n=u.value?a/d.imageRatio:t;return Math.max(0,(d.scale*n-t)/2)}return 0})),p=ti((()=>{if(d.imageRatio){var{rootWidth:t,rootHeight:a}=e,n=u.value?a:t*d.imageRatio;return Math.max(0,(d.scale*n-a)/2)}return 0})),v=t=>{(t=Zi(t,+e.minZoom,+e.maxZoom))!==d.scale&&(d.scale=t,l("scale",{scale:t,index:e.active}))},m=()=>{v(1),d.moveX=0,d.moveY=0},g=e=>{var{touches:t}=e,{offsetX:o}=c;c.start(e),a=d.moveX,n=d.moveY,s=Date.now(),d.moving=1===t.length&&1!==d.scale,d.zooming=2===t.length&&!o.value,d.zooming&&(r=d.scale,i=dd(e.touches))},y=e=>{var{touches:t}=e;if(c.move(e),(d.moving||d.zooming)&&Fi(e,!0),d.moving){var{deltaX:o,deltaY:s}=c,l=o.value+a,u=s.value+n;d.moveX=Zi(l,-f.value,f.value),d.moveY=Zi(u,-p.value,p.value)}if(d.zooming&&2===t.length){var h=dd(t);v(r*h/i)}},b=()=>{var e,{offsetX:t,offsetY:a}=c,n=Date.now()-s;t.value<10&&a.value<10&&n<250&&(o?(clearTimeout(o),o=null,e=d.scale>1?1:2,v(e),d.moveX=0,d.moveY=0):o=setTimeout((()=>{l("close"),o=null}),250))},_=e=>{var t=!1;(d.moving||d.zooming)&&(t=!0,d.moving&&a===d.moveX&&n===d.moveY&&(t=!1),e.touches.length||(d.zooming&&(d.moveX=Zi(d.moveX,-f.value,f.value),d.moveY=Zi(d.moveY,-p.value,p.value),d.zooming=!1),d.moving=!1,a=0,n=0,r=1,d.scale<1&&m())),Fi(e,t),b(),c.reset()},E=e=>{var{naturalWidth:t,naturalHeight:a}=e.target;d.imageRatio=a/t};return La((()=>e.active),m),La((()=>e.show),(e=>{e||m()})),()=>{var t={loading:()=>Ar(sd,{type:"spinner"},null)};return Ar(Ys,{class:cd("swipe-item"),onTouchstart:g,onTouchmove:y,onTouchend:_,onTouchcancel:_},{default:()=>[Ar(ad,{src:e.src,fit:"contain",class:cd("image",{vertical:u.value}),style:h.value,onLoad:E},t)]})}}});var[hd,fd]=so("image-preview"),pd=["show","transition","overlayStyle","closeOnPopstate"];const vd=Ga({name:hd,props:{show:Boolean,loop:uo,images:fo(),minZoom:po(1/3),maxZoom:po(3),overlay:uo,closeable:Boolean,showIndex:uo,className:lo,closeIcon:vo("clear"),transition:String,beforeClose:Function,overlayStyle:Object,swipeDuration:po(300),startPosition:po(0),showIndicators:Boolean,closeOnPopstate:uo,closeIconPosition:vo("top-right")},emits:["scale","close","closed","change","update:show"],setup(e,t){var{emit:a,slots:n}=t,r=St(),i=ct({active:0,rootWidth:0,rootHeight:0}),o=()=>{if(r.value){var e=ci(r.value.$el);i.rootWidth=e.width,i.rootHeight=e.height,r.value.resize()}},l=e=>a("scale",e),d=e=>a("update:show",e),c=()=>{cs(e.beforeClose,{args:[i.active],done:()=>d(!1)})},u=e=>{e!==i.active&&(i.active=e,a("change",e))},h=()=>{if(e.showIndex)return Ar("div",{class:fd("index")},[n.index?n.index({index:i.active}):i.active+1+" / "+e.images.length])},f=()=>{if(n.cover)return Ar("div",{class:fd("cover")},[n.cover()])},p=()=>{if(e.closeable)return Ar(ol,{role:"button",name:e.closeIcon,class:[fd("close-icon",e.closeIconPosition),Eo],onClick:c},null)},v=()=>a("closed"),m=(e,t)=>{var a;return null==(a=r.value)?void 0:a.swipeTo(e,t)};return ms({swipeTo:m}),an(o),La([zi,Vi],o),La((()=>e.startPosition),(e=>u(+e))),La((()=>e.show),(t=>{var{images:n,startPosition:r}=e;t?(u(+r),Ht((()=>{o(),m(+r,{immediate:!0})}))):a("close",{index:i.active,url:n[i.active]})})),()=>Ar(Jl,Mr({class:[fd(),e.className],overlayClass:fd("overlay"),onClosed:v,"onUpdate:show":d},s(e,pd)),{default:()=>[p(),Ar(Ms,{ref:r,lazyRender:!0,loop:e.loop,class:fd("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:u},{default:()=>[e.images.map((t=>Ar(ud,{src:t,show:e.show,active:i.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:i.rootWidth,rootHeight:i.rootHeight,onScale:l,onClose:c},null)))]}),h(),f()]})}});var md,gd={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};var yd=function(e,t){if(void 0===t&&(t=0),i)return md||({instance:md}=Fl({setup(){var{state:e,toggle:t}=Bl(),a=()=>{e.images=[]};return()=>Ar(vd,Mr(e,{onClosed:a,"onUpdate:show":t}),null)}})),e=Array.isArray(e)?{images:e,startPosition:t}:e,md.open(r({},gd,e)),md};yd.Component=Ji(vd),yd.install=e=>{e.use(yd.Component)};const bd=Ga({props:{name:co,item:ho(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:co,beforeDelete:Function},emits:["delete","preview"],setup(e,t){var{emit:a,slots:n}=t,i=()=>{var{status:t,message:a}=e.item;if("uploading"===t||"failed"===t){var n="failed"===t?Ar(ol,{name:"close",class:Cl("mask-icon")},null):Ar(sd,{class:Cl("loading")},null),r=ki(a)&&""!==a;return Ar("div",{class:Cl("mask")},[n,r&&Ar("div",{class:Cl("mask-message")},[a])])}},o=t=>{var{name:n,item:r,index:i,beforeDelete:o}=e;t.stopPropagation(),cs(o,{args:[r,{name:n,index:i}],done:()=>a("delete")})},s=()=>a("preview"),l=()=>{if(e.deletable&&"uploading"!==e.item.status)return Ar("div",{role:"button",class:Cl("preview-delete"),tabindex:0,"aria-label":Il("delete"),onClick:o},[Ar(ol,{name:"cross",class:Cl("preview-delete-icon")},null)])},d=()=>{if(n["preview-cover"]){var{index:t,item:a}=e;return Ar("div",{class:Cl("preview-cover")},[n["preview-cover"](r({index:t},a))])}},c=()=>{var{item:t}=e;return Nl(t)?Ar(ad,{fit:e.imageFit,src:t.content||t.url,class:Cl("preview-image"),width:e.previewSize,height:e.previewSize,lazyLoad:e.lazyLoad,onClick:s},{default:d}):Ar("div",{class:Cl("file"),style:Hi(e.previewSize)},[Ar(ol,{class:Cl("file-icon"),name:"description"},null),Ar("div",{class:[Cl("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),d()])};return()=>Ar("div",{class:Cl("preview")},[c(),i(),l()])}});const _d=Ga({name:Dl,props:{name:po(""),accept:vo("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:po(1/0),imageFit:vo("cover"),resultType:vo("dataUrl"),uploadIcon:vo("photograph"),uploadText:String,deletable:uo,afterRead:Function,showUpload:uo,modelValue:fo(),beforeRead:Function,beforeDelete:Function,previewSize:co,previewImage:uo,previewOptions:Object,previewFullImage:uo,maxSize:{type:[Number,String,Function],default:1/0}},emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,t){var a,{emit:n,slots:i}=t,o=St(),l=[],d=function(t){return void 0===t&&(t=e.modelValue.length),{name:e.name,index:t}},c=()=>{o.value&&(o.value.value="")},u=t=>{if(c(),Pl(t,e.maxSize)){if(!Array.isArray(t))return void n("oversize",t,d());var a=function(e,t){var a=[],n=[];return e.forEach((e=>{Pl(e,t)?n.push(e):a.push(e)})),{valid:a,invalid:n}}(t,e.maxSize);if(t=a.valid,n("oversize",a.invalid,d()),!t.length)return}t=ct(t),n("update:modelValue",[...e.modelValue,...Rl(t)]),e.afterRead&&e.afterRead(t,d())},h=t=>{var{maxCount:a,modelValue:n,resultType:r}=e;if(Array.isArray(t)){var i=+a-n.length;t.length>i&&(t=t.slice(0,i)),Promise.all(t.map((e=>Ol(e,r)))).then((e=>{var a=t.map(((t,a)=>{var n={file:t,status:"",message:""};return e[a]&&(n.content=e[a]),n}));u(a)}))}else Ol(t,r).then((e=>{var a={file:t,status:"",message:""};e&&(a.content=e),u(a)}))},f=t=>{var{files:a}=t.target;if(!e.disabled&&a&&a.length){var n=1===a.length?a[0]:[].slice.call(a);if(e.beforeRead){var r=e.beforeRead(n,d());if(!r)return void c();if(Di(r))return void r.then((e=>{h(e||n)})).catch(c)}h(n)}},p=()=>n("close-preview"),v=(t,o)=>{var c=["imageFit","deletable","previewSize","beforeDelete"],u=r(s(e,c),s(t,c,!0));return Ar(bd,Mr({item:t,index:o,onClick:()=>n("click-preview",t,d(o)),onDelete:()=>((t,a)=>{var r=e.modelValue.slice(0);r.splice(a,1),n("update:modelValue",r),n("delete",t,d(a))})(t,o),onPreview:()=>(t=>{if(e.previewFullImage){var n=e.modelValue.filter(Nl),i=n.map((e=>(e.file&&!e.url&&(e.url=URL.createObjectURL(e.file),l.push(e.url)),e.url))).filter(Boolean);a=yd(r({images:i,startPosition:n.indexOf(t),onClose:p},e.previewOptions))}})(t)},s(e,["name","lazyLoad"]),u),{"preview-cover":i["preview-cover"]})},m=()=>{if(e.previewImage)return e.modelValue.map(v)},g=e=>n("click-upload",e),y=()=>{if(!(e.modelValue.length>=e.maxCount)&&e.showUpload){var t=e.readonly?null:Ar("input",{ref:o,type:"file",class:Cl("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:f},null);return i.default?Ar("div",{class:Cl("input-wrapper"),onClick:g},[i.default(),t]):Ar("div",{class:Cl("upload",{readonly:e.readonly}),style:Hi(e.previewSize),onClick:g},[Ar(ol,{name:e.uploadIcon,class:Cl("upload-icon")},null),e.uploadText&&Ar("span",{class:Cl("upload-text")},[e.uploadText]),t])}};return on((()=>{l.forEach((e=>URL.revokeObjectURL(e)))})),ms({chooseFile:()=>{o.value&&!e.disabled&&o.value.click()},closeImagePreview:()=>{a&&a.close()}}),xi((()=>e.modelValue)),()=>Ar("div",{class:Cl()},[Ar("div",{class:Cl("wrapper",{disabled:e.disabled})},[m(),y()])])}});const Ed=Ji(_d);a(3064);var[Td,wd]=so("switch");const Sd=Ga({name:Td,props:{size:co,loading:Boolean,disabled:Boolean,modelValue:lo,activeColor:String,inactiveColor:String,activeValue:{type:lo,default:!0},inactiveValue:{type:lo,default:!1}},emits:["change","update:modelValue"],setup(e,t){var{emit:a}=t,n=()=>e.modelValue===e.activeValue,r=()=>{if(!e.disabled&&!e.loading){var t=n()?e.inactiveValue:e.activeValue;a("update:modelValue",t),a("change",t)}},i=()=>{if(e.loading){var t=n()?e.activeColor:e.inactiveColor;return Ar(sd,{class:wd("loading"),color:t},null)}};return xi((()=>e.modelValue)),()=>{var{size:t,loading:a,disabled:o,activeColor:s,inactiveColor:l}=e,d=n(),c={fontSize:Gi(t),backgroundColor:d?s:l};return Ar("div",{role:"switch",class:wd({on:d,loading:a,disabled:o}),style:c,tabindex:o?void 0:0,"aria-checked":d,onClick:r},[Ar("div",{class:wd("node")},[i()])])}}});const xd=Ji(Sd);a(9357),a(3479);function kd(e,t){return(!t.required||!function(e){return Array.isArray(e)?!e.length:0!==e&&!e}(e))&&!(t.pattern&&!t.pattern.test(String(e)))}function Ad(e,t){var{message:a}=t;return Ai(a)?a(e,t):a||""}function Ld(e){var{target:t}=e;t.composing=!0}function Dd(e){var{target:t}=e;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}function Cd(e){return[...e].length}var[Id,Rd]=so("cell"),Od={icon:String,size:String,title:co,value:co,label:co,center:Boolean,isLink:Boolean,border:uo,required:Boolean,iconPrefix:String,valueClass:lo,labelClass:lo,titleClass:lo,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}};const Pd=Ga({name:Id,props:r({},Od,fs),setup(e,t){var{slots:a}=t,n=vs(),r=()=>{if(a.label||ki(e.label))return Ar("div",{class:[Rd("label"),e.labelClass]},[a.label?a.label():e.label])},i=()=>{if(a.title||ki(e.title))return Ar("div",{class:[Rd("title"),e.titleClass],style:e.titleStyle},[a.title?a.title():Ar("span",null,[e.title]),r()])},o=()=>{var t=a.value||a.default;if(t||ki(e.value)){var n=a.title||ki(e.title);return Ar("div",{class:[Rd("value",{alone:!n}),e.valueClass]},[t?t():Ar("span",null,[e.value])])}},s=()=>{if(a["right-icon"])return a["right-icon"]();if(e.isLink){var t=e.arrowDirection?"arrow-"+e.arrowDirection:"arrow";return Ar(ol,{name:t,class:Rd("right-icon")},null)}};return()=>{var t,{size:r,center:l,border:d,isLink:c,required:u}=e,h=null!=(t=e.clickable)?t:c,f={center:l,required:u,clickable:h,borderless:!d};return r&&(f[r]=!!r),Ar("div",{class:Rd(f),role:h?"button":void 0,tabindex:h?0:void 0,onClick:n},[a.icon?a.icon():e.icon?Ar(ol,{name:e.icon,class:Rd("left-icon"),classPrefix:e.iconPrefix},null):void 0,i(),o(),s(),null==a.extra?void 0:a.extra()])}}});var Md=Ji(Pd);const Nd=Md;var[Bd,Fd]=so("field"),Ud={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:co,formatter:Function,clearIcon:vo("clear"),modelValue:po(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,clearTrigger:vo("focus"),formatTrigger:vo("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}};const jd=Ga({name:Bd,props:r({},Od,Ud,{rows:co,type:vo("text"),rules:Array,autosize:[Boolean,Object],labelWidth:co,labelClass:lo,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,t){var{emit:a,slots:n}=t,r=hs(),i=ct({focused:!1,validateFailed:!1,validateMessage:""}),o=St(),s=St(),{parent:l}=ui(To),d=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},c=t=>ki(e[t])?e[t]:l&&ki(l.props[t])?l.props[t]:void 0,u=ti((()=>{var t=c("readonly");if(e.clearable&&!t){var a=""!==d(),n="always"===e.clearTrigger||"focus"===e.clearTrigger&&i.focused;return a&&n}return!1})),h=ti((()=>s.value&&n.input?s.value():e.modelValue)),f=e=>e.reduce(((e,t)=>e.then((()=>{if(!i.validateFailed){var{value:e}=h;return t.formatter&&(e=t.formatter(e,t)),kd(e,t)?t.validator?function(e,t){return new Promise((a=>{var n=t.validator(e,t);if(Di(n))return n.then(a);a(n)}))}(e,t).then((a=>{a&&"string"==typeof a?(i.validateFailed=!0,i.validateMessage=a):!1===a&&(i.validateFailed=!0,i.validateMessage=Ad(e,t))})):void 0:(i.validateFailed=!0,void(i.validateMessage=Ad(e,t)))}}))),Promise.resolve()),p=()=>{i.validateFailed&&(i.validateFailed=!1,i.validateMessage="")},v=function(t){return void 0===t&&(t=e.rules),new Promise((a=>{p(),t?f(t).then((()=>{i.validateFailed?a({name:e.name,message:i.validateMessage}):a()})):a()}))},m=t=>{if(l&&e.rules){var a=l.props.validateTrigger===t,n=e.rules.filter((e=>e.trigger?e.trigger===t:a));n.length&&v(n)}},g=function(t,n){if(void 0===n&&(n="onChange"),t=(t=>{var{maxlength:a}=e;if(ki(a)&&Cd(t)>a){var n=d();return n&&Cd(n)===+a?n:function(e,t){return[...e].slice(0,t).join("")}(t,+a)}return t})(t),"number"===e.type||"digit"===e.type){var r="number"===e.type;t=function(e,t,a){void 0===t&&(t=!0),void 0===a&&(a=!0),e=t?Qi(e,".",/\./g):e.split(".")[0];var n=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=a?Qi(e,"-",/-/g):e.replace(/-/,"")).replace(n,"")}(t,r,r)}e.formatter&&n===e.formatTrigger&&(t=e.formatter(t)),o.value&&o.value.value!==t&&(o.value.value=t),t!==e.modelValue&&a("update:modelValue",t)},y=e=>{e.target.composing||g(e.target.value)},b=()=>{var e;return null==(e=o.value)?void 0:e.blur()},_=()=>{var t=o.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){var a=Oi();e.style.height="auto";var n=e.scrollHeight;if(Li(t)){var{maxHeight:r,minHeight:i}=t;void 0!==r&&(n=Math.min(n,r)),void 0!==i&&(n=Math.max(n,i))}n&&(e.style.height=n+"px",Pi(a))}(t,e.autosize)},E=e=>{i.focused=!0,a("focus",e),Ht(_),c("readonly")&&b()},T=e=>{c("readonly")||(i.focused=!1,g(d(),"onBlur"),a("blur",e),m("onBlur"),Ht(_),Ni&&Pi(Oi()))},w=e=>a("click-input",e),S=e=>a("click-left-icon",e),x=e=>a("click-right-icon",e),k=e=>{Fi(e),a("update:modelValue",""),a("clear",e)},A=ti((()=>"boolean"==typeof e.error?e.error:!!(l&&l.props.showError&&i.validateFailed)||void 0)),L=ti((()=>{var e=c("labelWidth");if(e)return{width:Gi(e)}})),D=t=>{13===t.keyCode&&(l&&l.props.submitOnEnter||"textarea"===e.type||Fi(t),"search"===e.type&&b());a("keypress",t)},C=()=>e.id||r+"-input",I=()=>{var t=Fd("control",[c("inputAlign"),{error:A.value,custom:!!n.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(n.input)return Ar("div",{class:t,onClick:w},[n.input()]);var a,i={id:C(),ref:o,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,value:e.modelValue,disabled:c("disabled"),readonly:c("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,"aria-labelledby":e.label?r+"-label":void 0,onBlur:T,onFocus:E,onInput:y,onClick:w,onChange:Dd,onKeypress:D,onCompositionend:Dd,onCompositionstart:Ld};return"textarea"===e.type?Ar("textarea",i,null):Ar("input",Mr("number"===(a=e.type)?{type:"text",inputmode:"decimal"}:"digit"===a?{type:"tel",inputmode:"numeric"}:{type:a},i),null)},R=()=>{var t=n["right-icon"];if(e.rightIcon||t)return Ar("div",{class:Fd("right-icon"),onClick:x},[t?t():Ar(ol,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},O=()=>{if(e.showWordLimit&&e.maxlength){var t=Cd(d());return Ar("div",{class:Fd("word-limit")},[Ar("span",{class:Fd("word-num")},[t]),Cr("/"),e.maxlength])}},P=()=>{if(!l||!1!==l.props.showErrorMessage){var t=e.errorMessage||i.validateMessage;if(t){var a=n["error-message"],r=c("errorMessageAlign");return Ar("div",{class:Fd("error-message",r)},[a?a({message:t}):t])}}},M=()=>[Ar("div",{class:Fd("body")},[I(),u.value&&Ar(ol,{name:e.clearIcon,class:Fd("clear"),onTouchstart:k},null),R(),n.button&&Ar("div",{class:Fd("button")},[n.button()])]),O(),P()];return ms({blur:b,focus:()=>{var e;return null==(e=o.value)?void 0:e.focus()},validate:v,formValue:h,resetValidation:p}),Sa(Si,{customValue:s,resetValidation:p,validateWithTrigger:m}),La((()=>e.modelValue),(()=>{g(d()),p(),m("onChange"),Ht(_)})),an((()=>{g(d(),e.formatTrigger),Ht(_)})),()=>{var t,a=c("disabled"),i=c("labelAlign"),o=(t=c("colon")?":":"",n.label?[n.label(),t]:e.label?Ar("label",{id:r+"-label",for:C()},[e.label+t]):void 0),s=(()=>{var t=n["left-icon"];if(e.leftIcon||t)return Ar("div",{class:Fd("left-icon"),onClick:S},[t?t():Ar(ol,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return Ar(Md,{size:e.size,icon:e.leftIcon,class:Fd({error:A.value,disabled:a,["label-"+i]:i}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:L.value,valueClass:Fd("value"),titleClass:[Fd("label",[i,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:s?()=>s:null,title:o?()=>o:null,value:M,extra:n.extra})}}});var zd=Ji(jd);const Vd=zd;var[Gd,Hd]=so("form");const qd=Ga({name:Gd,props:{colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:co,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:uo,validateTrigger:vo("onBlur"),showErrorMessage:uo,errorMessageAlign:String},emits:["submit","failed"],setup(e,t){var{emit:a,slots:n}=t,{children:r,linkChildren:i}=fi(To),o=e=>e?r.filter((t=>e.includes(t.name))):r,s=t=>{return"string"==typeof t?(e=>{var t=r.find((t=>t.name===e));return t?new Promise(((e,a)=>{t.validate().then((t=>{t?a(t):e()}))})):Promise.reject()})(t):e.validateFirst?(a=t,new Promise(((e,t)=>{var n=[];o(a).reduce(((e,t)=>e.then((()=>{if(!n.length)return t.validate().then((e=>{e&&n.push(e)}))}))),Promise.resolve()).then((()=>{n.length?t(n):e()}))}))):(e=>new Promise(((t,a)=>{var n=o(e);Promise.all(n.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?a(e):t()}))})))(t);var a},l=(e,t)=>{r.some((a=>a.name===e&&(a.$el.scrollIntoView(t),!0)))},d=()=>{var t=r.reduce(((e,t)=>(e[t.name]=t.formValue.value,e)),{});s().then((()=>a("submit",t))).catch((n=>{a("failed",{values:t,errors:n}),e.scrollToError&&n[0].name&&l(n[0].name)}))},c=e=>{Fi(e),d()};return i({props:e}),ms({submit:d,validate:s,scrollToField:l,resetValidation:e=>{"string"==typeof e&&(e=[e]),o(e).forEach((e=>{e.resetValidation()}))}}),()=>Ar("form",{class:Hd(),onSubmit:c},[null==n.default?void 0:n.default()])}});const Kd=Ji(qd);a(4432);var[Yd,Wd]=so("cell-group");const Xd=Ji(Ga({name:Yd,inheritAttrs:!1,props:{title:String,inset:Boolean,border:uo},setup(e,t){var{slots:a,attrs:n}=t,r=()=>Ar("div",Mr({class:[Wd({inset:e.inset}),{[_o]:e.border&&!e.inset}]},n),[null==a.default?void 0:a.default()]);return()=>e.title||a.title?Ar(lr,null,[Ar("div",{class:Wd("title",{inset:e.inset})},[a.title?a.title():e.title]),r()]):r()}}));a(4405);var[Zd,Qd]=so("button");const Jd=Ga({name:Zd,props:r({},fs,{tag:vo("button"),text:String,icon:String,type:vo("default"),size:vo("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:vo("button"),loadingSize:co,loadingText:String,loadingType:String,iconPosition:vo("left")}),emits:["click"],setup(e,t){var{emit:a,slots:n}=t,r=vs(),i=()=>e.loading?n.loading?n.loading():Ar(sd,{size:e.loadingSize,type:e.loadingType,class:Qd("loading")},null):n.icon?Ar("div",{class:Qd("icon")},[n.icon()]):e.icon?Ar(ol,{name:e.icon,class:Qd("icon"),classPrefix:e.iconPrefix},null):void 0,o=()=>{var t;if(t=e.loading?e.loadingText:n.default?n.default():e.text)return Ar("span",{class:Qd("text")},[t])},s=()=>{var{color:t,plain:a}=e;if(t){var n={color:a?t:"white"};return a||(n.background=t),t.includes("gradient")?n.border=0:n.borderColor=t,n}},l=t=>{e.loading?Fi(t):e.disabled||(a("click",t),r())};return()=>{var{tag:t,type:a,size:n,block:r,round:d,plain:c,square:u,loading:h,disabled:f,hairline:p,nativeType:v,iconPosition:m}=e,g=[Qd([a,n,{plain:c,block:r,round:d,square:u,loading:h,disabled:f,hairline:p}]),{[bo]:p}];return Ar(t,{type:v,class:g,style:s(),disabled:f,onClick:l},{default:()=>[Ar("div",{class:Qd("content")},["left"===m&&i(),o(),"right"===m&&i()])]})}}});var $d=Ji(Jd);const ec=$d;a(2238);var[tc,ac]=so("row"),nc=Symbol(tc);const rc=Ji(Ga({name:tc,props:{tag:vo("div"),wrap:uo,align:String,gutter:po(0),justify:String},setup(e,t){var{slots:a}=t,{children:n,linkChildren:r}=fi(nc),i=ti((()=>{var e=[[]],t=0;return n.forEach(((a,n)=>{(t+=Number(a.span))>24?(e.push([n]),t-=24):e[e.length-1].push(n)})),e}));return r({spaces:ti((()=>{var t=Number(e.gutter),a=[];return t?(i.value.forEach((e=>{var n=t*(e.length-1)/e.length;e.forEach(((e,r)=>{if(0===r)a.push({right:n});else{var i=t-a[e-1].right,o=n-i;a.push({left:i,right:o})}}))})),a):a}))}),()=>{var{tag:t,wrap:n,align:r,justify:i}=e;return Ar(t,{class:ac({["align-"+r]:r,["justify-"+i]:i,nowrap:!n})},{default:()=>[null==a.default?void 0:a.default()]})}}}));a(4480);var[ic,oc]=so("col");const sc=Ji(Ga({name:ic,props:{tag:vo("div"),span:po(0),offset:co},setup(e,t){var{slots:a}=t,{parent:n,index:r}=ui(nc),i=ti((()=>{if(n){var{spaces:e}=n;if(e&&e.value&&e.value[r.value]){var{left:t,right:a}=e.value[r.value];return{paddingLeft:t?t+"px":null,paddingRight:a?a+"px":null}}}}));return()=>{var{tag:t,span:n,offset:r}=e;return Ar(t,{style:i.value,class:oc({[n]:n,["offset-"+r]:r})},{default:()=>[null==a.default?void 0:a.default()]})}}}));a(9851);var[lc,dc,cc]=so("search");const uc=Ga({name:lc,props:r({},Ud,{label:String,shape:vo("square"),leftIcon:vo("search"),clearable:uo,actionText:String,background:String,showAction:Boolean}),emits:["search","cancel","update:modelValue"],setup(e,t){var{emit:a,slots:n,attrs:i}=t,o=hs(),l=St(),d=()=>{n.action||(a("update:modelValue",""),a("cancel"))},c=t=>{13===t.keyCode&&(Fi(t),a("search",e.modelValue))},u=()=>e.id||o+"-input",h=()=>{if(n.label||e.label)return Ar("label",{class:dc("label"),for:u()},[n.label?n.label():e.label])},f=()=>{if(e.showAction){var t=e.actionText||cc("cancel");return Ar("div",{class:dc("action"),role:"button",tabindex:0,onClick:d},[n.action?n.action():t])}},p=Object.keys(Ud);return ms({focus:()=>{var e;return null==(e=l.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=l.value)?void 0:e.blur()}}),()=>{return Ar("div",{class:dc({"show-action":e.showAction}),style:{background:e.background}},[null==n.left?void 0:n.left(),Ar("div",{class:dc("content",e.shape)},[h(),(t=r({},i,s(e,p),{id:u()}),Ar(zd,Mr({ref:l,type:"search",class:dc("field"),border:!1,onKeypress:c,"onUpdate:modelValue":e=>a("update:modelValue",e)},t),s(n,["left-icon","right-icon"])))]),f()]);var t}}});const hc=Ji(uc);a(3257),a(7356),a(7189);var[fc,pc]=so("action-bar"),vc=Symbol(fc);var mc=Ji(Ga({name:fc,props:{safeAreaInsetBottom:uo},setup(e,t){var{slots:a}=t,{linkChildren:n}=fi(vc);return n(),()=>Ar("div",{class:[pc(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==a.default?void 0:a.default()])}}));var[gc,yc]=so("action-bar-button");const bc=Ga({name:gc,props:r({},fs,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,t){var{slots:a}=t,n=vs(),{parent:r,index:i}=ui(vc),o=ti((()=>{if(r){var e=r.children[i.value-1];return!(e&&"isButton"in e)}})),s=ti((()=>{if(r){var e=r.children[i.value+1];return!(e&&"isButton"in e)}}));return ms({isButton:!0}),()=>{var{type:t,icon:r,text:i,color:l,loading:d,disabled:c}=e;return Ar($d,{class:yc([t,{last:s.value,first:o.value}]),size:"large",type:t,icon:r,color:l,loading:d,disabled:c,onClick:n},{default:()=>[a.default?a.default():i]})}}});var _c=Ji(bc);var[Ec,Tc,wc]=so("dialog"),Sc=r({},Ul,{title:String,theme:String,width:co,message:[String,Function],callback:Function,allowHtml:Boolean,className:lo,transition:vo("van-dialog-bounce"),messageAlign:String,closeOnPopstate:uo,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:uo,closeOnClickOverlay:Boolean}),xc=[...jl,"transition","closeOnPopstate"];const kc=Ga({name:Ec,props:Sc,emits:["confirm","cancel","update:show"],setup(e,t){var{emit:a,slots:n}=t,r=ct({confirm:!1,cancel:!1}),i=e=>a("update:show",e),o=t=>{i(!1),null==e.callback||e.callback(t)},l=t=>()=>{e.show&&(a(t),e.beforeClose?(r[t]=!0,cs(e.beforeClose,{args:[t],done(){o(t),r[t]=!1},canceled(){r[t]=!1}})):o(t))},d=l("cancel"),c=l("confirm"),u=()=>{var t=n.title?n.title():e.title;if(t)return Ar("div",{class:Tc("header",{isolated:!e.message&&!n.default})},[t])},h=t=>{var{message:a,allowHtml:n,messageAlign:r}=e,i=Tc("message",{"has-title":t,[r]:r}),o=Ai(a)?a():a;return n&&"string"==typeof o?Ar("div",{class:i,innerHTML:o},null):Ar("div",{class:i},[o])},f=()=>{if(n.default)return Ar("div",{class:Tc("content")},[n.default()]);var{title:t,message:a,allowHtml:r}=e;if(a){var i=!(!t&&!n.title);return Ar("div",{key:r?1:0,class:Tc("content",{isolated:!i})},[h(i)])}},p=()=>n.footer?n.footer():"round-button"===e.theme?Ar(mc,{class:Tc("footer")},{default:()=>[e.showCancelButton&&Ar(_c,{type:"warning",text:e.cancelButtonText||wc("cancel"),class:Tc("cancel"),color:e.cancelButtonColor,loading:r.cancel,onClick:d},null),e.showConfirmButton&&Ar(_c,{type:"danger",text:e.confirmButtonText||wc("confirm"),class:Tc("confirm"),color:e.confirmButtonColor,loading:r.confirm,onClick:c},null)]}):Ar("div",{class:[go,Tc("footer")]},[e.showCancelButton&&Ar($d,{size:"large",text:e.cancelButtonText||wc("cancel"),class:Tc("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,onClick:d},null),e.showConfirmButton&&Ar($d,{size:"large",text:e.confirmButtonText||wc("confirm"),class:[Tc("confirm"),{[yo]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:r.confirm,onClick:c},null)]);return()=>{var{width:t,title:a,theme:n,message:r,className:o}=e;return Ar(Jl,Mr({role:"dialog",class:[Tc([n]),o],style:{width:Gi(t)},"aria-labelledby":a||r,"onUpdate:show":i},s(e,xc)),{default:()=>[u(),f(),p()]})}}});var Ac;function Lc(e){return i?new Promise(((t,a)=>{var n;Ac||(n={setup(){var{state:e,toggle:t}=Bl();return()=>Ar(kc,Mr(e,{"onUpdate:show":t}),null)}},({instance:Ac}=Fl(n))),Ac.open(r({},Lc.currentOptions,e,{callback:e=>{("confirm"===e?t:a)(e)}}))})):Promise.resolve()}Lc.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},Lc.currentOptions=r({},Lc.defaultOptions),Lc.alert=Lc,Lc.confirm=e=>Lc(r({showCancelButton:!0},e)),Lc.close=()=>{Ac&&Ac.toggle(!1)},Lc.setDefaultOptions=e=>{r(Lc.currentOptions,e)},Lc.resetDefaultOptions=()=>{Lc.currentOptions=r({},Lc.defaultOptions)},Lc.Component=Ji(kc),Lc.install=e=>{e.use(Lc.Component),e.config.globalProperties.$dialog=Lc};const Dc=Lc;a(9475);var Cc,[Ic,Rc,Oc]=so("pagination"),Pc=(e,t,a)=>({number:e,text:t,active:a});const Mc=Ga({name:Ic,props:{mode:vo("multi"),prevText:String,nextText:String,pageCount:po(0),modelValue:(Cc=0,{type:Number,default:Cc}),totalItems:po(0),showPageSize:po(5),itemsPerPage:po(10),forceEllipses:Boolean},emits:["change","update:modelValue"],setup(e,t){var{emit:a,slots:n}=t,r=ti((()=>{var{pageCount:t,totalItems:a,itemsPerPage:n}=e,r=+t||Math.ceil(+a/+n);return Math.max(1,r)})),i=ti((()=>{var t=[],a=r.value,n=+e.showPageSize,{modelValue:i,forceEllipses:o}=e,s=1,l=a,d=n<a;d&&(l=(s=Math.max(i-Math.floor(n/2),1))+n-1)>a&&(s=(l=a)-n+1);for(var c=s;c<=l;c++){var u=Pc(c,c,c===i);t.push(u)}if(d&&n>0&&o){if(s>1){var h=Pc(s-1,"...");t.unshift(h)}if(l<a){var f=Pc(l+1,"...");t.push(f)}}return t})),o=(t,n)=>{t=Zi(t,1,r.value),e.modelValue!==t&&(a("update:modelValue",t),n&&a("change",t))};ka((()=>o(e.modelValue)));var s=()=>{var{mode:t,modelValue:a}=e,r=n["prev-text"],i=1===a;return Ar("li",{class:[Rc("item",{disabled:i,border:"simple"===t,prev:!0}),bo]},[Ar("button",{type:"button",disabled:i,onClick:()=>o(a-1,!0)},[r?r():e.prevText||Oc("prev")])])},l=()=>{var{mode:t,modelValue:a}=e,i=n["next-text"],s=a===r.value;return Ar("li",{class:[Rc("item",{disabled:s,border:"simple"===t,next:!0}),bo]},[Ar("button",{type:"button",disabled:s,onClick:()=>o(a+1,!0)},[i?i():e.nextText||Oc("next")])])};return()=>Ar("nav",{role:"navigation",class:Rc()},[Ar("ul",{class:Rc("items")},[s(),"simple"===e.mode?Ar("li",{class:Rc("page-desc")},[n.pageDesc?n.pageDesc():e.modelValue+"/"+r.value]):i.value.map((e=>Ar("li",{class:[Rc("item",{active:e.active,page:!0}),bo]},[Ar("button",{type:"button","aria-current":e.active||void 0,onClick:()=>o(e.number,!0)},[n.page?n.page(e):e.text])]))),l()])])}});const Nc=Ji(Mc);a(8519);var[Bc,Fc]=so("notify");const Uc=Ga({name:Bc,props:r({},Ul,{type:vo("danger"),color:String,message:co,className:lo,background:String,lockScroll:Boolean}),emits:["update:show"],setup(e,t){var{emit:a,slots:n}=t,r=e=>a("update:show",e);return()=>Ar(Jl,{show:e.show,class:[Fc([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:"top",duration:.2,lockScroll:e.lockScroll,"onUpdate:show":r},{default:()=>[n.default?n.default():e.message]})}});var jc,zc;function Vc(e){var t;if(i)return zc||({instance:zc}=Fl({setup(){var{state:e,toggle:t}=Bl();return()=>Ar(Uc,Mr(e,{"onUpdate:show":t}),null)}})),e=r({},Vc.currentOptions,Li(t=e)?t:{message:t}),zc.open(e),clearTimeout(jc),e.duration>0&&(jc=window.setTimeout(Vc.clear,e.duration)),zc}Vc.clear=()=>{zc&&zc.toggle(!1)},Vc.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,className:"",lockScroll:!1,background:void 0},Vc.setDefaultOptions=e=>{r(Vc.currentOptions,e)},Vc.resetDefaultOptions=()=>{Vc.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,className:"",lockScroll:!1,background:void 0}},Vc.Component=Ji(Uc),Vc.install=e=>{e.use(Vc.Component),e.config.globalProperties.$notify=Vc};const Gc=Vc,Hc={id:"app-option-page"};const qc={name:"OptionApp"};a(9840);var Kc=a(3744);const Yc=(0,Kc.Z)(qc,[["render",function(e,t,a,n,r,i){const o=vn("router-view");return pr(),br("div",Hc,[Ar(o)])}]]);function Wc(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==a.g?a.g:{}}const Xc="function"==typeof Proxy;let Zc,Qc;function Jc(){return function(){var e;return void 0!==Zc||("undefined"!=typeof window&&window.performance?(Zc=!0,Qc=window.performance):void 0!==a.g&&(null===(e=a.g.perf_hooks)||void 0===e?void 0:e.performance)?(Zc=!0,Qc=a.g.perf_hooks.performance):Zc=!1),Zc}()?Qc.now():Date.now()}class $c{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const a={};if(e.settings)for(const t in e.settings){const n=e.settings[t];a[t]=n.defaultValue}const n=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},a);try{const e=localStorage.getItem(n),t=JSON.parse(e);Object.assign(r,t)}catch(e){}this.fallbacks={getSettings:()=>r,setSettings(e){try{localStorage.setItem(n,JSON.stringify(e))}catch(e){}r=e},now:()=>Jc()},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((a=>{this.targetQueue.push({method:t,args:e,resolve:a})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function eu(e,t){const a=e,n=Wc(),r=Wc().__VUE_DEVTOOLS_GLOBAL_HOOK__,i=Xc&&a.enableEarlyProxy;if(!r||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const e=i?new $c(a,r):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:a,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else r.emit("devtools-plugin:setup",e,t)}
/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const tu="undefined"!=typeof window;function au(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const nu=Object.assign;function ru(e,t){const a={};for(const n in t){const r=t[n];a[n]=ou(r)?r.map(e):e(r)}return a}const iu=()=>{},ou=Array.isArray;const su=/\/$/;function lu(e,t,a="/"){let n,r={},i="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,s>-1?s:t.length),r=e(i)),s>-1&&(n=n||t.slice(0,s),o=t.slice(s,t.length)),n=function(e,t){if(e.startsWith("/"))return e;0;if(!e)return t;const a=t.split("/"),n=e.split("/");let r,i,o=a.length-1;for(r=0;r<n.length;r++)if(i=n[r],"."!==i){if(".."!==i)break;o>1&&o--}return a.slice(0,o).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}(null!=n?n:t,a),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:o}}function du(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function cu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(!uu(e[a],t[a]))return!1;return!0}function uu(e,t){return ou(e)?hu(e,t):ou(t)?hu(t,e):e===t}function hu(e,t){return ou(t)?e.length===t.length&&e.every(((e,a)=>e===t[a])):1===e.length&&e[0]===t}var fu,pu;!function(e){e.pop="pop",e.push="push"}(fu||(fu={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(pu||(pu={}));function vu(e){if(!e)if(tu){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(su,"")}const mu=/^[^#]+#/;function gu(e,t){return e.replace(mu,"#")+t}const yu=()=>({left:window.pageXOffset,top:window.pageYOffset});function bu(e){let t;if("el"in e){const a=e.el,n="string"==typeof a&&a.startsWith("#");0;const r="string"==typeof a?n?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!r)return;t=function(e,t){const a=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-a.left-(t.left||0),top:n.top-a.top-(t.top||0)}}(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function _u(e,t){return(history.state?history.state.position-t:-1)+e}const Eu=new Map;function Tu(e){return"string"==typeof e||"symbol"==typeof e}const wu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Su=Symbol("");var xu;!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(xu||(xu={}));function ku(e,t){return nu(new Error,{type:e,[Su]:!0},t)}function Au(e,t){return e instanceof Error&&Su in e&&(null==t||!!(e.type&t))}const Lu="[^/]+?",Du={sensitive:!1,strict:!1,start:!0,end:!0},Cu=/[.+*?^${}()[\]/\\]/g;function Iu(e,t){let a=0;for(;a<e.length&&a<t.length;){const n=t[a]-e[a];if(n)return n;a++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Ru(e,t){let a=0;const n=e.score,r=t.score;for(;a<n.length&&a<r.length;){const e=Iu(n[a],r[a]);if(e)return e;a++}if(1===Math.abs(r.length-n.length)){if(Ou(n))return 1;if(Ou(r))return-1}return r.length-n.length}function Ou(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Pu={type:0,value:""},Mu=/[a-zA-Z0-9_]/;function Nu(e,t,a){const n=function(e,t){const a=nu({},Du,t),n=[];let r=a.start?"^":"";const i=[];for(const t of e){const e=t.length?[]:[90];a.strict&&!t.length&&(r+="/");for(let n=0;n<t.length;n++){const o=t[n];let s=40+(a.sensitive?.25:0);if(0===o.type)n||(r+="/"),r+=o.value.replace(Cu,"\\$&"),s+=40;else if(1===o.type){const{value:e,repeatable:a,optional:l,regexp:d}=o;i.push({name:e,repeatable:a,optional:l});const c=d||Lu;if(c!==Lu){s+=10;try{new RegExp(`(${c})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${c}): `+t.message)}}let u=a?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;n||(u=l&&t.length<2?`(?:/${u})`:"/"+u),l&&(u+="?"),r+=u,s+=20,l&&(s+=-8),a&&(s+=-20),".*"===c&&(s+=-50)}e.push(s)}n.push(e)}if(a.strict&&a.end){const e=n.length-1;n[e][n[e].length-1]+=.7000000000000001}a.strict||(r+="/?"),a.end?r+="$":a.strict&&(r+="(?:/|$)");const o=new RegExp(r,a.sensitive?"":"i");return{re:o,score:n,keys:i,parse:function(e){const t=e.match(o),a={};if(!t)return null;for(let e=1;e<t.length;e++){const n=t[e]||"",r=i[e-1];a[r.name]=n&&r.repeatable?n.split("/"):n}return a},stringify:function(t){let a="",n=!1;for(const r of e){n&&a.endsWith("/")||(a+="/"),n=!1;for(const e of r)if(0===e.type)a+=e.value;else if(1===e.type){const{value:i,repeatable:o,optional:s}=e,l=i in t?t[i]:"";if(ou(l)&&!o)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const d=ou(l)?l.join("/"):l;if(!d){if(!s)throw new Error(`Missing required param "${i}"`);r.length<2&&(a.endsWith("/")?a=a.slice(0,-1):n=!0)}a+=d}}return a||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[Pu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${a})/"${d}": ${e}`)}let a=0,n=a;const r=[];let i;function o(){i&&r.push(i),i=[]}let s,l=0,d="",c="";function u(){d&&(0===a?i.push({type:0,value:d}):1===a||2===a||3===a?(i.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:c,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),d="")}function h(){d+=s}for(;l<e.length;)if(s=e[l++],"\\"!==s||2===a)switch(a){case 0:"/"===s?(d&&u(),o()):":"===s?(u(),a=1):h();break;case 4:h(),a=n;break;case 1:"("===s?a=2:Mu.test(s)?h():(u(),a=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==c[c.length-1]?c=c.slice(0,-1)+s:a=3:c+=s;break;case 3:u(),a=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,c="";break;default:t("Unknown state")}else n=a,a=4;return 2===a&&t(`Unfinished custom RegExp for param "${d}"`),u(),o(),r}(e.path),a);const r=nu(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Bu(e,t){const a=[],n=new Map;function r(e,a,n){const s=!n,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Uu(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);l.aliasOf=n&&n.record;const d=Vu(t,e),c=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)c.push(nu({},l,{components:n?n.record.components:l.components,path:e,aliasOf:n?n.record:l}))}let u,h;for(const t of c){const{path:c}=t;if(a&&"/"!==c[0]){const e=a.record.path,n="/"===e[e.length-1]?"":"/";t.path=a.record.path+(c&&n+c)}if(u=Nu(t,a,d),n?n.alias.push(u):(h=h||u,h!==u&&h.alias.push(u),s&&e.name&&!ju(u)&&i(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],u,n&&n.children[t])}n=n||u,(u.record.components&&Object.keys(u.record.components).length||u.record.name||u.record.redirect)&&o(u)}return h?()=>{i(h)}:iu}function i(e){if(Tu(e)){const t=n.get(e);t&&(n.delete(e),a.splice(a.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=a.indexOf(e);t>-1&&(a.splice(t,1),e.record.name&&n.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function o(e){let t=0;for(;t<a.length&&Ru(e,a[t])>=0&&(e.record.path!==a[t].record.path||!Gu(e,a[t]));)t++;a.splice(t,0,e),e.record.name&&!ju(e)&&n.set(e.record.name,e)}return t=Vu({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>r(e))),{addRoute:r,resolve:function(e,t){let r,i,o,s={};if("name"in e&&e.name){if(r=n.get(e.name),!r)throw ku(1,{location:e});0,o=r.record.name,s=nu(Fu(t.params,r.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&Fu(e.params,r.keys.map((e=>e.name)))),i=r.stringify(s)}else if("path"in e)i=e.path,r=a.find((e=>e.re.test(i))),r&&(s=r.parse(i),o=r.record.name);else{if(r=t.name?n.get(t.name):a.find((e=>e.re.test(t.path))),!r)throw ku(1,{location:e,currentLocation:t});o=r.record.name,s=nu({},t.params,e.params),i=r.stringify(s)}const l=[];let d=r;for(;d;)l.unshift(d.record),d=d.parent;return{name:o,path:i,params:s,matched:l,meta:zu(l)}},removeRoute:i,getRoutes:function(){return a},getRecordMatcher:function(e){return n.get(e)}}}function Fu(e,t){const a={};for(const n of t)n in e&&(a[n]=e[n]);return a}function Uu(e){const t={},a=e.props||!1;if("component"in e)t.default=a;else for(const n in e.components)t[n]="boolean"==typeof a?a:a[n];return t}function ju(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zu(e){return e.reduce(((e,t)=>nu(e,t.meta)),{})}function Vu(e,t){const a={};for(const n in e)a[n]=n in t?t[n]:e[n];return a}function Gu(e,t){return t.children.some((t=>t===e||Gu(e,t)))}const Hu=/#/g,qu=/&/g,Ku=/\//g,Yu=/=/g,Wu=/\?/g,Xu=/\+/g,Zu=/%5B/g,Qu=/%5D/g,Ju=/%5E/g,$u=/%60/g,eh=/%7B/g,th=/%7C/g,ah=/%7D/g,nh=/%20/g;function rh(e){return encodeURI(""+e).replace(th,"|").replace(Zu,"[").replace(Qu,"]")}function ih(e){return rh(e).replace(Xu,"%2B").replace(nh,"+").replace(Hu,"%23").replace(qu,"%26").replace($u,"`").replace(eh,"{").replace(ah,"}").replace(Ju,"^")}function oh(e){return null==e?"":function(e){return rh(e).replace(Hu,"%23").replace(Wu,"%3F")}(e).replace(Ku,"%2F")}function sh(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function lh(e){const t={};if(""===e||"?"===e)return t;const a=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<a.length;++e){const n=a[e].replace(Xu," "),r=n.indexOf("="),i=sh(r<0?n:n.slice(0,r)),o=r<0?null:sh(n.slice(r+1));if(i in t){let e=t[i];ou(e)||(e=t[i]=[e]),e.push(o)}else t[i]=o}return t}function dh(e){let t="";for(let a in e){const n=e[a];if(a=ih(a).replace(Yu,"%3D"),null==n){void 0!==n&&(t+=(t.length?"&":"")+a);continue}(ou(n)?n.map((e=>e&&ih(e))):[n&&ih(n)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+a,null!=e&&(t+="="+e))}))}return t}function ch(e){const t={};for(const a in e){const n=e[a];void 0!==n&&(t[a]=ou(n)?n.map((e=>null==e?null:""+e)):null==n?n:""+n)}return t}const uh=Symbol(""),hh=Symbol(""),fh=Symbol(""),ph=Symbol(""),vh=Symbol("");function mh(){let e=[];return{add:function(t){return e.push(t),()=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)}},list:()=>e,reset:function(){e=[]}}}function gh(e,t,a,n,r){const i=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise(((o,s)=>{const l=e=>{!1===e?s(ku(4,{from:a,to:t})):e instanceof Error?s(e):!function(e){return"string"==typeof e||e&&"object"==typeof e}(e)?(i&&n.enterCallbacks[r]===i&&"function"==typeof e&&i.push(e),o()):s(ku(2,{from:t,to:e}))},d=e.call(n&&n.instances[r],t,a,l);let c=Promise.resolve(d);e.length<3&&(c=c.then(l)),c.catch((e=>s(e)))}))}function yh(e,t,a,n){const r=[];for(const o of e){0;for(const e in o.components){let s=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if("object"==typeof(i=s)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(s.__vccOpts||s)[t];i&&r.push(gh(i,a,n,o,e))}else{let i=s();0,r.push((()=>i.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const i=au(r)?r.default:r;o.components[e]=i;const s=(i.__vccOpts||i)[t];return s&&gh(s,a,n,o,e)()}))))}}}var i;return r}function bh(e){const t=xa(fh),a=xa(ph),n=ti((()=>t.resolve(At(e.to)))),r=ti((()=>{const{matched:e}=n.value,{length:t}=e,r=e[t-1],i=a.matched;if(!r||!i.length)return-1;const o=i.findIndex(du.bind(null,r));if(o>-1)return o;const s=Eh(e[t-2]);return t>1&&Eh(r)===s&&i[i.length-1].path!==s?i.findIndex(du.bind(null,e[t-2])):o})),i=ti((()=>r.value>-1&&function(e,t){for(const a in t){const n=t[a],r=e[a];if("string"==typeof n){if(n!==r)return!1}else if(!ou(r)||r.length!==n.length||n.some(((e,t)=>e!==r[t])))return!1}return!0}(a.params,n.value.params))),o=ti((()=>r.value>-1&&r.value===a.matched.length-1&&cu(a.params,n.value.params)));if(__VUE_PROD_DEVTOOLS__&&tu){const e=zr();if(e){const t={route:n.value,isActive:i.value,isExactActive:o.value};e.__vrl_devtools=e.__vrl_devtools||[],e.__vrl_devtools.push(t),ka((()=>{t.route=n.value,t.isActive=i.value,t.isExactActive=o.value}),{flush:"post"})}}return{route:n,href:ti((()=>n.value.href)),isActive:i,isExactActive:o,navigate:function(a={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(a)?t[At(e.replace)?"replace":"push"](At(e.to)).catch(iu):Promise.resolve()}}}const _h=Ga({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bh,setup(e,{slots:t}){const a=ct(bh(e)),{options:n}=xa(fh),r=ti((()=>({[Th(e.activeClass,n.linkActiveClass,"router-link-active")]:a.isActive,[Th(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive})));return()=>{const n=t.default&&t.default(a);return e.custom?n:ai("a",{"aria-current":a.isExactActive?e.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:r.value},n)}}});function Eh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Th=(e,t,a)=>null!=e?e:null!=t?t:a,wh=Ga({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:a}){const n=xa(vh),r=ti((()=>e.route||n.value)),i=xa(hh,0),o=ti((()=>{let e=At(i);const{matched:t}=r.value;let a;for(;(a=t[e])&&!a.components;)e++;return e})),s=ti((()=>r.value.matched[o.value]));Sa(hh,ti((()=>o.value+1))),Sa(uh,s),Sa(vh,r);const l=St();return La((()=>[l.value,s.value,e.name]),(([e,t,a],[n,r,i])=>{t&&(t.instances[a]=e,r&&r!==t&&e&&e===n&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&du(t,r)&&n||(t.enterCallbacks[a]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const n=r.value,i=e.name,d=s.value,c=d&&d.components[i];if(!c)return Sh(a.default,{Component:c,route:n});const u=d.props[i],h=u?!0===u?n.params:"function"==typeof u?u(n):u:null,f=ai(c,nu({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(d.instances[i]=null)},ref:l}));if(__VUE_PROD_DEVTOOLS__&&tu&&f.ref){const e={depth:o.value,name:d.name,path:d.path,meta:d.meta};(ou(f.ref)?f.ref.map((e=>e.i)):[f.ref.i]).forEach((t=>{t.__vrv_devtools=e}))}return Sh(a.default,{Component:f,route:n})||f}}});function Sh(e,t){if(!e)return null;const a=e(t);return 1===a.length?a[0]:a}const xh=wh;function kh(e,t){const a=nu({},e,{matched:e.matched.map((e=>function(e,t){const a={};for(const n in e)t.includes(n)||(a[n]=e[n]);return a}(e,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:a}}}function Ah(e){return{_custom:{display:e}}}let Lh=0;function Dh(e,t,a){if(t.__hasDevtools)return;t.__hasDevtools=!0;const n=Lh++;eu({id:"org.vuejs.router"+(n?"."+n:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},(r=>{"function"!=typeof r.now&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent(((e,a)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:kh(t.currentRoute.value,"Current Route")})})),r.on.visitComponentTree((({treeNode:e,componentInstance:t})=>{if(t.__vrv_devtools){const a=t.__vrv_devtools;e.tags.push({label:(a.name?`${a.name.toString()}: `:"")+a.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:Ih})}ou(t.__vrl_devtools)&&(t.__devtoolsApi=r,t.__vrl_devtools.forEach((t=>{let a=Ph,n="";t.isExactActive?(a=Oh,n="This is exactly active"):t.isActive&&(a=Rh,n="This link is active"),e.tags.push({label:t.route.path,textColor:0,tooltip:n,backgroundColor:a})})))})),La(t.currentRoute,(()=>{l(),r.notifyComponentUpdate(),r.sendInspectorTree(s),r.sendInspectorState(s)}));const i="router:navigations:"+n;r.addTimelineLayer({id:i,label:`Router${n?" "+n:""} Navigations`,color:4237508}),t.onError(((e,t)=>{r.addTimelineEvent({layerId:i,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:r.now(),data:{error:e},groupId:t.meta.__navigationId}})}));let o=0;t.beforeEach(((e,t)=>{const a={guard:Ah("beforeEach"),from:kh(t,"Current Location during this navigation"),to:kh(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:o++}),r.addTimelineEvent({layerId:i,event:{time:r.now(),title:"Start of navigation",subtitle:e.fullPath,data:a,groupId:e.meta.__navigationId}})})),t.afterEach(((e,t,a)=>{const n={guard:Ah("afterEach")};a?(n.failure={_custom:{type:Error,readOnly:!0,display:a?a.message:"",tooltip:"Navigation Failure",value:a}},n.status=Ah("❌")):n.status=Ah("✅"),n.from=kh(t,"Current Location during this navigation"),n.to=kh(e,"Target location"),r.addTimelineEvent({layerId:i,event:{title:"End of navigation",subtitle:e.fullPath,time:r.now(),data:n,logType:a?"warning":"default",groupId:e.meta.__navigationId}})}));const s="router-inspector:"+n;function l(){if(!d)return;const e=d;let n=a.getRoutes().filter((e=>!e.parent));n.forEach(Uh),e.filter&&(n=n.filter((t=>jh(t,e.filter.toLowerCase())))),n.forEach((e=>Fh(e,t.currentRoute.value))),e.rootNodes=n.map(Mh)}let d;r.addInspector({id:s,label:"Routes"+(n?" "+n:""),icon:"book",treeFilterPlaceholder:"Search routes"}),r.on.getInspectorTree((t=>{d=t,t.app===e&&t.inspectorId===s&&l()})),r.on.getInspectorState((t=>{if(t.app===e&&t.inspectorId===s){const e=a.getRoutes().find((e=>e.record.__vd_id===t.nodeId));e&&(t.state={options:Ch(e)})}})),r.sendInspectorTree(s),r.sendInspectorState(s)}))}function Ch(e){const{record:t}=e,a=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&a.push({editable:!1,key:"name",value:t.name}),a.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&a.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`)).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&a.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&a.push({editable:!1,key:"aliases",value:e.alias.map((e=>e.record.path))}),Object.keys(e.record.meta).length&&a.push({editable:!1,key:"meta",value:e.record.meta}),a.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((e=>e.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),a}const Ih=15485081,Rh=2450411,Oh=8702998,Ph=16486972;function Mh(e){const t=[],{record:a}=e;null!=a.name&&t.push({label:String(a.name),textColor:0,backgroundColor:2282478}),a.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:Ph}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:Ih}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:Oh}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:Rh}),a.redirect&&t.push({label:"string"==typeof a.redirect?`redirect: ${a.redirect}`:"redirects",textColor:16777215,backgroundColor:6710886});let n=a.__vd_id;return null==n&&(n=String(Nh++),a.__vd_id=n),{id:n,label:a.path,tags:t,children:e.children.map(Mh)}}let Nh=0;const Bh=/^\/(.*)\/([a-z]*)$/;function Fh(e,t){const a=t.matched.length&&du(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=a,a||(e.__vd_active=t.matched.some((t=>du(t,e.record)))),e.children.forEach((e=>Fh(e,t)))}function Uh(e){e.__vd_match=!1,e.children.forEach(Uh)}function jh(e,t){const a=String(e.re).match(Bh);if(e.__vd_match=!1,!a||a.length<3)return!1;if(new RegExp(a[1].replace(/\$$/,""),a[2]).test(t))return e.children.forEach((e=>jh(e,t))),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const n=e.record.path.toLowerCase(),r=sh(n);return!(t.startsWith("/")||!r.includes(t)&&!n.includes(t))||(!(!r.startsWith(t)&&!n.startsWith(t))||(!(!e.record.name||!String(e.record.name).includes(t))||e.children.some((e=>jh(e,t)))))}function zh(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}const Vh={id:"option-home"};const Gh={id:"video-player-home"};const Hh={style:{display:"flex","align-items":"center"}},qh=["src"],Kh={style:{margin:"0 5px"}},Yh=kr("div",{class:"video-player-tools"},[Ir(' <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="down" />下载</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="back-top" />上传</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="tv-o" />投屏</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="setting-o" />工具</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="fire-o" />解析</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="records" />笔记</van-button> ')],-1);const Wh={name:"Header",components:{},data:()=>({logo_path:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA3lBMVEUAAAD//yL//yD//yL//yL//x7/9Bz/9Bz//yH//yL/9Bz/9Bz//yH//yD85hr/9Bz//yL//x7//yD//yH/9Bz//yD//yL/9Bz/9Bz//yL//yD/9Bz//yH//x7/9Bz//x7//yD//yL//yL/9Bz/9Bz//yH//xz/9Bz//x7//yD//yLsdjfhgy7//xz//yL/qTP/kyvsdjf/mzD/oTH/ky3/mzD85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr/7Bn///9z8lvjAAAANnRSTlMAFhoAJcb/2k4G2/1ZSP/mBF8sM8goI/LZAoXnM5zXZlQLE9f5RYzjo5EvD+CWHimDDqkwHBh2QuA1AAAAAWJLR0RJhwXkfAAAAIBJREFUGNNjYMAJGJmYkbksrGxm7BwIPieXuYWlFTcPXIDX2tLGhs+SXwAmIGhrAwJ2QlC+sIg9WMBBFMIXE3e0BAtISEIEpJyAfGcXF2kZqA5ZV6CsnLyCIpSvpOzm7K6iinCEmoe6hqYWgq+to6uH7Gh9A0NUTxkZo/JNTFH5AKODEJwJddfwAAAAAElFTkSuQmCC",pageTitle:"时空葫芦播放器"}),computed:{},mounted(){document.title=this.pageTitle},unmounted(){},created(){},methods:{}},Xh=(0,Kc.Z)(Wh,[["render",function(e,t,a,n,r,i){const o=vn("van-row");return pr(),_r(o,{class:"height-top"},{default:ma((()=>[kr("div",Hh,[kr("img",{src:r.logo_path,style:{width:"18px",height:"18px"}},null,8,qh),kr("span",Kh,y(r.pageTitle),1)]),Yh])),_:1})}]]),Zh={style:{display:"flex","margin-bottom":"5px"}},Qh={style:{flex:"10"}},Jh=["onClick"],$h={class:"live-span"},ef={key:0,class:"live-text"},tf={key:0,class:"top-bar-tools"},af={key:0},nf={key:1},rf=["onClick"],of=["onClick","onMouseover"],sf=["src","scrolling","onClick","onMouseover"],lf={class:"video-categories-title"},df={class:"video-categories"},cf=["title","onClick"],uf={class:"van-ellipsis"},hf={key:0},ff=["onClick"],pf={class:"video-play-list"},vf=["title"],mf=["title"],gf=["title","onClick"],yf={class:"video-bottom-tools"};var bf=a(7631),_f=a.n(bf),Ef=a(510),Tf=a.n(Ef),wf=a(7745),Sf=a.n(wf);class xf{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}uint8ArrayToUint32Array_(e){let t=new DataView(e),a=new Uint32Array(4);for(let e=0;e<4;e++)a[e]=t.getUint32(4*e);return a}initTable(){let e=this.sBox,t=this.invSBox,a=this.subMix,n=a[0],r=a[1],i=a[2],o=a[3],s=this.invSubMix,l=s[0],d=s[1],c=s[2],u=s[3],h=new Uint32Array(256),f=0,p=0,v=0;for(v=0;v<256;v++)h[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){let a=p^p<<1^p<<2^p<<3^p<<4;a=a>>>8^255&a^99,e[f]=a,t[a]=f;let s=h[f],v=h[s],m=h[v],g=257*h[a]^16843008*a;n[f]=g<<24|g>>>8,r[f]=g<<16|g>>>16,i[f]=g<<8|g>>>24,o[f]=g,g=16843009*m^65537*v^257*s^16843008*f,l[a]=g<<24|g>>>8,d[a]=g<<16|g>>>16,c[a]=g<<8|g>>>24,u[a]=g,f?(f=s^h[h[h[m^s]]],p^=h[h[p]]):f=p=1}}expandKey(e){let t=this.uint8ArrayToUint32Array_(e),a=!0,n=0;for(;n<t.length&&a;)a=t[n]===this.key[n],n++;if(a)return;this.key=t;let r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);let i,o,s,l,d=this.ksRows=4*(r+6+1),c=this.keySchedule=new Uint32Array(d),u=this.invKeySchedule=new Uint32Array(d),h=this.sBox,f=this.rcon,p=this.invSubMix,v=p[0],m=p[1],g=p[2],y=p[3];for(i=0;i<d;i++)i<r?s=c[i]=t[i]:(l=s,i%r==0?(l=l<<8|l>>>24,l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l],l^=f[i/r|0]<<24):r>6&&i%r==4&&(l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l]),c[i]=s=(c[i-r]^l)>>>0);for(o=0;o<d;o++)i=d-o,l=3&o?c[i]:c[i-4],u[o]=o<4||i<=4?l:v[h[l>>>24]]^m[h[l>>>16&255]]^g[h[l>>>8&255]]^y[h[255&l]],u[o]=u[o]>>>0}networkToHostOrderSwap(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}decrypt(e,t,a,n){let r,i,o,s,l,d,c,u,h,f,p,v,m,g,y=this.keySize+6,b=this.invKeySchedule,_=this.invSBox,E=this.invSubMix,T=E[0],w=E[1],S=E[2],x=E[3],k=this.uint8ArrayToUint32Array_(a),A=k[0],L=k[1],D=k[2],C=k[3],I=new Int32Array(e),R=new Int32Array(I.length),O=this.networkToHostOrderSwap;for(;t<I.length;){for(h=O(I[t]),f=O(I[t+1]),p=O(I[t+2]),v=O(I[t+3]),l=h^b[0],d=v^b[1],c=p^b[2],u=f^b[3],m=4,g=1;g<y;g++)r=T[l>>>24]^w[d>>16&255]^S[c>>8&255]^x[255&u]^b[m],i=T[d>>>24]^w[c>>16&255]^S[u>>8&255]^x[255&l]^b[m+1],o=T[c>>>24]^w[u>>16&255]^S[l>>8&255]^x[255&d]^b[m+2],s=T[u>>>24]^w[l>>16&255]^S[d>>8&255]^x[255&c]^b[m+3],l=r,d=i,c=o,u=s,m+=4;r=_[l>>>24]<<24^_[d>>16&255]<<16^_[c>>8&255]<<8^_[255&u]^b[m],i=_[d>>>24]<<24^_[c>>16&255]<<16^_[u>>8&255]<<8^_[255&l]^b[m+1],o=_[c>>>24]<<24^_[u>>16&255]<<16^_[l>>8&255]<<8^_[255&d]^b[m+2],s=_[u>>>24]<<24^_[l>>16&255]<<16^_[d>>8&255]<<8^_[255&c]^b[m+3],m+=3,R[t]=O(r^A),R[t+1]=O(s^L),R[t+2]=O(o^D),R[t+3]=O(i^C),A=h,L=f,D=p,C=v,t+=4}return n?this.removePadding(R.buffer):R.buffer}destroy(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}removePadding(e){const t=e.byteLength,a=t&&new DataView(e).getUint8(t-1);return a?e.slice(0,t-a):e}}const kf=console.log;function Af(e,t){if(e="number"==typeof e?e:e instanceof Date?e.getTime():parseInt(e),isNaN(e))return null;"string"==typeof t&&t||(t="yyyy-MM-dd hh:mm:ss");let a=new Date(e);(e=a.toString().split(/[\s\:]/g).slice(0,-2))[1]=["01","02","03","04","05","06","07","08","09","10","11","12"][a.getMonth()];let n={MM:1,dd:2,yyyy:3,hh:4,mm:5,ss:6};return t.replace(/([Mmdhs]|y{2})\1/g,(t=>e[n[t]]))}function Lf(e){if(!e)return"";const t=parseInt(e/3600),a=parseInt(e/60%60),n=Math.ceil(e%60),r=t<10?"0"+t:t,i=n>59?59:n;return`${r>0?`${r}:`:""}${a<10?"0"+a:a}:${i<10?"0"+i:i}`}function Df(e){let t=e.split("?")[0].split("/"),a=t[t.length-1]||t[t.length-2]||t[1]||"<url>",n=a?a.split("."):[],r="";try{n.length>1&&(r=n[n.length-1].toLowerCase())}catch(e){}return{filename:a,fileExt:r}}async function Cf(e){const t=(await If({url:e})).response.match(/<title>([\S\s]*?)<\/title>/);return null!=t?t[1]:""}async function If(e){var{xhr:t=new XMLHttpRequest,method:a="GET",url:n="",async:r=!0,responseType:i="",body:o=null,username:s=null,password:l=null,done:d=null,error:c=null,progress:u=null}=e;return console.log("xhrSend: ",{config:e}),new Promise(((h,f)=>{t.responseType=i||"",t.open(a,n,r,s,l),t.onload=function(){4===t.readyState&&(200===t.status?(d&&d({xhr:t,response:this.response}),h(t)):(console.error("ERROR",t.statusText),c&&c(t),f(t)))},t.onerror=function(){console.log("ERROR",t.status,t,e),c&&c(t),f(t)},t.onprogress=function(e){u&&u({xhr:t,event:e}),u&&h(t)},t.send(o)}))}function Rf(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var a=0;a<e.attributes.length;a++){var n=e.attributes.item(a);t["@attributes"][n.nodeName]=n.nodeValue}}}else(3==e.nodeType||4==e.nodeType)&&(t=e.nodeValue);if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes.item(r),o=i.nodeName;if(void 0===t[o])t[o]=Rf(i);else{if(void 0===t[o].length){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(Rf(i))}}return t}class Of{constructor(e){this.m3u8Data={url:"",host:window.location.href,filename:Af(new Date),fileExt:"mp4",fileArrayBuffer:[],fileInfo:{type:"Media",version:3,allowCache:!0,hasEndListTag:!1,targetDuration:null,mediaSequence:null,key:"",mediaList:[],masterList:[],groupList:{},duration:0},downloader:{count:0,completed:0,cursor:0,total:0,parallel:15,byteLength:0},onprogress:null,ondone:null,...e}}init(){const e=this.m3u8Data?.url;e&&this.loadM3U8(e)}getHost(e){let t=e.split("/");return`${t[0]}//${t[2]}`}async loadM3U8(e){let t=e.match(/(m3u|m3u8)/gi);this.m3u8Data.host=this.getHost(e),console.log("m3u8文件开始解析: ",{m3u8Data:this.m3u8Data,m3u8:t});var a=await this.xhrSend({url:e,responseType:t?"":"arraybuffer",progress:function(e){console.log("~~loadM3U8:progress",e)}});return t&&-1!=["200","0"].indexOf(`${a.status}`)?this.parse(a.responseText):t?void 0:(this.m3u8Data={...this.m3u8Data,fileArrayBuffer:[a.response]},this.saveToMP4(),{error:"请输入正确的m3u8文件地址."})}async parse(e){const t=this;if(e.split("\n").forEach(((e,a,n)=>{if(0==a&&"#EXTM3U"!=e)return{error:"这不是标准m3u8文件。"};var r={info:t.m3u8Data.fileInfo,value:e,index:a,arr:n};this.parse_x(r,"#EXT-X-VERSION:","version"),this.parse_x(r,"#EXT-X-ALLOW-CACHE:","allowCache"),this.parse_x(r,"#EXT-X-TARGETDURATION:","targetDuration"),this.parse_x(r,"#EXT-X-MEDIA-SEQUENCE:","mediaSequence"),this.parse_x_key(r),this.parse_x_stream_inf(r),this.parse_inf(r),this.parse_x(r,"#EXT-X-ENDLIST:","hasEndListTag",!0)})),t.m3u8Data.fileInfo.key){let e=await this.require_x_key(t.m3u8Data.fileInfo.key),a=e;console.log("查看code,key",{code:a,key:e,type:e instanceof Uint8Array}),t.m3u8Data.fileInfo.key.code=a,t.m3u8Data.fileInfo.key.decryptor=new xf,t.m3u8Data.fileInfo.key.decryptor.expandKey(a)}return t.m3u8Data.downloader.total=t.m3u8Data.fileInfo.mediaList.length,console.log("m3u8文件解析完成: ",t.m3u8Data),t.m3u8Data.isDownload&&this.download(),t.m3u8Data}parse_full_url(e){if(-1!=e.toLowerCase().indexOf("http"))return e;if(this.m3u8Data.url){let t=this.m3u8Data.url.split("/");return"/"===e[0]?`${t[0]}//${t[2]}${e}`:(t.pop(),`${t.join("/")}/${e}`)}return e}parse_str_to_obj(e){var t=e.split(","),a={};return t.length>0&&t.forEach((e=>{try{let[t,...n]=e.split("=");a[t.toLowerCase().trim()]=n.join("=").replace(/\"/gi,"")}catch(e){console.log(e)}})),a}parse_x(e,t,a,n=null){let r=e.value.split(t);r.length>1&&(e.info[a]=n||parseFloat(r[1].match(/[0-9.]+/gi))||r[1]||0)}parse_x_key(e){let t=e.value.split("#EXT-X-KEY:");if(t.length>1){let a=this.parse_str_to_obj(t[1]);a.vi=a.vi?(new TextEncoder).encode(a.vi):"",e.info.key={...a}}}async require_x_key(e){var t={url:this.parse_full_url(e.uri),responseType:"arraybuffer"};return(await this.xhrSend(t)).response}parse_x_stream_inf(e){let t=e.value.split("#EXT-X-STREAM-INF:");if(t.length>1){e.info.type="Master";let a=e.arr[e.index+1],n=this.parse_full_url(a),r=this.parse_str_to_obj(t[1]);e.info.masterList.push({...r,src:a,url:n})}}parse_inf(e){let t=e.value.split("#EXTINF:");if(t.length>1){e.info.type="Media";let[a,...n]=t[1].split(","),r=a.split(" "),i=r.shift(),o={};r&&r.length>0&&(o=this.parse_str_to_obj(r.join(",")));let s=parseFloat(i.match(/[-0-9.]+/gi))||0,l=e.arr[e.index+1],d=this.parse_full_url(l);if(e.info.duration+=s,d.match(/\.(m3u|m3u8)/gi)?(e.info.type="Master",e.info.masterList.push({duration:s,src:l,url:d,title:n.join(""),...o})):e.info.mediaList.push({duration:s,src:l,url:d,title:n.join("")}),e.info.groupList[o["group-title"]]||(e.info.groupList[o["group-title"]]=[]),o&&o["group-title"]){e.info.groupList[o["group-title"]].push({duration:s,src:l,url:d,title:n.join(""),...o})}}}download(){let{total:e,cursor:t,parallel:a}=this.m3u8Data.downloader;if(this.m3u8Data?.fileInfo?.mediaList){this.m3u8Data.downloader.count=0;for(let n=0;n<a&&!(t>=e);n++){this.m3u8Data.downloader.cursor++;const e=this.m3u8Data.downloader.cursor-1,t=this.m3u8Data.fileInfo.mediaList[e]||null;t&&this.downloadTSFile(t,e)}}}downloadTSFile(e,t){const{url:a}=e;this.xhrFile({url:a,progress:a=>{this.progressTSFile(a,e,t)},error:a=>{console.log("下载报错：",{index:t,item:e,err:a}),this.downloadTSFile(e,t)},done:e=>{this.handleTSFile(e,t)}})}progressTSFile(e,t,a){this.m3u8Data.onprogress&&this.m3u8Data.onprogress({index:a,item:t,data:e,downloader:this.m3u8Data.downloader})}async xhrFile(e){return(await this.xhrSend({...e,responseType:"arraybuffer"})).response}async xhrSend(e){var{xhr:t=new XMLHttpRequest,method:a="GET",url:n="",async:r=!0,responseType:i="",body:o=null,username:s=null,password:l=null,done:d=null,error:c=null,progress:u=null}=e;return console.log("xhrSend: ",{xhrSend:e,m3u8Data:this.m3u8Data}),new Promise(((h,f)=>{t.responseType=i||"",t.open(a,n,r,s,l),t.onload=function(){4===t.readyState&&(200===t.status?(d&&d({xhr:t,response:this.response}),h(t)):(console.error("ERROR",t.statusText),c&&c(t),f(t)))},t.onerror=function(){console.log("ERROR",t.status,e),c&&c(t),f(t)},t.onprogress=function(e){u&&u({xhr:t,event:e})},t.send(o)}))}downloadTracker(e){++this.m3u8Data.downloader.count,++this.m3u8Data.downloader.completed,this.m3u8Data.downloader.byteLength+=e;const{count:t,cursor:a,completed:n,parallel:r,total:i}=this.m3u8Data.downloader;return console.log(`完成当前${a}下载任务`,this.m3u8Data.downloader),i==n?(console.log("全部下载完成!",[t,n,i,r,e]),this.saveToMP4()):t==r?(console.log("并行量下载任务完成",[t,n,i,r,e]),this.download()):void 0}handleTSFile(e,t){const a=this;console.log("已下载文件:",{index:t,file:e,m3u8Data:a.m3u8Data});let n=e.response.byteLength,r=e.response,i=r,o=a.m3u8Data.fileInfo.key||"",s=a.m3u8Data.fileExt||"";if(console.log("handleTSFile:",{byteLength:n,fileArrayBuffer:r,fileDecoded:i,key:o,fileExt:s}),o){let e=o.iv||new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t]);try{i=o.decryptor.decrypt(r,0,e.buffer||e,!0)}catch(e){return console.log("Key:error",{key:o,error:e}),a.m3u8Data.fileArrayBuffer[t]=i,void a.downloadTracker(n)}}if("mp4"!=s)return a.m3u8Data.fileArrayBuffer[t]=i,void a.downloadTracker(n);a.tsToMp4(i,(function(e){a.m3u8Data.fileArrayBuffer[t]=e,a.downloadTracker(n)}))}tsToMp4(e,t=null){var a=new(Sf().Transmuxer)({keepOriginalTimestamps:!0,duration:this.m3u8Data.duration||1});a.on("data",(function(e){let a=new Uint8Array(e.initSegment.byteLength+e.data.byteLength);a.set(e.initSegment,0),a.set(e.data,e.initSegment.byteLength),t&&t(a)})),a.push(new Uint8Array(e)),a.flush()}saveToMP4(){if(0==this.m3u8Data.fileArrayBuffer.length)return console.log("下载媒体流为空!"),{error:"下载媒体流为空!"};var e=Af(new Date),{filename:t,fileExt:a}=this.m3u8Data,n=document.title,r=-1!=["mp4","m3u8"].indexOf(a)?"video/mp4":"video/MP2T",i=-1!=["mp4","m3u8"].indexOf(a)?"mp4":"ts";let o=new Blob(this.m3u8Data.fileArrayBuffer,{contentType:r}),s=document.createElement("a");s.download=`${n}_${t}_${e}.${i}`,s.href=URL.createObjectURL(o),s.style.display="none",document.body.appendChild(s),s.click(),s.remove(),this.m3u8Data.ondone&&this.m3u8Data.ondone()}}var Pf=[],Mf=!1;class Nf{constructor(e,t,a,n="mp4",r=null){this.videoDOM=e,this.videoPlayerInstance=t,this.errorCallback=r,this.url=a,this.fileExt=n,this.recordDuration=0,this.recordChunks=[],this.mediaRcorder=null,this.init()}init(){if(this.url&&this.videoDOM){switch(this.fileExt.toLowerCase()){case"xs":case"ts":case"m4s":case"m3u":case"m3u8":this.createVideoHls(this.url);break;case"f4v":case"flv":this.createVideoFlv(this.url);break;default:this.videoDOM.src=this.url,this.videoDOM.play()}kf("VideoPlayer:init",{fileExt:this.fileExt,v:this.videoDOM,p:this.videoPlayerInstance,url:this.url}),this.onVideoEvents()}}getInstance(){return this.videoPlayerInstance}getNetworkState(){return[{NETWORK_EMPTY:"音频/视频尚未初始化"},{NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络"},{NETWORK_LOADING:"浏览器正在下载数据"},{NETWORK_NO_SOURCE:"未找到音频/视频来源"}][this.videoDOM?.networkState||0]}clearRecord(){this.recordChunks=[],Mf=!1}startRecord(){this.recordChunks=[],Mf=!0}stopRecord(){Mf=!1,this.downloadRecord()}playRecord(){const e=new Blob([...this.recordChunks],{type:"video/MP2T"}),t=URL.createObjectURL(e);this.videoDOM.src=t;let a=Af(new Date,"yyyy_MM_dd-hh_mm_ss");this.videoDOM.title=document.title+a}downloadRecord(){console.log("~downloadRecord",this.recordChunks);let e=new Blob(Pf,{type:"video/MP2T"}),t=Af(new Date,"yyyy_MM_dd-hh_mm_ss"),a=document.title,n=document.createElement("a");n.download=`${a}_${t}.mp4`,n.href=URL.createObjectURL(e),n.style.display="none",document.body.appendChild(n),n.click(),n.remove()}onVideoEvents(){const e=this,t={loadstart:function(e){},durationchange:function(e){},loadedmetadata:function(e){},loadeddata:function(e){},progress:function(e){},play:function(e){},playing:function(e){},canplay:function(e){},canplaythrough:function(e){},abort:function(e){},error:function(e){},stalled:function(e){},pause:function(e){},ended:function(e){},timeupdate:function(e){},suspend:function(e){},seeked:function(e){},seeking:function(e){}};for(const e of Object.keys(t)){const a=t[e];this.videoDOM.addEventListener(e,a)}try{e.mediaRcorder=new MediaRecorder(e.videoDOM.captureStream()),kf("new mediaRcorder,录制视频!",e.mediaRcorder),e.mediaRcorder.ondataavailable=function(t){if(e.isRecord){++e.recordDuration;var a=t.data;e.recordChunks.push(a),kf("视频事件:ondataavailable,录制视频!",e.recordDuration,a)}}}catch(e){}}destroyVideo(){try{this.videoDOM.pause()}catch(e){}try{this.videoPlayerInstance&&this.videoPlayerInstance.unload()}catch(e){}try{this.videoPlayerInstance&&this.videoPlayerInstance.detachMediaElement()}catch(e){}try{this.videoPlayerInstance&&this.videoPlayerInstance.destroy()}catch(e){}this.videoPlayerInstance=null}createVideoHls(e){if(this.destroyVideo(),_f().isSupported()){const t={fLoader:Bf,maxBufferLength:30,maxMaxBufferLength:600,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.5,highBufferWatchdogPeriod:2,fetchSetup:function(e,t){return t.credentials="include",new Request(e.url,t)},xhrSetup:function(e,t){},licenseXhrSetup:function(e,t){}};this.videoPlayerInstance=new(_f())(t),this.videoPlayerInstance.loadSource(e),this.videoPlayerInstance.attachMedia(this.videoDOM),this.onHlsEvents()}}onHlsEvents(){const e=this,t={MANIFEST_LOADING:function(e,t){},MANIFEST_LOADED:function(e,t){},MANIFEST_PARSED:function(e,t){},LEVEL_LOADING:function(e,t){},LEVEL_LOADED:function(e,t){},FRAG_LOADING:function(e,t){},FRAG_LOADED:function(e,t){},FRAG_BUFFERED:function(e,t){},FRAG_DECRYPTED:function(e,t){},FPS_DROP:function(e,t){},BUFFER_APPENDED:function(e,t){},BUFFER_APPENDING:function(e,t){},BUFFER_CREATED:function(e,t){},FRAG_CHANGED:function(e,t){},ERROR:function(t,a){e.errorCallback&&e.errorCallback(t,a)}};for(const e of Object.keys(t))this.videoPlayerInstance.on(_f().Events[e],t[e])}createVideoFlv(e){this.destroyVideo(),Tf().isSupported()&&(this.videoPlayerInstance=Tf().createPlayer({type:"flv",isLive:!0,url:e,withCredentials:!1,cors:!0},{lazyLoad:!1,enableWorker:!1,enableStashBuffer:!1,reuseRedirectedURL:!0,autoCleanupSourceBuffer:!0}),this.videoPlayerInstance.attachMediaElement(this.videoDOM),this.videoPlayerInstance.load(),this.videoPlayerInstance.play())}}class Bf extends _f().DefaultConfig.loader{constructor(e){super(e);var t=this.load.bind(this),a=new Of;this.load=function(e,n,r){e.progressData=!0;var i=r.onSuccess;r.onSuccess=function(e,t,n){const r=n.url||"";Mf&&a.xhrSend({url:r,responseType:"arraybuffer",done:e=>{Pf.push(e.response)}}),i(e,t,n)},t(e,n,r)}}}const Ff=[{group:"央视频道",channel:{CCTV13新闻:[{name:"线路1",value:"https://live-play.cctvnews.cctv.com/cctv/merge_cctv13_mud.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv13_2.m3u8"}],CCTV1综合:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv1_2/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv1_2.m3u8"}],CCTV2财经:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv2_2/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv2_2.m3u8"}],CCTV3综艺:[{name:"线路1",value:"https://tvplay.sxyssj.com/live/CZliveCCTV3.m3u8?txSecret=20afab3b4da84a0c71ad909c1b052b18&txTime=63eadead"},{name:"线路2",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225647/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv3_2.m3u8"}],CCTV4国际:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225621/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv4_2.m3u8"}],CCTV5体育:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv5_2/index.m3u8"},{name:"线路2",value:"https://node1.olelive.com:6443/live/CCTV5HD/hls.m3u8"},{name:"线路3",value:"http://icvplay.zonekey.com.cn/live/35b1420d208c75932899beca05952b20.flv"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv5_2.m3u8"}],"CCTV5+HD体育":[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv5plus_2/index.m3u8"},{name:"线路2",value:"http://icvplay.zonekey.com.cn/live/35b1420d208c75932899beca05952b20.flv"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv5plus_2.m3u8"}],CCTV6电影:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225650/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv6_2.m3u8"}],CCTV7国防军事:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225650/index.m3u8"},{name:"线路2",value:"https://tvplay.sxyssj.com/live/CZliveCCTV7.m3u8?txSecret=ca07b3d9b883cbce84afbb13620884d6&txTime=63eadcb7"},{name:"线路3",value:"http://39.134.66.66/PLTV/88888888/224/3221225671/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv7_2.m3u8"}],CCTV8电视剧:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225635/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv8_2.m3u8"}],CCTV9纪录:[{name:"线路1",value:"https://tvplay.sxyssj.com/live/CZliveCCTV9.m3u8?txSecret=0eb066472cd4b20c01e23b6352254407&txTime=63eadf24"},{name:"线路2",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225646/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv9_2.m3u8"}],CCTV10科教:[{name:"线路1",value:"https://tvplay.sxyssj.com/live/CZlivetimeCCTV10.m3u8?txSecret=80b50118faa789a765fbe87bc586f850&txTime=63eadc9b"},{name:"线路2",value:"http://39.134.66.66/PLTV/88888888/224/3221225677/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv10_2.m3u8"}],CCTV11戏曲:[{name:"线路1",value:"http://39.135.138.59:18890/PLTV/88888910/224/3221225628/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv11_2.m3u8"}],CCTV12社会法制:[{name:"线路1",value:"http://39.134.66.66/PLTV/88888888/224/3221225669/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv12_2.m3u8"}],CCTV14少儿:[{name:"线路1",value:"https://tvplay.sxyssj.com/live/CZliveCCTV14.m3u8?txSecret=b3bf7e03fc987aa95048698607859231&txTime=63eade0b"},{name:"线路2",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225639/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv14_2.m3u8"}],CCTV15音乐:[{name:"线路1",value:"http://116.199.5.52:8114/00000000/index.m3u8?Fsv_CMSID=&Fsv_SV_PARAM1=0&Fsv_ShiftEnable=0&Fsv_ShiftTsp=0&Fsv_chan_hls_se_idx=54&Fsv_cid=0&Fsv_ctype=LIVES&Fsv_ctype=LIVES&Fsv_filetype=1&Fsv_otype=1&Fsv_otype=1&Fsv_rate_id=0&FvSeid=5abd1660af1babb4&Pcontent_id=&Provider_id="},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv15_2.m3u8"}],CCTV16奥林匹克:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv16_2/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv16_2.m3u8"}],CCTV17农业:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv17_2/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv17_2.m3u8"}]}},{group:"中央人民广播电台",channel:{中国之声:[{name:"线路1",value:"https://ngcdn001.cnr.cn/live/zgzs/index.m3u8"}],经济之声:[{name:"线路1",value:"https://ngcdn002.cnr.cn/live/jjzs/index.m3u8"}],音乐之声:[{name:"线路1",value:"https://ngcdn003.cnr.cn/live/yyzs/index.m3u8"}],经典音乐:[{name:"线路1",value:"https://ngcdn004.cnr.cn/live/dszs/index.m3u8"}],台海之声:[{name:"线路1",value:"https://ngcdn005.cnr.cn/live/zhzs/index.m3u8"}],神州之声:[{name:"线路1",value:"https://ngcdn006.cnr.cn/live/szzs/index.m3u8"}],大湾区之声:[{name:"线路1",value:"https://ngcdn007.cnr.cn/live/hxzs/index.m3u8"}],香港之声:[{name:"线路1",value:"https://ngcdn008.cnr.cn/live/xgzs/index.m3u8"}],民族之声:[{name:"线路1",value:"https://ngcdn009.cnr.cn/live/mzzs/index.m3u8"}],文艺之声:[{name:"线路1",value:"https://ngcdn010.cnr.cn/live/wyzs/index.m3u8"}],老年之声:[{name:"线路1",value:"https://ngcdn011.cnr.cn/live/lnzs/index.m3u8"}],戏曲之声:[{name:"线路1",value:"https://ngcdn017.cnr.cn/live/xczs/index.m3u8"}],乡村之声:[{name:"线路1",value:"https://ngcdn017.cnr.cn/live/xczs/index.m3u8"}],阅读之声:[{name:"线路1",value:"https://ngcdn014.cnr.cn/live/ylgb/index.m3u8"}],交通广播:[{name:"线路1",value:"https://ngcdn016.cnr.cn/live/gsgljtgb/index.m3u8"}],海南之声:[{name:"线路1",value:"https://cnlive.cnr.cn/hls/nanhaizhisheng.m3u8"}],国际流行音乐:[{name:"线路1",value:"https://sk.cri.cn/915.m3u8"}],环球资讯:[{name:"线路1",value:"https://cnlive.cnr.cn/hls/huanqiuzixunguangbo.m3u8"}],HITFM:[{name:"线路1",value:"https://cnlive.cnr.cn/hls/HITFM.m3u8"}],藏语:[{name:"线路1",value:"https://ngcdn012.cnr.cn/live/zygb/index.m3u8"}],维吾尔语:[{name:"线路1",value:"https://ngcdn013.cnr.cn/live/wygb/index.m3u8"}],哈萨克语:[{name:"线路1",value:"https://ngcdn025.cnr.cn/live/hygb/index.m3u8"}]}},{group:"CGTN",channel:{CETV1综合:[{name:"线路1",value:"http://txycsbl.centv.cn/zb/0628cetv1.m3u8"}],CETV2继续教育:[{name:"线路1",value:"http://txycsbl.centv.cn/zb/0822cetv2.m3u8"}],CETV3人文纪录:[{name:"线路1",value:"http://txycsbl.centv.cn/zb/0822cetv3.m3u8"}],CETV4空中课堂:[{name:"线路1",value:"http://txycsbl.centv.cn/zb/0822cetv4.m3u8"}],"CGTN.NEWS":[{name:"线路1",value:"https://news.cgtn.com/resource/live/english/cgtn-news.m3u8"}],"CGTN.DOC":[{name:"线路1",value:"https://livedoc.cgtn.com/1000d/prog_index.m3u8"}],CGTN俄语:[{name:"线路1",value:"http://news.cgtn.com/resource/live/russian/cgtn-r.m3u8"}],CGTN法语:[{name:"线路1",value:"https://livefr.cgtn.com/1000f/prog_index.m3u8"}],CGTN阿语:[{name:"线路1",value:"https://livear.cgtn.com/1000a/prog_index.m3u8"}],CGTN西班牙:[{name:"线路1",value:"https://livees.cgtn.com/1000e/prog_index.m3u8"}]}},{group:"地方频道",channel:{北京卫视:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s1/index.m3u8?time=1676317045&sign=93f8dc0a1ab0e99fd825c7d5ae499d3c"}],北京纪实科教频道:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s3/index.m3u8?time=1676317042&sign=78d9a81f828d14613db20f9fd5a33bf9"}],北京卡酷少儿卫视:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s10/index.m3u8?time=1676317155&sign=10f78e442f6dbdcdb8a9ea42c9b56675"}],北京新闻频道:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s9/index.m3u8?time=1676317294&sign=abd7cadb0c51cc7f9cf3cccdcd03ae94"}],北京财经频道:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s5/index.m3u8?time=1676317294&sign=4307cdd91593896119e45a3a49ff392e"}],北京文艺频道:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s2/index.m3u8?time=1676317301&sign=9224466a457700293af339b7798d52de"}],北京影视频道:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s4/index.m3u8?time=1676317302&sign=197b0fa56fce64c82ccd952347a1705b"}],北京生活频道:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s7/index.m3u8?time=1676317153&sign=e77f90a6b5c041781f8ccfd3b6bbe5a1"}],中国交通北京频道:[{name:"线路1",value:"https://tv.lanjingfm.com/cctbn/heibei.m3u8"}],浙江卫视:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel01/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=6df39222f74eb12d899322a51e25f672&t=1670254786"}],钱江都市:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel02/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=0616e508d41d39782aa42641910f716e&t=1670254876"}],浙江经济生活:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel03/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=b1776013e8cb06dd962cb2d7c7076eee&t=1670254989"}],浙江教科影视:[{name:"线路1",value:"http://ali-vl.cztv.com/channels/lantian/channel04/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=1047928b74abc3f8ea503afaf9b27870&t=1670255051"}],浙江民生休闲:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel06/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=5da5883eac7e1c203b764975705411f1&t=1670255113"}],浙江新闻:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel07/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=70cb4362715f246668bc30b5280c4f37&t=1670255170"}],浙江少儿频道:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel08/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=0d04eeba5ac82e2dfb77eaa21adfe635&t=1670255206"}],广西卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225731/index.m3u8"}],南宁新闻综合:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_NEWS_A.m3u8"}],南宁都市生活:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_METRO_A.m3u8"}],南宁影视娱乐:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_VOD_A.m3u8"}],南宁公共:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_PUB_A.m3u8"}],南宁马山电视台:[{name:"线路1",value:"https://hls.nntv.cn/nnlive/MSTV_A.m3u8"}],南宁上林电视台:[{name:"线路1",value:"https://hls.nntv.cn/nnlive/SLTV_A.m3u8"}],南宁老友直播:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_LYOU.m3u8"}],东方卫视:[{name:"线路1",value:"https://livemixer1.kksmg.com/tvlive/dfws/d32b1f63-26ff-48be-87db-96224974c2d2.m3u8?se=kankan&ct=7&_mode=1&_cp=1&_fk=3B1AE6D9E04BAD7510E83FC4465F597C761C70DBD0E9D561C7F364B1F44A20E5&ts=1672248125&rand=3a0ef8e50c7272075f7c36f63fe77218"}],深圳卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225741/index.m3u8"}],湖南经视:[{name:"线路1",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTg4MzRjYTI1ODQ4YzY0NGQ0ZTA4ZjExZGNkNzdjMjc3JmVzPTE2NzAyODI1OTEmdXVpZD1iNjY3ZDRiNmFhMzE3ZTIzMDk0NDg1NzIwZjlmYWE5Yy03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/HNJSMPP360.m3u8?_t=1670253791265&_t=1670253806391"}],湖南娱乐:[{name:"线路1",value:"https://phoneqq.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPWFkMmJmOTBhMWJhZjEzZmUxYjZkYzY3YTcxN2NiZjU5JmVzPTE2NzAyODI3MTcmdXVpZD0zM2YyNzgyYTBmZmYxYzc0Mjg2YWY1YjdiOWFlYjM4ZC03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD1xcV9waG9uZV9saXZl/HNYLMPP360.m3u8?_t=1670253917844&_t=1670253922933"}],湖南电影:[{name:"线路1",value:"https://phoneal.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTk1OTMyNTIxZWU0YTVlOTJmZWVlNDQ2OTdlYTVkYzMzJmVzPTE2NzAyODI3NDYmdXVpZD04ZDcwYzY0ZGYzY2ZlNzYxMjgxMGQzMmI5ZjQwMmE3Ni03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD1hbF9waG9uZTM,/HNDYMPP360.m3u8?_t=1670253946262&_t=1670253996485"}],湖南都市:[{name:"线路1",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTBhZGJkZDczMjk3NzVjZWEzYzNlMjc1OTQxYzAyNTUzJmVzPTE2NzAyODI4MjAmdXVpZD05Mzk0OWIwZjg5NTJlMGE1MDI5MTJkMGQyODMzOTllYi03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/JYKTMPP360.m3u8?_t=1670254021040&_t=1670254033789"}],湖南电视剧:[{name:"线路1",value:"https://phoneqq.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPWFlNDRlZTUyMWYzMTgxN2MzZTcyY2YzMWVjNThjY2MxJmVzPTE2NzAyODMwMzkmdXVpZD02ZWMyNjlmZGM1ZTEyZWMzZjBiNGM2MDZjMGRjN2ExMi03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD1xcV9waG9uZV9saXZl/HNDSJMPP360.m3u8?_t=1670254239966&_t=1670254255102"}],金鹰卡通:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225721/index.m3u8"},{name:"线路2",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTdjYWFjYTUwNWY2YzlhMWFjMDVhZWU2MjFhMTEyOGI1JmVzPTE2NzAyODI5MDcmdXVpZD1mNGEyNjU5NmVkOTU0YmMxNDJhZDQzZDM0NzJhYjk5ZC03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/JYKTMPP360.m3u8?_t=1670254107881"}],国际频道:[{name:"线路1",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPWFmMTJlYmNmYjIzM2M4ODQ0MDk5YTRkM2YzNjAwNWNmJmVzPTE2NzAyODI5MzMmdXVpZD01YWFjZGViODA3NzAxNWYzZDQ4NmVjMGU5ZmUwNjc5MS03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/HNGJMPP360.m3u8?_t=1670254133093"}],金鹰纪实:[{name:"线路1",value:"https://phonews.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPThkMjBkZmM2MmQyYzExY2M5MTBiMGJhYjg4Y2IzOTgxJmVzPTE2NzAyODI5NTEmdXVpZD0yYjU2Y2I5MWUwMmI2M2E3MTllNWRkMzg0NTFlNDMwYy03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD13c19waG9uZTM,/JYJSMPP360.m3u8?_t=1670254151936&_t=1670254182121"}],湖南爱晚:[{name:"线路1",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTU5MWUzNWM0MGUxMzgzMTYxYzFlM2Q2N2RmODhhNDQ5JmVzPTE2NzAyODI5OTQmdXVpZD1iMzRkOWZlY2JiNjUxNWI1YjJkMmMyYzM4Njk0ZGI2ZS03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/HNGGMPP360.m3u8?_t=1670254194688&_t=1670254222444"}],山东卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225738/index.m3u8"}],广东卫视:[{name:"线路2",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225742/index.m3u8"},{name:"线路3",value:"http://222.188.112.68:10000/tsfile/live/0125_1.m3u8?key=txiptv&playlive=1&authid=0"}],广东移动:[{name:"线路1",value:"https://sztctv.gdtv.cn/live/ydpd.m3u8?auth_key=1670263420-0-0-3560b05d1941acfd603ea2283756069b"}],广东珠江:[{name:"线路1",value:"https://tcdn.itouchtv.cn/live/gdzj.m3u8?t_token=f16eb636a9ab072bf326e4e90caa7648-JFGOXcmqIdE4uDCFCJ32zja6wCVUhWydceaj5T1fUVguzK%2Fh5hiJVQWYjq5KBG1gWGM184UTh9LC8azzM%2FzMbSRPlB2QZMGwIDfu7Ee%2FX2eBYN7oVGT%2BClDkLoeUMQ0cbO%2BZGRkQ2kV83nLUb9WD0B1KuURJyUFVECdC9e1OgS3YVIsx7k7NtjFME5DvkkOMQLmJ3MP9XQNIL%2Bh8cjyagRYp8%2F6Hq0qgB8J0trr37TuGwwRMe%2Ff37dgUa15Pv18unXDMaqPFrYHPoweR%2BkbuOZh2K2tw4ELNU8toR6GCcxRL0rWTeLCMPkr0zrylHQkAQShaXrze3E9WTNXyteZGaffFbLKkN3dt1ob2xQ8M2CclaDXgh2XvfzdRvD3S5OkkRZWMLCK6HeGmPzbiZRk%2Bi7%2FVhKPyUUe9f4mttFQfrkZQBpcTa4ZE%2FTrrA6WDo9ksx%2Fu8Qh4Vx4reuzHsuFjo5Q%3D%3D"}],广州综合:[{name:"线路1",value:"https://aplays.gztv.com/sec/zhonghes.m3u8?auth_key=1676320438-0-0-b98b7bc2fcd9f2494c7da8c599355531"}],广州新闻:[{name:"线路1",value:"https://aplays.gztv.com/sec/xinwen.m3u8?auth_key=1676320487-0-0-30ab3654629be48ffd208464bbbb0c3e"}],"南国都市(4K)":[{name:"线路1",value:"https://aplays.gztv.com/sec/shenghuos.m3u8?auth_key=1676320533-0-0-226eeae1e50951abc94ff68ff4f35c5b"}],湖南卫视:[{name:"线路1",value:"http://222.188.112.68:10000/tsfile/live/0128_1.m3u8?key=txiptv&playlive=1&authid=0"}],安徽卫视:[{name:"线路1",value:"http://222.188.112.68:10000/tsfile/live/0130_1.m3u8?key=txiptv&playlive=1&authid=0"}],江苏卫视:[{name:"线路1",value:"https://live-hls.jstv.com/livezhuzhan/jsws.m3u8?upt=ee4798cb1670257815"}],江苏影视:[{name:"线路1",value:"https://live-hls.jstv.com/livezhuzhan/jsys.m3u8?upt=174db1d91670257893"}],江西卫视:[{name:"线路1",value:"https://live.jxtvcn.com.cn/live-jxtv/tv_jxtv1.m3u8?source=pc&t=167025769139948&token=f23d11d775514e65fc48d3b3d6eb6ea6"}],陕西卫视:[{name:"线路1",value:"http://stream.snrtv.com/sxbc-star-anoqDF.m3u8"}],河南卫视:[{name:"线路1",value:"https://tvcdn.stream3.hndt.com/tv/65c4a6d5017e1000b2b6ea2500000000_transios/playlist.m3u8?wsSecret=954dc59064254a937b8bdac5baec5327&wsTime=1670271901"}],黑龙江卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225690/index.m3u8"}],重庆卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225692/index.m3u8"},{name:"线路2",value:"https://sjlivecdn9.cbg.cn/202212060032/app_2/_definst_/ls_2.stream/chunklist.m3u8"}],重庆新闻:[{name:"线路1",value:"https://sjlivecdn9.cbg.cn/202212060032/app_2/_definst_/ls_3.stream/chunklist.m3u8"}]}},{group:"地方广播",channel:{香港电台:[{name:"普通話台",value:"https://rthkaudio6-lh.akamaihd.net/i/radiopth_1@355869/master.m3u8?audio"},{name:"第一台",value:"https://rthkaudio1-lh.akamaihd.net/i/radio1_1@355864/master.m3u8"},{name:"第二台",value:"https://rthkaudio2-lh.akamaihd.net/i/radio2_1@355865/master.m3u8"},{name:"第三台",value:"https://rthkaudio3-lh.akamaihd.net/i/radio3_1@355866/master.m3u8"},{name:"第四台",value:"https://rthkaudio4-lh.akamaihd.net/i/radio4_1@355867/master.m3u8"},{name:"第五台",value:"https://rthkaudio5-lh.akamaihd.net/i/radio5_1@355868/master.m3u8"}],南宁广播电视台:[{name:"南宁1074交通台",value:"http://hls.nntv.cn/nnradio/FM1074.m3u8"},{name:"南宁1049经典",value:"http://hls.nntv.cn/nnradio/FM1049.m3u8"},{name:"南宁990新闻台",value:"http://hls.nntv.cn/nnradio/FM1014.m3u8"},{name:"南宁895快乐",value:"http://hls.nntv.cn/nnradio/FM895.m3u8"}],广东荔枝广播:[{name:"广东新闻广播",value:"https://rlizhi.gdtv.cn/audio/fm914.m3u8?auth_key=1676310716-0-0-eceda8720f472f3467552d5c9255a18c"},{name:"珠江经济台",value:"https://rlizhi.gdtv.cn/audio/fm974.m3u8?auth_key=1676310840-0-0-c049865a49d3baf825f98b7ef7acc36b"},{name:"音乐之声",value:"https://rlizhi.gdtv.cn/audio/fm993.m3u8?auth_key=1676310864-0-0-77ce477d111c8f671c0eed876502127e"},{name:"交通之声",value:"https://rlizhi.gdtv.cn/audio/fm1052.m3u8?auth_key=1676310882-0-0-3bec36ba5a2bcc2fc4ac10ee2d0f5047"},{name:"南方生活广播",value:"https://rlizhi.gdtv.cn/audio/fm936.m3u8?auth_key=1676311027-0-0-0669ac010407ff65242bb359184de74d"},{name:"南方生活广播",value:"https://lhttp.qtfm.cn/live/468/64k.mp3?app_id=web&ts=63eaa6f4&sign=b84e5a73430c592e77fed4ddad968250"},{name:"城市之声",value:"https://rlizhi.gdtv.cn/audio/fm1036.m3u8?auth_key=1676311087-0-0-0b5f4836465bc3fb6bbe59552518a94d"},{name:"股市广播",value:"https://rlizhi.gdtv.cn/audio/fm953.m3u8?auth_key=1676311102-0-0-be971c38520fe398b4a521f9b8bf1313"},{name:"文体广播",value:"https://rlizhi.gdtv.cn/audio/fm1077.m3u8?auth_key=1676311124-0-0-1baa4cc16135b251330cb6870641278d"},{name:"珠江之声",value:"https://rlizhi.gdtv.cn/audio/fm1057.m3u8?auth_key=1676311147-0-0-26988d6c88d71f7e7b5ca2b04be17eac"}],浙江广播电视台:[{name:"浙江之声",value:"http://ali-m-l.cztv.com/channels/lantian/fm88/128k.m3u8"},{name:"广播经济",value:"http://ali-m-l.cztv.com/channels/lantian/fm95/128k.m3u8"},{name:"音乐调频",value:"http://ali-m-l.cztv.com/channels/lantian/fm968/128k.m3u8"},{name:"民生资讯",value:"http://ali-m-l.cztv.com/channels/lantian/fm996/128k.m3u8"},{name:"交通之声",value:"http://ali-m-l.cztv.com/channels/lantian/fm93/128k.m3u8"},{name:"旅游之声",value:"http://ali-m-l.cztv.com/channels/lantian/fm1045/128k.m3u8"},{name:"城市之声",value:"http://ali-m-l.cztv.com/channels/lantian/fm107/128k.m3u8"},{name:"新闻广播",value:"http://ali-m-l.cztv.com/channels/lantian/fm988/128k.m3u8"}],河南广播电视台:[{name:"新闻广播",value:"https://stream.hndt.com/live/xinwen/playlist.m3u8?audio"},{name:"交通广播",value:"https://stream.hndt.com/live/jiaotong/playlist.m3u8?audio"},{name:"戏曲广播",value:"https://stream.hndt.com/live/yule/playlist.m3u8?audio"},{name:"音乐广播",value:"https://stream.hndt.com/live/yinyue/playlist.m3u8?audio"},{name:"经济广播",value:"https://stream.hndt.com/live/jingji/playlist.m3u8?audio"},{name:"教育广播",value:"https://stream.hndt.com/live/jiaoyu/playlist.m3u8?audio"}]}},{group:"外文广播",channel:{美国广播电台:[{name:"国家公共广播",value:"https://npr-ice.streamguys1.com/live.mp3"},{name:"FOX News Radio",value:"https://live.wostreaming.net/direct/foxnewsradio-foxnewsradioaac-imc?source=fnr.web"},{name:"MSNBC News Radio",value:"https://tunein.ord.streamguys1.com/msnbc-free"},{name:"美国之声VOA",value:"https://voa-ingest.akamaized.net/hls/live/2035200/161_352R/playlist.m3u8?audio"}],澳大利亚广播电台:[{name:"News",value:"https://mediaserviceslive.akamaized.net/hls/live/2038311/newsradio/master.m3u8?audio"},{name:"774-Melbourne",value:"https://mediaserviceslive.akamaized.net/hls/live/2038300/localmelbourne/master.m3u8?audio"},{name:"612-Brisbane",value:"https://mediaserviceslive.akamaized.net/hls/live/2038304/localbrisbane/master.m3u8?audio"},{name:"National-2RN",value:"https://mediaserviceslive.akamaized.net/hls/live/2038318/rnnsw/master.m3u8?audio"},{name:"720-Perth",value:"https://mediaserviceslive.akamaized.net/hls/live/2038301/localperth/master.m3u8?audio"},{name:"666-Canberra",value:"https://mediaserviceslive.akamaized.net/hls/live/2038303/localcanberra/master.m3u8?audio"},{name:"702-Sydney",value:"https://mediaserviceslive.akamaized.net/hls/live/2038302/localsydney/master.m3u8?audio"},{name:"Radio-Adelaide",value:"https://mediaserviceslive.akamaized.net/hls/live/2038311/newsradio/masterhq.m3u8?audio"},{name:"Radio-Australia",value:"https://mediaserviceslive.akamaized.net/hls/live/2038311/newsradio/masterhq.m3u8?audio"},{name:"Newsradio",value:"https://mediaserviceslive.akamaized.net/hls/live/2038311/newsradio/master.m3u8?audio"},{name:"Kids-listen",value:"https://mediaserviceslive.akamaized.net/hls/live/2038321/abcextra/index.m3u8?audio"},{name:"Country",value:"https://mediaserviceslive.akamaized.net/hls/live/2038322/abccountry/masterhq.m3u8?audio"},{name:"Jazz",value:"https://mediaserviceslive.akamaized.net/hls/live/2038319/abcjazz/masterhq.m3u8?audio"},{name:"Classic",value:"https://mediaserviceslive.akamaized.net/hls/live/2038316/classicfmnsw/master.m3u8?audio"},{name:"Classic-2",value:"https://mediaserviceslive.akamaized.net/hls/live/2038317/classic2/masterhq.m3u8"},{name:"triple-j-Unearthed",value:"https://mediaserviceslive.akamaized.net/hls/live/2038305/triplejunearthed/masterhq.m3u8?audio"},{name:"triple-j",value:"https://mediaserviceslive.akamaized.net/hls/live/2038308/triplejnsw/masterhq.m3u8?audio"},{name:"Double-J",value:"https://mediaserviceslive.akamaized.net/hls/live/2038315/doublejnsw/masterhq.m3u8?audio"}],"113FM Radio":[{name:"Bang Bang!",value:"https://113fm-atunwadigital.streamguys1.com/1006?audio"},{name:"Pop’d",value:"https://113fm-atunwadigital.streamguys1.com/1052?audio"},{name:"Big Kickin’ Country",value:"https://113fm-atunwadigital.streamguys1.com/1004?audio"},{name:"Power!",value:"https://113fm-atunwadigital.streamguys1.com/1053?audio"},{name:"Blues Town",value:"https://113fm-atunwadigital.streamguys1.com/1005?audio"},{name:"Salsa!",value:"https://113fm-atunwadigital.streamguys1.com/1059?audio"},{name:"Chill Zone",value:"https://113fm-atunwadigital.streamguys1.com/1007?audio"},{name:"Synthetic!",value:"https://113fm-atunwadigital.streamguys1.com/1061?audio"},{name:"Classic One",value:"https://113fm-atunwadigital.streamguys1.com/1008?audio"},{name:"Zen",value:"https://113fm-atunwadigital.streamguys1.com/1068?audio"},{name:"Elevator!",value:"https://113fm-atunwadigital.streamguys1.com/1010?audio"},{name:"The Lounge",value:"https://113fm-atunwadigital.streamguys1.com/1064?audio"},{name:"Energy!",value:"https://113fm-atunwadigital.streamguys1.com/1011?audio"},{name:"Flashback!",value:"https://113fm-atunwadigital.streamguys1.com/1012?audio"},{name:"Free Bird",value:"https://113fm-atunwadigital.streamguys1.com/1013?audio"},{name:"113.FM Hits!",value:"https://113fm-atunwadigital.streamguys1.com/1046?audio"},{name:"Indie Nation",value:"https://113fm-atunwadigital.streamguys1.com/1047?audio"},{name:"Jazzy!",value:"https://113fm-atunwadigital.streamguys1.com/1067?audio"},{name:"Jitterbug",value:"https://113fm-atunwadigital.streamguys1.com/1048?audio"},{name:"Alt-X",value:"https://113fm-atunwadigital.streamguys1.com/1001?audio"},{name:"113.FM BPM RADIO",value:"https://113fm.cdnstream1.com/1736_128?cb=139271.mp3"}],AsiaFM:[{name:"HD音乐台",value:"https://lhttp.qingting.fm/live/5022405/64k.mp3"},{name:"亚洲天空台",value:"https://lhttp.qingting.fm/live/20071/64k.mp3"},{name:"亚洲经典台",value:"https://lhttp.qingting.fm/live/5021912/64k.mp3"},{name:"亚洲音乐台",value:"https://lhttp.qtfm.cn/live/4581/64k.mp3"}],"Asia DREAM Radio":[{name:"亚洲梦想电台",value:"https://igor.torontocast.com:1025/;?shoutcast"},{name:"Jazz Sakura",value:"https://kathy.torontocast.com:3330/;?shoutcast"},{name:"Jazz Club Bandstand",value:"https://daniel.torontocast.com:2630/;?shoutcast"},{name:"J-Pop Christmas Radio",value:"https://ruby.torontocast.com:1120/;?shoutcast"},{name:"J-Pop Powerplay",value:"https://kathy.torontocast.com:3560/;?shoutcast"},{name:"Japan Hits",value:"https://igor.torontocast.com:1025/;?shoutcast"},{name:"J-Pop Powerplay Kawaii",value:"https://kathy.torontocast.com:3060/;?shoutcast"},{name:"J-Pop Sakura 懐かしい",value:"https://igor.torontocast.com:1710/;?shoutcast"},{name:"J-Rock Powerplay",value:"https://kathy.torontocast.com:3340/;?shoutcast"},{name:"J-Club Powerplay HipHop",value:"https://kathy.torontocast.com:3350/;?shoutcast"}],BBC:[{name:"World Service",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_world_service"},{name:"Music",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_6music"},{name:"London 94.9",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_london"},{name:"Radio 1",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_one"},{name:"Radio 2",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_two"},{name:"Radio 3",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_three"},{name:"Radio 4 FM",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_fourfm"},{name:"Radio 5 live",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_five_live_online_nonuk"},{name:"Asian Network",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_asian_network"}]}},{group:"港澳频道",channel:{凤凰卫视:[{name:"线路1",value:"https://playtv-live.ifeng.com/live/06OLEGEGM4G_tv1.m3u8"}],凤凰资讯:[{name:"线路1",value:"https://playtv-live.ifeng.com/live/06OLEEWQKN4_tv1.m3u8"}],澳门衛視:[{name:"线路1",value:"https://live.mastvnet.com/lsdream/lY44pmm/2000/live.m3u8"}],澳视卫星:[{name:"线路1",value:"http://61.244.22.5/ch3/_definst_/ch3.live/playlist.m3u8"}],澳视资讯:[{name:"线路1",value:"http://103.233.191.134:1935/ch5/info_ch5.live/playlist.m3u8"}],蓮花衛視:[{name:"线路1",value:"https://2754871298.cloudvdn.com/a.m3u8?domain=live-hls.macaulotustv.com&player=OcwAAMJRMYgyOJsW&secondToken=secondToken%3A-FfW5vp8w7LfoQufgUk_2Ata6CY&streamid=lotustv%3Alotustv%2Fmacaulotustv&v3=1"}],香港无线新闻台:[{name:"线路1",value:"https://bcovlive-a.akamaihd.net/38974baa695d47bbb231665ca52b8b3c/us-west-2/5324042807001/95ea73e414b14b7ea6406050a5293f17/playlist_ssaiM.m3u8"}],香港无线电视:[{name:"线路1",value:"https://61.147.122.14/flv.live.xylive.tv/live/00wxxw.flv"},{name:"线路1",value:"https://bcovlive-a.akamaihd.net/38974baa695d47bbb231665ca52b8b3c/us-west-2/5324042807001/profile_0/01d75fde5b444c3a96bff88089d67084/chunklist_ssaiV.m3u8"}],香港电台RTHK:[{name:"线路1",value:"https://rthkcnews-live.akamaized.net/hls/live/2043518/633065/CNewsLive/master.m3u8"},{name:"线路2",value:"https://rthkvod1-vh.akamaihd.net/i/mp4/tv/2021/THKCCT2021M06000048.smil/master.m3u8"}],香港卫视:[{name:"线路1",value:"http://zhibo.hkstv.tv/livestream/mutfysrq/playlist.m3u8"}],台湾大愛:[{name:"线路1",value:"https://pulltv1.wanfudaluye.com/live/tv1.m3u8"}],淨宗學院網絡電臺:[{name:"线路1",value:"https://live.ciguang.tv/live/hdtv.m3u8?auth_key=5216465889-0-0-701a98b03302233fc07fa2ee9e85d39b"}],东森新闻:[{name:"线路1",value:"http://50.7.220.74:8278/ettvnews/playlist.m3u8?tid=m208c21bf386611408694&ct=17874&tsum=d1b4de373c886cd8015974fa8c5d6d12"}],台湾TVBS新闻:[{name:"线路1",value:"http://38.64.72.148:80/hls/modn/list/4006/chunklist1.m3u8#http://38.64.72.148:80/hls/modn/list/4006/chunklist0.m3u8"}],台湾台视新闻:[{name:"线路1",value:"http://38.64.72.148:80/hls/modn/list/4013/chunklist0.m3u8#http://38.64.72.148:80/hls/modn/list/4013/chunklist1.m3u8"}],台湾民视新闻:[{name:"线路1",value:"http://38.64.72.148:80/hls/modn/list/4012/chunklist0.m3u8"}]}},{group:"台湾频道",channel:{国立教育高雄:[{name:"线路1",value:"https://cast.ner.gov.tw/5"}],国立教育台东:[{name:"线路1",value:"https://cast.ner.gov.tw/6"}],国立教育台东2:[{name:"线路1",value:"https://cast.ner.gov.tw/7"}],台北百家知识:[{name:"线路1",value:"http://livestream.1766.today:1768/live1.mp3"}],中广新闻网:[{name:"线路1",value:"http://n05a-eu.rcs.revma.com/78fm9wyy2tzuv?rj-ttl=5&rj-tok=AAABgNbkEy8ABT_5ZlPby5oz3g"}],时刻新闻:[{name:"线路1",value:"http://n29a-eu.rcs.revma.com/55tyxsy4qtzuv.m4a?rj-ttl=5&rj-tok=AAABgNbkd3IA1UYuWKM3EfouAA"}],竹科广播:[{name:"线路1",value:"https://n08a-eu.rcs.revma.com/7mnq8rt7k5zuv?rj-ttl=5&rj-tok=AAABgo42HEIA4mKJbXtsAAi0GA"}],台视:[{name:"线路1",value:"http://61.219.170.95:18543/.m3u8"}],年代:[{name:"线路1",value:"http://61.219.170.95:18558/.m3u8"}],八大1台:[{name:"线路1",value:"http://61.219.170.95:18539/.m3u8"}],卫视中文:[{name:"线路1",value:"http://61.219.170.95:18522/.m3u8"}]}},{group:"英语频道",channel:{"ABC-News":[{name:"线路1",value:"https://abc-iview-mediapackagestreams-2.akamaized.net/out/v1/6e1cc6d25ec0480ea099a5399d73bc4b/index.m3u8"}],"AU-channel-news":[{name:"线路1",value:"https://austchannel-live.akamaized.net/hls/live/2002729/austchannel-news/master.m3u8"}],"AU-wonder":[{name:"线路1",value:"https://lds-wonder-samsungau.amagi.tv/playlist.m3u8"}],"AU-zoomoo":[{name:"线路1",value:"https://zoomoo-samsungau.amagi.tv/playlist.m3u8"}],"Fox-News":[{name:"线路1",value:"http://fox-foxnewsnow-samsungus.amagi.tv/playlist.m3u8"}],"Fox-sport":[{name:"线路1",value:"https://austchannel-live.akamaized.net/hls/live/2002736/austchannel-sport/master1280x720_v3.m3u8"}],"US-ABC-News":[{name:"线路1",value:"http://cms-wowza.lunabyte.io/wbrz-live-1/_definst_/smil:wbrz-live.smil/chunklist_b1300000.m3u8"}],"US-NBC-News":[{name:"线路1",value:"https://nbcnews2.akamaized.net/hls/live/723426/NBCNewsPlaymaker24x7Linear99a3a827-ua/master.m3u8"}],"NASA-Media":[{name:"线路1",value:"https://ntv2.akamaized.net/hls/live/2013923/NASA-NTV2-HLS/master.m3u8"}],"NASA-Public":[{name:"线路1",value:"https://ntv1.akamaized.net/hls/live/2014075/NASA-NTV1-HLS/master.m3u8"}],UniTV:[{name:"线路1",value:"https://vblive-c.viebit.com/65ea794b-dd82-41ce-8e98-a9177289a063/playlist.m3u8"}],UniTV2:[{name:"线路1",value:"https://vblive-c.viebit.com/65ea794b-dd82-41ce-8e98-a9177289a063/chunklist.m3u8"}],"ABC-News-Radio":[{name:"线路1",value:"http://live-radio01.mediahubaustralia.com/PBW/aac/"}],"ABC-National-Radio":[{name:"线路1",value:"http://live-radio01.mediahubaustralia.com/2RNW/aac/"}],"ABC-Sydney-Radio":[{name:"线路1",value:"http://live-radio01.mediahubaustralia.com/2LRW/aac/"}],"ABC-Classic-Radio":[{name:"线路1",value:"http://live-radio01.mediahubaustralia.com/2FMW/aac/"}],"ABC-Brisbane-Radio":[{name:"线路1",value:"http://live-radio01.mediahubaustralia.com/4LRW/aac/"}],"BBC-World-Radio":[{name:"线路1",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_world_service"}],"BBC-new":[{name:"线路1",value:"https://livecdn.fptplay.net/sdb/bbcnew_2000.stream/chunklist_b2500000.m3u8"}],"VOA-EN-Radio":[{name:"线路1",value:"http://n04.radiojar.com/t2n88q0st5quv?rj-tok=AAABgo4NE1QArW6dTYSHdicQzQ&rj-ttl=5"}],Xplore:[{name:"线路1",value:"http://xlpore-samsungus.amagi.tv/playlist.m3u8"},{name:"线路2",value:"https://cdn-ue1-prod.tsv2.amagi.tv/linear/samsungus-xplore-samsungus/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],MovieSphere:[{name:"线路1",value:"https://moviesphere-samsung-samsungus.amagi.tv/playlist.m3u8"}],Edgesports:[{name:"线路1",value:"https://edgesport-samsungus.amagi.tv/playlist.m3u8"}],Discovery:[{name:"线路1",value:"https://livecdn.fptplay.net/hda2/discovery_vhls.smil/chunklist_b5000000.m3u8"}],NatGeoHD:[{name:"线路1",value:"http://vips-livecdn.fptplay.net/hda2/natgeohd_vhls.smil/playlist.m3u8"}],NatGeDWild:[{name:"线路1",value:"https://livecdn.fptplay.net/hda3/natgeowild_vhls.smil/chunklist_b5000000.m3u8"}],"FOX.LiveNOW":[{name:"线路1",value:"https://cdn-ue1-prod.tsv2.amagi.tv/linear/samsungus-fox-newsnow-samsung/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],"ABC.News.USA":[{name:"线路1",value:"https://d202koqm588atp.cloudfront.net/v1/master/3fec3e5cac39a52b2132f9c66c83dae043dc17d4/prod-samsungtvplus-stitched-publica/samsungtvplus_us_abcnewslive_001.m3u8?ads.caid=ABCNewsLive&ads.csid=samsungtvplus_us_abcnewslive_ssai&ads.xumo_platform=samsung&ads._fw_is_lat=%7BTARGETOPT%7D&ads._fw_us_privacy=1YNY&ads._fw_coppa=0&ads._fw_did=%7BPSID%7D&ads._fw_content_category=IAB12&ads._fw_content_genre=news&ads._fw_content_language=en&ads._fw_content_rating=tv-g&ads._fw_deviceMake=samsung&ads._fw_gdpr=0&ads.appName=%7BAPP_NAME%7D&ads.xumo_contentId=58&ads.xumo_contentName=ABCNewsLive&ads.xumo_providerId=58&ads.xumo_providerName=ABCNewsLive&ads.xumo_channelId=9999533&ads.xumo_channelName=ABCNewsLive&ads.xumo_adsystem=mediatailor&ads.tpcl=MIDROLL&ads._fw_app_store_url=%7BAPP_DOMAIN%7D"}],"NBC.News.NOW":[{name:"线路1",value:"https://d2gjhy8g9ziabr.cloudfront.net/v1/master/3fec3e5cac39a52b2132f9c66c83dae043dc17d4/prod-samsungtvplus-stitched/samsungtvplus_us_nbcnewsnow_001.m3u8?ads.caid=NBCNewsNOW&ads.csid=samsungtvplus_us_nbcnewsnow_ssai&ads.xumo_platform=samsung&ads._fw_is_lat=%7BTARGETOPT%7D&ads._fw_us_privacy=1YNY&ads._fw_coppa=0&ads._fw_did=%7BPSID%7D&ads._fw_content_category=IAB12&ads._fw_content_genre=News&ads._fw_content_language=en&ads._fw_content_rating=tv-g&ads._fw_deviceMake=samsung&ads._fw_gdpr=0&ads.appName=%7BAPP_NAME%7D&ads.xumo_contentId=1828&ads.xumo_contentName=NBCNewsNOW&ads.xumo_providerId=1828&ads.xumo_providerName=NBCNewsNOW&ads.xumo_channelId=9999542&ads.xumo_adsystem=mediatailor&ads.tpcl=MIDROLL&ads._fw_app_store_url=%7BAPP_DOMAIN%7D"}],"Cheddar.News":[{name:"线路1",value:"https://bcf66772c67a40ec839611926b59b041.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_Cheddar/playlist.m3u8?ads.wurl_channel=575&ads.wurl_name=Cheddar&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],"Yahoo.Finance":[{name:"线路1",value:"https://cdn-ue1-prod.tsv2.amagi.tv/linear/yahoofina-samsungyahoofinance/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],AsianCrush:[{name:"线路1",value:"https://479cc5aa923d4f399f440d76bc53da92.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_AsianCrush/playlist.m3u8?ads.wurl_channel=269&ads.wurl_name=AsianCrush&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],RakutenTV:[{name:"线路1",value:"https://696c8ef0d3824ac28f38d6277481fbe5.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung-at_RakutenActionMovies/playlist.m3u8?ads.wurl_channel=439&ads.wurl_name=RakutenActionMovies&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0&ads.consent=%7BTC_STRING%7D"}],MovieHub:[{name:"线路1",value:"https://dje6yassknq8t.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/MovieHub2-prod/playlist.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],"Stories.by.AMC":[{name:"线路1",value:"https://fe0423aba9c44b9e92576576e4d3189a.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_AMCPresentsClean/playlist.m3u8?ads.wurl_channel=663&ads.wurl_name=AMCPresentsClean&ads.coppa=0&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],BounceXL:[{name:"线路1",value:"https://c217322ca48e4d1e98ab33fe41a5ed01.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/Samsung_BounceXL/playlist.m3u8?ads.wurl_channel=938&ads.wurl_name=BounceXL&ads.coppa=0&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],Baywatch:[{name:"线路1",value:"https://d3vdwtqqboxhm9.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/BayWatch2-prod/playlist.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],TheWalkingDeadUniverse:[{name:"线路1",value:"https://645c5b3f342a4329a847a557fbe77b05.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_TWDUniverseTV14/playlist.m3u8?ads.wurl_channel=844&ads.wurl_name=TWDUniverseTV14&ads.coppa=0&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],"21JumpStreet":[{name:"线路1",value:"https://dpu24vd0o32rf.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/21JumpStreet-prod/playlist.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],Crime360:[{name:"线路1",value:"https://dab88d35ef5b44ec99be60adef855bf2.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_Crime360/playlist.m3u8?ads.wurl_channel=393&ads.wurl_name=Crime360&ads.psid=%7BPSID%7D&ads.us_privacy=1YNY&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],"NEW.KMOVIES":[{name:"线路1",value:"https://bd281c27a16f4a7fb4a88260378e8082.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_NewMovies/playlist.m3u8?ads.wurl_channel=618&ads.wurl_name=NewMovies&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],"TODAY.All.Day":[{name:"线路1",value:"https://d2gjhy8g9ziabr.cloudfront.net/v1/master/3fec3e5cac39a52b2132f9c66c83dae043dc17d4/prod-samsungtvplus-stitched/samsungtvplus_us_todayallday_001.m3u8?ads.caid=TodayAllDay&ads.csid=samsungtvplus_us_todayallday_ssai&ads.xumo_platform=samsung&ads._fw_is_lat=%7BTARGETOPT%7D&ads._fw_us_privacy=1YNY&ads._fw_coppa=0&ads._fw_did=%7BPSID%7D&ads._fw_content_category=IAB1-7&ads._fw_content_genre=lifestyle&ads._fw_content_language=en&ads._fw_content_rating=tv-g&ads._fw_deviceMake=samsung&ads._fw_gdpr=0&ads.appName=%7BAPP_NAME%7D&ads.xumo_contentId=179&ads.xumo_contentName=NBCToday&ads.xumo_providerId=179&ads.xumo_providerName=NBCToday&ads.xumo_channelId=9999545&ads.xumo_adsystem=mediatailor&ads.tpcl=MIDROLL&ads._fw_app_store_url=%7BAPP_DOMAIN%7D"}],Newsy:[{name:"线路1",value:"https://1775a4feddb54d49b6e03fa9254b613a.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_Newsy-1/playlist.m3u8?ads.wurl_channel=570&ads.wurl_name=Newsy&ads.coppa=0&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],WeatherNation:[{name:"线路1",value:"https://d2ferbiwcx1539.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-8zd06wicndthf-ssai-prd/WNNationalSamsung/WNNationalSamsung.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],T2:[{name:"线路1",value:"https://d3qg0hadt0dkov.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-3sfgyrfz9zduo-prod/amgtennisus/playlist.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],ACCDigitalNetwork:[{name:"线路1",value:"https://1a8f69077b904368aedb538ed5045ac1.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_ACCDigitalNetwork/playlist.m3u8?ads.wurl_channel=599&ads.wurl_name=ACCDigitalNetwork&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],MAVTVSelect:[{name:"线路1",value:"https://5e40ddae915641febc61168f0f1d612a.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_MavTV/playlist.m3u8?ads.wurl_channel=303&ads.wurl_name=MavTV&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],FreeSports:[{name:"线路1",value:"https://d3cq7cdp2cfi92.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-2ff27mp9b8422-prod/hls-harvester2-1293-prod/us-east-1/cc-2ff27mp9b8422/master.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"}],"PBS.KIDS":[{name:"线路1",value:"https://d3afonbm0qxmbc.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-elbbbj7vf6xsf-prod/est.m3u8"}],HistoryHit:[{name:"线路1",value:"https://ldsaaaaaa-timeline-samsung-uk-azlgu.amagi.tv/playlist/ldsAAAAAA-timeline-samsung-uk/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.tc_string=%7BTC_STRING%7D&ads.coppa=0"}],"Discovery.Kids":[{name:"线路1",value:"https://cdn-apse1-prod.tsv2.amagi.tv/linear/amg01448-samsungin-discoverykids-samsungin/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=1"}],FamilyRakutenTV:[{name:"线路1",value:"https://ad66907c364a4e7eb47c7f61e1d50ee3.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung-at_RakutenFamily/playlist.m3u8?ads.wurl_channel=725&ads.wurl_name=RakutenFamily&ads.coppa=1&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"}],"Discovery.Science":[{name:"线路1",value:"https://cdn-apse1-prod.tsv2.amagi.tv/linear/amg01448-samsungin-discoverysciin-samsungin/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],"Discovery.HD":[{name:"线路1",value:"https://cdn-apse1-prod.tsv2.amagi.tv/linear/amg01448-samsungin-discoveryhdin-samsungin/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"}],"BBC.History":[{name:"线路1",value:"https://7a0978fa08424aa3b473d22dc144bd01.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/Samsung-de_BBCHistory/playlist.m3u8?ads.wurl_channel=947&ads.wurl_name=BBCHistory&ads.coppa=0&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"}],"Fashion.TV":[{name:"线路1",value:"https://ec803f4d4e7245028d0f34620ccb702d.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/Samsung-at_FashionTV/playlist.m3u8?ads.wurl_channel=689&ads.wurl_name=FashionTV&ads.coppa=0&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"}],CNN:[{name:"线路1",value:"https://225f14f181b14665bde8b60479eed3d2.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/Samsung-at_CNN/playlist.m3u8?ads.wurl_channel=662&ads.wurl_name=CNN&ads.coppa=0&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"}],"MyTime.Movie.Network":[{name:"线路1",value:"https://amg00500-studiocitypictu-mytimegerman-samsungat-166eh.amagi.tv/playlist/amg00500-studiocitypictu-mytimegerman-samsungat/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.tc_string=%7BTC_STRING%7D&ads.coppa=0"}]}},{group:"其他地区",channel:{日本新闻:[{name:"线路1",value:"https://n24-cdn-live.ntv.co.jp/ch01/index.m3u8"}],NHK华语:[{name:"线路1",value:"https://nhkw-zh-hlscomp.akamaized.net/ixxemlzk1vqvy44o/playlist.m3u8"}],NHKworld:[{name:"线路1",value:"https://cdn.nhkworld.jp/www11/nhkworld-tv/bmcc-live/zh/playlist.m3u8"},{name:"线路2",value:"https://livecdn.fptplay.net/hda2/nhkworld_vhls.smil/chunklist_b5000000.m3u8"}],"日本AT-X":[{name:"线路1",value:"https://sub2.neetball.net/live/neet.m3u8"}],新加坡CNA:[{name:"线路1",value:"http://d2e1asnsl7br7b.cloudfront.net/7782e205e72f43aeb4a48ec97f66ebbe/index_4.m3u8"}],新加坡TLC:[{name:"线路1",value:"https://s6.hopslan.com/tlc/index.m3u8"}],爱尔兰CorkCommunity:[{name:"线路1",value:"https://s6.hopslan.com/tlc/index.m3u8"}],越南HBTV:[{name:"线路1",value:"https://dacastmmd.mmdlive.lldns.net/dacastmmd/896cad7d35a847f585551378cd7ba4d2/manifest.m3u8?p=79&s=1676317945&e=1676318065&h=9c6c01b3df48d5461ad885e9b3468b28"}],佛得角TCSM:[{name:"线路1",value:"https://stream.internet.one/RadioCaboVerde/video.m3u8"}],新西兰Firstlight:[{name:"线路1",value:"https://uni01rtmp.tulix.tv/firstlight/firstlight.smil/playlist.m3u8"}],新西兰Juice:[{name:"线路1",value:"https://juicex.nz/hls/mystream.m3u8"}],新西兰Parliament:[{name:"线路1",value:"https://ptvlive.kordia.net.nz/out/v1/daf20b9a9ec5449dadd734e50ce52b74/index.m3u8"}],"俄罗斯RT.Doc":[{name:"线路1",value:"https://rt-rtd.rttv.com/live/rtdoc/playlist.m3u8"}],"RedBull-TV":[{name:"线路1",value:"https://rbmn-live.akamaized.net/hls/live/590964/BoRB-AT/master.m3u8"}],"韩国KBS-World":[{name:"线路1",value:"https://livecdn.fptplay.net/sdb/kbs_hls.smil/playlist.m3u8"}],韩国Arirang:[{name:"线路1",value:"http://amdlive.ctnd.com.edgesuite.net/arirang_1ch/smil:arirang_1ch.smil/playlist.m3u8"}],SpaceX:[{name:"线路1",value:"https://c1--cn-gotcha208.bilivideo.com/live-bvc/837435/live_13945088_2879895_1500/index.m3u8?expires=1660423245&len=0&oi=3738723966&pt=web&qn=0&trid=1007211554f5809e4dedbdebedeb05843ad4&sigparams=cdn,expires,len,oi,pt,qn,trid&cdn=cn-gotcha208&sign=c96c05db4735909b53e7794cf9353129&sk=c9c6154426932efa80d25af02e87a3bd&p2p_type=1&src=57345&sl=1&free_type=0&pp=rtmp&machinezone=jd&source=onetier&site=72eea5b1ba20fb9ba0c62ae1c4c92ed1&order=1"}]}},{group:"电影电视剧",channel:{精品记录:[{name:"线路1",value:"http://39.134.115.163:8080/TVOD/88888910/224/3221225710/index.m3u8"}],黑莓电影:[{name:"线路1",value:"http://39.134.115.163:8080/TVOD/88888910/224/3221225718/index.m3u8"}],超级电影:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225623/index.m3u8"}],超级综艺:[{name:"线路1",value:"http://39.134.115.163:8080/TVOD/88888910/224/3221225620/index.m3u8"}]}},{group:"直播中国",channel:{贡嘎雪山:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/emsyh_1/index.m3u8?contentid=2820180516001"}],南天一柱:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjntyz_1/index.m3u8?contentid=2820180516001"}],普高老寨:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/hnttpgsz_1_md.m3u8"}],蓝印花布:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zjwzlyhb_1_md.m3u8"}],云梦仙顶:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/tms04_1_md.m3u8"}],梅州梅江:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/gllj01_1_md.m3u8"}],泰山主峰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/taishan01_1/index.m3u8?contentid=2820180516001"}],天涯鸟瞰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjtynl_1/index.m3u8?contentid=2820180516001"}],十八洞村:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/sbd01_1/index.m3u8"}],厦门第一:[{name:"线路1",value:"http://cctvtxyh5ca.liveplay.myqcloud.com/cstv/xiamen1_2/index.m3u8"}],天津海河:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/tjhh02_1_md.m3u8"}],黄河漂流:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nxspthhpl_1_md.m3u8"}],大漠孤烟:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nxsptdmgy_1_md.m3u8"}],湘潭综合:[{name:"线路1",value:"http://21084.liveplay.myqcloud.com/live/21084_13241b8296ee11e892905cb9018cf0d4.m3u8"}],嘉峪关03:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/jyg04_1_md.m3u8"}],"崂山-太清":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/qdls04_1_md.m3u8"}],泰山大观峰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/taishan03_1/index.m3u8?contentid=2820180516001"}],印象大红袍:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wysyxdhp_1/index.m3u8?contentid=2820180516001"}],韶音亭:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/dxssyt_1_md.m3u8"}],厦门鼓浪屿:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/gly01_1_md.m3u8"}],千岛湖:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/caqdh_1_md.m3u8"}],隆珠措:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/sgns02_1_md.m3u8"}],九华山:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/jhs05_1_md.m3u8"}],河南二七塔:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xysrf_1_md.m3u8"}],舟山东极岛:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/djd01_1_md.m3u8"}],九寨沟:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wygjt1_1/index.m3u8?contentid=2820180516001"}],黄山始信峰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hssxf_1/index.m3u8?contentid=2820180516001"}],泰山黄岘岭:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/taishan01_1/index.m3u8?contentid=2820180516001"}],重庆洪崖洞:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjtys_1/index.m3u8?contentid=2820180516001"}],江苏聚龙湖:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nxsptdmgy_1_md.m3u8"}],湘潭县综合:[{name:"线路1",value:"http://21084.liveplay.myqcloud.com/live/21084_13241b8296ee11e892905cb9018cf0d4.m3u8"}],嘉峪关长城:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/jyg04_1/index.m3u8?contentid=2820180516001"}],泰山太平岭:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hkts09_1/index.m3u8"}],都江堰鱼嘴:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/djyqyl1_1/index.m3u8"}],天涯石:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjtys_1/index.m3u8?contentid=2820180516001"}],双乳峰:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xysrf_1_md.m3u8"}],日月石:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/tyhjrys_1_md.m3u8"}],长津湖:[{name:"线路1",value:"https://cdn.oss-cn-hangzhou-shanghai.myqcloud.com.zhegeyuming.top/video/1647245120032.m3u"}],"天山-马牙山":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xjtcmys_1_md.m3u8"}],"天山-灯杆山":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xjtcdgs_1_md.m3u8"}],"都江堰-鱼嘴":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/djyqyl1_1_md.m3u8"}],朱鹮03:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zh03_1_md.m3u8"}],朱鹮04:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zh04_1_md.m3u8"}],"CCTV-15":[{name:"线路1",value:"http://21084.liveplay.myqcloud.com/live/21084_13241b8296ee11e892905cb9018cf0d4.m3u8"}],黟县宏村月沼:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/yxhcyz_1/index.m3u8?contentid=2820180516001"}],峨眉云海日出:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/emsarm_1/index.m3u8?contentid=2820180516001"}],雪乡梦幻家园:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/mdjxxmhjyxj_1/index.m3u8?contentid=2820180516001"}],宁夏黄河漂流:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nxspthhpl_1_md.m3u8"}],华山:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hkhs01_1_md.m3u8"}],桂林漓江景区:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/gllj01_1_md.m3u8"}],云台山红石峡:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ytshsx_1/index.m3u8"}],泰山玉皇顶西:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hkts11_1/index.m3u8"}],乐山大佛全景:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/lsdfgfl_1_md.m3u8"}],中央电视塔北:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/ztb_1_md.m3u8"}],张掖七彩丹霞:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zyqcdx01_1_md.m3u8"}],"云台山-小寨沟":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/ytsxzg_1_md.m3u8"}],"天山-定海神针":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xjtcdhsz_1_md.m3u8"}],"天山-海西平台":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xjtchxpt_1_md.m3u8"}],"中影-新科动漫":[{name:"线路1",value:"http://cctvtxyh5ca.liveplay.myqcloud.com/live/xinkedongman_2/index.m3u8"}],"都江堰-飞沙堰":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/djyewm_1_md.m3u8"}],"黄山-梦笔生花":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/hsmbsh_1_md.m3u8"}],张家界将军列队:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zjjjjdl_1/index.m3u8?contentid=2820180516001"}],丹霞山丹梯铁锁:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/dxsdtts_1/index.m3u8"}],凤凰古城南华山:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/fhgcdnhs_1_md.m3u8"}],云龙山观景台南:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/ylh03_1_md.m3u8"}],大容山莲花山顶:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/drs01_1_md.m3u8"}],江苏南京牛首山:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nss01_1_md.m3u8"}],江西武功山云顶:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/jyg04_1/index.m3u8?contentid=2820180516001"}],宁夏回族上滩村:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/tyhjrys_1_md.m3u8"}],宁夏黄河大峡谷:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hhdxg01_1/index.m3u8"}],丽江古城大水车:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ljgcdsc_1/index.m3u8"}],恒山悬空寺全景:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hsxksqj_1/index.m3u8"}],恒山悬空寺侧景:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/hsxkscj_1_md.m3u8"}],"CCTV-11戏曲 (1080p)":[{name:"线路1",value:"http://cctvtxyh5ca.liveplay.myqcloud.com/live/xinkedongman_2/index.m3u8"}],浙江舟山东极岛:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/djd01_1_md.m3u8"}],福建厦门第一台:[{name:"线路1",value:"http://cctvtxyh5ca.liveplay.myqcloud.com/cstv/xiamen1_2/index.m3u8"}],西汉南越王博物馆:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nywbwg01_1_md.m3u8"}],郑东新区千玺广场:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zdxq01_1_md.m3u8"}],四川凉山邛海景区:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xcqh01_1_md.m3u8"}],西藏米林拉林铁路:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zyqcdx01_1_md.m3u8"}],武夷山大红袍茶园:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wysdhpcy_1/index.m3u8?contentid=2820180516001"}],浙江乌镇蓝印花布:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zjwzlyhb_1/index.m3u8"}],中央电视塔中塔西:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ztx_1/index.m3u8"}],嵩山少林寺胜观峰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zsslstpt_1/index.m3u8"}],直播中国精编直播:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/wgw05_1_md.m3u8"}],伊犁巩留县蝶湖公园:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjtynl_1/index.m3u8?contentid=2820180516001"}],湘西凤凰古城南华山:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/fhgcdnhs_1/index.m3u8"}],峨眉山远眺贡嘎雪山:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/emsyh_1/index.m3u8"}],牡丹江雪乡梦幻家园:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/mdjxxmhjyxj_1/index.m3u8"}],六盘山红军长征景区:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/lpsgmjng01_1_md.m3u8"}],"张家界-阿凡达悬浮山":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zjjafdxfs_1_md.m3u8"}],无锡惠山二茅峰望锡城:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wysdhpcy_1/index.m3u8?contentid=2820180516001"}],张家界天门山云梦仙顶:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tms04_1/index.m3u8"}],丽江古城大研花巷观景:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ljgcdyhxgjt_1/index.m3u8"}],福建武夷山印象大红袍:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wysyxdhp_1/index.m3u8"}],云南大理崇圣寺三塔中景:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/dlst03_1/index.m3u8"}],张家界武陵源景区迷魂台:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zjjmht_1/index.m3u8"}],张家界武陵源景区宝峰湖:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zjjbfh_1/index.m3u8"}],黄果树瀑布银链坠潭瀑布:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hgsylztpb_1/index.m3u8"}],"广东-广州塔与海心桥视角":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/ztb_1_md.m3u8"}],广东省深圳市甘坑客家小镇:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/szgk01_1/index.m3u8"}],安徽省池州市九华山风景区:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/jhs05_1/index.m3u8"}],四川凉山彝族自治州西昌市邛海景区:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/xcqh01_1/index.m3u8"}],江苏徐州云龙湖风景区云龙山观景台南:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ylh03_1/index.m3u8"}]}}],Uf="https://api.1080zyku.com/inc/ldg_api_all.php",jf="ZYK1080";const zf="https://api.tiankongapi.com/api.php/provide/vod/",Vf={NAME:"ZYTIANKONG"};const Gf={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"Connection Closed Without Response",451:"Unavailable For Legal Reasons",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",599:"Network Connect Timeout Error","1××":"Informational","2××":"Success","3××":"Redirection","4××":"Client Error","5××":"Server Error"},Hf="ZYYPARSE";const qf="https://api.apibdzy.com/api.php/provide/vod/",Kf={NAME:"ZYBD"};var Yf="https://api.1080zyku.com/inc/ldg_api_all.php";class Wf{constructor(e){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={},this.PLATFORM=e?.PLATFORM||{NAME:"ZYK1080"},Yf=e?.apiUrl||"https://api.1080zyku.com/inc/ldg_api_all.php",console.log("~~~~ZYXML",{config:e,apiUrl:Yf,PLATFORM:this.PLATFORM})}async getURLByTId(e,t=1){const a={url:`${Yf}?ac=list&t=${e}&pg=${t}`,responseType:""};return await If(a)}getURLById(e){return`${Yf}?ac=videolist&ids=${e}`}async getURLByKeyword(e="",t=1){const a={url:`${Yf}?wd=${e}&pg=${t}`,responseType:""};return await If(a)}async searchByKeyword(e,t=""){const a=this;let n=""==t?this.getURLByKeyword:this.getURLByTId,r=""==t?e:t,i=await n(r,this.currentPage);console.log("~~~searchByKeyword",{keyword:e,tid:t,result:i});const o=i.response;if(!o)return this.resultText="结果:空",{};const s=Rf((new DOMParser).parseFromString(o,"application/xml"));let l=s?.rss?.class?.ty,d=s?.rss?.list?.video;if(!this.resultText&&l&&l.length>0&&(this.groupList=[],l.forEach((e=>{let t=e["@attributes"].id,a=e["#text"];!this.isInFilterKeyword([a])&&this.groupList.push({tid:t,name:a})}))),!d)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let e=s?.rss?.list["@attributes"],{page:t,pagecount:a,pagesize:n,recordcount:r}=e;this.currentPage=t,this.totalItems=a}catch(e){}if(d&&"Array"!=d?.constructor?.name){let e=JSON.parse(JSON.stringify(d));d=[],d.push(e)}return console.log({xmlObj:s,groupList:l,videoList:d}),this.videoList=[],d&&d.forEach(((e,t,n)=>{let r="",i="",o="",s="",l="",d="",c="",u="";try{r=e?.name["#cdata-section"]}catch(e){}try{i=e?.des["#cdata-section"]||"",i=i.trim()}catch(e){}try{o=e?.note["#cdata-section"]}catch(e){}try{s=e?.last["#text"]}catch(e){}try{d=e?.pic["#text"]}catch(e){}try{u=e?.year["#text"]}catch(e){}try{c=e?.type["#text"]}catch(e){}try{l=`${r}\n${o}\n${u||s}\n来源:${a.PLATFORM.NAME}\n${i}`}catch(e){}!this.isInFilterKeyword([c])&&this.videoList.push({des:i,note:o,info:l,pic:d,year:u,name:e?.name["#cdata-section"],id:e?.id["#text"],tid:e?.tid["#text"],type:e?.type["#text"],last:e?.last["#text"],url:`${Yf}?ac=videolist&ids=${e?.id["#text"]}`})})),console.log({videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}isInFilterKeyword(e){return!1}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=(await If(t)).response;const n=Rf((new DOMParser).parseFromString(a,"application/xml"));let r=n?.rss?.class?.ty,i=n?.rss?.list?.video;if(console.log({xmlObj:n,groupList:r,video:i}),!r&&!i)return{newGroup:null};let o=i?.dl?.dd,s="";"Array"==o.constructor.name&&o.length>0&&o.forEach(((e,t,a)=>{s=e["#cdata-section"]})),"Object"==o.constructor.name&&Object.keys(o).length>0&&(s=o["#cdata-section"]);let l={name:i?.name["#cdata-section"],id:i?.id["#text"],tid:i?.tid["#text"],type:i?.type["#text"],last:i?.last["#text"],url:this.getURLById(i?.id["#text"])},d={group:l.type,channel:{}};if(d.channel[l.name]=[],s){let e=s.split("#"),{id:t,tid:a,type:n}=l;e.forEach(((e,r,i)=>{let[o,s,...c]=e.split("$");d.channel[l.name].push({name:o,value:s,search:{id:t,tid:a,type:n,line:c.join(),from:this.PLATFORM.NAME}})}))}return{newGroup:d}}async searchDetailByVideoID(e){const t=this;const a={url:this.getURLById(e),responseType:""},n=(await If(a)).response;const r=Rf((new DOMParser).parseFromString(n,"application/xml"));r?.rss?.class?.ty;let i=r?.rss?.list?.video,o="",s="",l="",d="",c="",u="",h="",f="",p="",v="",m="";try{o=i?.name["#cdata-section"]}catch(e){}try{s=i?.des["#cdata-section"]||"",s=s.trim()}catch(e){}try{l=i?.note["#cdata-section"]}catch(e){}try{f=i?.actor["#cdata-section"]}catch(e){}try{p=i?.area["#text"]}catch(e){}try{v=i?.director["#cdata-section"]}catch(e){}try{m=i?.lang["#text"]}catch(e){}try{d=i?.last["#text"]}catch(e){}try{u=i?.pic["#text"]}catch(e){}try{h=i?.year["#text"]}catch(e){}try{c=`${o}\n${l}\n${h||d}\n来源:${t.PLATFORM.NAME}\n${s}`}catch(e){}let g={des:s,note:l,info:c,pic:u,year:h,actor:f,area:p,director:v,lang:m,name:i?.name["#cdata-section"],id:i?.id["#text"],tid:i?.tid["#text"],type:i?.type["#text"],last:i?.last["#text"],url:this.getURLById(i?.id["#text"])};for(const e in g)if(Object.hasOwnProperty.call(g,e)){let t=g[e]||"";g[e]=t,this.vInfo[e]=t}return console.log({xmlObj:r,video:i,vInfo:g}),{vInfo:g}}}const Xf=[{text:"百度资源库",value:"ZYBD"},{text:"天空资源网",value:"ZYTIANKONG"},{text:"红牛资源库",value:"ZYHN",ref:"ZYXML",apiUrl:"https://www.hongniuzy2.com/api.php/provide/vod/from/hnm3u8/at/xml/"},{text:"优质资源库",value:"ZYK1080",ref:"ZYXML",apiUrl:"https://api.1080zyku.com/inc/ldg_api_all.php"},{text:"云解析资源",value:"ZYYPARSE",children:[{text:"云播",value:"m3u8"},{text:"优酷",value:"youku"},{text:"腾讯",value:"qq"},{text:"奇艺",value:"qiyi"},{text:"芒果",value:"mgtv"},{text:"乐视",value:"letv"},{text:"PPTV",value:"pptv"},{text:"电影网",value:"m1905"},{text:"CNTV高清",value:"cntv"},{text:"搜狐",value:"sohu"},{text:"华数",value:"wasu"},{text:"新闻娱乐",value:"news"}]}],Zf=e=>{console.log("~~getMovieSearchInstance",{name:e,ZYlist:Qf,c:Qf[e]});for(const t of Xf)if(t.value==e){if(t.hasOwnProperty("ref")&&"ZYXML"==t.ref){const a={apiUrl:t.apiUrl,PLATFORM:{NAME:e}};return new Wf(a)}return new(0,Qf[e])}},Qf={ZYK1080:class{constructor(){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={}}async getURLByTId(e,t=1){const a={url:`${Uf}?ac=list&t=${e}&pg=${t}`,responseType:""};return await If(a)}getURLById(e){return`${Uf}?ac=videolist&ids=${e}`}async getURLByKeyword(e="",t=1){const a={url:`${Uf}?wd=${e}&pg=${t}`,responseType:""};return await If(a)}async searchByKeyword(e,t=""){let a=""==t?this.getURLByKeyword:this.getURLByTId,n=""==t?e:t,r=await a(n,this.currentPage);console.log("~~~searchByKeyword",{keyword:e,tid:t,result:r});const i=r.response;if(!i)return this.resultText="结果:空",{};const o=Rf((new DOMParser).parseFromString(i,"application/xml"));let s=o?.rss?.class?.ty,l=o?.rss?.list?.video;if(!this.resultText&&s&&s.length>0&&(this.groupList=[],s.forEach((e=>{this.groupList.push({tid:e["@attributes"].id,name:e["#text"]})}))),!l)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let e=o?.rss?.list["@attributes"],{page:t,pagecount:a,pagesize:n,recordcount:r}=e;this.currentPage=t,this.totalItems=a}catch(e){}if(l&&"Array"!=l?.constructor?.name){let e=JSON.parse(JSON.stringify(l));l=[],l.push(e)}return console.log({xmlObj:o,groupList:s,videoList:l}),this.videoList=[],l&&l.forEach(((e,t,a)=>{let n="",r="",i="",o="",s="",l="",d="";try{n=e?.name["#cdata-section"]}catch(e){}try{r=e?.des["#cdata-section"]}catch(e){}try{i=e?.note["#cdata-section"]}catch(e){}try{o=e?.last["#text"]}catch(e){}try{l=e?.pic["#text"]}catch(e){}try{d=e?.year["#text"]}catch(e){}try{s=`${n}\n${i}\n${d||o}\n${r.trim()}`}catch(e){}this.videoList.push({des:r,note:i,info:s,pic:l,year:d,name:e?.name["#cdata-section"],id:e?.id["#text"],tid:e?.tid["#text"],type:e?.type["#text"],last:e?.last["#text"],url:`${Uf}?ac=videolist&ids=${e?.id["#text"]}`})})),console.log({videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=(await If(t)).response;const n=Rf((new DOMParser).parseFromString(a,"application/xml"));let r=n?.rss?.class?.ty,i=n?.rss?.list?.video;if(console.log({xmlObj:n,groupList:r,video:i}),!r&&!i)return{newGroup:null};let o=i?.dl?.dd,s="";o&&o.forEach(((e,t,a)=>{"1080zyk"==e["@attributes"].flag&&(s=e["#cdata-section"])}));let l={name:i?.name["#cdata-section"],id:i?.id["#text"],tid:i?.tid["#text"],type:i?.type["#text"],last:i?.last["#text"],url:this.getURLById(i?.id["#text"])},d={group:l.type,channel:{}};if(d.channel[l.name]=[],s){let e=s.split("#"),{id:t,tid:a,type:n}=l;e.forEach(((e,r,i)=>{let[o,s,...c]=e.split("$");d.channel[l.name].push({name:o,value:s,search:{id:t,tid:a,type:n,line:c.join(),from:jf}})}))}return{newGroup:d}}async searchDetailByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=(await If(t)).response;const n=Rf((new DOMParser).parseFromString(a,"application/xml"));n?.rss?.class?.ty;let r=n?.rss?.list?.video,i="",o="",s="",l="",d="",c="",u="",h="",f="",p="",v="";try{i=r?.name["#cdata-section"]}catch(e){}try{o=r?.des["#cdata-section"],o=o.trim()}catch(e){}try{s=r?.note["#cdata-section"]}catch(e){}try{h=r?.actor["#cdata-section"]}catch(e){}try{f=r?.area["#text"]}catch(e){}try{p=r?.director["#cdata-section"]}catch(e){}try{v=r?.lang["#text"]}catch(e){}try{l=r?.last["#text"]}catch(e){}try{c=r?.pic["#text"]}catch(e){}try{u=r?.year["#text"]}catch(e){}try{d=`${i}\n${s}\n${u||l}\n${o}`}catch(e){}let m={des:o,note:s,info:d,pic:c,year:u,actor:h,area:f,director:p,lang:v,name:r?.name["#cdata-section"],id:r?.id["#text"],tid:r?.tid["#text"],type:r?.type["#text"],last:r?.last["#text"],url:this.getURLById(r?.id["#text"])};for(const e in m)if(Object.hasOwnProperty.call(m,e)){let t=m[e]||"";m[e]=t,this.vInfo[e]=t}return console.log({xmlObj:n,video:r,vInfo:m}),{vInfo:m}}},ZYTIANKONG:class{constructor(){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={}}getURLByTId(e,t=1){return`${zf}?ac=list&t=${e}&pg=${t}`}getURLById(e){return`${zf}?ac=detail&ids=${e}`}getURLByKeyword(e="",t=1){return`${zf}?wd=${e}&pg=${t}`}async searchByKeyword(e="",t=""){let a=""==t?e:t,n="";n=""==t?this.getURLByKeyword(a,this.currentPage):this.getURLByTId(a,this.currentPage);const r={url:n,responseType:""},i=await If(r);let{responseText:o}=i,s=JSON.parse(o);if(console.log("~~jsonResponse",{result:i,response:s}),!s)return this.resultText="结果:空",{};let l=s?.class,d=s?.list;if(!this.resultText&&l&&l.length>0&&(this.groupList=[],l.forEach((e=>{this.groupList.push({tid:e.type_id,name:e.type_name})}))),!d)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let{page:e,pagecount:t,pagesize:a,recordcount:n}=s;this.currentPage=e,this.totalItems=t}catch(e){}return this.videoList=[],d&&d.forEach(((e,t,a)=>{let n="",r="",i="",o="",s="",l="",d="";try{n=e?.vod_name}catch(e){}try{r=e?.vod_blurb||"",r=r.trim()}catch(e){}try{i=e?.vod_remarks}catch(e){}try{o=e?.vod_time}catch(e){}try{l=e?.vod_pic}catch(e){}try{d=e?.vod_year}catch(e){}try{s=`${n}\n${i}\n${d||o}\n来源:${Vf}\n${r}`}catch(e){}this.videoList.push({des:r,note:i,info:s,pic:l,year:d,name:e?.vod_name,id:e?.vod_id,tid:e?.type_id,type:e?.type_name,last:e?.vod_time,url:this.getURLById(e?.vod_id)})})),console.log({videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=await If(t);let n=a.response;console.log("~~jsonResponse",{result:a,responseText:n});let r=null;try{r=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:r}),!r)return this.resultText="结果:空",null;let i=r?.class,o=r?.list;if(console.log({response:r,groupList:i,videoList:o}),!i&&!o&&0==o.length)return{newGroup:null};let s=o[0],l=s?.vod_play_url.split("$$$").join("#"),d={des:s?.vod_blurb,note:s?.vod_sub,info:s?.vod_content,pic:s?.vod_pic,year:s?.vod_year,actor:s?.vod_actor,area:s?.vod_area,director:s?.vod_director,lang:s?.vod_lang,name:s?.vod_name,id:s?.vod_id,tid:s?.type_id,type:s?.type_name,last:s?.vod_time,url:this.getURLById(s?.vod_id)},c={group:d.type,channel:{}};if(c.channel[d.name]=[],l){let e=l.split("#"),{id:t,tid:a,type:n}=d;e.forEach(((e,r,i)=>{let[o,s,...l]=e.split("$");-1==s.indexOf("/share/")&&c.channel[d.name].push({name:o,value:s,search:{id:t,tid:a,type:n,line:l.join(),from:Vf.NAME}})}))}return{newGroup:c}}async searchDetailByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=await If(t);console.log("~~searchDetailByVideoID",a);let n=a.response;console.log("~~jsonResponse",{result:a,responseText:n});let r=null;try{r=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:r}),!r||!r.list||0==r?.list.length)return this.resultText="结果:空",null;let i=r?.list[0],o={des:i?.vod_blurb,note:i?.vod_sub,info:i?.vod_content,pic:i?.vod_pic,year:i?.vod_year,actor:i?.vod_actor,area:i?.vod_area,director:i?.vod_director,lang:i?.vod_lang,name:i?.vod_name,id:i?.vod_id,tid:i?.type_id,type:i?.type_name,last:i?.vod_time,url:this.getURLById(i?.vod_id)};for(const e in o)if(Object.hasOwnProperty.call(o,e)){const t=o[e]||"";o[e]=t,this.vInfo[e]=t}return console.log({response:r,video:i,vInfo:o}),{vInfo:o}}},ZYYPARSE:class{constructor(){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={},this.playfrom="qq"}getFullURL(){return"https://api.yparse.com/api/json/"+this.playfrom}getURLByTId(e,t=1){return`${this.getFullURL()}?ac=list&t=${e}&pg=${t}`}getURLById(e){return`${this.getFullURL()}?ac=videolist&ids=${e}`}getURLByKeyword(e="",t=1){return`${this.getFullURL()}?wd=${e}&pg=${t}`}retry(e=null,t=2e3){console.log("~~~~~!!!重新连接!!!~~~~~~",t),e&&setTimeout((()=>{e()}),t)}async searchByKeyword(e="",t="",a=3,n=null){const r=this;this.resultText="";let i=""==t?e:t,o="";o=""==t?this.getURLByKeyword(i,this.currentPage):this.getURLByTId(i,this.currentPage),If({url:o,responseType:""}).then((i=>{console.log("~~!!!!result",{result:i}),setTimeout((()=>{let o=i?.response;console.log("~~jsonResponse",{result:i,responseText:o});let s=null;try{s=JSON.parse(o)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:s}),!s)return a>0&&r.retry((()=>{r.searchByKeyword(e,t,--a,n)}),3e3),r.resultText="结果:空",n&&n(null),null;{let e=r.handle_keyword(s);n&&n(e)}}),1e3)})).catch((e=>{console.log("~~!!!!error",{error:e});let{status:t}=e;return r.resultText=`错误: Code: ${t} ${Gf[t]||""}，请稍后重试。`,n&&n(null),null}))}handle_keyword(e){const t=this;let a=e?.class,n=e?.list;if(!this.resultText&&a&&a.length>0&&(this.groupList=[],a.forEach((e=>{this.groupList.push({tid:e.type_id,name:e.type_name})}))),!n)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let{page:t,pagecount:a,pagesize:n,recordcount:r}=e;this.currentPage=t,this.totalItems=a}catch(e){}return this.videoList=[],n&&n.forEach(((e,a,n)=>{let r="",i="",o="",s="",l="",d="",c="";try{r=e?.vod_name}catch(e){}try{i=e?.vod_blurb||"",i=i.trim()}catch(e){}try{o=e?.vod_remarks}catch(e){}try{s=e?.vod_time}catch(e){}try{d=e?.vod_pic}catch(e){}try{c=e?.vod_year}catch(e){}try{l=`${r}\n${o}\n${c||s}\n来源:${t.playfrom}\n${i}`}catch(e){}this.videoList.push({des:i,note:o,info:l,pic:d,year:c,name:e?.vod_name,id:e?.vod_id,tid:e?.type_id,type:e?.type_name,last:e?.vod_time,url:this.getURLById(e?.vod_id)})})),console.log("结果：",{videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e,t=3,a=null){const n=this;this.resultText="";If({url:this.getURLById(e),responseType:""}).then((r=>{console.log("~~!!!!result",{result:r});let i=r?.response;console.log("~~jsonResponse",{result:r,responseText:i});let o=null;try{o=JSON.parse(i)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:o}),!o)return t>0&&n.retry((()=>{n.searchByVideoID(e,--t,a)}),2e3),n.resultText="结果:空",null;{let e=n.handle_videoID(o);a&&a(e)}})).catch((e=>(console.log("~~!!!!error",{error:e}),n.resultText="错误:请求被中断，请查看是否有请求跨域限制。",null)))}handle_videoID(e){let t=e?.class,a=e?.list;if(console.log({response:e,groupList:t,videoList:a}),!t&&!a&&0==a.length)return{newGroup:null};let n=a[0],r=n?.vod_play_url?.split("$$$").join("#"),i={des:n?.vod_blurb,note:n?.vod_sub,info:n?.vod_content,pic:n?.vod_pic,year:n?.vod_year,actor:n?.vod_actor,area:n?.vod_area,director:n?.vod_director,lang:n?.vod_lang,name:n?.vod_name,id:n?.vod_id,tid:n?.type_id,type:n?.type_name,last:n?.vod_time,url:this.getURLById(n?.vod_id)},o={group:i.type,channel:{}};o.channel[i.name]=[];let{id:s,tid:l,type:d}=i;if(r){r.split("#").forEach(((e,t,a)=>{let[n,r,...c]=e.split("$");-1==r.indexOf("/share/")&&o.channel[i.name].push({name:n,value:r,iframe:!0,search:{id:s,tid:l,type:d,line:c.join(),from:Hf,playfrom:this.playfrom}})}))}else o.channel[i.name].push({name:"空",value:"空",iframe:!0,search:{id:s,tid:l,type:d,from:Hf,playfrom:this.playfrom}});return{newGroup:o}}async searchDetailByVideoID(e,t=3){const a=this;this.resultText="";const n={url:this.getURLById(e),responseType:""},r=await If(n);console.log("~~searchDetailByVideoID",r);let i=r.response;console.log("~~jsonResponse",{result:r,responseText:i});let o=null;try{o=JSON.parse(i)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:o}),!o||!o.list||0==o?.list.length)return t>0&&a.retry((()=>{a.searchDetailByVideoID(e,--t)}),2e3),this.resultText="结果:空",{};let s=o?.list[0],l={des:s?.vod_blurb,note:s?.vod_sub,info:s?.vod_content,pic:s?.vod_pic,year:s?.vod_year,actor:s?.vod_actor,area:s?.vod_area,director:s?.vod_director,lang:s?.vod_lang,name:s?.vod_name,id:s?.vod_id,tid:s?.type_id,type:s?.type_name,last:s?.vod_time,url:this.getURLById(s?.vod_id)};for(const e in l)if(Object.hasOwnProperty.call(l,e)){const t=l[e]||"";l[e]=t,this.vInfo[e]=t}return console.log({response:o,video:s,vInfo:l}),{vInfo:l}}},ZYBD:class{constructor(){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={}}getURLByTId(e,t=1){return`${qf}?ac=list&t=${e}&pg=${t}`}getURLById(e){return`${qf}?ac=detail&ids=${e}`}getURLByKeyword(e="",t=1){return`${qf}?wd=${e}&pg=${t}`}async searchByKeyword(e="",t=""){let a=""==t?e:t,n="";n=""==t?this.getURLByKeyword(a,this.currentPage):this.getURLByTId(a,this.currentPage);const r={url:n,responseType:""},i=await If(r);let{responseText:o}=i,s=JSON.parse(o);if(console.log("~~jsonResponse",{result:i,response:s}),!s)return this.resultText="结果:空",{};let l=s?.class,d=s?.list;if(!this.resultText&&l&&l.length>0&&(this.groupList=[],l.forEach((e=>{this.groupList.push({tid:e.type_id,name:e.type_name})}))),!d)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let{page:e,pagecount:t,pagesize:a,recordcount:n}=s;this.currentPage=e,this.totalItems=t}catch(e){}return this.videoList=[],d&&d.forEach(((e,t,a)=>{let n="",r="",i="",o="",s="",l="",d="";try{n=e?.vod_name}catch(e){}try{r=e?.vod_blurb||"",r=r.trim()}catch(e){}try{i=e?.vod_remarks}catch(e){}try{o=e?.vod_time}catch(e){}try{l=e?.vod_pic}catch(e){}try{d=e?.vod_year}catch(e){}try{s=`${n}\n${i}\n${d||o}\n来源:${Kf}\n${r}`}catch(e){}this.videoList.push({des:r,note:i,info:s,pic:l,year:d,name:e?.vod_name,id:e?.vod_id,tid:e?.type_id,type:e?.type_name,last:e?.vod_time,url:this.getURLById(e?.vod_id)})})),console.log({videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=await If(t);let n=a.response;console.log("~~jsonResponse",{result:a,responseText:n});let r=null;try{r=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:r}),!r)return this.resultText="结果:空",null;let i=r?.class,o=r?.list;if(console.log({response:r,groupList:i,videoList:o}),!i&&!o&&0==o.length)return{newGroup:null};let s=o[0],l=s?.vod_play_url.split("$$$").join("#"),d={des:s?.vod_blurb,note:s?.vod_sub,info:s?.vod_content,pic:s?.vod_pic,year:s?.vod_year,actor:s?.vod_actor,area:s?.vod_area,director:s?.vod_director,lang:s?.vod_lang,name:s?.vod_name,id:s?.vod_id,tid:s?.type_id,type:s?.type_name,last:s?.vod_time,url:this.getURLById(s?.vod_id)},c={group:d.type,channel:{}};if(c.channel[d.name]=[],l){let e=l.split("#"),{id:t,tid:a,type:n}=d;e.forEach(((e,r,i)=>{let[o,s,...l]=e.split("$");-1==s.indexOf("/share/")&&c.channel[d.name].push({name:o,value:s,search:{id:t,tid:a,type:n,line:l.join(),from:Kf.NAME}})}))}return{newGroup:c}}async searchDetailByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=await If(t);console.log("~~searchDetailByVideoID",a);let n=a.response;console.log("~~jsonResponse",{result:a,responseText:n});let r=null;try{r=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:r}),!r||!r.list||0==r?.list.length)return this.resultText="结果:空",null;let i=r?.list[0],o={des:i?.vod_blurb,note:i?.vod_sub,info:i?.vod_content,pic:i?.vod_pic,year:i?.vod_year,actor:i?.vod_actor,area:i?.vod_area,director:i?.vod_director,lang:i?.vod_lang,name:i?.vod_name,id:i?.vod_id,tid:i?.type_id,type:i?.type_name,last:i?.vod_time,url:this.getURLById(i?.vod_id)};for(const e in o)if(Object.hasOwnProperty.call(o,e)){const t=o[e]||"";o[e]=t,this.vInfo[e]=t}return console.log({response:r,video:i,vInfo:o}),{vInfo:o}}}},Jf=Qf,$f={class:"body-content"},ep={key:0,class:"message-text"},tp=["title"],ap=["onClick"],np={key:0};const rp=0,ip=1,op={name:"SearchMedia",components:{},inject:["playerdata"],data:()=>({vInfo:{showLoading:!1},searchValue:"",resultText:"",groupList:[],videoList:[],listType:ip,currentPage:1,totalItems:0,showPageSize:6,retryTimes:5,typeid:"",fieldValue:"红牛资源库",cascaderValue:"",showDropdownMenu:!1,showResult:!0,platformName:"ZYHN",platformValue:"qq",platformOption:Xf}),computed:{dataSource(){return Zf(this.platformName)},resultList(){return[this.groupList,this.videoList][this.listType]},showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={showLoading:!1};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){},created(){},methods:{open(){let{vParserURL:e,videoInstanceList:t,activeVideoDOM:a}=this.playerdata;this.vInfo.PARSER=e,console.log("~~open:searchMedia",[this.vInfo.PARSER]);try{this.platformValue=this.dataSource.playfrom}catch(e){console.log("~~error:searchMedia",e)}},loadingClick(){this.vInfo.showLoading=!1},scrollTop(){document.querySelector(".van-dialog__content").scrollTop=0},dropdownOpen(){this.showDropdownMenu=!0,this.showResult=!1},dropdownFinish(e){let{selectedOptions:t}=e;if(this.showDropdownMenu=!1,this.showResult=!0,this.videoList=[],this.groupList=[],this.totalItems=0,this.currentPage=1,this.listType=ip,this.resultText="",t&&0==t.length)return;let a=t.length;console.log("~~已选中：",t,this.fieldValue);const{text:n,value:r}=t[0];if(this.fieldValue=n,this.platformName=r,a>1){this.fieldValue=t.map((e=>e.text)).join("/"),this.platformValue=t[a-1].value;try{this.dataSource.playfrom=`${this.platformValue}`}catch(e){console.log("~~error:dropdownFinish",e)}}console.log("~~dropdownFinish:",e,this.platformName,this.fieldValue,this.platformValue)},pageChange(e){console.log("~~pageChange:",e),this.currentPage=e,this.dataSource.currentPage=this.currentPage,this.onSearchMedia(this.searchValue,this.typeid)},groupClick(e){console.log("~~groupClick:",e,this.listType,this.groupList),this.listType==ip&&this.groupList.length>0?(this.listType=rp,this.currentPage=1):this.listType==ip&&0==this.groupList.length?(this.onSearchMedia(),this.listType=rp):this.listType=ip},itemTypeClick(e){console.log("~~itemTypeClick:",e);let{tid:t}=e;this.currentPage=1,this.typeid=t,this.dataSource.currentPage=this.currentPage,this.onSearchMedia(this.searchValue,t)},async itemClick(e){const t=this;if(this.retryTimes=5,this.dataSource.currentPage=this.currentPage,this.listType==rp&&this.groupList.length>0)return void this.itemTypeClick(e);let a=await this.dataSource.searchByVideoID(e.id,this.retryTimes,(e=>{console.log("~~!!!!handleVIDResult：callback",{data:e}),t.handleVIDResult(e),this.vInfo.showLoading=!1}));a&&(console.log("~~!!!!handleVIDResult：await",{result:a}),t.handleVIDResult(a),this.vInfo.showLoading=!1),this.retryTimes||(this.vInfo.showLoading=!1)},handleVIDResult(e){let{newGroup:t}=e;console.log("~~newGroup",t);const a={cmd:"update-dataSource-playlist-from-3rd-party",data:t};t&&window.postMessage(a,window.location.origin)},async onSearchMedia(e=this.searchValue,t=""){const a=this;console.log("~~~onSearchMedia",{tid:t,keyword:e}),this.retryTimes=5,this.vInfo.showLoading=!0,this.resultText="",this.typeid=t,this.listType=ip;let n=await this.dataSource.searchByKeyword(e,t,this.retryTimes,(e=>{console.log("~~!!!!handleResult：callback",{data:e}),a.handleResult(e),this.vInfo.showLoading=!1}));n&&(console.log("~~!!!!handleResult：await",{result:n}),a.handleResult(n),this.vInfo.showLoading=!1),this.retryTimes||(this.vInfo.showLoading=!1),this.scrollTop()},handleResult(e){if(console.log("~~!!!!handleResult",{result:e}),!e)return void(this.resultText=this.dataSource.resultText||"");let{videoList:t,groupList:a,currentPage:n,totalItems:r}=e;this.videoList=t||[],this.groupList=a||[],this.currentPage=n||1,this.totalItems=r||0,console.log("~~~handleResult",{videoList:this.videoList,groupList:this.groupList,currentPage:n,totalItems:r})}}};a(5109);const sp=(0,Kc.Z)(op,[["render",function(e,t,a,n,r,i){const o=vn("van-field"),s=vn("van-cascader"),l=vn("van-popup"),d=vn("van-icon"),c=vn("van-search"),u=vn("van-loading"),h=vn("van-cell"),f=vn("van-cell-group"),p=vn("van-pagination");return pr(),br(lr,null,[Ir(" 标题 "),kr("div",null,[kr("div",null,[Ar(o,{modelValue:r.fieldValue,"onUpdate:modelValue":t[0]||(t[0]=e=>r.fieldValue=e),"is-link":"",readonly:"",label:"资源库",placeholder:"请选择搜索资源库",onClick:i.dropdownOpen},null,8,["modelValue","onClick"]),hn(Ar(l,{round:"",position:"bottom"},{default:ma((()=>[Ar(s,{modelValue:r.cascaderValue,"onUpdate:modelValue":t[1]||(t[1]=e=>r.cascaderValue=e),title:"请选择资源库","show-header":!1,options:r.platformOption,onClose:t[2]||(t[2]=e=>r.showDropdownMenu=!1),onFinish:i.dropdownFinish},null,8,["modelValue","options","onFinish"])])),_:1},512),[[ns,r.showDropdownMenu]])]),Ar(c,{modelValue:r.searchValue,"onUpdate:modelValue":t[3]||(t[3]=e=>r.searchValue=e),placeholder:"请输入搜索关键词",onSearch:i.onSearchMedia},{label:ma((()=>[Ar(d,{style:{cursor:"pointer"},color:"white",title:"显示分类",name:"bars",onClick:i.groupClick},null,8,["onClick"])])),_:1},8,["modelValue","onSearch"]),r.vInfo.showLoading?(pr(),_r(u,{key:0,class:"van-loading-custom",vertical:"",onClick:i.loadingClick},{default:ma((()=>[Cr("加载中...")])),_:1},8,["onClick"])):Ir("v-if",!0)]),Ir(" 搜索 "),kr("div",$f,[r.resultText.length>0?(pr(),br("span",ep,y(r.resultText),1)):Ir("v-if",!0),r.showResult&&i.resultList&&i.resultList.length>0?(pr(),_r(f,{key:1},{default:ma((()=>[(pr(!0),br(lr,null,bn(i.resultList,((e,t)=>(pr(),_r(h,{key:t+e,class:"",title:e.name,value:e.type,onClick:t=>i.itemClick(e)},{title:ma((()=>[kr("span",{title:e.info||e.des||e.name,class:"van-text-ellipsis",style:{"max-width":"210px"}},y(t+1+(r.currentPage-1)*i.resultList.length)+".《"+y(e.name)+"》"+y(e.note),9,tp)])),value:ma((()=>[kr("span",{onClick:as((t=>i.itemTypeClick(e)),["stop"])},y(e.type),9,ap)])),_:2},1032,["title","value","onClick"])))),128))])),_:1})):Ir("v-if",!0)]),Ir(" 分页 "),r.totalItems>0?(pr(),br("div",np,[Ar(p,{modelValue:r.currentPage,"onUpdate:modelValue":t[4]||(t[4]=e=>r.currentPage=e),"total-items":r.totalItems,"show-page-size":r.showPageSize,onChange:i.pageChange},{"prev-text":ma((()=>[Ar(d,{name:"arrow-left"})])),"next-text":ma((()=>[Ar(d,{name:"arrow"})])),page:ma((({text:e})=>[Cr(y(e),1)])),_:1},8,["modelValue","total-items","show-page-size","onChange"])])):Ir("v-if",!0)],64)}],["__scopeId","data-v-4d64318d"]]),lp=e=>(pa("data-v-ab45fde2"),e=e(),va(),e),dp=lp((()=>kr("span",{class:"label-field"},"资源数据信息",-1))),cp=lp((()=>kr("span",{class:"label-field"},"辅助",-1))),up={class:"group-switch"},hp={class:"text-switch"},fp=lp((()=>kr("span",null,"跳过片头片尾",-1))),pp={class:"text-switch"},vp=lp((()=>kr("span",null,"自动连播",-1)));const mp={name:"Setting",components:{},inject:["playerdata"],emits:["dialogCallback"],data:()=>({vInfo:{SKIP_OPEN_END:!0,AUTO_PLAY:!0,channelName:"",grouplName:"",lineName:"",fromName:"",videoURL:"",timeOPEN:null,timeEND:null,timeUPDATE:null},formatTime:Af,formateSecToHourMin:Lf}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={SKIP_OPEN_END:!0,AUTO_PLAY:!0,channelName:"",grouplName:"",lineName:"",fromName:"",videoURL:"",timeOPEN:null,timeEND:null,timeUPDATE:null};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{getCurrentTime(e){let{videoDOM:t}=this.playerdata;this.vInfo[e]=t.currentTime,console.log("getCurrentTime",{videoDOM:t,currentTime:this.vInfo[e]})},update(e){console.log("update",e);let{activePLTab:t,activeChannel:a,activeCategory:n,activeLine:r,activeVideoDOM:i,sourceNameList:o,videoInstanceList:s}=this.playerdata,l=this.playerdata[o[t]],{group:d,channel:c}=l[n],u=c[Object.keys(c)[a]];u[r].name=this.vInfo.lineName,u[r].value=this.vInfo.videoURL,u[r].SKIP_OPEN_END=this.vInfo.SKIP_OPEN_END,u[r].AUTO_PLAY=this.vInfo.AUTO_PLAY,u[r].timeOPEN=this.vInfo.timeOPEN,u[r].timeEND=this.vInfo.timeEND,u[r].timeUPDATE=this.vInfo.timeUPDATE,u.forEach((e=>{e.SKIP_OPEN_END=this.vInfo.SKIP_OPEN_END,e.AUTO_PLAY=this.vInfo.AUTO_PLAY,e.timeOPEN=parseFloat(this.vInfo.timeOPEN)||0,e.timeEND=parseFloat(this.vInfo.timeEND)||0,e.timeUPDATE=parseFloat(this.vInfo.timeUPDATE)||0})),this.$notify({type:"success",className:"custom-notify",message:"设置成功！"}),this.$emit("dialogCallback")},open(){let{activePLTab:e,activeChannel:t,activeCategory:a,activeLine:n,sourceNameList:r}=this.playerdata,i=this.playerdata[r[e]],{group:o,channel:s}=i[a],l=Object.keys(s)[t],d=s[l];-1==n&&(n=0);let{name:c,value:u,SKIP_OPEN_END:h,AUTO_PLAY:f,timeOPEN:p,timeEND:v,timeUPDATE:m}=d[n];try{let{search:{from:e,id:t,playfrom:a}}=d[n];this.vInfo.fromName=`${e||"未知"}(${a||""}):${t}`}catch(e){}this.vInfo.channelName=l,this.vInfo.grouplName=o,this.vInfo.lineName=c,this.vInfo.videoURL=u,this.vInfo.SKIP_OPEN_END=h||!1,this.vInfo.AUTO_PLAY=f||!1,this.vInfo.timeOPEN=p,this.vInfo.timeEND=v,this.vInfo.timeUPDATE=m,console.log("open",[o,l,d,this.playerdata],{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:r,dataSource:i})}}};a(232);const gp=(0,Kc.Z)(mp,[["render",function(e,t,a,n,r,i){const o=vn("van-field"),s=vn("van-switch"),l=vn("van-button");return pr(),br("div",null,[Ar(o,{class:"field-bg",readonly:""},{input:ma((()=>[dp])),_:1}),Ar(o,{modelValue:r.vInfo.channelName,"onUpdate:modelValue":t[0]||(t[0]=e=>r.vInfo.channelName=e),label:"名称",placeholder:"名称..."},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.grouplName,"onUpdate:modelValue":t[1]||(t[1]=e=>r.vInfo.grouplName=e),label:"类型",placeholder:"类型...",readonly:""},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.lineName,"onUpdate:modelValue":t[2]||(t[2]=e=>r.vInfo.lineName=e),label:"线路",placeholder:"线路..."},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.videoURL,"onUpdate:modelValue":t[3]||(t[3]=e=>r.vInfo.videoURL=e),label:"地址",rows:"3",autosize:"",type:"textarea",spellcheck:!1,placeholder:"http://...",style:{"line-height":"15px"}},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.fromName,"onUpdate:modelValue":t[4]||(t[4]=e=>r.vInfo.fromName=e),label:"来源",placeholder:"来源..."},null,8,["modelValue"]),Ar(o,{class:"field-bg",readonly:""},{input:ma((()=>[cp])),_:1}),Ar(o,{name:"",label:""},{input:ma((()=>[kr("span",up,[kr("span",hp,[fp,Ar(s,{modelValue:r.vInfo.SKIP_OPEN_END,"onUpdate:modelValue":t[5]||(t[5]=e=>r.vInfo.SKIP_OPEN_END=e),size:"20"},null,8,["modelValue"])]),kr("span",pp,[vp,Ar(s,{modelValue:r.vInfo.AUTO_PLAY,"onUpdate:modelValue":t[6]||(t[6]=e=>r.vInfo.AUTO_PLAY=e),size:"20"},null,8,["modelValue"])])])])),_:1}),Ar(o,{modelValue:r.vInfo.timeOPEN,"onUpdate:modelValue":t[8]||(t[8]=e=>r.vInfo.timeOPEN=e),name:"片头",label:"片头时刻",placeholder:"00:00:00"},{button:ma((()=>[Ir(' <van-slider v-model="vInfo.timeOPEN" active-color="#7232dd">\r\n                    <template #button>\r\n                        <div class="custom-button">{{ vInfo.timeOPEN }}</div>\r\n                    </template>\r\n                </van-slider> '),Ar(l,{size:"small",color:"#7232dd",onClick:t[7]||(t[7]=e=>i.getCurrentTime("timeOPEN"))},{default:ma((()=>[Cr("当前时刻")])),_:1})])),_:1},8,["modelValue"]),Ar(o,{modelValue:r.vInfo.timeEND,"onUpdate:modelValue":t[10]||(t[10]=e=>r.vInfo.timeEND=e),name:"片尾",label:"片尾时刻",placeholder:"00:00:00"},{button:ma((()=>[Ir(' <van-slider v-model="vInfo.timeEND" active-color="#7232dd">\r\n                    <template #button>\r\n                        <div class="custom-button">{{ vInfo.timeEND }}</div>\r\n                    </template>\r\n                </van-slider> '),Ar(l,{size:"small",color:"#7232dd",onClick:t[9]||(t[9]=e=>i.getCurrentTime("timeEND"))},{default:ma((()=>[Cr("当前时刻")])),_:1})])),_:1},8,["modelValue"]),Ar(o,{modelValue:r.vInfo.timeUPDATE,"onUpdate:modelValue":t[11]||(t[11]=e=>r.vInfo.timeUPDATE=e),name:"更新",label:"更新周期",placeholder:"周/10:00:00"},{button:ma((()=>[Ar(l,{size:"small",color:"#7232dd",onClick:i.getCurrentTime},{default:ma((()=>[Cr("当前时刻")])),_:1},8,["onClick"])])),_:1},8,["modelValue"]),Ar(o,{class:"sticky-bottom"},{input:ma((()=>[Ar(l,{size:"small",color:"#7232dd",onClick:i.update},{default:ma((()=>[Cr("更新")])),_:1},8,["onClick"])])),_:1})])}],["__scopeId","data-v-ab45fde2"]]);const yp={name:"UploadFile",components:{},inject:["playerdata"],data:()=>({fileList:[],acceptList:[".json",".xml",".m3u8",".m3u",".dpl",".txt"].join(","),urlSource:"",source:"",shareCode:""}),computed:{},mounted(){},unmounted(){},created(){},methods:{}};a(3287);const bp=(0,Kc.Z)(yp,[["render",function(e,t,a,n,r,i){const o=vn("van-uploader"),s=vn("van-field"),l=vn("van-button");return pr(),br("div",null,[Ar(s,{name:"uploader",label:"文件上传"},{input:ma((()=>[Ar(o,{modelValue:r.fileList,"onUpdate:modelValue":t[0]||(t[0]=e=>r.fileList=e),accept:r.acceptList},null,8,["modelValue","accept"])])),_:1}),Ar(s,{modelValue:r.acceptList,"onUpdate:modelValue":t[1]||(t[1]=e=>r.acceptList=e),name:"上传格式",label:"支持上传格式",readonly:""},null,8,["modelValue"]),Ar(s,{modelValue:r.urlSource,"onUpdate:modelValue":t[2]||(t[2]=e=>r.urlSource=e),name:"资源",label:"远程资源",placeholder:"http://..."},{button:ma((()=>[Ar(l,{size:"small",color:"#7232dd"},{default:ma((()=>[Cr("载入")])),_:1})])),_:1},8,["modelValue"]),Ar(s,{modelValue:r.shareCode,"onUpdate:modelValue":t[3]||(t[3]=e=>r.shareCode=e),name:"分享码",label:"分享码",placeholder:"code..."},{button:ma((()=>[Ar(l,{size:"small",color:"#7232dd"},{default:ma((()=>[Cr("载入")])),_:1})])),_:1},8,["modelValue"]),Ar(s,{modelValue:r.source,"onUpdate:modelValue":t[4]||(t[4]=e=>r.source=e),name:"",label:"",rows:"4",autosize:"",type:"textarea",placeholder:"粘贴文本..."},null,8,["modelValue"]),Ar(s,{class:"sticky-bottom"},{input:ma((()=>[Ar(l,{size:"small",color:"#7232dd"},{default:ma((()=>[Cr("载入")])),_:1})])),_:1})])}],["__scopeId","data-v-0443d12f"]]),_p=(e=>(pa("data-v-777bb0fa"),e=e(),va(),e))((()=>kr("span",{class:"text-field"},"列表名 ",-1))),Ep={class:"body-content"};const Tp={name:"ExportFile",components:{},inject:["playerdata"],data:()=>({tabsTitle:["电视","列表","资源库"],tabSelected:"列表",buttonList:[{name:"导出",label:"时空葫芦格式",ext:".json"},{name:"导出",label:"M3U8",ext:".m3u8"},{name:"导出",label:"PotPlayer",ext:".dpl"},{name:"导出",label:"自定义格式",ext:".txt"},{name:"导出",label:"XSPF",ext:".xspf"},{name:"导出",label:"mitv",ext:".mitv"},{name:"导出",label:"MTV",ext:".mtv"},{name:"导出",label:"TestN",ext:".txt"},{name:"导出",label:"HLFM",ext:".txt"},{name:"导出",label:"NewTV",ext:".txt"},{name:"导出",label:"TestC",ext:".txt"}],acceptList:[".json",".xml",".m3u8",".m3u"].join(","),fileName:"output",shareCode:""}),computed:{},mounted(){},unmounted(){},created(){},methods:{}};a(2143);const wp=(0,Kc.Z)(Tp,[["render",function(e,t,a,n,r,i){const o=vn("van-radio"),s=vn("van-radio-group"),l=vn("van-field"),d=vn("van-button");return pr(),br("div",null,[Ar(l,{name:"radio",label:""},{input:ma((()=>[_p,Ar(s,{modelValue:r.tabSelected,"onUpdate:modelValue":t[0]||(t[0]=e=>r.tabSelected=e),direction:"horizontal"},{default:ma((()=>[(pr(!0),br(lr,null,bn(r.tabsTitle,((e,t)=>(pr(),_r(o,{key:t,name:e},{default:ma((()=>[Cr(y(e),1)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])),_:1}),Ar(l,{modelValue:r.acceptList,"onUpdate:modelValue":t[1]||(t[1]=e=>r.acceptList=e),name:"导出格式",label:"支持导出格式",readonly:""},null,8,["modelValue"]),Ar(l,{modelValue:r.fileName,"onUpdate:modelValue":t[2]||(t[2]=e=>r.fileName=e),name:"文件名",label:"文件名",placeholder:"filename"},null,8,["modelValue"]),Ar(l,{modelValue:r.shareCode,"onUpdate:modelValue":t[3]||(t[3]=e=>r.shareCode=e),name:"分享码",label:"分享码",placeholder:"code..."},{button:ma((()=>[Ar(d,{size:"small",color:"#7232dd"},{default:ma((()=>[Cr("生成")])),_:1})])),_:1},8,["modelValue"]),kr("div",Ep,[(pr(!0),br(lr,null,bn(r.buttonList,((e,t)=>(pr(),_r(l,{key:t+e,name:e.name,label:e.label,placeholder:"filename"},{input:ma((()=>[kr("span",null,y(r.fileName+r.tabSelected+e.ext),1)])),button:ma((()=>[Ar(d,{size:"small",color:"#7232dd"},{default:ma((()=>[Cr("导出")])),_:1})])),_:2},1032,["name","label"])))),128))])])}],["__scopeId","data-v-777bb0fa"]]),Sp=wp;const xp={name:"AddGroup",components:{},inject:["playerdata"],data:()=>({groupName:""}),computed:{},mounted(){},unmounted(){},created(){},methods:{addNewGroup(){let{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n}=this.playerdata,r=this.playerdata[n[e]];console.log("addNewGroup",[this.groupName,this.playerdata],{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n,dataSource:r}),-1==r.findIndex((e=>e.group==this.groupName))&&r.push({group:this.groupName,channel:{}})}}};a(4632);const kp=(0,Kc.Z)(xp,[["render",function(e,t,a,n,r,i){const o=vn("van-button"),s=vn("van-field");return pr(),br("div",null,[Ar(s,{modelValue:r.groupName,"onUpdate:modelValue":t[0]||(t[0]=e=>r.groupName=e),name:"名称",label:"新分类名",placeholder:"新分类名..."},{button:ma((()=>[Ar(o,{size:"small",color:"#7232dd",onClick:i.addNewGroup},{default:ma((()=>[Cr("添加")])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])}],["__scopeId","data-v-7a9d0828"]]),Ap=(e=>(pa("data-v-6c74476c"),e=e(),va(),e))((()=>kr("span",{class:"label-field"},"资源数据信息",-1)));const Lp={name:"AddChannel",components:{},inject:["playerdata","playerThis"],data:()=>({vInfo:{groupName:"",channelName:"",lineName:"",videoURL:""}}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={groupName:""};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{async addNewChannel(){let{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n}=this.playerdata,r=this.playerdata[n[e]],{group:i="默认",channel:o}=r[a]||{},s=Object.keys(o);if(console.log("addNewChannel",[i,this.vInfo,this.playerdata],{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n,dataSource:r}),this.vInfo.channelName&&this.vInfo.lineName&&(-1==s.findIndex((e=>e==this.vInfo.channelName))&&(o[this.vInfo.channelName]=[]),-1==o[this.vInfo.channelName].findIndex((e=>e.name==this.vInfo.lineName))&&o[this.vInfo.channelName].push({name:this.vInfo.lineName,value:this.vInfo.videoURL})),!this.vInfo.channelName||!this.vInfo.lineName){let e=this.vInfo.channelName;try{e=await Cf(this.vInfo.videoURL)}catch(e){}let t=`${window.location.origin}?url=${this.vInfo.videoURL}&title=${e||""}&line=${this.vInfo.lineName}`;this.playerThis.parseURL(t)}},open(){let{activePLTab:e,activeCategory:t,sourceNameList:a}=this.playerdata,n=this.playerdata[a[e]],{group:r,channel:i}=n[t]||{};this.vInfo.groupName=r||""}}};a(8104);const Dp=(0,Kc.Z)(Lp,[["render",function(e,t,a,n,r,i){const o=vn("van-field"),s=vn("van-button");return pr(),br("div",null,[Ar(o,{class:"field-bg",readonly:""},{input:ma((()=>[Ap])),_:1}),Ar(o,{modelValue:r.vInfo.groupName,"onUpdate:modelValue":t[0]||(t[0]=e=>r.vInfo.groupName=e),label:"类型",placeholder:"类型..."},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.channelName,"onUpdate:modelValue":t[1]||(t[1]=e=>r.vInfo.channelName=e),label:"名称",placeholder:"名称..."},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.lineName,"onUpdate:modelValue":t[2]||(t[2]=e=>r.vInfo.lineName=e),label:"线路",placeholder:"线路..."},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.videoURL,"onUpdate:modelValue":t[3]||(t[3]=e=>r.vInfo.videoURL=e),label:"地址",rows:"3",autosize:"",type:"textarea",placeholder:"http://..."},null,8,["modelValue"]),Ar(o,{class:"sticky-bottom"},{input:ma((()=>[Ar(s,{size:"small",color:"#7232dd",onClick:i.addNewChannel},{default:ma((()=>[Cr("添加")])),_:1},8,["onClick"])])),_:1})])}],["__scopeId","data-v-6c74476c"]]),Cp=e=>(pa("data-v-4a9e9fc2"),e=e(),va(),e),Ip=["src","alt"],Rp={class:"content-box"},Op=Cp((()=>kr("span",null,"名称：",-1))),Pp=Cp((()=>kr("span",null,"类型：",-1))),Mp=Cp((()=>kr("span",null,"语言：",-1))),Np=Cp((()=>kr("span",null,"区域：",-1))),Bp=Cp((()=>kr("span",null,"年：",-1))),Fp=Cp((()=>kr("span",null,"导演：",-1))),Up=Cp((()=>kr("span",null,"演员：",-1))),jp=Cp((()=>kr("span",null,"简介：",-1)));const zp={name:"InfoChannel",components:{},inject:["playerdata"],data:()=>({vInfo:{pic:"",name:"",type:"",lang:"",area:"",year:"",director:"",actor:"",des:"",douban:"",imdb:""}}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else for(const e in this.vInfo)Object.hasOwnProperty.call(this.vInfo,e)&&(this.vInfo[e]="")}},mounted(){this.open()},unmounted(){},created(){},methods:{open(){document.querySelector(".content-box").scrollTop=0;let{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n}=this.playerdata,r=this.playerdata[n[e]],{group:i,channel:o}=r[a],s=Object.keys(o)[t],l=o[s];try{let{search:{id:e,from:t}}=l[0];console.log("~~~search",{id:e,from:t,movieSearch:Jf}),e&&t&&Zf(t).searchDetailByVideoID(e).then((e=>{this.vInfo=e.vInfo})).catch((e=>{}))}catch(e){console.log("~~~error",e)}console.log("open",[i,s,l,this.playerdata],{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n,dataSource:r})}}};a(6069);const Vp=(0,Kc.Z)(zp,[["render",function(e,t,a,n,r,i){const o=vn("van-field");return pr(),br("div",null,[Ar(o,{class:"cover-field"},{input:ma((()=>[kr("img",{src:r.vInfo.pic,alt:r.vInfo.name,class:"movie-cover"},null,8,Ip)])),_:1}),kr("div",Rp,[Ar(o,{readonly:""},{input:ma((()=>[kr("div",null,[Op,kr("span",null,y(r.vInfo.name),1)])])),_:1}),Ar(o,{readonly:""},{input:ma((()=>[kr("div",null,[Pp,kr("span",null,y(r.vInfo.type),1)]),kr("div",null,[Mp,kr("span",null,y(r.vInfo.lang),1)]),kr("div",null,[Np,kr("span",null,y(r.vInfo.area),1)]),kr("div",null,[Bp,kr("span",null,y(r.vInfo.year),1)])])),_:1}),Ar(o,{readonly:""},{input:ma((()=>[kr("div",null,[Fp,kr("span",null,y(r.vInfo.director),1)]),kr("div",null,[Up,kr("span",null,y(r.vInfo.actor),1)])])),_:1}),Ar(o,{readonly:""},{input:ma((()=>[kr("div",null,[jp,kr("span",null,y(r.vInfo.des),1)])])),_:1}),Ir(' <van-field v-model="douban" name="豆瓣" label="豆瓣" placeholder="豆瓣..." readonly />\r\n            <van-field v-model="imdb" name="IMDB" label="IMDB" placeholder="IMDB..." readonly /> ')])])}],["__scopeId","data-v-4a9e9fc2"]]),Gp=e=>(pa("data-v-61b1a3e6"),e=e(),va(),e),Hp=Gp((()=>kr("span",{class:"label-field"},"自动连接测试",-1))),qp=Gp((()=>kr("span",{class:"label-field"},"内嵌解析器",-1))),Kp={class:"text-switch"},Yp={class:"group-switch"},Wp={class:"text-switch"},Xp=Gp((()=>kr("span",null,"提示信息",-1))),Zp={class:"text-switch"},Qp=Gp((()=>kr("span",null,"重连",-1))),Jp={class:"text-switch"},$p=Gp((()=>kr("span",null,"自动跳过",-1))),ev={class:"text-switch"},tv=Gp((()=>kr("span",null,"统计错误",-1)));const av=[{name:"高速接口",category:1,url:"https://jx.jsonplayer.com/player/?url=",showType:3,mobile:1},{name:"综合/B站",category:1,url:"https://jx.bozrc.com:4433/player/?url=",showType:3},{name:"虾米(带广告)",url:"https://jx.xmflv.com/?url=",mobile:0},{name:"老板",url:"https://vip.laobandq.com/jiexi.php?url=",mobile:0},{name:"高清资源库",url:"https://vip.zykbf.com/?url=",mobile:0},{name:"红牛",url:"https://www.hnjiexi.com/m3u8/?url=",mobile:0},{name:"BL",url:"https://vip.bljiex.com/?v=",mobile:0},{name:"playerjy/B站",category:1,url:"https://jx.playerjy.com/?ads=0&url=",showType:3},{name:"M3U8",url:"https://jx.m3u8.tv/jiexi/?url=",mobile:0},{name:"百度云资源",url:"https://jx.jxbdzyw.com/m3u8/?url=",mobile:0},{name:"冰豆",url:"https://api.qianqi.net/vip/?url=",mobile:0},{name:"4K(带广告)",url:"https://jx.4kdv.com/?url=",mobile:1},{name:"爱豆",url:"https://jx.aidouer.net/?url=",mobile:1},{name:"纯净/B站",url:"https://z1.m1907.top/?eps=0&jx=",mobile:1},{name:"百域",url:"https://jx.618g.com/?url=",mobile:0},{name:"云端",url:"https://sb.5gseo.net/?url=",mobile:0},{name:"云析",url:"https://jx.yparse.com/index.php?url=",mobile:0},{name:"0523",url:"https://go.yh0523.cn/y.cy?url=",mobile:0},{name:"17云",url:"https://www.1717yun.com/jx/ty.php?url=",mobile:0},{name:"180",url:"https://jx.000180.top/jx/?url=",mobile:0},{name:"8090",url:"https://www.8090g.cn/?url=",mobile:0},{name:"CK",url:"https://www.ckplayer.vip/jiexi/?url=",mobile:0},{name:"CHok",url:"https://www.gai4.com/?url=",mobile:1},{name:"ckmov",url:"https://www.ckmov.vip/api.php?url=",mobile:0},{name:"H8",url:"https://www.h8jx.com/jiexi.php?url=",mobile:0},{name:"JY",url:"https://jx.playerjy.com/?url=",mobile:0},{name:"MAO",url:"https://www.mtosz.com/m3u8.php?url=",mobile:0},{name:"OK",url:"https://okjx.cc/?url=",mobile:1},{name:"PM",url:"https://www.playm3u8.cn/jiexi.php?url=",mobile:0},{name:"RDHK",url:"https://jx.rdhk.net/?v=",mobile:1},{name:"解析",url:"https://ckmov.ccyjjd.com/ckmov/?url=",mobile:0},{name:"解析la",url:"https://api.jiexi.la/?url=",mobile:0},{name:"诺讯",url:"https://www.nxflv.com/?url=",mobile:0},{name:"盘古",url:"https://www.pangujiexi.cc/jiexi.php?url=",mobile:0},{name:"七哥(带广告)",url:"https://jx.nnxv.cn/tv.php?url=",mobile:0},{name:"人人迷",url:"https://jx.blbo.cc:4433/?url=",mobile:1},{name:"思云",url:"https://jx.ap2p.cn/?url=",mobile:0},{name:"思古3",url:"https://jsap.attakids.com/?url=",mobile:1},{name:"听乐(带广告)",url:"https://jx.dj6u.com/?url=",mobile:1},{name:"维多",url:"https://jx.ivito.cn/?url=",mobile:0}],nv={name:"SettingPlayer",components:{},inject:["playerdata"],data:()=>({onlinePlayerLines:av,vInfo:{AUTO_RECONNTECT:!0,AUTO_PLAY:!0,AUTO_TIPS:!0,AUTO_COUNT:!0,PARSER:"",timeRECON:3,timeRECON_NUMBER:5,threads:6}}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={AUTO_RECONNTECT:!0,AUTO_PLAY:!0,AUTO_TIPS:!0,AUTO_COUNT:!0,PARSER:this.vInfo.PARSER,timeRECON:3,timeRECON_NUMBER:5,threads:6};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{chooseParser(e){console.log("~~chooseParser",e,this.vInfo.PARSER);let{activePLTab:t,activeChannel:a,activeCategory:n,activeLine:r,vParserURL:i,sourceNameList:o,activeVideoDOM:s,videoInstanceList:l}=this.playerdata,d=l[s],c=this.playerdata[o[d.tab.id]],{group:u,channel:h}=c[d.group.id],f=h[Object.keys(h)[d.channel.id]];this.playerdata.vParserURL=e,d&&1==d?.iframe?.show&&(d.iframe.url=e+f[d.line.id].value)},update(e){console.log("~~update:setPlayer",e)},open(){let{vParserURL:e}=this.playerdata;this.vInfo.PARSER=e,console.log("~~open:setPlayer",[this.vInfo.PARSER])}}};a(7291);const rv=(0,Kc.Z)(nv,[["render",function(e,t,a,n,r,i){const o=vn("van-field"),s=vn("van-radio"),l=vn("van-radio-group"),d=vn("van-switch"),c=vn("van-button");return pr(),br("div",null,[Ar(o,{class:"field-bg",readonly:""},{input:ma((()=>[Hp])),_:1}),Ar(o,{modelValue:r.vInfo.threads,"onUpdate:modelValue":t[0]||(t[0]=e=>r.vInfo.threads=e),name:"线程数",label:"线程数",placeholder:"同时进行测试线程数..."},null,8,["modelValue"]),Ar(o,{class:"field-bg",readonly:""},{input:ma((()=>[qp])),_:1}),Ar(o,null,{input:ma((()=>[Ar(l,{modelValue:r.vInfo.PARSER,"onUpdate:modelValue":t[1]||(t[1]=e=>r.vInfo.PARSER=e),direction:"horizontal",onChange:i.chooseParser},{default:ma((()=>[kr("span",Kp,[Ar(s,{name:""},{default:ma((()=>[Cr("空")])),_:1})]),(pr(!0),br(lr,null,bn(r.onlinePlayerLines,((e,t)=>(pr(),br("span",{key:t+e.name,class:"text-switch"},[Ar(s,{name:e.url},{default:ma((()=>[Cr(y(e.name),1)])),_:2},1032,["name"])])))),128))])),_:1},8,["modelValue","onChange"])])),_:1}),Ar(o,null,{input:ma((()=>[kr("span",Yp,[kr("span",Wp,[Xp,Ar(d,{modelValue:r.vInfo.AUTO_TIPS,"onUpdate:modelValue":t[2]||(t[2]=e=>r.vInfo.AUTO_TIPS=e),size:"20"},null,8,["modelValue"])]),kr("span",Zp,[Qp,Ar(d,{modelValue:r.vInfo.AUTO_RECONNTECT,"onUpdate:modelValue":t[3]||(t[3]=e=>r.vInfo.AUTO_RECONNTECT=e),size:"20"},null,8,["modelValue"])]),kr("span",Jp,[$p,Ar(d,{modelValue:r.vInfo.AUTO_PLAY,"onUpdate:modelValue":t[4]||(t[4]=e=>r.vInfo.AUTO_PLAY=e),size:"20"},null,8,["modelValue"])]),kr("span",ev,[tv,Ar(d,{modelValue:r.vInfo.AUTO_COUNT,"onUpdate:modelValue":t[5]||(t[5]=e=>r.vInfo.AUTO_COUNT=e),size:"20"},null,8,["modelValue"])])])])),_:1}),Ar(o,{modelValue:r.vInfo.timeRECON_NUMBER,"onUpdate:modelValue":t[6]||(t[6]=e=>r.vInfo.timeRECON_NUMBER=e),name:"重连次数",label:"重连次数",placeholder:"重连次数..."},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.timeRECON,"onUpdate:modelValue":t[7]||(t[7]=e=>r.vInfo.timeRECON=e),name:"重连时间间隔",label:"重连时间间隔",placeholder:"网络重连间隔时间...(秒)"},null,8,["modelValue"]),Ar(o,{class:"sticky-bottom"},{input:ma((()=>[Ar(c,{size:"small",color:"#7232dd",onClick:i.update},{default:ma((()=>[Cr("启动")])),_:1},8,["onClick"])])),_:1})])}],["__scopeId","data-v-61b1a3e6"]]),iv=e=>(pa("data-v-053ba96d"),e=e(),va(),e),ov=iv((()=>kr("span",{class:"label-field"},"自动连接测试",-1))),sv=iv((()=>kr("span",{class:"label-field"},"播放报错处理",-1))),lv={class:"group-switch"},dv={class:"text-switch"},cv=iv((()=>kr("span",null,"提示信息",-1))),uv={class:"text-switch"},hv=iv((()=>kr("span",null,"重连",-1))),fv={class:"text-switch"},pv=iv((()=>kr("span",null,"自动跳过",-1))),vv={class:"text-switch"},mv=iv((()=>kr("span",null,"统计错误",-1)));const gv={name:"AutoTestPlayList",components:{},inject:["playerdata"],data:()=>({vInfo:{AUTO_RECONNTECT:!0,AUTO_PLAY:!0,AUTO_TIPS:!0,AUTO_COUNT:!0,SHOW_REPORT:!0,timeRECON:3,timeRECON_NUMBER:5,threads:6,runBtnText:"启动",stopBtnText:"停止",isRun:!1,isPaused:!1}}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e},runBtnText(){return this.vInfo.isPaused?"暂停":this.vInfo.isRun?"继续":"启动"},runBtnColor(){return this.vInfo.isPaused?"#d5a82b":(this.vInfo.isRun,"green")}},watch:{showDialog(e,t){if(e)this.open();else{let e={AUTO_RECONNTECT:!0,AUTO_PLAY:!0,AUTO_TIPS:!0,AUTO_COUNT:!0,SHOW_REPORT:!0,timeRECON:3,timeRECON_NUMBER:5,threads:6,runBtnText:"启动",stopBtnText:"停止",isRun:!1,isPaused:!1};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{update(e){console.log("~~update",[this.vInfo.isRun,this.runBtnText,e]),this.vInfo.isRun=!0,this.vInfo.isPaused^=!0},stop(e){console.log("~~stop",[this.vInfo.isRun,this.runBtnText,e]),this.vInfo.isRun=!1,this.vInfo.isPaused=!1},open(){console.log("~~open")}}};a(4344);const yv={name:"Player",components:{SearchMedia:sp,Setting:gp,UploadFile:bp,ExportFile:Sp,AddGroup:kp,AddChannel:Dp,InfoChannel:Vp,SettingPlayer:rv,AutoTestPlayList:(0,Kc.Z)(gv,[["render",function(e,t,a,n,r,i){const o=vn("van-field"),s=vn("van-switch"),l=vn("van-button");return pr(),br("div",null,[Ar(o,{class:"field-bg",readonly:""},{input:ma((()=>[ov])),_:1}),Ar(o,{modelValue:r.vInfo.threads,"onUpdate:modelValue":t[0]||(t[0]=e=>r.vInfo.threads=e),name:"线程数",label:"线程数",placeholder:"同时进行测试线程数..."},null,8,["modelValue"]),Ar(o,{class:"field-bg",readonly:""},{input:ma((()=>[sv])),_:1}),Ar(o,null,{input:ma((()=>[kr("span",lv,[kr("span",dv,[cv,Ar(s,{modelValue:r.vInfo.AUTO_TIPS,"onUpdate:modelValue":t[1]||(t[1]=e=>r.vInfo.AUTO_TIPS=e),size:"20"},null,8,["modelValue"])]),kr("span",uv,[hv,Ar(s,{modelValue:r.vInfo.AUTO_RECONNTECT,"onUpdate:modelValue":t[2]||(t[2]=e=>r.vInfo.AUTO_RECONNTECT=e),size:"20"},null,8,["modelValue"])]),kr("span",fv,[pv,Ar(s,{modelValue:r.vInfo.AUTO_PLAY,"onUpdate:modelValue":t[3]||(t[3]=e=>r.vInfo.AUTO_PLAY=e),size:"20"},null,8,["modelValue"])]),kr("span",vv,[mv,Ar(s,{modelValue:r.vInfo.AUTO_COUNT,"onUpdate:modelValue":t[4]||(t[4]=e=>r.vInfo.AUTO_COUNT=e),size:"20"},null,8,["modelValue"])])])])),_:1}),Ar(o,{modelValue:r.vInfo.timeRECON_NUMBER,"onUpdate:modelValue":t[5]||(t[5]=e=>r.vInfo.timeRECON_NUMBER=e),name:"重连次数",label:"重连次数",placeholder:"重连次数..."},null,8,["modelValue"]),Ar(o,{modelValue:r.vInfo.timeRECON,"onUpdate:modelValue":t[6]||(t[6]=e=>r.vInfo.timeRECON=e),name:"重连时间间隔",label:"重连时间间隔",placeholder:"网络重连间隔时间...(秒)"},null,8,["modelValue"]),Ar(o,{label:"生成报告"},{input:ma((()=>[Ar(s,{modelValue:r.vInfo.SHOW_REPORT,"onUpdate:modelValue":t[7]||(t[7]=e=>r.vInfo.SHOW_REPORT=e),size:"20"},null,8,["modelValue"])])),_:1}),Ar(o,null,{input:ma((()=>[Ar(l,{style:{"margin-right":"5px"},size:"small",color:i.runBtnColor,onClick:i.update},{default:ma((()=>[Cr(y(i.runBtnText),1)])),_:1},8,["color","onClick"]),r.vInfo.isRun?(pr(),_r(l,{key:0,size:"small",color:"red",onClick:i.stop},{default:ma((()=>[Cr(y(r.vInfo.stopBtnText),1)])),_:1},8,["onClick"])):Ir("v-if",!0)])),_:1})])}],["__scopeId","data-v-053ba96d"]])},provide(){return{playerdata:this.$data,playerThis:this}},data(){return{activePLTab:0,activeChannel:-1,activeCategory:0,activeLine:0,activeVideoDOM:0,showDialog:!1,showPlayList:!0,showPlayListGroup:!0,UIConfig:{showGroupCount:!1},videoDOM:null,videoInstanceList:[null],videoPlayerList:[],videoPlayerMeta:{duration:0,volume:1,currentTime:0,currentSrc:""},videoPlayerInstance:null,currentDataSourceName:"",currentChannelName:"",playlistSearchValue:"",formateSecToHourMin:Lf,dataSourceTV:Ff,dataSourcePLAYLIST:[],dataSourceCOLLECTION:[],dataSourceTHIRDPARTY:[],dataSourceExample:[{group:"分类1",channel:{频道名1:[{name:"线路1",value:"<url>",status:"畅通",currentTime:0}]}}],currentPlayItem:{tabId:0,groupId:-1,channelId:-1,lineId:-1},tabsTitle:["电视","列表","资源库"],currentDialogView:"SearchMedia",vParserURL:"https://jx.jsonplayer.com/player/?url=",iframeURL:"",dialogBox:{contentIndex:0,title:"",view:""},videoButtonList:{增视频屏:{icon:"plus",click:this.open_addScreen,component:"",showDialog:!1},减视频屏:{icon:"minus",click:this.open_removeScreen,component:"",showDialog:!1},设置播放器:{icon:"setting-o",click:this.open_settingPlayer,component:"SettingPlayer",showDialog:!0},搜索资源:{icon:"search",click:this.open_searchVideo,component:"SearchMedia",showDialog:!0},载入文件:{icon:"upgrade",click:this.open_uploadFile,component:"UploadFile",showDialog:!0},导出列表:{icon:"share-o",click:this.open_exportFile,component:"ExportFile",showDialog:!0},全屏:{icon:"enlarge",click:this.open_fullscreen,component:"",showDialog:!1}},localStorageKeyName:"app-crx-links-collector",sourceNameList:["dataSourceTV","dataSourcePLAYLIST","dataSourceTHIRDPARTY"]}},computed:{dataList(){return[this.dataSourceTV,this.dataSourcePLAYLIST,this.dataSourceTHIRDPARTY]},dataSource(){const e=this.activePLTab%this.tabsTitle.length;return this.dataList[e]},groupList(){var e=[];return this.dataSource&&this.dataSource.length>0&&this.dataSource.map((t=>{t.group&&e.push(t.group)})),e},channelList(){var e=Object.keys(this.dataSource[this.activeCategory]?.channel||{})||[];return this.playlistSearchValue&&(e=e.filter((e=>-1!=e.toLowerCase().indexOf(this.playlistSearchValue.toLowerCase())))),e},lineList(){let e=this.channelList[this.activeChannel],t=this.dataSource[this.activeCategory]?.channel[e];var a=[];return t?.forEach(((e,t,n)=>{e.name&&a.push(e.name)})),a},iframeScrolling(){return this.vParserURL?"no":"yes"}},mounted(){this.init()},unmounted(){},created(){},methods:{init(){this.loadStorage(),this.parseURL(),this.onMessage(),this.asyncPlayList(),this.screenEvent(),this.initVideoPlayerDOM(),this.unloadPage()},initVideoPlayerDOM(){const e=this;this.activeVideoDOM=0,this.$nextTick((()=>{const t=document.querySelectorAll(".media-player");this.videoDOM=t[this.activeVideoDOM],t.forEach(((t,a,n)=>{e.addVideoEventListener(t,a);try{let t=e.videoInstanceList[a].currentTime;t&&t>0&&(e.videoInstanceList[a].lastCurrentTime=parseFloat(t))}catch(e){console.log("~~~~error",e)}}))}))},screenEvent(){window.addEventListener("resize",(()=>{setTimeout((()=>{this.update_videoDOMList()}),500)}))},unloadPage(){const e=this,t=t=>{e.saveStorage(),t&&(t=t||window.event,console.log(t))};window.addEventListener("beforeunload",(e=>{console.log("~~beforeunload",e),t(e)})),window.addEventListener("unload",(e=>{console.log("~~unload",e),t(e)}))},addVideoEventListener(e,t=this.activeVideoDOM){const a=this;let n={loadedmetadata:n=>{console.log("loadedmetadata!",{vDOM:e,vInstanceIndex:t,vIList:a.videoInstanceList,event:n});let{lastCurrentTime:r,des:i}=a.videoInstanceList[t];r&&r>0&&r>e.currentTime&&(e.currentTime=r),a.videoInstanceList[t].error=!1,a.$notify({type:"success",className:"custom-notify",message:`正在播放：${i}`}),a.nextPlayLine(t,!1,!1)},error:e=>{console.log("播放error!",[e,a.videoInstanceList,this.videoDOM]);let n=window.location.href.split("#")[0];if(!this.videoDOM||!this.videoDOM.src||this.videoDOM.src==n)return;const{des:r}=this.videoInstanceList[t];a.$notify({type:"danger",className:"custom-notify",message:`错误：无法播放 ${r}`}),a.videoInstanceList[t].error=!0,a.nextPlayLine(t,!1,!0)},stalled:e=>{const{des:n}=this.videoInstanceList[t];console.log("播放stalled! 数据不可用!",{event:e}),a.$notify({type:"danger",className:"custom-notify",message:`错误：播放媒体数据 ${n} 不可用!`})},suspend:e=>{console.log("播放suspend! 数据中止!",{event:e})},ended:n=>{console.log("播放结束!",{vDOM:e,vInstanceIndex:t,vIList:a.videoInstanceList,event:n}),a.nextPlayLine(t)},timeupdate:n=>{try{let n=a.videoPlayerList[t].videoPlayerInstance?.bufferController?.details?.live;if(null!=n&&"undefined"!=n||(n=!1),a.videoInstanceList[t].live=n,0==n){a.videoInstanceList[t].currentTime=e.currentTime;let{SKIP_OPEN_END:n,AUTO_PLAY:r,timeOPEN:i,timeEND:o,timeUPDATE:s}=a.videoInstanceList[t].time;n&&i&&o&&i<o&&(e.currentTime<i&&(e.currentTime=i),e.currentTime>o&&a.nextPlayLine(t))}}catch(e){}}};Object.keys(n).forEach((t=>{e.addEventListener(t,n[t])}))},isLiveChannel(e){return 1==this.videoInstanceList[e]?.live},addNewGroupChannelData(e){const t=this;let a=[];a=t.dataSourceTHIRDPARTY.filter((t=>t.group==e.group)),0==a.length&&t.dataSourceTHIRDPARTY.push(e);let n=Object.keys(e.channel)[0];t.dataSourceTHIRDPARTY.map(((a,r)=>{if(a.group==e.group){a.channel={...a.channel,...e.channel},t.activeCategory=r,t.activeLine=-1;let i=Object.keys(a.channel),o=i.indexOf(n);t.activeChannel=-1!=o?o:i.length-1}})),t.$nextTick((()=>{t.activePLTab=2,t.saveStorage()})),a&&this.$notify({type:"success",className:"custom-notify",message:`已更新《${n}》到《${e.group}》分类中!`})},onWindowMessage(){const e=this;window.addEventListener("message",(function(t){if(t.origin!==window.location.origin||!t.data||!t.data.cmd)return;console.log("~~VideoPlayer:从("+t.origin+")，收到消息：",{e:t});let{tabId:a,cmd:n,data:r}=t.data;switch(n){case"delete-channel-from-playlist":console.log("~~~delete-channel-from-playlist事件：",{e:t,data:r});break;case"update-dataSource-playlist-from-3rd-party":console.log("~~~update-dataSource-playlist-from-3rd-party事件：",{e:t,data:r}),e.addNewGroupChannelData(r)}})),console.log("VideoPlayer:开始监听message通信事件")},onChromeMessage(){const e=this;try{chrome?.runtime?.onMessage?.addListener((function(t,a,n=null){if(t&&"update-dataSource-playlist"===t.cmd)e.dataSourcePLAYLIST=t.data,e.$nextTick((()=>{console.log("~~~update-dataSource-playlist事件：",{request:t})}))}))}catch(e){}},onMessage(){this.onWindowMessage(),this.onChromeMessage()},asyncPlayList(){this.$nextTick((()=>{const e={cmd:"update-dataSource-playlist",data:this.dataSourcePLAYLIST};try{chrome.runtime.sendMessage(e,null,(e=>{console.log("后台返回信息：",e)}))}catch(e){console.log("Error:发送信息到后台:",e)}}))},loadStorage(){const e=localStorage.getItem(this.localStorageKeyName),t=JSON.parse(e);console.log("~~loadStorage:",[this.$data,t]);for(const e in t)if(Object.hasOwnProperty.call(t,e)){const a=t[e];this[e]=a}this.update_videoDOMList()},saveStorage(){this.videoDOM=document.querySelectorAll(".media-player")[this.activeVideoDOM],this.videoPlayerMeta={duration:this.videoDOM?.duration,volume:this.videoDOM?.volume,currentTime:this.videoDOM?.currentTime,currentSrc:this.videoDOM?.currentSrc};const e={activePLTab:0,activeChannel:-1,activeCategory:0,activeLine:0,showPlayList:!0,showPlayListGroup:!0,currentChannelName:"",playlistSearchValue:"",vParserURL:"",dataSourcePLAYLIST:[],dataSourceCOLLECTION:[],dataSourceTHIRDPARTY:[],videoInstanceList:[]};Object.keys(e).forEach((t=>{e[t]=this.$data[t]})),console.log("saveStorage",{vueData:e}),localStorage.setItem(this.localStorageKeyName,JSON.stringify(e))},async parseURL(e=window.location.href){let[t,...a]=e.split("?"),n=a.join().split("&"),r={};for(let e of n){let[t,a]=e.split("=");r[t]=a}var{url:i,title:o="默认",line:s="线路",group:l="默认"}=r,d=l||"默认",c=1;s=`线路${c}`,i=decodeURIComponent(decodeURI(i)),o=decodeURIComponent(decodeURI(o)),s=decodeURIComponent(decodeURI(s)),console.log("~~~~parseURL:",{url:i,title:o,line:s,urlQueryObj:r});if(i&&/(http|https):\/\/([\w.]+\/?)\S*/gi.test(i)){this.activePLTab=1,this.activeCategory=this.groupList.indexOf(d),this.activeChannel=-1,this.activeLine=0,this.showPlayListGroup=this.dataSourcePLAYLIST.length>1;let t=!1;if(!r.hasOwnProperty("fileExt")){i=e.split("?url=")[1];let a=new RegExp(`(${["qq","bilibili","youku","iqiyi","mgtv"].join("|")})`,"gi");const{filename:n,fileExt:r}=Df(i),s=function(e,t=!1){let a={video:(e=e.toLowerCase()).match(/\.(wmv|asf|asx|rm|rmvb|mpg|mpeg|mpe|3gp|mov|mp4|m4v|avi|dat|mkv|flv|vob|m3u8|m4s|ts)/gi),audio:e.match(/\.(mp3|aac|wav|wma|cda|flac|m4a|mid|mka|mp2|mpa|mpc|ape|ofr|ogg|ra|wv|tta|ac3|dts)/gi),image:e.match(/\.(bmp|dib|pcp|dif|wmf|gif|jpg|tif|eps|psd|cdr|iff|tga|pcd|mpt|png|jpeg|tiff|pcx|exif|fpx|svg|dxf|ufo|ai|raw)/gi)};console.log("~getFileType:",a);for(let e in a)if(a[e]&&a[e].length>0)return t?a[e].join().slice(1):e;return"doc"}(n);let c=o||"默认";if("doc"==s&&""==o)try{c=await Cf(i)}catch(e){}let u=i.match(/https?:\/\/([^/]+)\//i)[1];console.log("~~~parseURL:iframe:",{pageTitle:c,url:i,originURL:u,groupName:d,group:l,filename:n,fileExt:r,fileType:s,isIframe:t}),c&&(o=c),null!=u&&(d=(l=u||"默认")||"默认",null!=u.match(a)&&"doc"==s&&(t=!0)),console.log("~~~parseURL:iframe2:",{title:o,url:i,originURL:u,groupName:d,group:l,filename:n,fileExt:r,fileType:s,isIframe:t})}0==this.dataSourcePLAYLIST.filter((e=>e.group==l)).length&&this.dataSourcePLAYLIST.push({group:d,channel:{[o]:[{name:s,value:i,iframe:t}]}}),this.activeCategory=this.groupList.indexOf(d),this.dataSourcePLAYLIST.map((e=>{if(e.group==d){let a=!1;for(const t in e.channel)if(t==o&&e.channel[t]){const n=e.channel[t].filter(((e,t)=>e.value==i));if(n&&n.length>0){a=!0;break}}a||(e.channel[o]||(e.channel[o]=[]),this.activeLine=e.channel[o].length,c=e.channel[o].length+1,s=`线路${c}`,e.channel[o].unshift({name:s,value:i,iframe:t}))}}));let a=this.channelList.indexOf(o);this.$notify({type:"success",className:"custom-notify",message:`已更新《${o}》到《${d}》分类中!`}),this.showChannel(a,o),this.saveStorage()}else this.activePLTab=0,this.activeCategory=0,this.activeChannel=-1},onPLTabsChange(e,t){console.log("onPLTabsChange",{index:e,title:t,route:this.$route}),this.activePLTab=e,this.groupList.length<=1&&(this.showPlayListGroup=!1,this.activeCategory=0);let a=this.videoInstanceList[this.activeVideoDOM];a&&a.tab.id==e?(this.activeCategory=a.group.id,this.activeChannel=a.channel.id,this.activeLine=a.line.id):(this.activeCategory=0,this.activeChannel=-1,this.activeLine=-1,this.videoInstanceList.forEach(((t,a,n)=>{this.activeVideoDOM!=a&&t&&t.tab.id==e&&(this.activeCategory=t.group.id,this.activeChannel=t.channel.id,this.activeLine=t.line.id)})))},onPlayListSearch(e){this.activeChannel=this.channelList.indexOf(this.currentChannelName)},removeGroup(e,t){this.dataSource.splice(t,1),this.saveStorage()},checkChannelError(e,t){const a=t[e];let n=!1;return a.forEach(((e,t,a)=>{e?.error&&(n=!0)})),n},showChannel(e,t){this.activeChannel=this.activeChannel!=e?e:-1,this.activeLine=-1;let{group:a,channel:n}=this.dataSource[this.activeCategory];this.currentChannelName=t;let r=n[t];console.log("showChannel",{index:e,currentChannel:r,activeChannel:this.activeChannel,channelKey:t,data:this.dataSource});let i=!1;if(this.videoInstanceList.forEach((e=>{e&&e.group.id==this.activeCategory&&e.channel.id==this.activeChannel&&e.line.id>-1&&(this.activeLine=e.line.id,i=!0)})),!i&&-1!=this.activeChannel){this.dataSource[this.activeCategory].channel[t]?.length<3&&this.lineClicked(0)}},infoChannel(e){console.log("~~infoChannel",{event:e,active:this.currentPlayItem,data:this.dataSource}),this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"InfoChannel")},settingChannel(e){console.log("~~settingChannel",{event:e,active:this.currentPlayItem,data:this.dataSource}),this.open_settingChannel(e)},updateChannel(e){console.log("~~updateChannel",{event:e,active:this.currentPlayItem,data:this.dataSource});let{group:t,channel:a}=this.dataSource[this.activeCategory],n=this.channelList[this.activeChannel],r=a[n];console.log("~~updateChannel:currentChannel",{currentChannel:r,channelName:n});try{let{name:e,type:t,search:{id:a,from:n}}=r[0];console.log("~~~search",{id:a,from:n,movieSearch:Jf}),a&&n&&(new Jf[n]).searchByVideoID(a).then((e=>{let{newGroup:t}=e;console.log("~~newGroup",t);const a={cmd:"update-dataSource-playlist-from-3rd-party",data:t};t&&window.postMessage(a,window.location.origin)})).catch((e=>{}))}catch(e){console.log("~~~error",e)}},removeChannel(e){console.log("~~removeChannel",{event:e,active:this.currentPlayItem,data:this.dataSource}),Reflect.deleteProperty(this.dataSource[this.activeCategory].channel,this.channelList[this.activeChannel]),this.saveStorage(),console.log("vue:data:",[this.$data,localStorage])},nextPlayLine(e=this.activeVideoDOM,t=!0,a=null){let n=this.videoInstanceList[e];if(!n)return;if(t)try{Reflect.deleteProperty(n,"lastCurrentTime")}catch(a){}console.log("nextPlayLine",{playItem:n,vInstanceIndex:e,dataSource:this.dataSource});let r=this.dataList[n.tab.id][n.group.id],i=r.channel[n.channel.name];if(1==a&&(i[n.line.id].error=!0),0==t&&0==a)return void(i[n.line.id].error=!1);if(0==t&&1==a)return;let o=Object.keys(r.channel),s=n.line.id;t&&++s,s>=i.length&&(n.channel.id=(n.channel.id+1)%o.length,n.channel.name=o[n.channel.id],i=r.channel[n.channel.name],s=0,this.activeChannel=n.channel.id),n.line.id=s%i.length,n.line.name=i[n.line.id].name,n.des=`${n.group.name}-${n.channel.name}-${n.line.name}`;let l=i[n.line.id]?.value;n.group.id==this.activeCategory&&n.channel.id==this.activeChannel&&(this.activeLine=n.line.id),this.playMedia(l,e),this.saveStorage()},lineClicked(e,t=this.activeVideoDOM){this.iframeSHOW=!1,this.activeLine=e;let a=this.updateCurrentPlayItemInfo();this.videoInstanceList[t]=a;let n=this.dataSource[a.group.id].channel[a.channel.name][a?.line?.id],r=n?.value,i=n?.iframe;if(console.log("lineClicked",{iframe:i,line:n,url:r,playItem:a,index:e,activeLine:this.activeLine,vIList:this.videoInstanceList}),this.videoDOM||(this.videoDOM=document.querySelectorAll(".media-player")[t]),1!=i)a.iframe.show=!1,a.iframe.url="",r&&(this.playMedia(r,t),this.updateDocumentTitle());else{this.videoDOM.muted=!0,this.videoDOM.pause(),this.videoDOM.src="";try{a.iframe.show=!0,a.iframe.url=this.vParserURL+r}catch(e){}}},categoryClicked(e){this.activeChannel=this.activeCategory!=e?-1:this.activeChannel,this.activeCategory=e;let t=this.videoInstanceList[this.activeVideoDOM];t&&t.tab.id==this.activePLTab&&this.activeCategory==t.group.id?(this.activeChannel=t.channel.id,this.activeLine=t.line.id):(this.activeChannel=-1,this.activeLine=-1,this.videoInstanceList.forEach(((e,t,a)=>{this.activeVideoDOM!=t&&e&&e.tab.id==this.activePLTab&&this.activeCategory==e.group.id&&(this.activeChannel=e.channel.id,this.activeLine=e.line.id)}))),console.log("categoryClicked",{index:e,activeCategory:this.activeCategory})},updateDocumentTitle(e=""){const t=e||this.videoInstanceList[this.activeVideoDOM]?.des||"时空葫芦播放器";document.title=t},updateCurrentPlayItemInfo(){this.currentPlayItem={tab:{id:this.activePLTab,name:this.tabsTitle[this.activePLTab]},group:{id:this.activeCategory,name:this.groupList[this.activeCategory]},channel:{id:this.activeChannel,name:this.channelList[this.activeChannel]},line:{id:this.activeLine,name:this.lineList[this.activeLine]},iframe:{show:!1,url:""}};let e=`${this.currentPlayItem.group.name}-${this.currentPlayItem.channel.name}-${this.currentPlayItem.line.name}`;this.currentPlayItem.des=e;let t=this.dataSource[this.currentPlayItem.group.id].channel[this.currentPlayItem.channel.name],{SKIP_OPEN_END:a,AUTO_PLAY:n,timeOPEN:r,timeEND:i,timeUPDATE:o}=t[this.currentPlayItem.line.id];return this.currentPlayItem.time={SKIP_OPEN_END:a,AUTO_PLAY:n,timeOPEN:parseFloat(r),timeEND:parseFloat(i),timeUPDATE:o},JSON.parse(JSON.stringify(this.currentPlayItem))},playMedia(e,t=this.activeVideoDOM){const a=this;1==this.videoInstanceList.length&&(this.activeVideoDOM=0),this.videoDOM=document.querySelectorAll(".media-player")[t];var{filename:n,fileExt:r}=Df(e),i=null;try{(i=this.videoPlayerList[t]).destroyVideo()}catch(e){}i=new Nf(this.videoDOM,this.videoInstanceList[t],e,r,((e,n)=>{console.log("~~hls~~ERROR",{event:e,data:n});const{des:r}=this.videoInstanceList[t],i="manifestLoadError"==n.details?"danger":"warning",o=`${"manifestLoadError"==n.details?"错误":"提示"}：${n.details} ${r}`;a.$notify({type:i,message:o,className:"custom-notify"}),a.videoInstanceList[t].error="danger"==i,a.nextPlayLine(t,!1,"danger"==i)})),this.videoPlayerList[t]=i,null==this.videoInstanceList[t]&&(this.videoInstanceList[t]=this.updateCurrentPlayItemInfo()),console.log("playMedia:",{fileExt:r,vDOM:this.videoDOM,vPlayer:i,vUrl:i?.url,vPInstance:i?.videoPlayerInstance,vInstance:this.videoInstanceList[t]})},videoClick(e){this.activeVideoDOM=e,this.videoDOM=document.querySelectorAll(".media-player")[this.activeVideoDOM],this.updateDocumentTitle();let t=this.videoInstanceList[this.activeVideoDOM];if(t){if(this.activePLTab=t.tab.id,this.activeCategory=t.group.id,this.activeChannel=t.channel.id,this.activeLine=t.line.id,3==this.videoDOM?.networkState){let{lastCurrentTime:t}=this.videoInstanceList[this.activeVideoDOM];this.lineClicked(this.activeLine,this.activeVideoDOM),this.videoMouseOver(e,!1),t&&t>0&&(this.videoInstanceList[this.activeVideoDOM].lastCurrentTime=parseFloat(t))}else this.videoMouseOver(e);1==t?.iframe?.show&&(this.videoDOM.muted=!0,this.videoDOM.pause(),this.videoDOM.src="",this.lineClicked(this.activeLine)),console.log("~~videoClick",{vindex:e,playItem:t,videoDOM:this.videoDOM,networkState:this.videoDOM?.networkState,vPlayerList:this.videoPlayerList,vInstanceList:this.videoInstanceList}),this.update_videoDOMList()}},videoMouseOver(e,t=!0){const a=document.querySelectorAll(".media-player"),n=a[e].networkState,r=a[e].paused;console.log("networkState",{vindex:e,networkState:n,paused:r}),t&&(3==n||r)||(this.videoInstanceList.length>1&&a.forEach(((t,a)=>{t.muted=e!=a})),1==this.videoInstanceList.length&&(a[0].muted=!1))},videoClose(e){console.log("videoClose",{vindex:e,vIList:this.videoInstanceList});try{this.videoPlayerList[e].destroyVideo()}catch(e){}try{this.videoPlayerList.splice(e,1),this.videoInstanceList.splice(e,1)}catch(e){}this.videoInstanceList.forEach(((e,t,a)=>{try{let t=e.currentTime;t&&t>0&&(e.lastCurrentTime=parseFloat(t))}catch(e){console.log("~~~~error",e)}})),this.saveStorage(),this.update_videoDOMList(),this.$nextTick((()=>{const e=document.querySelectorAll(".media-player");1==e.length&&(e[0].muted=!1),e.forEach(((e,t,a)=>{this.nextPlayLine(t,!1)}))}))},switchClick(){this.showPlayListGroup&&this.showPlayList?this.showPlayListGroup=!1:!this.showPlayListGroup&&this.showPlayList?this.showPlayList=!1:this.showPlayListGroup||this.showPlayList||(this.showPlayList=!0),setTimeout((()=>{this.update_videoDOMList()}),500)},open_dialogBox(e,t){setTimeout((()=>{this.dialogBox.title=e,this.dialogBox.contentIndex=e,this.currentDialogView=t,this.showDialog=!0}),100)},open_box(e){this.showDialog=!1;const{target:{title:t}}=e;console.log("~~open_box",{title:t,event:e,data:this.dataSource}),this.videoButtonList[t]&&this.videoButtonList[t].showDialog&&this.open_dialogBox(t,this.videoButtonList[t].component),this.videoButtonList[t]&&this.videoButtonList[t].click(e)},open_addGroup(e){this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"AddGroup")},open_addChannel(e){this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"AddChannel")},open_testChannel(e){this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"AutoTestPlayList")},open_uploadFile(e){console.log("~~open_uploadFile",{event:e,data:this.dataSource})},open_searchVideo(e){this.onPLTabsChange(2,this.tabsTitle[2]),this.showPlayList=!0,this.showPlayListGroup=!0,console.log("~~open_searchVideo",{event:e,data:this.dataSource})},open_settingChannel(e){console.log("~~open_settingChannel",{event:e,data:this.dataSource}),this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"Setting")},open_settingPlayer(e){console.log("~~open_settingPlayer",{event:e,data:this.dataSource}),this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"SettingPlayer")},open_exportFile(e){this.saveStorage(),console.log("~~open_exportFile",{event:e,data:this.dataSource})},open_addScreen(e){console.log("~~open_addScreen",{event:e,data:this.dataSource}),this.videoInstanceList.push(null),this.update_videoDOMList(),this.$nextTick((()=>{this.activeVideoDOM=this.videoInstanceList.length-1,this.videoDOM=document.querySelectorAll(".media-player")[this.activeVideoDOM],this.addVideoEventListener(this.videoDOM,this.activeVideoDOM)}))},open_removeScreen(e){console.log("~~open_removeScreen",{event:e,data:this.dataSource}),1!=this.videoInstanceList.length?(this.activeVideoDOM=this.videoInstanceList.length-1,this.videoClose(this.activeVideoDOM)):this.activeVideoDOM=0},open_fullscreen(e){console.log("~~open_fullscreen",{event:e,data:this.dataSource}),this.toggleFullScreen(),setTimeout((()=>{this.update_videoDOMList()}),500)},open_clearList(e){console.log("~~open_clearList",{event:e,data:this.dataSource})},toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},dialog_callback(){this.saveStorage()},setting_timeOPEN(e,t){console.log("setting_timeOPEN",{vindex:e,vIList:this.videoInstanceList});let a=this.videoDOM.currentTime;t.time.timeOPEN=a;let{channel:n}=this.dataSource[this.activeCategory];n[Object.keys(n)[this.activeChannel]].forEach((e=>{e.timeOPEN=parseFloat(a)||0,e.SKIP_OPEN_END=!0,e.AUTO_PLAY=!0})),this.$notify({type:"success",duration:8e3,className:"custom-notify",message:`已成功瞄点 ${Lf(a)} 为片头`})},setting_timeEND(e,t){console.log("setting_timeEND",{vindex:e,vIList:this.videoInstanceList});let a=this.videoDOM.currentTime;t.time.timeEND=a;let{channel:n}=this.dataSource[this.activeCategory];n[Object.keys(n)[this.activeChannel]].forEach((e=>{e.timeEND=parseFloat(a)||0,e.SKIP_OPEN_END=!0,e.AUTO_PLAY=!0})),this.$notify({type:"success",duration:8e3,className:"custom-notify",message:`已成功瞄点 ${Lf(a)} 为片尾`})},update_videoDOMList(){this.$nextTick((()=>{let e=3,t=33;const a=document.querySelectorAll(".video-player-box"),n=document.querySelector(".video-player-wrapper");a.length<5&&(e=2,t=50);const r=`height:calc(${Math.floor(100/Math.ceil(a.length/e))}% - 2px)`;n.style=r;const i=`width:calc(${Math.max(Math.floor(100/a.length),t)}% - 4px);height:100%;margin-inline:2px;`;a.forEach(((e,t)=>{let a=e.querySelector(".top-bar-tools");e.querySelector(".live-span").style.width=`calc( 100% - ${a.getBoundingClientRect().width}px )`,e.style=i;const n=e.getBoundingClientRect().top-45+"px",r=e.getBoundingClientRect().width-0+"px";e.querySelector(".top-media-info").style.top=n,e.querySelector(".top-media-info").style.width=r}))}))}}};a(8758);const bv={name:"VideoPlayer",components:{Header:Xh,Player:(0,Kc.Z)(yv,[["render",function(e,t,a,n,r,i){const o=vn("van-icon"),s=vn("van-dialog"),l=vn("van-col"),d=vn("van-cell"),c=vn("van-search"),u=vn("van-cell-group"),h=vn("van-row"),f=vn("van-tab"),v=vn("van-tabs");return pr(),br(lr,null,[Ir(" 播放器主体 "),Ar(h,{class:"height-90vh"},{default:ma((()=>[Ar(s,{show:r.showDialog,"onUpdate:show":t[1]||(t[1]=e=>r.showDialog=e),title:r.dialogBox.title,overlay:!0,"confirm-button-text":"关闭","show-confirm-button":!1,"close-on-click-overlay":!0},{title:ma((()=>[kr("span",Zh,[kr("span",Qh,y(r.dialogBox.title),1),kr("span",{style:{flex:"2",display:"flex","align-items":"center","justify-content":"center",cursor:"pointer"},onClick:t[0]||(t[0]=e=>r.showDialog=!1)},[Ar(o,{color:"white",size:"20",name:"clear"})])])])),default:ma((()=>{return[(pr(),_r((e=r.currentDialogView,M(e)?gn(pn,e,!1)||e:e||mn),{onDialogCallback:i.dialog_callback},null,40,["onDialogCallback"]))];var e})),_:1},8,["show","title"]),Ir(" 播放器实例 "),Ar(l,{span:"24",style:{overflow:"hidden"}},{default:ma((()=>[kr("div",{class:p(["video-player-wrapper",{"video-width-cut-200":r.showPlayList}])},[(pr(!0),br(lr,null,bn(r.videoInstanceList,((e,t)=>(pr(),br("div",{key:t,class:"video-player-box"},[Ir(" 鼠标移动触发后，顶部下滑信息栏 "),kr("div",{class:"top-media-info van-text-ellipsis",onClick:e=>i.videoClick(t)},[kr("span",$h,[i.isLiveChannel(t)?(pr(),br("span",ef,[Ar(o,{color:"red",size:"20",name:"stop-circle"}),Cr("LIVE")])):Ir("v-if",!0),kr("span",null,y(e?.des||"空"),1)]),r.videoInstanceList.length>1?(pr(),br("span",tf,[Ir(" 手机播放 "),Ir(" 录屏 "),Ir(" 下载 "),Ir(" 瞄点片头 "),r.activeVideoDOM!=t||i.isLiveChannel(t)||1==e?.iframe?.show?Ir("v-if",!0):(pr(),br("span",af,[Ar(o,{title:`片头瞄点 ${r.formateSecToHourMin(e?.time?.timeOPEN||"")}`,size:"20",name:"clock-o",onClick:as((a=>i.setting_timeOPEN(t,e)),["stop"])},null,8,["title","onClick"])])),Ir(" 瞄点片尾 "),r.activeVideoDOM!=t||i.isLiveChannel(t)||1==e?.iframe?.show?Ir("v-if",!0):(pr(),br("span",nf,[Ar(o,{title:`片尾瞄点 ${r.formateSecToHourMin(e?.time?.timeEND||"")}`,size:"20",name:"clock",onClick:as((a=>i.setting_timeEND(t,e)),["stop"])},null,8,["title","onClick"])])),Ir(" 开关 "),r.videoInstanceList.length>1?(pr(),br("span",{key:2,title:"关闭",onClick:as((e=>i.videoClose(t)),["stop"])},[Ar(o,{color:"red",size:"20",name:"clear"})],8,rf)):Ir("v-if",!0)])):Ir("v-if",!0)],8,Jh),Ir(" 视频组件 "),hn(kr("video",{class:p(["media-player",{"active-video-player":r.videoInstanceList.length>1&&r.activeVideoDOM==t}]),src:"",controls:"",autoplay:"",onClick:e=>i.videoClick(t),onMouseover:e=>i.videoMouseOver(t)},null,42,of),[[ns,1!=e?.iframe?.show]]),Ir(" iframe "),hn(kr("iframe",{class:p(["iframe-media-player",{"active-video-player":r.videoInstanceList.length>1&&r.activeVideoDOM==t}]),src:e?.iframe?.url,frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:i.iframeScrolling,allowfullscreen:"allowfullscreen",mozallowfullscreen:"mozallowfullscreen",msallowfullscreen:"msallowfullscreen",oallowfullscreen:"oallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",sandbox:"allow-top-navigation allow-same-origin allow-scripts",style:{width:"calc(100% - 2px)",height:"calc(100% - 2px)"},onClick:e=>i.videoClick(t),onMouseover:e=>i.videoMouseOver(t)},null,42,sf),[[ns,1==e?.iframe?.show]])])))),128))],2)])),_:1}),Ir(" 播放器扩展栏开关 "),Ar(l,{class:p(["video-playlist-switch",{"switch-right-0":!r.showPlayList},{"switch-right-200":r.showPlayList&&!r.showPlayListGroup}]),title:r.showPlayList?"关闭列表":"展开列表",onClick:i.switchClick},{default:ma((()=>[kr("span",null,[Ar(o,{name:"arrow"+(r.showPlayList?"":"-left")},null,8,["name"])])])),_:1},8,["class","title","onClick"]),Ir(" 播放器分类栏 "),r.showPlayList&&r.showPlayListGroup?(pr(),_r(l,{key:0,class:"video-playlist-categories",onDblclick:t[2]||(t[2]=e=>(r.showPlayList=!1)&&(r.showPlayListGroup=!1))},{default:ma((()=>[kr("div",lf,[Cr("分类"),Ar(o,{name:"plus",title:"添加分类",size:"13",onClick:as(i.open_addGroup,["stop"])},null,8,["onClick"])]),kr("div",df,[kr("ul",null,[(pr(!0),br(lr,null,bn(i.groupList,((e,t)=>(pr(),br("li",{key:e,title:e,class:p([{"active-category":r.activeCategory==t}]),onClick:as((e=>i.categoryClicked(t)),["stop"])},[kr("span",uf,[r.UIConfig.showGroupCount?(pr(),br("span",hf,"("+y(Object.keys(i.dataSource[t].channel).length)+")",1)):Ir("v-if",!0),Cr(y(e),1)]),r.activeCategory==t?(pr(),br("span",{key:0,onClick:as((a=>i.removeGroup(e,t)),["stop"])},[Ar(o,{title:"删除",name:"delete-o"})],8,ff)):Ir("v-if",!0)],10,cf)))),128))])])])),_:1})):Ir("v-if",!0),Ir(' 播放器列表  @dblclick="(showPlayList=false)&&(showPlayListGroup=false)"'),r.showPlayList?(pr(),_r(l,{key:1,class:"video-playlist"},{default:ma((()=>[Ir(" <PlayList /> "),kr("div",pf,[Ar(v,{active:r.activePLTab,"onUpdate:active":t[10]||(t[10]=e=>r.activePLTab=e),type:"card",background:"black",color:"#083208","title-inactive-color":"green","offset-top":"45px",border:!1,sticky:"",shrink:"",onChange:i.onPLTabsChange},{default:ma((()=>[Ir(" ['电视','列表'] "),(pr(!0),br(lr,null,bn(r.tabsTitle,((e,a)=>(pr(),_r(f,{key:e+a,title:e},{default:ma((()=>[kr("div",null,[Ar(h,null,{default:ma((()=>[Ar(u,null,{default:ma((()=>[Ir(" 功能按钮 "),Ar(d,{class:"video-playlist-categories-btn",onClick:t[3]||(t[3]=e=>r.showPlayListGroup^=1)},{title:ma((()=>[Ar(o,{name:"arrow-left"}),Cr("分类: "),Ar(o,{name:"label"}),kr("span",{class:"group-title",title:i.dataSource[r.activeCategory]?.group},y(i.dataSource[r.activeCategory]?.group),9,vf)])),value:ma((()=>[Ar(o,{name:"plus",title:"添加入列表",size:"18",color:"green",onClick:as(i.open_addChannel,["stop"])},null,8,["onClick"]),Ar(o,{name:"certificate",title:"自动测试资源可连线状态",size:"18",color:"green",onClick:as(i.open_testChannel,["stop"])},null,8,["onClick"])])),_:1}),Ir(" 搜索框 "),Ar(d,{class:"video-playlist-categories-btn video-playlist-search-btn"},{title:ma((()=>[Ar(c,{modelValue:r.playlistSearchValue,"onUpdate:modelValue":[t[4]||(t[4]=e=>r.playlistSearchValue=e),i.onPlayListSearch],placeholder:"请输入搜索关键词",onSearch:i.onPlayListSearch,onClear:t[5]||(t[5]=e=>r.playlistSearchValue="")},null,8,["modelValue","onUpdate:modelValue","onSearch"])])),_:1}),Ir(" 列表 "),(pr(!0),br(lr,null,bn(i.channelList,((e,a)=>(pr(),_r(d,{key:"channelKey"+a,class:p(["custom-cell","van-multi-ellipsis--l2",{"active-cell":r.activeChannel==a},{"error-cell":i.checkChannelError(e,i.dataSource[r.activeCategory]?.channel)}]),onClick:t=>i.showChannel(a,e)},function(e,t){for(let a=0;a<t.length;a++){const n=t[a];if(I(n))for(let t=0;t<n.length;t++)e[n[t].name]=n[t].fn;else n&&(e[n.name]=n.key?(...e)=>{const t=n.fn(...e);return t&&(t.key=n.key),t}:n.fn)}return e}({title:ma((()=>[kr("span",{title:e,class:"van-multi-ellipsis--l2"},y(e),9,mf)])),_:2},[r.activeChannel==a&&i.dataSource[r.activeCategory]?.channel?{name:"label",fn:ma((()=>[(pr(!0),br(lr,null,bn(i.dataSource[r.activeCategory].channel[e],((e,t)=>(pr(),br("span",{key:t+e.name,title:e.value,class:p(["custom-label",{"active-line":r.activeLine==t},{"error-line":e?.error}]),onClick:as((e=>i.lineClicked(t)),["stop"])},y(e.name),11,gf)))),128))])),key:"0"}:void 0,i.dataSource[r.activeCategory]?.channel?{name:"value",fn:ma((()=>[Ir(" <span :class=\"['custom-value',{ error: dataSource[activeCategory]?.channel?.status }]\">{{ dataSource[activeCategory]?.channel?.status||'通畅' }}</span> "),Ir(" 更新资源 "),r.activeChannel==a?(pr(),br("span",{key:0,class:"custom-value",onClick:t[6]||(t[6]=as(((...e)=>i.updateChannel&&i.updateChannel(...e)),["stop"]))},[Ar(o,{title:"更新资源",size:"16",name:"replay"})])):Ir("v-if",!0),Ir(" 删除 "),r.activeChannel==a?(pr(),br("span",{key:1,class:"custom-value",onClick:t[7]||(t[7]=as(((...e)=>i.removeChannel&&i.removeChannel(...e)),["stop"]))},[Ar(o,{title:"删除",size:"16",name:"delete-o"})])):Ir("v-if",!0),Ir(" 设置 "),r.activeChannel==a?(pr(),br("span",{key:2,class:"custom-value",onClick:t[8]||(t[8]=as(((...e)=>i.settingChannel&&i.settingChannel(...e)),["stop"]))},[Ar(o,{title:"设置",size:"16",name:"setting-o"})])):Ir("v-if",!0),Ir(" 信息 "),r.activeChannel==a?(pr(),br("span",{key:3,class:"custom-value",onClick:t[9]||(t[9]=as(((...e)=>i.infoChannel&&i.infoChannel(...e)),["stop"]))},[Ar(o,{title:"信息",size:"16",name:"warning-o"})])):Ir("v-if",!0)])),key:"1"}:void 0]),1032,["class","onClick"])))),128))])),_:1})])),_:1})])])),_:2},1032,["title"])))),128))])),_:1},8,["active","onChange"])]),Ir(" 底部功能按钮 "),kr("div",yf,[(pr(!0),br(lr,null,bn(Object.keys(r.videoButtonList),((e,t)=>(pr(),br("span",{key:e+t},[Ar(o,{size:"16",title:e,name:r.videoButtonList[e].icon,onClick:i.open_box},null,8,["title","name","onClick"])])))),128))])])),_:1})):Ir("v-if",!0)])),_:1})],2112)}],["__scopeId","data-v-c6747e86"]])},data:()=>({}),computed:{},mounted(){},unmounted(){},created(){},methods:{}};a(8109);const _v={name:"PopupHome",components:{"Video-Player":(0,Kc.Z)(bv,[["render",function(e,t,a,n,r,i){const o=vn("Header"),s=vn("Player"),l=vn("van-col");return pr(),br("div",Gh,[Ir(" 整页高占满 "),Ar(l,{class:"height-100vh"},{default:ma((()=>[Ir(" 顶部栏 "),Ar(o),Ir(" 播放器主体 "),Ar(s),Ir(" 弹窗：设置、媒体信息、内容搜索、用户服务、账单、广告 ")])),_:1})])}],["__scopeId","data-v-857183a8"]])},data:()=>({}),computed:{},mounted(){},unmounted(){},created(){},methods:{}};a(5619);const Ev=[{path:"/",name:"Home",component:(0,Kc.Z)(_v,[["render",function(e,t,a,n,r,i){const o=vn("Video-Player");return pr(),br("div",Vh,[Ar(o)])}],["__scopeId","data-v-ed083bda"]])}],Tv=function(e){const t=Bu(e.routes,e),a=e.parseQuery||lh,n=e.stringifyQuery||dh,r=e.history,i=mh(),o=mh(),s=mh(),l=xt(wu,!0);let d=wu;tu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ru.bind(null,(e=>""+e)),u=ru.bind(null,oh),h=ru.bind(null,sh);function f(e,i){if(i=nu({},i||l.value),"string"==typeof e){const n=lu(a,e,i.path),o=t.resolve({path:n.path},i),s=r.createHref(n.fullPath);return nu(n,o,{params:h(o.params),hash:sh(n.hash),redirectedFrom:void 0,href:s})}let o;if("path"in e)o=nu({},e,{path:lu(a,e.path,i.path).path});else{const t=nu({},e.params);for(const e in t)null==t[e]&&delete t[e];o=nu({},e,{params:u(e.params)}),i.params=u(i.params)}const s=t.resolve(o,i),d=e.hash||"";s.params=c(h(s.params));const f=function(e,t){const a=t.query?e(t.query):"";return t.path+(a&&"?")+a+(t.hash||"")}(n,nu({},e,{hash:(p=d,rh(p).replace(eh,"{").replace(ah,"}").replace(Ju,"^")),path:s.path}));var p;const v=r.createHref(f);return nu({fullPath:f,hash:d,query:n===dh?ch(e.query):e.query||{}},s,{redirectedFrom:void 0,href:v})}function p(e){return"string"==typeof e?lu(a,e,l.value.path):nu({},e)}function v(e,t){if(d!==e)return ku(8,{from:t,to:e})}function m(e){return y(e)}function g(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:a}=t;let n="function"==typeof a?a(e):a;return"string"==typeof n&&(n=n.includes("?")||n.includes("#")?n=p(n):{path:n},n.params={}),nu({query:e.query,hash:e.hash,params:"path"in n?{}:e.params},n)}}function y(e,t){const a=d=f(e),r=l.value,i=e.state,o=e.force,s=!0===e.replace,c=g(a);if(c)return y(nu(p(c),{state:"object"==typeof c?nu({},i,c.state):i,force:o,replace:s}),t||a);const u=a;let h;return u.redirectedFrom=t,!o&&function(e,t,a){const n=t.matched.length-1,r=a.matched.length-1;return n>-1&&n===r&&du(t.matched[n],a.matched[r])&&cu(t.params,a.params)&&e(t.query)===e(a.query)&&t.hash===a.hash}(n,r,a)&&(h=ku(16,{to:u,from:r}),C(r,r,!0,!1)),(h?Promise.resolve(h):_(u,r)).catch((e=>Au(e)?Au(e,2)?e:D(e):L(e,u,r))).then((e=>{if(e){if(Au(e,2))return y(nu({replace:s},p(e.to),{state:"object"==typeof e.to?nu({},i,e.to.state):i,force:o}),t||u)}else e=T(u,r,!0,s,i);return E(u,r,e),e}))}function b(e,t){const a=v(e,t);return a?Promise.reject(a):Promise.resolve()}function _(e,t){let a;const[n,r,s]=function(e,t){const a=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const i=t.matched[o];i&&(e.matched.find((e=>du(e,i)))?n.push(i):a.push(i));const s=e.matched[o];s&&(t.matched.find((e=>du(e,s)))||r.push(s))}return[a,n,r]}(e,t);a=yh(n.reverse(),"beforeRouteLeave",e,t);for(const r of n)r.leaveGuards.forEach((n=>{a.push(gh(n,e,t))}));const l=b.bind(null,e,t);return a.push(l),zh(a).then((()=>{a=[];for(const n of i.list())a.push(gh(n,e,t));return a.push(l),zh(a)})).then((()=>{a=yh(r,"beforeRouteUpdate",e,t);for(const n of r)n.updateGuards.forEach((n=>{a.push(gh(n,e,t))}));return a.push(l),zh(a)})).then((()=>{a=[];for(const n of e.matched)if(n.beforeEnter&&!t.matched.includes(n))if(ou(n.beforeEnter))for(const r of n.beforeEnter)a.push(gh(r,e,t));else a.push(gh(n.beforeEnter,e,t));return a.push(l),zh(a)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),a=yh(s,"beforeRouteEnter",e,t),a.push(l),zh(a)))).then((()=>{a=[];for(const n of o.list())a.push(gh(n,e,t));return a.push(l),zh(a)})).catch((e=>Au(e,8)?e:Promise.reject(e)))}function E(e,t,a){for(const n of s.list())n(e,t,a)}function T(e,t,a,n,i){const o=v(e,t);if(o)return o;const s=t===wu,d=tu?history.state:{};a&&(n||s?r.replace(e.fullPath,nu({scroll:s&&d&&d.scroll},i)):r.push(e.fullPath,i)),l.value=e,C(e,t,a,s),D()}let w;function S(){w||(w=r.listen(((e,t,a)=>{if(!P.listening)return;const n=f(e),i=g(n);if(i)return void y(nu(i,{replace:!0}),n).catch(iu);d=n;const o=l.value;var s,c;tu&&(s=_u(o.fullPath,a.delta),c=yu(),Eu.set(s,c)),_(n,o).catch((e=>Au(e,12)?e:Au(e,2)?(y(e.to,n).then((e=>{Au(e,20)&&!a.delta&&a.type===fu.pop&&r.go(-1,!1)})).catch(iu),Promise.reject()):(a.delta&&r.go(-a.delta,!1),L(e,n,o)))).then((e=>{(e=e||T(n,o,!1))&&(a.delta&&!Au(e,8)?r.go(-a.delta,!1):a.type===fu.pop&&Au(e,20)&&r.go(-1,!1)),E(n,o,e)})).catch(iu)})))}let x,k=mh(),A=mh();function L(e,t,a){D(e);const n=A.list();return n.length?n.forEach((n=>n(e,t,a))):console.error(e),Promise.reject(e)}function D(e){return x||(x=!e,S(),k.list().forEach((([t,a])=>e?a(e):t())),k.reset()),e}function C(t,a,n,r){const{scrollBehavior:i}=e;if(!tu||!i)return Promise.resolve();const o=!n&&function(e){const t=Eu.get(e);return Eu.delete(e),t}(_u(t.fullPath,0))||(r||!n)&&history.state&&history.state.scroll||null;return Ht().then((()=>i(t,a,o))).then((e=>e&&bu(e))).catch((e=>L(e,t,a)))}const I=e=>r.go(e);let R;const O=new Set,P={currentRoute:l,listening:!0,addRoute:function(e,a){let n,r;return Tu(e)?(n=t.getRecordMatcher(e),r=a):r=e,t.addRoute(r,n)},removeRoute:function(e){const a=t.getRecordMatcher(e);a&&t.removeRoute(a)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:f,options:e,push:m,replace:function(e){return m(nu(p(e),{replace:!0}))},go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:i.add,beforeResolve:o.add,afterEach:s.add,onError:A.add,isReady:function(){return x&&l.value!==wu?Promise.resolve():new Promise(((e,t)=>{k.add([e,t])}))},install(e){const a=this;e.component("RouterLink",_h),e.component("RouterView",xh),e.config.globalProperties.$router=a,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>At(l)}),tu&&!R&&l.value===wu&&(R=!0,m(r.location).catch((e=>{0})));const n={};for(const e in wu)n[e]=ti((()=>l.value[e]));e.provide(fh,a),e.provide(ph,ct(n)),e.provide(vh,l);const i=e.unmount;O.add(e),e.unmount=function(){O.delete(e),O.size<1&&(d=wu,w&&w(),w=null,l.value=wu,R=!1,x=!1),i()},__VUE_PROD_DEVTOOLS__&&tu&&Dh(e,a,t)}};return P}({mode:"history",history:function(e=""){let t=[],a=[""],n=0;function r(e){n++,n===a.length||a.splice(n),a.push(e)}const i={location:"",state:{},base:e=vu(e),createHref:gu.bind(null,e),replace(e){a.splice(n--,1),r(e)},push(e,t){r(e)},listen:e=>(t.push(e),()=>{const a=t.indexOf(e);a>-1&&t.splice(a,1)}),destroy(){t=[],a=[""],n=0},go(e,r=!0){const i=this.location,o=e<0?pu.back:pu.forward;n=Math.max(0,Math.min(n+e,a.length-1)),r&&function(e,a,{direction:n,delta:r}){const i={direction:n,delta:r,type:fu.pop};for(const n of t)n(e,a,i)}(this.location,i,{direction:o,delta:e})}};return Object.defineProperty(i,"location",{enumerable:!0,get:()=>a[n]}),i}(),routes:Ev}),wv=Tv,Sv=ls(Yc);Sv.use(wv),Sv.use(ld),Sv.use(Gc),Sv.use(Nc),Sv.use(Dc),Sv.use(sl),Sv.use(hc),Sv.use(sc),Sv.use(rc),Sv.use(Qs),Sv.use($s),Sv.use(ec),Sv.use(Nd),Sv.use(Xd),Sv.use(Kd),Sv.use(Vd),Sv.use(xd),Sv.use(Ed),Sv.use(Ll),Sv.use(Tl),Sv.use(ml),Sv.use(hl),Sv.mount("#app-option-page")},4226:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-action-bar-button-height:40px;--van-action-bar-button-warning-color:var(--van-gradient-orange);--van-action-bar-button-danger-color:var(--van-gradient-red)}.van-action-bar-button{flex:1;height:var(--van-action-bar-button-height);font-weight:var(--van-font-weight-bold);font-size:var(--van-font-size-md);border:none;border-radius:0}.van-action-bar-button--first{margin-left:5px;border-top-left-radius:var(--van-border-radius-max);border-bottom-left-radius:var(--van-border-radius-max)}.van-action-bar-button--last{margin-right:5px;border-top-right-radius:var(--van-border-radius-max);border-bottom-right-radius:var(--van-border-radius-max)}.van-action-bar-button--warning{background:var(--van-action-bar-button-warning-color)}.van-action-bar-button--danger{background:var(--van-action-bar-button-danger-color)}@media(max-width: 321px){.van-action-bar-button{font-size:13px}}",""]);const s=o},4692:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-action-bar-background-color:var(--van-background-color-light);--van-action-bar-height:50px}.van-action-bar{position:fixed;right:0;bottom:0;left:0;display:flex;align-items:center;box-sizing:content-box;height:var(--van-action-bar-height);background:var(--van-action-bar-background-color)}",""]);const s=o},336:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-badge-size:16px;--van-badge-color:var(--van-white);--van-badge-padding:0 3px;--van-badge-font-size:var(--van-font-size-sm);--van-badge-font-weight:var(--van-font-weight-bold);--van-badge-border-width:var(--van-border-width-base);--van-badge-background-color:var(--van-danger-color);--van-badge-dot-color:var(--van-danger-color);--van-badge-dot-size:8px;--van-badge-font-family:-apple-system-font,Helvetica Neue,Arial,sans-serif}.van-badge{display:inline-block;box-sizing:border-box;min-width:var(--van-badge-size);padding:var(--van-badge-padding);color:var(--van-badge-color);font-weight:var(--van-badge-font-weight);font-size:var(--van-badge-font-size);font-family:var(--van-badge-font-family);line-height:1.2;text-align:center;background:var(--van-badge-background-color);border:var(--van-badge-border-width) solid var(--van-background-color-light);border-radius:var(--van-border-radius-max)}.van-badge--fixed{position:absolute;transform-origin:100%}.van-badge--top-left{top:0;left:0;transform:translate(-50%, -50%)}.van-badge--top-right{top:0;right:0;transform:translate(50%, -50%)}.van-badge--bottom-left{bottom:0;left:0;transform:translate(-50%, 50%)}.van-badge--bottom-right{bottom:0;right:0;transform:translate(50%, 50%)}.van-badge--dot{width:var(--van-badge-dot-size);min-width:0;height:var(--van-badge-dot-size);background:var(--van-badge-dot-color);border-radius:100%;border:none;padding:0}.van-badge__wrapper{position:relative;display:inline-block}",""]);const s=o},2135:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,':root{--van-button-mini-height:24px;--van-button-mini-padding:0 var(--van-padding-base);--van-button-mini-font-size:var(--van-font-size-xs);--van-button-small-height:32px;--van-button-small-padding:0 var(--van-padding-xs);--van-button-small-font-size:var(--van-font-size-sm);--van-button-normal-padding:0 15px;--van-button-normal-font-size:var(--van-font-size-md);--van-button-large-height:50px;--van-button-default-height:44px;--van-button-default-line-height:1.2;--van-button-default-font-size:var(--van-font-size-lg);--van-button-default-color:var(--van-text-color);--van-button-default-background-color:var(--van-background-color-light);--van-button-default-border-color:var(--van-border-color);--van-button-primary-color:var(--van-white);--van-button-primary-background-color:var(--van-primary-color);--van-button-primary-border-color:var(--van-primary-color);--van-button-success-color:var(--van-white);--van-button-success-background-color:var(--van-success-color);--van-button-success-border-color:var(--van-success-color);--van-button-danger-color:var(--van-white);--van-button-danger-background-color:var(--van-danger-color);--van-button-danger-border-color:var(--van-danger-color);--van-button-warning-color:var(--van-white);--van-button-warning-background-color:var(--van-warning-color);--van-button-warning-border-color:var(--van-warning-color);--van-button-border-width:var(--van-border-width-base);--van-button-border-radius:var(--van-border-radius-sm);--van-button-round-border-radius:var(--van-border-radius-max);--van-button-plain-background-color:var(--van-white);--van-button-disabled-opacity:var(--van-disabled-opacity);--van-button-icon-size:1.2em;--van-button-loading-icon-size:20px}.van-button{position:relative;display:inline-block;box-sizing:border-box;height:var(--van-button-default-height);margin:0;padding:0;font-size:var(--van-button-default-font-size);line-height:var(--van-button-default-line-height);text-align:center;border-radius:var(--van-button-border-radius);cursor:pointer;transition:opacity var(--van-animation-duration-fast);-webkit-appearance:none}.van-button::before{position:absolute;top:50%;left:50%;width:100%;height:100%;background:var(--van-black);border:inherit;border-color:var(--van-black);border-radius:inherit;transform:translate(-50%, -50%);opacity:0;content:" "}.van-button:active::before{opacity:.1}.van-button--disabled::before,.van-button--loading::before{display:none}.van-button--default{color:var(--van-button-default-color);background:var(--van-button-default-background-color);border:var(--van-button-border-width) solid var(--van-button-default-border-color)}.van-button--primary{color:var(--van-button-primary-color);background:var(--van-button-primary-background-color);border:var(--van-button-border-width) solid var(--van-button-primary-border-color)}.van-button--success{color:var(--van-button-success-color);background:var(--van-button-success-background-color);border:var(--van-button-border-width) solid var(--van-button-success-border-color)}.van-button--danger{color:var(--van-button-danger-color);background:var(--van-button-danger-background-color);border:var(--van-button-border-width) solid var(--van-button-danger-border-color)}.van-button--warning{color:var(--van-button-warning-color);background:var(--van-button-warning-background-color);border:var(--van-button-border-width) solid var(--van-button-warning-border-color)}.van-button--plain{background:var(--van-button-plain-background-color)}.van-button--plain.van-button--primary{color:var(--van-button-primary-background-color)}.van-button--plain.van-button--success{color:var(--van-button-success-background-color)}.van-button--plain.van-button--danger{color:var(--van-button-danger-background-color)}.van-button--plain.van-button--warning{color:var(--van-button-warning-background-color)}.van-button--large{width:100%;height:var(--van-button-large-height)}.van-button--normal{padding:var(--van-button-normal-padding);font-size:var(--van-button-normal-font-size)}.van-button--small{height:var(--van-button-small-height);padding:var(--van-button-small-padding);font-size:var(--van-button-small-font-size)}.van-button__loading{color:inherit;font-size:inherit}.van-button__loading .van-loading__spinner{color:currentColor;width:var(--van-button-loading-icon-size);height:var(--van-button-loading-icon-size)}.van-button--mini{height:var(--van-button-mini-height);padding:var(--van-button-mini-padding);font-size:var(--van-button-mini-font-size)}.van-button--mini+.van-button--mini{margin-left:var(--van-padding-base)}.van-button--block{display:block;width:100%}.van-button--disabled{cursor:not-allowed;opacity:var(--van-button-disabled-opacity)}.van-button--loading{cursor:default}.van-button--round{border-radius:var(--van-button-round-border-radius)}.van-button--square{border-radius:0}.van-button__content{display:flex;align-items:center;justify-content:center;height:100%}.van-button__content::before{content:" "}.van-button__icon{font-size:var(--van-button-icon-size);line-height:inherit}.van-button__icon+.van-button__text,.van-button__loading+.van-button__text,.van-button__text+.van-button__icon,.van-button__text+.van-button__loading{margin-left:var(--van-padding-base)}.van-button--hairline{border-width:0}.van-button--hairline::after{border-color:inherit;border-radius:calc(var(--van-button-border-radius)*2)}.van-button--hairline.van-button--round::after{border-radius:var(--van-button-round-border-radius)}.van-button--hairline.van-button--square::after{border-radius:0}',""]);const s=o},8721:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-cascader-header-height:48px;--van-cascader-header-padding:0 var(--van-padding-md);--van-cascader-title-font-size:var(--van-font-size-lg);--van-cascader-title-line-height:20px;--van-cascader-close-icon-size:22px;--van-cascader-close-icon-color:var(--van-gray-5);--van-cascader-selected-icon-size:18px;--van-cascader-tabs-height:48px;--van-cascader-active-color:var(--van-danger-color);--van-cascader-options-height:384px;--van-cascader-option-disabled-color:var(--van-text-color-3);--van-cascader-tab-color:var(--van-text-color);--van-cascader-unselected-tab-color:var(--van-text-color-2)}.van-cascader__header{display:flex;align-items:center;justify-content:space-between;height:var(--van-cascader-header-height);padding:var(--van-cascader-header-padding)}.van-cascader__title{font-weight:var(--van-font-weight-bold);font-size:var(--van-cascader-title-font-size);line-height:var(--van-cascader-title-line-height)}.van-cascader__close-icon{color:var(--van-cascader-close-icon-color);font-size:var(--van-cascader-close-icon-size)}.van-cascader__tabs .van-tab{flex:none;padding:0 10px}.van-cascader__tabs.van-tabs--line .van-tabs__wrap{height:var(--van-cascader-tabs-height)}.van-cascader__tabs .van-tabs__nav--complete{padding-right:6px;padding-left:6px}.van-cascader__tab{color:var(--van-cascader-tab-color);font-weight:var(--van-font-weight-bold)}.van-cascader__tab--unselected{color:var(--van-cascader-unselected-tab-color);font-weight:400}.van-cascader__option{display:flex;align-items:center;justify-content:space-between;padding:10px var(--van-padding-md);font-size:var(--van-font-size-md);line-height:var(--van-line-height-md);cursor:pointer}.van-cascader__option:active{background-color:var(--van-active-color)}.van-cascader__option--selected{color:var(--van-cascader-active-color);font-weight:var(--van-font-weight-bold)}.van-cascader__option--disabled{color:var(--van-cascader-option-disabled-color);cursor:not-allowed}.van-cascader__option--disabled:active{background-color:rgba(0,0,0,0)}.van-cascader__selected-icon{font-size:var(--van-cascader-selected-icon-size)}.van-cascader__options{box-sizing:border-box;height:var(--van-cascader-options-height);padding-top:6px;overflow-y:auto;-webkit-overflow-scrolling:touch}",""]);const s=o},735:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-cell-group-background-color:var(--van-background-color-light);--van-cell-group-title-color:var(--van-text-color-2);--van-cell-group-title-padding:var(--van-padding-md) var(--van-padding-md) var(--van-padding-xs);--van-cell-group-title-font-size:var(--van-font-size-md);--van-cell-group-title-line-height:16px;--van-cell-group-inset-padding:0 var(--van-padding-md);--van-cell-group-inset-border-radius:var(--van-border-radius-lg);--van-cell-group-inset-title-padding:var(--van-padding-md) var(--van-padding-md) var(--van-padding-xs) var(--van-padding-xl)}.van-cell-group{background:var(--van-cell-group-background-color)}.van-cell-group--inset{margin:var(--van-cell-group-inset-padding);border-radius:var(--van-cell-group-inset-border-radius);overflow:hidden}.van-cell-group__title{padding:var(--van-cell-group-title-padding);color:var(--van-cell-group-title-color);font-size:var(--van-cell-group-title-font-size);line-height:var(--van-cell-group-title-line-height)}.van-cell-group__title--inset{padding:var(--van-cell-group-inset-title-padding)}",""]);const s=o},2123:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,':root{--van-cell-font-size:var(--van-font-size-md);--van-cell-line-height:24px;--van-cell-vertical-padding:10px;--van-cell-horizontal-padding:var(--van-padding-md);--van-cell-text-color:var(--van-text-color);--van-cell-background-color:var(--van-background-color-light);--van-cell-border-color:var(--van-border-color);--van-cell-active-color:var(--van-active-color);--van-cell-required-color:var(--van-danger-color);--van-cell-label-color:var(--van-text-color-2);--van-cell-label-font-size:var(--van-font-size-sm);--van-cell-label-line-height:var(--van-line-height-sm);--van-cell-label-margin-top:var(--van-padding-base);--van-cell-value-color:var(--van-text-color-2);--van-cell-icon-size:16px;--van-cell-right-icon-color:var(--van-gray-6);--van-cell-large-vertical-padding:var(--van-padding-sm);--van-cell-large-title-font-size:var(--van-font-size-lg);--van-cell-large-label-font-size:var(--van-font-size-md)}.van-cell{position:relative;display:flex;box-sizing:border-box;width:100%;padding:var(--van-cell-vertical-padding) var(--van-cell-horizontal-padding);overflow:hidden;color:var(--van-cell-text-color);font-size:var(--van-cell-font-size);line-height:var(--van-cell-line-height);background:var(--van-cell-background-color)}.van-cell::after{position:absolute;box-sizing:border-box;content:" ";pointer-events:none;right:var(--van-padding-md);bottom:0;left:var(--van-padding-md);border-bottom:1px solid var(--van-cell-border-color);transform:scaleY(0.5)}.van-cell--borderless::after,.van-cell:last-child::after{display:none}.van-cell__label{margin-top:var(--van-cell-label-margin-top);color:var(--van-cell-label-color);font-size:var(--van-cell-label-font-size);line-height:var(--van-cell-label-line-height)}.van-cell__title,.van-cell__value{flex:1}.van-cell__value{position:relative;overflow:hidden;color:var(--van-cell-value-color);text-align:right;vertical-align:middle;word-wrap:break-word}.van-cell__value--alone{color:var(--van-text-color);text-align:left}.van-cell__left-icon,.van-cell__right-icon{height:var(--van-cell-line-height);font-size:var(--van-cell-icon-size);line-height:var(--van-cell-line-height)}.van-cell__left-icon{margin-right:var(--van-padding-base)}.van-cell__right-icon{margin-left:var(--van-padding-base);color:var(--van-cell-right-icon-color)}.van-cell--clickable{cursor:pointer}.van-cell--clickable:active{background-color:var(--van-cell-active-color)}.van-cell--required{overflow:visible}.van-cell--required::before{position:absolute;left:var(--van-padding-xs);color:var(--van-cell-required-color);font-size:var(--van-cell-font-size);content:"*"}.van-cell--center{align-items:center}.van-cell--large{padding-top:var(--van-cell-large-vertical-padding);padding-bottom:var(--van-cell-large-vertical-padding)}.van-cell--large .van-cell__title{font-size:var(--van-cell-large-title-font-size)}.van-cell--large .van-cell__label{font-size:var(--van-cell-large-label-font-size)}',""]);const s=o},5263:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-checkbox-size:20px;--van-checkbox-border-color:var(--van-gray-5);--van-checkbox-transition-duration:var(--van-animation-duration-fast);--van-checkbox-label-margin:var(--van-padding-xs);--van-checkbox-label-color:var(--van-text-color);--van-checkbox-checked-icon-color:var(--van-primary-color);--van-checkbox-disabled-icon-color:var(--van-gray-5);--van-checkbox-disabled-label-color:var(--van-text-color-3);--van-checkbox-disabled-background-color:var(--van-border-color)}.van-checkbox{display:flex;align-items:center;overflow:hidden;cursor:pointer;-webkit-user-select:none;user-select:none}.van-checkbox--disabled{cursor:not-allowed}.van-checkbox--label-disabled{cursor:default}.van-checkbox--horizontal{margin-right:var(--van-padding-sm)}.van-checkbox__icon{flex:none;height:1em;font-size:var(--van-checkbox-size);line-height:1em;cursor:pointer}.van-checkbox__icon .van-icon{display:block;box-sizing:border-box;width:1.25em;height:1.25em;color:rgba(0,0,0,0);font-size:.8em;line-height:1.25;text-align:center;border:1px solid var(--van-checkbox-border-color);transition-duration:var(--van-checkbox-transition-duration);transition-property:color,border-color,background-color}.van-checkbox__icon--round .van-icon{border-radius:100%}.van-checkbox__icon--checked .van-icon{color:var(--van-white);background-color:var(--van-checkbox-checked-icon-color);border-color:var(--van-checkbox-checked-icon-color)}.van-checkbox__icon--disabled{cursor:not-allowed}.van-checkbox__icon--disabled .van-icon{background-color:var(--van-checkbox-disabled-background-color);border-color:var(--van-checkbox-disabled-icon-color)}.van-checkbox__icon--disabled.van-checkbox__icon--checked .van-icon{color:var(--van-checkbox-disabled-icon-color)}.van-checkbox__label{margin-left:var(--van-checkbox-label-margin);color:var(--van-checkbox-label-color);line-height:var(--van-checkbox-size)}.van-checkbox__label--left{margin:0 var(--van-checkbox-label-margin) 0 0}.van-checkbox__label--disabled{color:var(--van-checkbox-disabled-label-color)}",""]);const s=o},2386:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,".van-col{display:block;box-sizing:border-box;min-height:1px}.van-col--1{flex:0 0 4.16666667%;max-width:4.16666667%}.van-col--offset-1{margin-left:4.16666667%}.van-col--2{flex:0 0 8.33333333%;max-width:8.33333333%}.van-col--offset-2{margin-left:8.33333333%}.van-col--3{flex:0 0 12.5%;max-width:12.5%}.van-col--offset-3{margin-left:12.5%}.van-col--4{flex:0 0 16.66666667%;max-width:16.66666667%}.van-col--offset-4{margin-left:16.66666667%}.van-col--5{flex:0 0 20.83333333%;max-width:20.83333333%}.van-col--offset-5{margin-left:20.83333333%}.van-col--6{flex:0 0 25%;max-width:25%}.van-col--offset-6{margin-left:25%}.van-col--7{flex:0 0 29.16666667%;max-width:29.16666667%}.van-col--offset-7{margin-left:29.16666667%}.van-col--8{flex:0 0 33.33333333%;max-width:33.33333333%}.van-col--offset-8{margin-left:33.33333333%}.van-col--9{flex:0 0 37.5%;max-width:37.5%}.van-col--offset-9{margin-left:37.5%}.van-col--10{flex:0 0 41.66666667%;max-width:41.66666667%}.van-col--offset-10{margin-left:41.66666667%}.van-col--11{flex:0 0 45.83333333%;max-width:45.83333333%}.van-col--offset-11{margin-left:45.83333333%}.van-col--12{flex:0 0 50%;max-width:50%}.van-col--offset-12{margin-left:50%}.van-col--13{flex:0 0 54.16666667%;max-width:54.16666667%}.van-col--offset-13{margin-left:54.16666667%}.van-col--14{flex:0 0 58.33333333%;max-width:58.33333333%}.van-col--offset-14{margin-left:58.33333333%}.van-col--15{flex:0 0 62.5%;max-width:62.5%}.van-col--offset-15{margin-left:62.5%}.van-col--16{flex:0 0 66.66666667%;max-width:66.66666667%}.van-col--offset-16{margin-left:66.66666667%}.van-col--17{flex:0 0 70.83333333%;max-width:70.83333333%}.van-col--offset-17{margin-left:70.83333333%}.van-col--18{flex:0 0 75%;max-width:75%}.van-col--offset-18{margin-left:75%}.van-col--19{flex:0 0 79.16666667%;max-width:79.16666667%}.van-col--offset-19{margin-left:79.16666667%}.van-col--20{flex:0 0 83.33333333%;max-width:83.33333333%}.van-col--offset-20{margin-left:83.33333333%}.van-col--21{flex:0 0 87.5%;max-width:87.5%}.van-col--offset-21{margin-left:87.5%}.van-col--22{flex:0 0 91.66666667%;max-width:91.66666667%}.van-col--offset-22{margin-left:91.66666667%}.van-col--23{flex:0 0 95.83333333%;max-width:95.83333333%}.van-col--offset-23{margin-left:95.83333333%}.van-col--24{flex:0 0 100%;max-width:100%}.van-col--offset-24{margin-left:100%}",""]);const s=o},534:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-dialog-width:320px;--van-dialog-small-screen-width:90%;--van-dialog-font-size:var(--van-font-size-lg);--van-dialog-transition:var(--van-animation-duration-base);--van-dialog-border-radius:16px;--van-dialog-background-color:var(--van-background-color-light);--van-dialog-header-font-weight:var(--van-font-weight-bold);--van-dialog-header-line-height:24px;--van-dialog-header-padding-top:26px;--van-dialog-header-isolated-padding:var(--van-padding-lg) 0;--van-dialog-message-padding:var(--van-padding-lg);--van-dialog-message-font-size:var(--van-font-size-md);--van-dialog-message-line-height:var(--van-line-height-md);--van-dialog-message-max-height:60vh;--van-dialog-has-title-message-text-color:var(--van-gray-7);--van-dialog-has-title-message-padding-top:var(--van-padding-xs);--van-dialog-button-height:48px;--van-dialog-round-button-height:36px;--van-dialog-confirm-button-text-color:var(--van-danger-color)}.van-dialog{top:45%;left:50%;width:var(--van-dialog-width);overflow:hidden;font-size:var(--van-dialog-font-size);background:var(--van-dialog-background-color);border-radius:var(--van-dialog-border-radius);-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:var(--van-dialog-transition);transition-property:transform,opacity}@media(max-width: 321px){.van-dialog{width:var(--van-dialog-small-screen-width)}}.van-dialog__header{padding-top:var(--van-dialog-header-padding-top);font-weight:var(--van-dialog-header-font-weight);line-height:var(--van-dialog-header-line-height);text-align:center}.van-dialog__header--isolated{padding:var(--van-dialog-header-isolated-padding)}.van-dialog__content--isolated{display:flex;align-items:center;min-height:104px}.van-dialog__message{flex:1;max-height:var(--van-dialog-message-max-height);padding:26px var(--van-dialog-message-padding);overflow-y:auto;font-size:var(--van-dialog-message-font-size);line-height:var(--van-dialog-message-line-height);white-space:pre-wrap;text-align:center;word-wrap:break-word;-webkit-overflow-scrolling:touch}.van-dialog__message--has-title{padding-top:var(--van-dialog-has-title-message-padding-top);color:var(--van-dialog-has-title-message-text-color)}.van-dialog__message--left{text-align:left}.van-dialog__message--right{text-align:right}.van-dialog__footer{display:flex;overflow:hidden;-webkit-user-select:none;user-select:none}.van-dialog__cancel,.van-dialog__confirm{flex:1;height:var(--van-dialog-button-height);margin:0;border:0}.van-dialog__confirm,.van-dialog__confirm:active{color:var(--van-dialog-confirm-button-text-color)}.van-dialog--round-button .van-dialog__footer{position:relative;height:auto;padding:var(--van-padding-xs) var(--van-padding-lg) var(--van-padding-md)}.van-dialog--round-button .van-dialog__message{padding-bottom:var(--van-padding-md);color:var(--van-text-color)}.van-dialog--round-button .van-dialog__cancel,.van-dialog--round-button .van-dialog__confirm{height:var(--van-dialog-round-button-height)}.van-dialog--round-button .van-dialog__confirm{color:var(--van-white)}.van-dialog-bounce-enter-from{transform:translate3d(-50%, -50%, 0) scale(0.7);opacity:0}.van-dialog-bounce-leave-active{transform:translate3d(-50%, -50%, 0) scale(0.9);opacity:0}",""]);const s=o},7904:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,':root{--van-field-label-width:6.2em;--van-field-label-color:var(--van-gray-7);--van-field-label-margin-right:var(--van-padding-sm);--van-field-input-text-color:var(--van-text-color);--van-field-input-error-text-color:var(--van-danger-color);--van-field-input-disabled-text-color:var(--van-text-color-3);--van-field-placeholder-text-color:var(--van-text-color-3);--van-field-icon-size:16px;--van-field-clear-icon-size:16px;--van-field-clear-icon-color:var(--van-gray-5);--van-field-right-icon-color:var(--van-gray-6);--van-field-error-message-color:var(--van-danger-color);--van-field-error-message-font-size:12px;--van-field-text-area-min-height:60px;--van-field-word-limit-color:var(--van-gray-7);--van-field-word-limit-font-size:var(--van-font-size-sm);--van-field-word-limit-line-height:16px;--van-field-disabled-text-color:var(--van-text-color-3);--van-field-required-mark-color:var(--van-red)}.van-field__label{flex:none;box-sizing:border-box;width:var(--van-field-label-width);margin-right:var(--van-field-label-margin-right);color:var(--van-field-label-color);text-align:left;word-wrap:break-word}.van-field__label--center{text-align:center}.van-field__label--right{text-align:right}.van-field__label--required::before{margin-right:2px;color:var(--van-field-required-mark-color);content:"*"}.van-field--disabled .van-field__label{color:var(--van-field-disabled-text-color)}.van-field__value{overflow:visible}.van-field__body{display:flex;align-items:center}.van-field__control{display:block;box-sizing:border-box;width:100%;min-width:0;margin:0;padding:0;color:var(--van-field-input-text-color);line-height:inherit;text-align:left;background-color:rgba(0,0,0,0);border:0;resize:none;-webkit-user-select:auto;user-select:auto}.van-field__control::-webkit-input-placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control::placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control:disabled{color:var(--van-field-input-disabled-text-color);cursor:not-allowed;opacity:1;-webkit-text-fill-color:var(--van-field-input-disabled-text-color)}.van-field__control:read-only{cursor:default}.van-field__control--center{justify-content:center;text-align:center}.van-field__control--right{justify-content:flex-end;text-align:right}.van-field__control--custom{display:flex;align-items:center;min-height:var(--van-cell-line-height)}.van-field__control--error::-webkit-input-placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--error,.van-field__control--error::placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--min-height{min-height:var(--van-field-text-area-min-height)}.van-field__control[type=date],.van-field__control[type=datetime-local],.van-field__control[type=time]{min-height:var(--van-cell-line-height)}.van-field__control[type=search]{-webkit-appearance:none}.van-field__button,.van-field__clear,.van-field__icon,.van-field__right-icon{flex-shrink:0}.van-field__clear,.van-field__right-icon{margin-right:calc(var(--van-padding-xs)*-1);padding:0 var(--van-padding-xs);line-height:inherit}.van-field__clear{color:var(--van-field-clear-icon-color);font-size:var(--van-field-clear-icon-size);cursor:pointer}.van-field__left-icon .van-icon,.van-field__right-icon .van-icon{display:block;font-size:var(--van-field-icon-size);line-height:inherit}.van-field__left-icon{margin-right:var(--van-padding-base)}.van-field__right-icon{color:var(--van-field-right-icon-color)}.van-field__button{padding-left:var(--van-padding-xs)}.van-field__error-message{color:var(--van-field-error-message-color);font-size:var(--van-field-error-message-font-size);text-align:left}.van-field__error-message--center{text-align:center}.van-field__error-message--right{text-align:right}.van-field__word-limit{margin-top:var(--van-padding-base);color:var(--van-field-word-limit-color);font-size:var(--van-field-word-limit-font-size);line-height:var(--van-field-word-limit-line-height);text-align:right}',""]);const s=o},2748:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i),s=a(1667),l=a.n(s),d=new URL(a(3797),a.b),c=o()(r()),u=l()(d);c.push([e.id,'.van-icon{position:relative;display:inline-block;font:normal normal normal 14px/1 vant-icon;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased}.van-icon:before{display:inline-block}.van-icon-exchange:before{content:""}.van-icon-eye:before{content:""}.van-icon-enlarge:before{content:""}.van-icon-expand-o:before{content:""}.van-icon-eye-o:before{content:""}.van-icon-expand:before{content:""}.van-icon-filter-o:before{content:""}.van-icon-fire:before{content:""}.van-icon-fail:before{content:""}.van-icon-failure:before{content:""}.van-icon-fire-o:before{content:""}.van-icon-flag-o:before{content:""}.van-icon-font:before{content:""}.van-icon-font-o:before{content:""}.van-icon-gem-o:before{content:""}.van-icon-flower-o:before{content:""}.van-icon-gem:before{content:""}.van-icon-gift-card:before{content:""}.van-icon-friends:before{content:""}.van-icon-friends-o:before{content:""}.van-icon-gold-coin:before{content:""}.van-icon-gold-coin-o:before{content:""}.van-icon-good-job-o:before{content:""}.van-icon-gift:before{content:""}.van-icon-gift-o:before{content:""}.van-icon-gift-card-o:before{content:""}.van-icon-good-job:before{content:""}.van-icon-home-o:before{content:""}.van-icon-goods-collect:before{content:""}.van-icon-graphic:before{content:""}.van-icon-goods-collect-o:before{content:""}.van-icon-hot-o:before{content:""}.van-icon-info:before{content:""}.van-icon-hotel-o:before{content:""}.van-icon-info-o:before{content:""}.van-icon-hot-sale-o:before{content:""}.van-icon-hot:before{content:""}.van-icon-like:before{content:""}.van-icon-idcard:before{content:""}.van-icon-invitation:before{content:""}.van-icon-like-o:before{content:""}.van-icon-hot-sale:before{content:""}.van-icon-location-o:before{content:""}.van-icon-location:before{content:""}.van-icon-label:before{content:""}.van-icon-lock:before{content:""}.van-icon-label-o:before{content:""}.van-icon-map-marked:before{content:""}.van-icon-logistics:before{content:""}.van-icon-manager:before{content:""}.van-icon-more:before{content:""}.van-icon-live:before{content:""}.van-icon-manager-o:before{content:""}.van-icon-medal:before{content:""}.van-icon-more-o:before{content:""}.van-icon-music-o:before{content:""}.van-icon-music:before{content:""}.van-icon-new-arrival-o:before{content:""}.van-icon-medal-o:before{content:""}.van-icon-new-o:before{content:""}.van-icon-free-postage:before{content:""}.van-icon-newspaper-o:before{content:""}.van-icon-new-arrival:before{content:""}.van-icon-minus:before{content:""}.van-icon-orders-o:before{content:""}.van-icon-new:before{content:""}.van-icon-paid:before{content:""}.van-icon-notes-o:before{content:""}.van-icon-other-pay:before{content:""}.van-icon-pause-circle:before{content:""}.van-icon-pause:before{content:""}.van-icon-pause-circle-o:before{content:""}.van-icon-peer-pay:before{content:""}.van-icon-pending-payment:before{content:""}.van-icon-passed:before{content:""}.van-icon-plus:before{content:""}.van-icon-phone-circle-o:before{content:""}.van-icon-phone-o:before{content:""}.van-icon-printer:before{content:""}.van-icon-photo-fail:before{content:""}.van-icon-phone:before{content:""}.van-icon-photo-o:before{content:""}.van-icon-play-circle:before{content:""}.van-icon-play:before{content:""}.van-icon-phone-circle:before{content:""}.van-icon-point-gift-o:before{content:""}.van-icon-point-gift:before{content:""}.van-icon-play-circle-o:before{content:""}.van-icon-shrink:before{content:""}.van-icon-photo:before{content:""}.van-icon-qr:before{content:""}.van-icon-qr-invalid:before{content:""}.van-icon-question-o:before{content:""}.van-icon-revoke:before{content:""}.van-icon-replay:before{content:""}.van-icon-service:before{content:""}.van-icon-question:before{content:""}.van-icon-search:before{content:""}.van-icon-refund-o:before{content:""}.van-icon-service-o:before{content:""}.van-icon-scan:before{content:""}.van-icon-share:before{content:""}.van-icon-send-gift-o:before{content:""}.van-icon-share-o:before{content:""}.van-icon-setting:before{content:""}.van-icon-points:before{content:""}.van-icon-photograph:before{content:""}.van-icon-shop:before{content:""}.van-icon-shop-o:before{content:""}.van-icon-shop-collect-o:before{content:""}.van-icon-shop-collect:before{content:""}.van-icon-smile:before{content:""}.van-icon-shopping-cart-o:before{content:""}.van-icon-sign:before{content:""}.van-icon-sort:before{content:""}.van-icon-star-o:before{content:""}.van-icon-smile-comment-o:before{content:""}.van-icon-stop:before{content:""}.van-icon-stop-circle-o:before{content:""}.van-icon-smile-o:before{content:""}.van-icon-star:before{content:""}.van-icon-success:before{content:""}.van-icon-stop-circle:before{content:""}.van-icon-records:before{content:""}.van-icon-shopping-cart:before{content:""}.van-icon-tosend:before{content:""}.van-icon-todo-list:before{content:""}.van-icon-thumb-circle-o:before{content:""}.van-icon-thumb-circle:before{content:""}.van-icon-umbrella-circle:before{content:""}.van-icon-underway:before{content:""}.van-icon-upgrade:before{content:""}.van-icon-todo-list-o:before{content:""}.van-icon-tv-o:before{content:""}.van-icon-underway-o:before{content:""}.van-icon-user-o:before{content:""}.van-icon-vip-card-o:before{content:""}.van-icon-vip-card:before{content:""}.van-icon-send-gift:before{content:""}.van-icon-wap-home:before{content:""}.van-icon-wap-nav:before{content:""}.van-icon-volume-o:before{content:""}.van-icon-video:before{content:""}.van-icon-wap-home-o:before{content:""}.van-icon-volume:before{content:""}.van-icon-warning:before{content:""}.van-icon-weapp-nav:before{content:""}.van-icon-wechat-pay:before{content:""}.van-icon-warning-o:before{content:""}.van-icon-wechat:before{content:""}.van-icon-setting-o:before{content:""}.van-icon-youzan-shield:before{content:""}.van-icon-warn-o:before{content:""}.van-icon-smile-comment:before{content:""}.van-icon-user-circle-o:before{content:""}.van-icon-video-o:before{content:""}.van-icon-add-square:before{content:""}.van-icon-add:before{content:""}.van-icon-arrow-down:before{content:""}.van-icon-arrow-up:before{content:""}.van-icon-arrow:before{content:""}.van-icon-after-sale:before{content:""}.van-icon-add-o:before{content:""}.van-icon-alipay:before{content:""}.van-icon-ascending:before{content:""}.van-icon-apps-o:before{content:""}.van-icon-aim:before{content:""}.van-icon-award:before{content:""}.van-icon-arrow-left:before{content:""}.van-icon-award-o:before{content:""}.van-icon-audio:before{content:""}.van-icon-bag-o:before{content:""}.van-icon-balance-list:before{content:""}.van-icon-back-top:before{content:""}.van-icon-bag:before{content:""}.van-icon-balance-pay:before{content:""}.van-icon-balance-o:before{content:""}.van-icon-bar-chart-o:before{content:""}.van-icon-bars:before{content:""}.van-icon-balance-list-o:before{content:""}.van-icon-birthday-cake-o:before{content:""}.van-icon-bookmark:before{content:""}.van-icon-bill:before{content:""}.van-icon-bell:before{content:""}.van-icon-browsing-history-o:before{content:""}.van-icon-browsing-history:before{content:""}.van-icon-bookmark-o:before{content:""}.van-icon-bulb-o:before{content:""}.van-icon-bullhorn-o:before{content:""}.van-icon-bill-o:before{content:""}.van-icon-calendar-o:before{content:""}.van-icon-brush-o:before{content:""}.van-icon-card:before{content:""}.van-icon-cart-o:before{content:""}.van-icon-cart-circle:before{content:""}.van-icon-cart-circle-o:before{content:""}.van-icon-cart:before{content:""}.van-icon-cash-on-deliver:before{content:""}.van-icon-cash-back-record:before{content:""}.van-icon-cashier-o:before{content:""}.van-icon-chart-trending-o:before{content:""}.van-icon-certificate:before{content:""}.van-icon-chat:before{content:""}.van-icon-clear:before{content:""}.van-icon-chat-o:before{content:""}.van-icon-checked:before{content:""}.van-icon-clock:before{content:""}.van-icon-clock-o:before{content:""}.van-icon-close:before{content:""}.van-icon-closed-eye:before{content:""}.van-icon-circle:before{content:""}.van-icon-cluster-o:before{content:""}.van-icon-column:before{content:""}.van-icon-comment-circle-o:before{content:""}.van-icon-cluster:before{content:""}.van-icon-comment:before{content:""}.van-icon-comment-o:before{content:""}.van-icon-comment-circle:before{content:""}.van-icon-completed:before{content:""}.van-icon-credit-pay:before{content:""}.van-icon-coupon:before{content:""}.van-icon-debit-pay:before{content:""}.van-icon-coupon-o:before{content:""}.van-icon-contact:before{content:""}.van-icon-descending:before{content:""}.van-icon-desktop-o:before{content:""}.van-icon-diamond-o:before{content:""}.van-icon-description:before{content:""}.van-icon-delete:before{content:""}.van-icon-diamond:before{content:""}.van-icon-delete-o:before{content:""}.van-icon-cross:before{content:""}.van-icon-edit:before{content:""}.van-icon-ellipsis:before{content:""}.van-icon-down:before{content:""}.van-icon-discount:before{content:""}.van-icon-ecard-pay:before{content:""}.van-icon-envelop-o:before{content:""}.van-icon-shield-o:before{content:""}.van-icon-guide-o:before{content:""}@font-face{font-weight:400;font-family:vant-icon;font-style:normal;font-display:auto;src:url('+u+') format("woff2"),url("//at.alicdn.com/t/font_2553510_61agzg96wm8.woff?t=1631948257467") format("woff"),url("//at.alicdn.com/t/font_2553510_61agzg96wm8.ttf?t=1631948257467") format("truetype")}.van-icon__image{width:1em;height:1em;object-fit:contain}',""]);const h=c},8909:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-image-preview-index-text-color:var(--van-white);--van-image-preview-index-font-size:var(--van-font-size-md);--van-image-preview-index-line-height:var(--van-line-height-md);--van-image-preview-index-text-shadow:0 1px 1px var(--van-gray-8);--van-image-preview-overlay-background-color:rgba(0, 0, 0, 0.9);--van-image-preview-close-icon-size:22px;--van-image-preview-close-icon-color:var(--van-gray-5);--van-image-preview-close-icon-margin:var(--van-padding-md);--van-image-preview-close-icon-z-index:1}.van-image-preview{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0);transform:none}.van-image-preview__swipe{height:100%}.van-image-preview__swipe-item{display:flex;align-items:center;justify-content:center;overflow:hidden}.van-image-preview__cover{position:absolute;top:0;left:0}.van-image-preview__image{width:100%;transition-property:transform}.van-image-preview__image--vertical{width:auto;height:100%}.van-image-preview__image img{-webkit-user-drag:none}.van-image-preview__image .van-image__error{top:30%;height:40%}.van-image-preview__image .van-image__error-icon{font-size:36px}.van-image-preview__image .van-image__loading{background-color:rgba(0,0,0,0)}.van-image-preview__index{position:absolute;top:var(--van-padding-md);left:50%;color:var(--van-image-preview-index-text-color);font-size:var(--van-image-preview-index-font-size);line-height:var(--van-image-preview-index-line-height);text-shadow:var(--van-image-preview-index-text-shadow);transform:translate(-50%, 0)}.van-image-preview__overlay{background:var(--van-image-preview-overlay-background-color)}.van-image-preview__close-icon{position:absolute;z-index:var(--van-image-preview-close-icon-z-index);color:var(--van-image-preview-close-icon-color);font-size:var(--van-image-preview-close-icon-size);cursor:pointer}.van-image-preview__close-icon--top-left{top:var(--van-image-preview-close-icon-margin);left:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--top-right{top:var(--van-image-preview-close-icon-margin);right:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--bottom-left{bottom:var(--van-image-preview-close-icon-margin);left:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--bottom-right{right:var(--van-image-preview-close-icon-margin);bottom:var(--van-image-preview-close-icon-margin)}",""]);const s=o},8419:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-image-placeholder-text-color:var(--van-text-color-2);--van-image-placeholder-font-size:var(--van-font-size-md);--van-image-placeholder-background-color:var(--van-background-color);--van-image-loading-icon-size:32px;--van-image-loading-icon-color:var(--van-gray-4);--van-image-error-icon-size:32px;--van-image-error-icon-color:var(--van-gray-4)}.van-image{position:relative;display:inline-block}.van-image--round{overflow:hidden;border-radius:var(--van-border-radius-max)}.van-image--round .van-image__img{border-radius:inherit}.van-image__error,.van-image__img,.van-image__loading{display:block;width:100%;height:100%}.van-image__error,.van-image__loading{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--van-image-placeholder-text-color);font-size:var(--van-image-placeholder-font-size);background:var(--van-image-placeholder-background-color)}.van-image__loading-icon{color:var(--van-image-loading-icon-color);font-size:var(--van-image-loading-icon-size)}.van-image__error-icon{color:var(--van-image-error-icon-color);font-size:var(--van-image-error-icon-size)}",""]);const s=o},2475:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,':root{--van-loading-text-color:var(--van-text-color-2);--van-loading-text-font-size:var(--van-font-size-md);--van-loading-spinner-color:var(--van-gray-5);--van-loading-spinner-size:30px;--van-loading-spinner-animation-duration:0.8s}.van-loading{position:relative;color:var(--van-loading-spinner-color);font-size:0;vertical-align:middle}.van-loading__spinner{position:relative;display:inline-block;width:var(--van-loading-spinner-size);max-width:100%;height:var(--van-loading-spinner-size);max-height:100%;vertical-align:middle;animation:van-rotate var(--van-loading-spinner-animation-duration) linear infinite}.van-loading__spinner--spinner{animation-timing-function:steps(12)}.van-loading__spinner--circular{animation-duration:2s}.van-loading__line{position:absolute;top:0;left:0;width:100%;height:100%}.van-loading__line::before{display:block;width:2px;height:25%;margin:0 auto;background-color:currentColor;border-radius:40%;content:" "}.van-loading__circular{display:block;width:100%;height:100%}.van-loading__circular circle{animation:van-circular 1.5s ease-in-out infinite;stroke:currentColor;stroke-width:3;stroke-linecap:round}.van-loading__text{display:inline-block;margin-left:var(--van-padding-xs);color:var(--van-loading-text-color);font-size:var(--van-loading-text-font-size);vertical-align:middle}.van-loading--vertical{display:flex;flex-direction:column;align-items:center}.van-loading--vertical .van-loading__text{margin:var(--van-padding-xs) 0 0}@keyframes van-circular{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40}100%{stroke-dasharray:90,150;stroke-dashoffset:-120}}.van-loading__line--1{transform:rotate(30deg);opacity:1}.van-loading__line--2{transform:rotate(60deg);opacity:.9375}.van-loading__line--3{transform:rotate(90deg);opacity:.875}.van-loading__line--4{transform:rotate(120deg);opacity:.8125}.van-loading__line--5{transform:rotate(150deg);opacity:.75}.van-loading__line--6{transform:rotate(180deg);opacity:.6875}.van-loading__line--7{transform:rotate(210deg);opacity:.625}.van-loading__line--8{transform:rotate(240deg);opacity:.5625}.van-loading__line--9{transform:rotate(270deg);opacity:.5}.van-loading__line--10{transform:rotate(300deg);opacity:.4375}.van-loading__line--11{transform:rotate(330deg);opacity:.375}.van-loading__line--12{transform:rotate(360deg);opacity:.3125}',""]);const s=o},666:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-notify-text-color:var(--van-white);--van-notify-padding:var(--van-padding-xs) var(--van-padding-md);--van-notify-font-size:var(--van-font-size-md);--van-notify-line-height:var(--van-line-height-md);--van-notify-primary-background-color:var(--van-primary-color);--van-notify-success-background-color:var(--van-success-color);--van-notify-danger-background-color:var(--van-danger-color);--van-notify-warning-background-color:var(--van-warning-color)}.van-notify{display:flex;align-items:center;justify-content:center;box-sizing:border-box;padding:var(--van-notify-padding);color:var(--van-notify-text-color);font-size:var(--van-notify-font-size);line-height:var(--van-notify-line-height);white-space:pre-wrap;text-align:center;word-wrap:break-word}.van-notify--primary{background:var(--van-notify-primary-background-color)}.van-notify--success{background:var(--van-notify-success-background-color)}.van-notify--danger{background:var(--van-notify-danger-background-color)}.van-notify--warning{background:var(--van-notify-warning-background-color)}",""]);const s=o},1431:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-overlay-z-index:1;--van-overlay-background-color:rgba(0, 0, 0, 0.7)}.van-overlay{position:fixed;top:0;left:0;z-index:var(--van-overlay-z-index);width:100%;height:100%;background:var(--van-overlay-background-color)}",""]);const s=o},6266:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-pagination-height:40px;--van-pagination-font-size:var(--van-font-size-md);--van-pagination-item-width:36px;--van-pagination-item-default-color:var(--van-primary-color);--van-pagination-item-disabled-color:var(--van-gray-7);--van-pagination-item-disabled-background-color:var(--van-background-color);--van-pagination-background-color:var(--van-background-color-light);--van-pagination-desc-color:var(--van-gray-7);--van-pagination-disabled-opacity:var(--van-disabled-opacity)}.van-pagination{font-size:var(--van-pagination-font-size)}.van-pagination__items{display:flex}.van-pagination__item,.van-pagination__page-desc{display:flex;align-items:center;justify-content:center}.van-pagination__item{flex:1;box-sizing:border-box;min-width:var(--van-pagination-item-width);height:var(--van-pagination-height);color:var(--van-pagination-item-default-color);background:var(--van-pagination-background-color);cursor:pointer;-webkit-user-select:none;user-select:none}.van-pagination__item button{flex:1;height:100%;border:none;padding:0;background:0 0}.van-pagination__item button[disabled]{cursor:not-allowed}.van-pagination__item:active{color:var(--van-white);background-color:var(--van-pagination-item-default-color)}.van-pagination__item:not(:last-child)::after{border-right-width:0}.van-pagination__item--active{color:var(--van-white);background-color:var(--van-pagination-item-default-color)}.van-pagination__item--page{flex-grow:0}.van-pagination__item--next,.van-pagination__item--prev{padding:0 var(--van-padding-base);cursor:pointer}.van-pagination__item--border::after{border-width:var(--van-border-width-base)}.van-pagination__item--disabled{color:var(--van-pagination-item-disabled-color);background-color:var(--van-pagination-item-disabled-background-color);opacity:var(--van-pagination-disabled-opacity)}.van-pagination__page-desc{flex:1;height:var(--van-pagination-height);color:var(--van-pagination-desc-color)}",""]);const s=o},3195:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-popup-background-color:var(--van-background-color-light);--van-popup-transition:transform var(--van-animation-duration-base);--van-popup-round-border-radius:16px;--van-popup-close-icon-size:22px;--van-popup-close-icon-color:var(--van-gray-5);--van-popup-close-icon-margin:16px;--van-popup-close-icon-z-index:1}.van-overflow-hidden{overflow:hidden !important}.van-popup{position:fixed;max-height:100%;overflow-y:auto;background:var(--van-popup-background-color);transition:var(--van-popup-transition);-webkit-overflow-scrolling:touch}.van-popup--center{top:50%;left:50%;transform:translate3d(-50%, -50%, 0)}.van-popup--center.van-popup--round{border-radius:var(--van-popup-round-border-radius)}.van-popup--top{top:0;left:0;width:100%}.van-popup--top.van-popup--round{border-radius:0 0 var(--van-popup-round-border-radius) var(--van-popup-round-border-radius)}.van-popup--right{top:50%;right:0;transform:translate3d(0, -50%, 0)}.van-popup--right.van-popup--round{border-radius:var(--van-popup-round-border-radius) 0 0 var(--van-popup-round-border-radius)}.van-popup--bottom{bottom:0;left:0;width:100%}.van-popup--bottom.van-popup--round{border-radius:var(--van-popup-round-border-radius) var(--van-popup-round-border-radius) 0 0}.van-popup--left{top:50%;left:0;transform:translate3d(0, -50%, 0)}.van-popup--left.van-popup--round{border-radius:0 var(--van-popup-round-border-radius) var(--van-popup-round-border-radius) 0}.van-popup-slide-bottom-enter-active,.van-popup-slide-left-enter-active,.van-popup-slide-right-enter-active,.van-popup-slide-top-enter-active{transition-timing-function:var(--van-animation-timing-function-enter)}.van-popup-slide-bottom-leave-active,.van-popup-slide-left-leave-active,.van-popup-slide-right-leave-active,.van-popup-slide-top-leave-active{transition-timing-function:var(--van-animation-timing-function-leave)}.van-popup-slide-top-enter-from,.van-popup-slide-top-leave-active{transform:translate3d(0, -100%, 0)}.van-popup-slide-right-enter-from,.van-popup-slide-right-leave-active{transform:translate3d(100%, -50%, 0)}.van-popup-slide-bottom-enter-from,.van-popup-slide-bottom-leave-active{transform:translate3d(0, 100%, 0)}.van-popup-slide-left-enter-from,.van-popup-slide-left-leave-active{transform:translate3d(-100%, -50%, 0)}.van-popup__close-icon{position:absolute;z-index:var(--van-popup-close-icon-z-index);color:var(--van-popup-close-icon-color);font-size:var(--van-popup-close-icon-size);cursor:pointer}.van-popup__close-icon--top-left{top:var(--van-popup-close-icon-margin);left:var(--van-popup-close-icon-margin)}.van-popup__close-icon--top-right{top:var(--van-popup-close-icon-margin);right:var(--van-popup-close-icon-margin)}.van-popup__close-icon--bottom-left{bottom:var(--van-popup-close-icon-margin);left:var(--van-popup-close-icon-margin)}.van-popup__close-icon--bottom-right{right:var(--van-popup-close-icon-margin);bottom:var(--van-popup-close-icon-margin)}",""]);const s=o},5537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,".van-radio-group--horizontal{display:flex;flex-wrap:wrap}",""]);const s=o},3258:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-radio-size:20px;--van-radio-border-color:var(--van-gray-5);--van-radio-transition-duration:var(--van-animation-duration-fast);--van-radio-label-margin:var(--van-padding-xs);--van-radio-label-color:var(--van-text-color);--van-radio-checked-icon-color:var(--van-primary-color);--van-radio-disabled-icon-color:var(--van-gray-5);--van-radio-disabled-label-color:var(--van-text-color-3);--van-radio-disabled-background-color:var(--van-border-color)}.van-radio{display:flex;align-items:center;overflow:hidden;cursor:pointer;-webkit-user-select:none;user-select:none}.van-radio--disabled{cursor:not-allowed}.van-radio--label-disabled{cursor:default}.van-radio--horizontal{margin-right:var(--van-padding-sm)}.van-radio__icon{flex:none;height:1em;font-size:var(--van-radio-size);line-height:1em;cursor:pointer}.van-radio__icon .van-icon{display:block;box-sizing:border-box;width:1.25em;height:1.25em;color:rgba(0,0,0,0);font-size:.8em;line-height:1.25;text-align:center;border:1px solid var(--van-radio-border-color);transition-duration:var(--van-radio-transition-duration);transition-property:color,border-color,background-color}.van-radio__icon--round .van-icon{border-radius:100%}.van-radio__icon--checked .van-icon{color:var(--van-white);background-color:var(--van-radio-checked-icon-color);border-color:var(--van-radio-checked-icon-color)}.van-radio__icon--disabled{cursor:not-allowed}.van-radio__icon--disabled .van-icon{background-color:var(--van-radio-disabled-background-color);border-color:var(--van-radio-disabled-icon-color)}.van-radio__icon--disabled.van-radio__icon--checked .van-icon{color:var(--van-radio-disabled-icon-color)}.van-radio__label{margin-left:var(--van-radio-label-margin);color:var(--van-radio-label-color);line-height:var(--van-radio-size)}.van-radio__label--left{margin:0 var(--van-radio-label-margin) 0 0}.van-radio__label--disabled{color:var(--van-radio-disabled-label-color)}",""]);const s=o},4080:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,".van-row{display:flex;flex-wrap:wrap}.van-row--nowrap{flex-wrap:nowrap}.van-row--justify-center{justify-content:center}.van-row--justify-end{justify-content:flex-end}.van-row--justify-space-between{justify-content:space-between}.van-row--justify-space-around{justify-content:space-around}.van-row--align-center{align-items:center}.van-row--align-bottom{align-items:flex-end}",""]);const s=o},8232:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-search-padding:10px var(--van-padding-sm);--van-search-background-color:var(--van-background-color-light);--van-search-content-background-color:var(--van-gray-1);--van-search-input-height:34px;--van-search-label-padding:0 5px;--van-search-label-color:var(--van-text-color);--van-search-label-font-size:var(--van-font-size-md);--van-search-left-icon-color:var(--van-gray-6);--van-search-action-padding:0 var(--van-padding-xs);--van-search-action-text-color:var(--van-text-color);--van-search-action-font-size:var(--van-font-size-md)}.van-search{display:flex;align-items:center;box-sizing:border-box;padding:var(--van-search-padding);background:var(--van-search-background-color)}.van-search__content{display:flex;flex:1;padding-left:var(--van-padding-sm);background:var(--van-search-content-background-color);border-radius:var(--van-border-radius-sm)}.van-search__content--round{border-radius:var(--van-border-radius-max)}.van-search__label{padding:var(--van-search-label-padding);color:var(--van-search-label-color);font-size:var(--van-search-label-font-size);line-height:var(--van-search-input-height)}.van-search__field{flex:1;padding:5px var(--van-padding-xs) 5px 0;background-color:rgba(0,0,0,0)}.van-search__field .van-field__left-icon{color:var(--van-search-left-icon-color)}.van-search--show-action{padding-right:0}.van-search input::-webkit-search-cancel-button,.van-search input::-webkit-search-decoration,.van-search input::-webkit-search-results-button,.van-search input::-webkit-search-results-decoration{display:none}.van-search__action{padding:var(--van-search-action-padding);color:var(--van-search-action-text-color);font-size:var(--van-search-action-font-size);line-height:var(--van-search-input-height);cursor:pointer;-webkit-user-select:none;user-select:none}.van-search__action:active{background-color:var(--van-active-color)}",""]);const s=o},6030:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,':root{--van-slider-active-background-color:var(--van-primary-color);--van-slider-inactive-background-color:var(--van-gray-3);--van-slider-disabled-opacity:var(--van-disabled-opacity);--van-slider-bar-height:2px;--van-slider-button-width:24px;--van-slider-button-height:24px;--van-slider-button-border-radius:50%;--van-slider-button-background-color:var(--van-white);--van-slider-button-box-shadow:0 1px 2px rgba(0, 0, 0, 0.5)}.van-slider{position:relative;width:100%;height:var(--van-slider-bar-height);background:var(--van-slider-inactive-background-color);border-radius:var(--van-border-radius-max);cursor:pointer}.van-slider::before{position:absolute;top:calc(var(--van-padding-xs)*-1);right:0;bottom:calc(var(--van-padding-xs)*-1);left:0;content:""}.van-slider__bar{position:absolute;width:100%;height:100%;background:var(--van-slider-active-background-color);border-radius:inherit;transition:all var(--van-animation-duration-fast)}.van-slider__button{width:var(--van-slider-button-width);height:var(--van-slider-button-height);background:var(--van-slider-button-background-color);border-radius:var(--van-slider-button-border-radius);box-shadow:var(--van-slider-button-box-shadow)}.van-slider__button-wrapper{position:absolute;cursor:-webkit-grab;cursor:grab;top:50%}.van-slider__button-wrapper--right{right:0;transform:translate3d(50%, -50%, 0)}.van-slider__button-wrapper--left{left:0;transform:translate3d(-50%, -50%, 0)}.van-slider--disabled{cursor:not-allowed;opacity:var(--van-slider-disabled-opacity)}.van-slider--disabled .van-slider__button-wrapper{cursor:not-allowed}.van-slider--vertical{display:inline-block;width:var(--van-slider-bar-height);height:100%}.van-slider--vertical .van-slider__button-wrapper--right{top:auto;right:50%;bottom:0;transform:translate3d(50%, 50%, 0)}.van-slider--vertical .van-slider__button-wrapper--left{top:0;right:50%;left:auto;transform:translate3d(50%, -50%, 0)}.van-slider--vertical::before{top:0;right:calc(var(--van-padding-xs)*-1);bottom:0;left:calc(var(--van-padding-xs)*-1)}',""]);const s=o},7457:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-sticky-z-index:99}.van-sticky--fixed{position:fixed;z-index:var(--van-sticky-z-index)}",""]);const s=o},9969:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,':root{--van-black:#000;--van-white:#fff;--van-gray-1:#f7f8fa;--van-gray-2:#f2f3f5;--van-gray-3:#ebedf0;--van-gray-4:#dcdee0;--van-gray-5:#c8c9cc;--van-gray-6:#969799;--van-gray-7:#646566;--van-gray-8:#323233;--van-red:#ee0a24;--van-blue:#1989fa;--van-orange:#ff976a;--van-orange-dark:#ed6a0c;--van-orange-light:#fffbe8;--van-green:#07c160;--van-gradient-red:linear-gradient(to right, #ff6034, #ee0a24);--van-gradient-orange:linear-gradient(to right, #ffd01e, #ff8917);--van-primary-color:var(--van-blue);--van-success-color:var(--van-green);--van-danger-color:var(--van-red);--van-warning-color:var(--van-orange);--van-text-color:var(--van-gray-8);--van-text-color-2:var(--van-gray-6);--van-text-color-3:var(--van-gray-5);--van-text-link-color:#576b95;--van-active-color:var(--van-gray-2);--van-active-opacity:0.6;--van-disabled-opacity:0.5;--van-background-color:var(--van-gray-1);--van-background-color-light:var(--van-white);--van-padding-base:4px;--van-padding-xs:8px;--van-padding-sm:12px;--van-padding-md:16px;--van-padding-lg:24px;--van-padding-xl:32px;--van-font-size-xs:10px;--van-font-size-sm:12px;--van-font-size-md:14px;--van-font-size-lg:16px;--van-font-weight-bold:500;--van-line-height-xs:14px;--van-line-height-sm:18px;--van-line-height-md:20px;--van-line-height-lg:22px;--van-base-font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",Helvetica,Segoe UI,Arial,Roboto,"PingFang SC","miui","Hiragino Sans GB","Microsoft Yahei",sans-serif;--van-price-integer-font-family:Avenir-Heavy,PingFang SC,Helvetica Neue,Arial,sans-serif;--van-animation-duration-base:0.3s;--van-animation-duration-fast:0.2s;--van-animation-timing-function-enter:ease-out;--van-animation-timing-function-leave:ease-in;--van-border-color:var(--van-gray-3);--van-border-width-base:1px;--van-border-radius-sm:2px;--van-border-radius-md:4px;--van-border-radius-lg:8px;--van-border-radius-max:999px}html{-webkit-tap-highlight-color:rgba(0,0,0,0)}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",Helvetica,Segoe UI,Arial,Roboto,"PingFang SC",miui,"Hiragino Sans GB","Microsoft Yahei",sans-serif}a{text-decoration:none}button,input,textarea{color:inherit;font:inherit}[class*=van-]:focus,a:focus,button:focus,input:focus,textarea:focus{outline:0}ol,ul{margin:0;padding:0;list-style:none}@keyframes van-slide-up-enter{from{transform:translate3d(0, 100%, 0)}}@keyframes van-slide-up-leave{to{transform:translate3d(0, 100%, 0)}}@keyframes van-slide-down-enter{from{transform:translate3d(0, -100%, 0)}}@keyframes van-slide-down-leave{to{transform:translate3d(0, -100%, 0)}}@keyframes van-slide-left-enter{from{transform:translate3d(-100%, 0, 0)}}@keyframes van-slide-left-leave{to{transform:translate3d(-100%, 0, 0)}}@keyframes van-slide-right-enter{from{transform:translate3d(100%, 0, 0)}}@keyframes van-slide-right-leave{to{transform:translate3d(100%, 0, 0)}}@keyframes van-fade-in{from{opacity:0}to{opacity:1}}@keyframes van-fade-out{from{opacity:1}to{opacity:0}}@keyframes van-rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}.van-fade-enter-active{animation:var(--van-animation-duration-base) van-fade-in both var(--van-animation-timing-function-enter)}.van-fade-leave-active{animation:var(--van-animation-duration-base) van-fade-out both var(--van-animation-timing-function-leave)}.van-slide-up-enter-active{animation:van-slide-up-enter var(--van-animation-duration-base) both var(--van-animation-timing-function-enter)}.van-slide-up-leave-active{animation:van-slide-up-leave var(--van-animation-duration-base) both var(--van-animation-timing-function-leave)}.van-slide-down-enter-active{animation:van-slide-down-enter var(--van-animation-duration-base) both var(--van-animation-timing-function-enter)}.van-slide-down-leave-active{animation:van-slide-down-leave var(--van-animation-duration-base) both var(--van-animation-timing-function-leave)}.van-slide-left-enter-active{animation:van-slide-left-enter var(--van-animation-duration-base) both var(--van-animation-timing-function-enter)}.van-slide-left-leave-active{animation:van-slide-left-leave var(--van-animation-duration-base) both var(--van-animation-timing-function-leave)}.van-slide-right-enter-active{animation:van-slide-right-enter var(--van-animation-duration-base) both var(--van-animation-timing-function-enter)}.van-slide-right-leave-active{animation:van-slide-right-leave var(--van-animation-duration-base) both var(--van-animation-timing-function-leave)}.van-clearfix::after{display:table;clear:both;content:""}.van-ellipsis{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.van-multi-ellipsis--l2{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}.van-multi-ellipsis--l3{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3;-webkit-box-orient:vertical}.van-safe-area-bottom{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.van-haptics-feedback:active{opacity:var(--van-active-opacity)}[class*=van-hairline]::after{position:absolute;box-sizing:border-box;content:" ";pointer-events:none;top:-50%;right:-50%;bottom:-50%;left:-50%;border:0 solid var(--van-border-color);transform:scale(0.5)}.van-hairline,.van-hairline--bottom,.van-hairline--left,.van-hairline--right,.van-hairline--surround,.van-hairline--top,.van-hairline--top-bottom{position:relative}.van-hairline--top::after{border-top-width:1px}.van-hairline--left::after{border-left-width:1px}.van-hairline--right::after{border-right-width:1px}.van-hairline--bottom::after{border-bottom-width:1px}.van-hairline--top-bottom::after,.van-hairline-unset--top-bottom::after{border-width:1px 0}.van-hairline--surround::after{border-width:1px}',""]);const s=o},3421:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,".van-swipe-item{position:relative;flex-shrink:0;width:100%;height:100%}",""]);const s=o},2802:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-swipe-indicator-size:6px;--van-swipe-indicator-margin:var(--van-padding-sm);--van-swipe-indicator-active-opacity:1;--van-swipe-indicator-inactive-opacity:0.3;--van-swipe-indicator-active-background-color:var(--van-primary-color);--van-swipe-indicator-inactive-background-color:var(--van-border-color)}.van-swipe{position:relative;overflow:hidden;transform:translateZ(0);cursor:-webkit-grab;cursor:grab;-webkit-user-select:none;user-select:none}.van-swipe__track{display:flex;height:100%}.van-swipe__track--vertical{flex-direction:column}.van-swipe__indicators{position:absolute;bottom:var(--van-swipe-indicator-margin);left:50%;display:flex;transform:translateX(-50%)}.van-swipe__indicators--vertical{top:50%;bottom:auto;left:var(--van-swipe-indicator-margin);flex-direction:column;transform:translateY(-50%)}.van-swipe__indicators--vertical .van-swipe__indicator:not(:last-child){margin-bottom:var(--van-swipe-indicator-size)}.van-swipe__indicator{width:var(--van-swipe-indicator-size);height:var(--van-swipe-indicator-size);background-color:var(--van-swipe-indicator-inactive-background-color);border-radius:100%;opacity:var(--van-swipe-indicator-inactive-opacity);transition:opacity var(--van-animation-duration-fast),background-color var(--van-animation-duration-fast)}.van-swipe__indicator:not(:last-child){margin-right:var(--van-swipe-indicator-size)}.van-swipe__indicator--active{background-color:var(--van-swipe-indicator-active-background-color);opacity:var(--van-swipe-indicator-active-opacity)}",""]);const s=o},3993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-switch-size:30px;--van-switch-width:2em;--van-switch-height:1em;--van-switch-node-size:1em;--van-switch-node-background-color:var(--van-white);--van-switch-node-box-shadow:0 3px 1px 0 rgba(0, 0, 0, 0.05),0 2px 2px 0 rgba(0, 0, 0, 0.1),0 3px 3px 0 rgba(0, 0, 0, 0.05);--van-switch-background-color:var(--van-background-color-light);--van-switch-on-background-color:var(--van-primary-color);--van-switch-transition-duration:var(--van-animation-duration-base);--van-switch-disabled-opacity:var(--van-disabled-opacity);--van-switch-border:var(--van-border-width-base) solid rgba(0, 0, 0, 0.1)}.van-switch{position:relative;display:inline-block;box-sizing:content-box;width:var(--van-switch-width);height:var(--van-switch-height);font-size:var(--van-switch-size);background:var(--van-switch-background-color);border:var(--van-switch-border);border-radius:var(--van-switch-node-size);cursor:pointer;transition:background-color var(--van-switch-transition-duration)}.van-switch__node{position:absolute;top:0;left:0;width:var(--van-switch-node-size);height:var(--van-switch-node-size);font-size:inherit;background:var(--van-switch-node-background-color);border-radius:100%;box-shadow:var(--van-switch-node-box-shadow);transition:transform var(--van-switch-transition-duration) cubic-bezier(0.3, 1.05, 0.4, 1.05)}.van-switch__loading{top:25%;left:25%;width:50%;height:50%;line-height:1}.van-switch--on{background:var(--van-switch-on-background-color)}.van-switch--on .van-switch__node{transform:translateX(calc(var(--van-switch-width) - var(--van-switch-node-size)))}.van-switch--on .van-switch__loading{color:var(--van-switch-on-background-color)}.van-switch--disabled{cursor:not-allowed;opacity:var(--van-switch-disabled-opacity)}.van-switch--loading{cursor:default}",""]);const s=o},9473:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,".van-tab__panel,.van-tab__panel-wrapper{flex-shrink:0;box-sizing:border-box;width:100%}.van-tab__panel-wrapper--inactive{height:0;overflow:visible}",""]);const s=o},6959:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-tab-text-color:var(--van-gray-7);--van-tab-active-text-color:var(--van-text-color);--van-tab-disabled-text-color:var(--van-text-color-3);--van-tab-font-size:var(--van-font-size-md);--van-tab-line-height:var(--van-line-height-md);--van-tabs-default-color:var(--van-danger-color);--van-tabs-line-height:44px;--van-tabs-card-height:30px;--van-tabs-nav-background-color:var(--van-background-color-light);--van-tabs-bottom-bar-width:40px;--van-tabs-bottom-bar-height:3px;--van-tabs-bottom-bar-color:var(--van-danger-color)}.van-tab{position:relative;display:flex;flex:1;align-items:center;justify-content:center;box-sizing:border-box;padding:0 var(--van-padding-base);color:var(--van-tab-text-color);font-size:var(--van-tab-font-size);line-height:var(--van-tab-line-height);cursor:pointer}.van-tab--active{color:var(--van-tab-active-text-color);font-weight:var(--van-font-weight-bold)}.van-tab--disabled{color:var(--van-tab-disabled-text-color);cursor:not-allowed}.van-tab__text--ellipsis{display:-webkit-box;overflow:hidden;-webkit-line-clamp:1;-webkit-box-orient:vertical}.van-tabs{position:relative}.van-tabs__wrap{overflow:hidden}.van-tabs__wrap--page-top{position:fixed}.van-tabs__wrap--content-bottom{top:auto;bottom:0}.van-tabs__wrap--scrollable .van-tab{flex:1 0 auto;padding:0 var(--van-padding-sm)}.van-tabs__wrap--scrollable .van-tabs__nav{overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.van-tabs__wrap--scrollable .van-tabs__nav::-webkit-scrollbar{display:none}.van-tabs__nav{position:relative;display:flex;background:var(--van-tabs-nav-background-color);-webkit-user-select:none;user-select:none}.van-tabs__nav--line{box-sizing:content-box;height:100%;padding-bottom:15px}.van-tabs__nav--line.van-tabs__nav--complete{padding-right:var(--van-padding-xs);padding-left:var(--van-padding-xs)}.van-tabs__nav--card{box-sizing:border-box;height:var(--van-tabs-card-height);margin:0 var(--van-padding-md);border:var(--van-border-width-base) solid var(--van-tabs-default-color);border-radius:var(--van-border-radius-sm)}.van-tabs__nav--card .van-tab{color:var(--van-tabs-default-color);border-right:var(--van-border-width-base) solid var(--van-tabs-default-color)}.van-tabs__nav--card .van-tab:last-child{border-right:none}.van-tabs__nav--card .van-tab.van-tab--active{color:var(--van-white);background-color:var(--van-tabs-default-color)}.van-tabs__nav--card .van-tab--disabled{color:var(--van-tab-disabled-text-color)}.van-tabs__line{position:absolute;bottom:15px;left:0;z-index:1;width:var(--van-tabs-bottom-bar-width);height:var(--van-tabs-bottom-bar-height);background:var(--van-tabs-bottom-bar-color);border-radius:var(--van-tabs-bottom-bar-height)}.van-tabs__track{position:relative;display:flex;width:100%;height:100%;will-change:left}.van-tabs__content--animated{overflow:hidden}.van-tabs--line .van-tabs__wrap{height:var(--van-tabs-line-height)}.van-tabs--card>.van-tabs__wrap{height:var(--van-tabs-card-height)}",""]);const s=o},1202:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,":root{--van-uploader-size:80px;--van-uploader-icon-size:24px;--van-uploader-icon-color:var(--van-gray-4);--van-uploader-text-color:var(--van-text-color-2);--van-uploader-text-font-size:var(--van-font-size-sm);--van-uploader-upload-background-color:var(--van-gray-1);--van-uploader-upload-active-color:var(--van-active-color);--van-uploader-delete-color:var(--van-white);--van-uploader-delete-icon-size:14px;--van-uploader-delete-background-color:rgba(0, 0, 0, 0.7);--van-uploader-file-background-color:var(--van-background-color);--van-uploader-file-icon-size:20px;--van-uploader-file-icon-color:var(--van-gray-7);--van-uploader-file-name-padding:0 var(--van-padding-base);--van-uploader-file-name-margin-top:var(--van-padding-xs);--van-uploader-file-name-font-size:var(--van-font-size-sm);--van-uploader-file-name-text-color:var(--van-gray-7);--van-uploader-mask-text-color:var(--van-white);--van-uploader-mask-background-color:rgba(50, 50, 51, 0.88);--van-uploader-mask-icon-size:22px;--van-uploader-mask-message-font-size:var(--van-font-size-sm);--van-uploader-mask-message-line-height:var(--van-line-height-xs);--van-uploader-loading-icon-size:22px;--van-uploader-loading-icon-color:var(--van-white);--van-uploader-disabled-opacity:var(--van-disabled-opacity)}.van-uploader{position:relative;display:inline-block}.van-uploader__wrapper{display:flex;flex-wrap:wrap}.van-uploader__wrapper--disabled{opacity:var(--van-uploader-disabled-opacity)}.van-uploader__input{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;cursor:pointer;opacity:0}.van-uploader__input-wrapper{position:relative}.van-uploader__input:disabled{cursor:not-allowed}.van-uploader__upload{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;width:var(--van-uploader-size);height:var(--van-uploader-size);margin:0 var(--van-padding-xs) var(--van-padding-xs) 0;background:var(--van-uploader-upload-background-color)}.van-uploader__upload:active{background-color:var(--van-uploader-upload-active-color)}.van-uploader__upload--readonly:active{background-color:var(--van-uploader-upload-background-color)}.van-uploader__upload-icon{color:var(--van-uploader-icon-color);font-size:var(--van-uploader-icon-size)}.van-uploader__upload-text{margin-top:var(--van-padding-xs);color:var(--van-uploader-text-color);font-size:var(--van-uploader-text-font-size)}.van-uploader__preview{position:relative;margin:0 var(--van-padding-xs) var(--van-padding-xs) 0;cursor:pointer}.van-uploader__preview-image{display:block;width:var(--van-uploader-size);height:var(--van-uploader-size);overflow:hidden}.van-uploader__preview-delete{position:absolute;top:0;right:0;width:var(--van-uploader-delete-icon-size);height:var(--van-uploader-delete-icon-size);background:var(--van-uploader-delete-background-color);border-radius:0 0 0 12px}.van-uploader__preview-delete-icon{position:absolute;top:0;right:0;color:var(--van-uploader-delete-color);font-size:var(--van-uploader-delete-icon-size);transform:scale(0.7) translate(10%, -10%)}.van-uploader__preview-cover{position:absolute;top:0;right:0;bottom:0;left:0}.van-uploader__mask{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--van-uploader-mask-text-color);background:var(--van-uploader-mask-background-color)}.van-uploader__mask-icon{font-size:var(--van-uploader-mask-icon-size)}.van-uploader__mask-message{margin-top:6px;padding:0 var(--van-padding-base);font-size:var(--van-uploader-mask-message-font-size);line-height:var(--van-uploader-mask-message-line-height)}.van-uploader__loading{width:var(--van-uploader-loading-icon-size);height:var(--van-uploader-loading-icon-size);color:var(--van-uploader-loading-icon-color)}.van-uploader__file{display:flex;flex-direction:column;align-items:center;justify-content:center;width:var(--van-uploader-size);height:var(--van-uploader-size);background:var(--van-uploader-file-background-color)}.van-uploader__file-icon{color:var(--van-uploader-file-icon-color);font-size:var(--van-uploader-file-icon-size)}.van-uploader__file-name{box-sizing:border-box;width:100%;margin-top:var(--van-uploader-file-name-margin-top);padding:var(--van-uploader-file-name-padding);color:var(--van-uploader-file-name-text-color);font-size:var(--van-uploader-file-name-font-size);text-align:center}",""]);const s=o},2992:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"html,body{width:100%;height:100%;background:#1a192c}.custom-notify{height:45px !important;--van-notify-success-background-color: #07c16138 !important;--van-notify-danger-background-color: #ee0a254e !important;--van-notify-warning-background-color:#ff976a52 !important}::-webkit-scrollbar{width:10px;height:10px}::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}::-webkit-scrollbar-thumb:active{background-color:#2c3e50}",""]);const s=o},350:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"[data-v-6c74476c]::-webkit-scrollbar{width:10px;height:10px}[data-v-6c74476c]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-6c74476c]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-6c74476c]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-6c74476c]{overflow:auto;background:#fff}.van-radio[data-v-6c74476c]{--van-radio-checked-icon-color: #7232dd !important}.van-switch[data-v-6c74476c]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-6c74476c]{background:#fff;color:#000}.text-field[data-v-6c74476c]{margin-inline:0px 10px}.flex-2[data-v-6c74476c]{flex:2}.flex-8[data-v-6c74476c]{flex:8}.field-bg[data-v-6c74476c]{background:#f0f8ff}.label-field[data-v-6c74476c]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-6c74476c]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-6c74476c]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-6c74476c]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-6c74476c]{margin-inline:0 5px}[data-v-6c74476c] .van-field__label{display:flex;align-items:center}[data-v-6c74476c] .van-field__control{font-size:12px;word-break:break-all;overflow:auto}[data-v-6c74476c] .van-field__body{width:100%}.sticky-bottom[data-v-6c74476c]{position:sticky;bottom:0}",""]);const s=o},1975:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"[data-v-7a9d0828]::-webkit-scrollbar{width:10px;height:10px}[data-v-7a9d0828]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-7a9d0828]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-7a9d0828]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-7a9d0828]{overflow:auto;background:#fff}.van-radio[data-v-7a9d0828]{--van-radio-checked-icon-color: #7232dd !important}.van-switch[data-v-7a9d0828]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-7a9d0828]{background:#fff;color:#000}.text-field[data-v-7a9d0828]{margin-inline:0px 10px}.flex-2[data-v-7a9d0828]{flex:2}.flex-8[data-v-7a9d0828]{flex:8}.field-bg[data-v-7a9d0828]{background:#f0f8ff}.label-field[data-v-7a9d0828]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-7a9d0828]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-7a9d0828]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-7a9d0828]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-7a9d0828]{margin-inline:0 5px}[data-v-7a9d0828] .van-field__label{display:flex;align-items:center}[data-v-7a9d0828] .van-field__control{font-size:12px;word-break:break-all;overflow:auto}[data-v-7a9d0828] .van-field__body{width:100%}.sticky-bottom[data-v-7a9d0828]{position:sticky;bottom:0}",""]);const s=o},1880:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"[data-v-053ba96d]::-webkit-scrollbar{width:10px;height:10px}[data-v-053ba96d]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-053ba96d]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-053ba96d]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-053ba96d]{overflow:auto;background:#fff}.van-radio[data-v-053ba96d]{--van-radio-checked-icon-color: #7232dd !important}.van-switch[data-v-053ba96d]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-053ba96d]{background:#fff;color:#000}.text-field[data-v-053ba96d]{margin-inline:0px 10px}.flex-2[data-v-053ba96d]{flex:2}.flex-8[data-v-053ba96d]{flex:8}.field-bg[data-v-053ba96d]{background:#f0f8ff}.label-field[data-v-053ba96d]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-053ba96d]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-053ba96d]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-053ba96d]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-053ba96d]{margin-inline:0 5px}[data-v-053ba96d] .van-field__label{display:flex;align-items:center}[data-v-053ba96d] .van-field__control{font-size:12px;word-break:break-all;overflow:auto}[data-v-053ba96d] .van-field__body{width:100%}.sticky-bottom[data-v-053ba96d]{position:sticky;bottom:0}",""]);const s=o},2113:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"[data-v-777bb0fa]::-webkit-scrollbar{width:10px;height:10px}[data-v-777bb0fa]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-777bb0fa]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-777bb0fa]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-777bb0fa]{overflow:auto;background:#fff}.van-radio[data-v-777bb0fa]{--van-radio-checked-icon-color: #7232dd !important}.van-switch[data-v-777bb0fa]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-777bb0fa]{background:#fff;color:#000}.text-field[data-v-777bb0fa]{margin-inline:0px 10px}.flex-2[data-v-777bb0fa]{flex:2}.flex-8[data-v-777bb0fa]{flex:8}.field-bg[data-v-777bb0fa]{background:#f0f8ff}.label-field[data-v-777bb0fa]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-777bb0fa]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-777bb0fa]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-777bb0fa]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-777bb0fa]{margin-inline:0 5px}[data-v-777bb0fa] .van-field__label{display:flex;align-items:center}[data-v-777bb0fa] .van-field__control{font-size:12px;word-break:break-all;overflow:auto}[data-v-777bb0fa] .van-field__body{width:100%}.sticky-bottom[data-v-777bb0fa]{position:sticky;bottom:0}",""]);const s=o},3852:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"[data-v-4a9e9fc2]::-webkit-scrollbar{width:10px;height:10px}[data-v-4a9e9fc2]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-4a9e9fc2]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-4a9e9fc2]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-4a9e9fc2]{overflow:auto;background:#fff}.van-radio[data-v-4a9e9fc2]{--van-radio-checked-icon-color: #7232dd !important}.van-switch[data-v-4a9e9fc2]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-4a9e9fc2]{background:#fff;color:#000}.text-field[data-v-4a9e9fc2]{margin-inline:0px 10px}.flex-2[data-v-4a9e9fc2]{flex:2}.flex-8[data-v-4a9e9fc2]{flex:8}.field-bg[data-v-4a9e9fc2]{background:#f0f8ff}.label-field[data-v-4a9e9fc2]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-4a9e9fc2]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-4a9e9fc2]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-4a9e9fc2]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-4a9e9fc2]{margin-inline:0 5px}[data-v-4a9e9fc2] .van-field__label{display:flex;align-items:center}[data-v-4a9e9fc2] .van-field__control{font-size:12px;word-break:break-all;overflow:auto}[data-v-4a9e9fc2] .van-field__body{width:100%}.sticky-bottom[data-v-4a9e9fc2]{position:sticky;bottom:0}.movie-cover[data-v-4a9e9fc2]{width:100%;height:auto}.cover-field[data-v-4a9e9fc2]{height:auto;padding:0px !important}.content-box[data-v-4a9e9fc2]{height:100px;overflow:auto;background:#fff}[data-v-4a9e9fc2] .van-cell__value{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap;align-content:center}.van-field[data-v-4a9e9fc2]{padding:0px 5px}[data-v-4a9e9fc2] .van-field__control{max-height:none}[data-v-4a9e9fc2] .van-field__control--custom{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:space-between;align-content:space-between}[data-v-4a9e9fc2] .van-field__control--custom>div{margin-right:5px}",""]);const s=o},8592:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,'[data-v-c6747e86]::-webkit-scrollbar{width:10px;height:10px}[data-v-c6747e86]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-c6747e86]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-c6747e86]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}[data-v-c6747e86]:root{--van-tabs-card-height: 32px}pre[data-v-c6747e86],code[data-v-c6747e86]{-webkit-user-select:auto !important;user-select:auto !important}div[data-v-c6747e86]{background:linear-gradient(130deg, black, transparent)}[class*=van-hairline][data-v-c6747e86]::after{border:none !important}.van-text-ellipsis[data-v-c6747e86]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;justify-content:space-between;display:block !important}#video-player-home[data-v-c6747e86]{width:100%;height:100%;text-align:center;--video-player-width: 100%;--video-list-item-height: 35px;--top-info-transform: 0px;--top-info-opacity: 0;--top-info-display: none;--van-cell-background-color: black;--van-cell-text-color: white;--van-border-width-base: 0px;--van-padding-md: 0px;--van-overlay-background-color: transparent !important;--van-dialog-border-radius: 10px !important;--van-dialog-has-title-message-text-color: white !important;--van-dialog-confirm-button-text-color: white !important;--van-dialog-header-padding-top: 10px !important;--van-dialog-background-color: #7232dd !important;--div-transition: transform 0.2s ease-in-out, box-shadow 0.5s ease-in-out, outline 0.3s ease-in-out, opacity 0.2s ease-in-out, display 0.2s ease-in-out}#video-player-home div[data-v-c6747e86]{transition:var(--div-transition);-moz-transition:var(--div-transition);-webkit-transition:var(--div-transition);-o-transition:var(--div-transition)}#video-player-home .video-bottom-tools[data-v-c6747e86]{display:flex;height:var(--video-list-item-height);min-height:var(--video-list-item-height);max-height:var(--video-list-item-height);position:sticky;bottom:0;color:#fff;background:linear-gradient(165deg, #3e1d52, black, #0b2768);align-items:center;justify-content:space-around}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-c6747e86]{margin:0px;cursor:pointer}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-c6747e86]:hover{color:green}#video-player-home .height-top[data-v-c6747e86]{height:45px;overflow:hidden;display:flex;align-items:center;justify-content:space-between;padding:0 10px;z-index:999;position:relative}#video-player-home .height-5vh[data-v-c6747e86]{height:5vh;overflow:hidden;display:flex;align-items:center}#video-player-home .height-90vh[data-v-c6747e86]{height:calc(100vh - 45px);overflow:auto;display:flex;align-items:center}#video-player-home .height-90vh>div[data-v-c6747e86]{height:calc(100vh - 45px);overflow:auto;background:rgba(0,0,0,.4509803922)}#video-player-home .height-100vh[data-v-c6747e86]{height:100vh;overflow:hidden}#video-player-home .video-playlist-switch[data-v-c6747e86]{width:25px;height:60px !important;background:#000 !important;position:absolute;right:320px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-top-left-radius:20px;border-bottom-left-radius:20px;z-index:1;opacity:.5;outline:none}#video-player-home .video-playlist-switch[data-v-c6747e86]:hover{background:linear-gradient(120deg, #6c35c7, black, #1c2d8d) !important}#video-player-home .switch-right-0[data-v-c6747e86]{right:0px}#video-player-home .switch-right-200[data-v-c6747e86]{right:200px}#video-player-home .video-width-cut-200[data-v-c6747e86]{width:calc(100% - 200px) !important}#video-player-home .video-play-list[data-v-c6747e86]{overflow:auto}#video-player-home .video-play-list>.van-tabs>div[data-v-c6747e86]{position:sticky;top:0px;z-index:3}#video-player-home .video-playlist-categories[data-v-c6747e86]{width:120px !important;background:rgba(0,0,0,.3607843137);position:absolute;right:200px;z-index:2}#video-player-home .video-playlist[data-v-c6747e86]{width:200px !important;position:absolute;right:0px;background:rgba(0,0,0,.3607843137);z-index:3;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between}#video-player-home .video-playlist-categories-btn[data-v-c6747e86]{position:sticky;top:30px;font-size:12px;z-index:2;display:flex;align-items:center;padding:4px 6px 4px 2px}#video-player-home .video-playlist-search-btn[data-v-c6747e86]{--van-search-content-background-color: black;--van-search-background-color: black;--van-field-input-text-color: white;--van-search-padding: 0px;padding:0px;z-index:1;position:sticky;top:62px}#video-player-home .video-categories-title[data-v-c6747e86]{height:30px;cursor:pointer;display:flex;align-items:center;justify-content:space-around;position:sticky;top:0px;background:#000;font-size:12px}#video-player-home .video-categories[data-v-c6747e86]{width:100%;font-size:12px}#video-player-home .video-categories[data-v-c6747e86] li{height:var(--video-list-item-height);cursor:pointer;background:#1a192c;padding:0 8px;box-sizing:border-box;line-height:var(--video-list-item-height);display:flex !important;justify-content:space-between;flex-direction:row;align-items:center;flex-wrap:nowrap}#video-player-home .video-categories[data-v-c6747e86] li:hover{background:linear-gradient(165deg, #3e1d52, black, #0b2768);color:#32a35e}#video-player-home .active-cell[data-v-c6747e86]{background:#083208 !important;position:sticky;top:95px;bottom:0;z-index:1}#video-player-home .active-category[data-v-c6747e86]{background:#083208 !important;position:sticky;top:30px;bottom:0px;z-index:1}#video-player-home .active-video-player[data-v-c6747e86]{outline:2px solid #ff0 !important}#video-player-home .active-line[data-v-c6747e86]{background:#083208 !important;color:#32a35e !important;z-index:1}#video-player-home .error-cell[data-v-c6747e86],#video-player-home .error-line[data-v-c6747e86]{background:#5a1111 !important;color:#625656 !important}#video-player-home .van-cell[data-v-c6747e86]{cursor:pointer;text-align:left}#video-player-home .van-cell[data-v-c6747e86]:hover{background:linear-gradient(18deg, #1d523c, black, #32a35e);color:#32a35e}#video-player-home .van-cell[data-v-c6747e86]::after{border:none !important}#video-player-home .van-col[data-v-c6747e86],#video-player-home .van-row[data-v-c6747e86]{background:linear-gradient(2deg, #311d52, black, #252d5c);color:#fff}#video-player-home .van-cell-group[data-v-c6747e86]{width:100%}#video-player-home .van-cell-group[data-v-c6747e86] .van-cell__title{flex:10 !important}#video-player-home .van-cell-group[data-v-c6747e86] .van-cell__label{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}#video-player-home .van-cell-group[data-v-c6747e86] .van-cell__value{flex:4 !important}#video-player-home .custom-label[data-v-c6747e86]{line-height:15px;outline:0px solid #000;color:#fff;margin-right:5px}#video-player-home .custom-label[data-v-c6747e86]:hover{background:#083208;color:#32a35e}#video-player-home .custom-value[data-v-c6747e86]{background:rgba(0,0,0,0);color:#32a35e;box-sizing:border-box;display:block;padding:0px;text-align:center;font-size:12px}#video-player-home .custom-value.success[data-v-c6747e86]{background:#083208;color:#32a35e}#video-player-home .custom-value.error[data-v-c6747e86]{background:#320e08;color:#a45332}#video-player-home .video-player-wrapper[data-v-c6747e86]{width:var(--video-player-width);height:100%;background:#000;color:#fff;display:flex;align-content:flex-start;align-items:center;justify-content:space-between;flex-wrap:wrap}#video-player-home .video-player-wrapper .video-player-box[data-v-c6747e86]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .top-media-info[data-v-c6747e86]{position:absolute;background:linear-gradient(90deg, rgba(62, 29, 82, 0.5019607843), rgba(18, 18, 64, 0.3098039216), transparent);width:300px;max-width:99%;line-height:20px;font-size:15px;text-align:left;padding:5px 10px;margin-inline:1px;top:0;z-index:1;border-radius:15px;transform:translateY(var(--top-info-transform));opacity:var(--top-info-opacity);box-sizing:border-box;display:flex !important;align-items:center;justify-content:space-between;cursor:pointer;border-top-left-radius:0px;border-top-right-radius:0px}#video-player-home .video-player-wrapper .media-player[data-v-c6747e86],#video-player-home .video-player-wrapper .iframe-media-player[data-v-c6747e86]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .media-player[data-v-c6747e86]:hover,#video-player-home .video-player-wrapper .iframe-media-player[data-v-c6747e86]:hover{outline:2px dashed green}#video-player-home .video-player-wrapper[data-v-c6747e86]:hover{--top-info-transform: 45px;--top-info-opacity: 1;--top-info-display: "block"}#video-player-home .van-tabs__nav[data-v-c6747e86],#video-player-home .van-tabs__nav--card[data-v-c6747e86]{margin:0px !important}#video-player-home .van-loading-custom[data-v-c6747e86]{position:absolute;top:0;z-index:1;background:rgba(0,0,0,.5882352941);width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#1989fa;--van-loading-text-color: #1989fa}#video-player-home .van-popup[data-v-c6747e86],#video-player-home .van-dialog[data-v-c6747e86]{color:#000 !important}#video-player-home .van-popup>.van-dialog__content[data-v-c6747e86],#video-player-home .van-dialog>.van-dialog__content[data-v-c6747e86]{max-height:60vh;overflow:auto}.group-title[data-v-c6747e86]{width:55px;display:inline-block;vertical-align:bottom;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[data-v-c6747e86] .van-cell__value{display:flex;flex-direction:row;justify-content:flex-end;flex-wrap:wrap;align-content:flex-start}[data-v-c6747e86] .van-cell__value>span{margin-right:3px}[data-v-c6747e86] .van-overlay{height:calc(100% - 70px);width:calc(100% - 200px);background:linear-gradient(0deg, rgba(49, 29, 82, 0.5294117647), rgba(0, 0, 0, 0.7411764706), rgba(37, 45, 92, 0.5803921569));cursor:pointer}[data-v-c6747e86] .van-dialog .van-dialog__header{background:#7232dd}[data-v-c6747e86] .van-dialog .van-dialog__content{background:#fff;max-height:60vh;overflow:auto}.top-bar-tools[data-v-c6747e86]{position:absolute;right:0px;background:rgba(0,0,0,.7803921569);margin-inline:3px;padding:10px 0px 10px 10px;border-bottom-left-radius:50%}.top-bar-tools>span[data-v-c6747e86]{margin-right:5px;vertical-align:middle}.top-bar-tools>span[data-v-c6747e86] :hover{color:green}.live-span[data-v-c6747e86]{display:flex;align-items:center}.live-span>i[data-v-c6747e86]{margin-right:3px}.live-text[data-v-c6747e86]{display:flex;margin-right:8px;color:red;background:rgba(255,0,0,.1607843137);padding:3px 8px 3px 3px;border-radius:15px}',""]);const s=o},8581:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,'[data-v-4d64318d]::-webkit-scrollbar{width:10px;height:10px}[data-v-4d64318d]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-4d64318d]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-4d64318d]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}[data-v-4d64318d]:root{--van-tabs-card-height: 32px}pre[data-v-4d64318d],code[data-v-4d64318d]{-webkit-user-select:auto !important;user-select:auto !important}div[data-v-4d64318d]{background:linear-gradient(130deg, black, transparent)}[class*=van-hairline][data-v-4d64318d]::after{border:none !important}.van-text-ellipsis[data-v-4d64318d]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;justify-content:space-between;display:block !important}#video-player-home[data-v-4d64318d]{width:100%;height:100%;text-align:center;--video-player-width: 100%;--video-list-item-height: 35px;--top-info-transform: 0px;--top-info-opacity: 0;--top-info-display: none;--van-cell-background-color: black;--van-cell-text-color: white;--van-border-width-base: 0px;--van-padding-md: 0px;--van-overlay-background-color: transparent !important;--van-dialog-border-radius: 10px !important;--van-dialog-has-title-message-text-color: white !important;--van-dialog-confirm-button-text-color: white !important;--van-dialog-header-padding-top: 10px !important;--van-dialog-background-color: #7232dd !important;--div-transition: transform 0.2s ease-in-out, box-shadow 0.5s ease-in-out, outline 0.3s ease-in-out, opacity 0.2s ease-in-out, display 0.2s ease-in-out}#video-player-home div[data-v-4d64318d]{transition:var(--div-transition);-moz-transition:var(--div-transition);-webkit-transition:var(--div-transition);-o-transition:var(--div-transition)}#video-player-home .video-bottom-tools[data-v-4d64318d]{display:flex;height:var(--video-list-item-height);min-height:var(--video-list-item-height);max-height:var(--video-list-item-height);position:sticky;bottom:0;color:#fff;background:linear-gradient(165deg, #3e1d52, black, #0b2768);align-items:center;justify-content:space-around}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-4d64318d]{margin:0px;cursor:pointer}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-4d64318d]:hover{color:green}#video-player-home .height-top[data-v-4d64318d]{height:45px;overflow:hidden;display:flex;align-items:center;justify-content:space-between;padding:0 10px;z-index:999;position:relative}#video-player-home .height-5vh[data-v-4d64318d]{height:5vh;overflow:hidden;display:flex;align-items:center}#video-player-home .height-90vh[data-v-4d64318d]{height:calc(100vh - 45px);overflow:auto;display:flex;align-items:center}#video-player-home .height-90vh>div[data-v-4d64318d]{height:calc(100vh - 45px);overflow:auto;background:rgba(0,0,0,.4509803922)}#video-player-home .height-100vh[data-v-4d64318d]{height:100vh;overflow:hidden}#video-player-home .video-playlist-switch[data-v-4d64318d]{width:25px;height:60px !important;background:#000 !important;position:absolute;right:320px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-top-left-radius:20px;border-bottom-left-radius:20px;z-index:1;opacity:.5;outline:none}#video-player-home .video-playlist-switch[data-v-4d64318d]:hover{background:linear-gradient(120deg, #6c35c7, black, #1c2d8d) !important}#video-player-home .switch-right-0[data-v-4d64318d]{right:0px}#video-player-home .switch-right-200[data-v-4d64318d]{right:200px}#video-player-home .video-width-cut-200[data-v-4d64318d]{width:calc(100% - 200px) !important}#video-player-home .video-play-list[data-v-4d64318d]{overflow:auto}#video-player-home .video-play-list>.van-tabs>div[data-v-4d64318d]{position:sticky;top:0px;z-index:3}#video-player-home .video-playlist-categories[data-v-4d64318d]{width:120px !important;background:rgba(0,0,0,.3607843137);position:absolute;right:200px;z-index:2}#video-player-home .video-playlist[data-v-4d64318d]{width:200px !important;position:absolute;right:0px;background:rgba(0,0,0,.3607843137);z-index:3;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between}#video-player-home .video-playlist-categories-btn[data-v-4d64318d]{position:sticky;top:30px;font-size:12px;z-index:2;display:flex;align-items:center;padding:4px 6px 4px 2px}#video-player-home .video-playlist-search-btn[data-v-4d64318d]{--van-search-content-background-color: black;--van-search-background-color: black;--van-field-input-text-color: white;--van-search-padding: 0px;padding:0px;z-index:1;position:sticky;top:62px}#video-player-home .video-categories-title[data-v-4d64318d]{height:30px;cursor:pointer;display:flex;align-items:center;justify-content:space-around;position:sticky;top:0px;background:#000;font-size:12px}#video-player-home .video-categories[data-v-4d64318d]{width:100%;font-size:12px}#video-player-home .video-categories[data-v-4d64318d] li{height:var(--video-list-item-height);cursor:pointer;background:#1a192c;padding:0 8px;box-sizing:border-box;line-height:var(--video-list-item-height);display:flex !important;justify-content:space-between;flex-direction:row;align-items:center;flex-wrap:nowrap}#video-player-home .video-categories[data-v-4d64318d] li:hover{background:linear-gradient(165deg, #3e1d52, black, #0b2768);color:#32a35e}#video-player-home .active-cell[data-v-4d64318d]{background:#083208 !important;position:sticky;top:95px;bottom:0;z-index:1}#video-player-home .active-category[data-v-4d64318d]{background:#083208 !important;position:sticky;top:30px;bottom:0px;z-index:1}#video-player-home .active-video-player[data-v-4d64318d]{outline:2px solid #ff0 !important}#video-player-home .active-line[data-v-4d64318d]{background:#083208 !important;color:#32a35e !important;z-index:1}#video-player-home .error-cell[data-v-4d64318d],#video-player-home .error-line[data-v-4d64318d]{background:#5a1111 !important;color:#625656 !important}#video-player-home .van-cell[data-v-4d64318d]{cursor:pointer;text-align:left}#video-player-home .van-cell[data-v-4d64318d]:hover{background:linear-gradient(18deg, #1d523c, black, #32a35e);color:#32a35e}#video-player-home .van-cell[data-v-4d64318d]::after{border:none !important}#video-player-home .van-col[data-v-4d64318d],#video-player-home .van-row[data-v-4d64318d]{background:linear-gradient(2deg, #311d52, black, #252d5c);color:#fff}#video-player-home .van-cell-group[data-v-4d64318d]{width:100%}#video-player-home .van-cell-group[data-v-4d64318d] .van-cell__title{flex:10 !important}#video-player-home .van-cell-group[data-v-4d64318d] .van-cell__label{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}#video-player-home .van-cell-group[data-v-4d64318d] .van-cell__value{flex:4 !important}#video-player-home .custom-label[data-v-4d64318d]{line-height:15px;outline:0px solid #000;color:#fff;margin-right:5px}#video-player-home .custom-label[data-v-4d64318d]:hover{background:#083208;color:#32a35e}#video-player-home .custom-value[data-v-4d64318d]{background:rgba(0,0,0,0);color:#32a35e;box-sizing:border-box;display:block;padding:0px;text-align:center;font-size:12px}#video-player-home .custom-value.success[data-v-4d64318d]{background:#083208;color:#32a35e}#video-player-home .custom-value.error[data-v-4d64318d]{background:#320e08;color:#a45332}#video-player-home .video-player-wrapper[data-v-4d64318d]{width:var(--video-player-width);height:100%;background:#000;color:#fff;display:flex;align-content:flex-start;align-items:center;justify-content:space-between;flex-wrap:wrap}#video-player-home .video-player-wrapper .video-player-box[data-v-4d64318d]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .top-media-info[data-v-4d64318d]{position:absolute;background:linear-gradient(90deg, rgba(62, 29, 82, 0.5019607843), rgba(18, 18, 64, 0.3098039216), transparent);width:300px;max-width:99%;line-height:20px;font-size:15px;text-align:left;padding:5px 10px;margin-inline:1px;top:0;z-index:1;border-radius:15px;transform:translateY(var(--top-info-transform));opacity:var(--top-info-opacity);box-sizing:border-box;display:flex !important;align-items:center;justify-content:space-between;cursor:pointer;border-top-left-radius:0px;border-top-right-radius:0px}#video-player-home .video-player-wrapper .media-player[data-v-4d64318d],#video-player-home .video-player-wrapper .iframe-media-player[data-v-4d64318d]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .media-player[data-v-4d64318d]:hover,#video-player-home .video-player-wrapper .iframe-media-player[data-v-4d64318d]:hover{outline:2px dashed green}#video-player-home .video-player-wrapper[data-v-4d64318d]:hover{--top-info-transform: 45px;--top-info-opacity: 1;--top-info-display: "block"}#video-player-home .van-tabs__nav[data-v-4d64318d],#video-player-home .van-tabs__nav--card[data-v-4d64318d]{margin:0px !important}#video-player-home .van-loading-custom[data-v-4d64318d]{position:absolute;top:0;z-index:1;background:rgba(0,0,0,.5882352941);width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#1989fa;--van-loading-text-color: #1989fa}#video-player-home .van-popup[data-v-4d64318d],#video-player-home .van-dialog[data-v-4d64318d]{color:#000 !important}#video-player-home .van-popup>.van-dialog__content[data-v-4d64318d],#video-player-home .van-dialog>.van-dialog__content[data-v-4d64318d]{max-height:60vh;overflow:auto}.body-content[data-v-4d64318d]{overflow:auto}.body-content .message-text[data-v-4d64318d]{padding:5px;font-size:13px;line-height:35px}div[data-v-4d64318d]{background:linear-gradient(30deg, #401d62, #743b3b)}.van-search[data-v-4d64318d]{--van-search-content-background-color: auto;--van-field-input-text-color: white;--van-padding-sm: 0px}.van-search__content[data-v-4d64318d]{--van-padding-sm: 0px}[data-v-4d64318d] .van-field .van-field__label{--van-field-label-color: white}[data-v-4d64318d] .van-field .van-field__body{width:100%;--van-field-input-text-color: white}[data-v-4d64318d] .van-cascader__tab{--van-cascader-tab-color: white}[data-v-4d64318d] .van-cascader__options{height:auto !important}[data-v-4d64318d] .van-cascader__options .van-cascader__option{width:300px}[data-v-4d64318d] .van-cascader__options .van-cascader__option:active{background-color:rgba(86,26,60,.3019607843)}[data-v-4d64318d] .van-tabs__nav{--van-tabs-nav-background-color: #401d62}[data-v-4d64318d] .van-tabs__track{padding-inline:10px;box-sizing:border-box}[data-v-4d64318d] .van-tabs__track>.van-swipe__track{width:100% !important}[data-v-4d64318d] .van-tabs__content{max-height:130px;overflow:auto}',""]);const s=o},4788:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"[data-v-ab45fde2]::-webkit-scrollbar{width:10px;height:10px}[data-v-ab45fde2]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-ab45fde2]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-ab45fde2]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-ab45fde2]{overflow:auto;background:#fff}.van-radio[data-v-ab45fde2]{--van-radio-checked-icon-color: #7232dd !important}.van-switch[data-v-ab45fde2]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-ab45fde2]{background:#fff;color:#000}.text-field[data-v-ab45fde2]{margin-inline:0px 10px}.flex-2[data-v-ab45fde2]{flex:2}.flex-8[data-v-ab45fde2]{flex:8}.field-bg[data-v-ab45fde2]{background:#f0f8ff}.label-field[data-v-ab45fde2]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-ab45fde2]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-ab45fde2]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-ab45fde2]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-ab45fde2]{margin-inline:0 5px}[data-v-ab45fde2] .van-field__label{display:flex;align-items:center}[data-v-ab45fde2] .van-field__control{font-size:12px;word-break:break-all;overflow:auto}[data-v-ab45fde2] .van-field__body{width:100%}.sticky-bottom[data-v-ab45fde2]{position:sticky;bottom:0}.custom-button[data-v-ab45fde2]{width:26px;color:#fff;font-size:10px;line-height:18px;text-align:center;background-color:#7232dd;border-radius:100px}",""]);const s=o},2193:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"[data-v-61b1a3e6]::-webkit-scrollbar{width:10px;height:10px}[data-v-61b1a3e6]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-61b1a3e6]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-61b1a3e6]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-61b1a3e6]{overflow:auto;background:#fff}.van-radio[data-v-61b1a3e6]{--van-radio-checked-icon-color: #7232dd !important}.van-switch[data-v-61b1a3e6]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-61b1a3e6]{background:#fff;color:#000}.text-field[data-v-61b1a3e6]{margin-inline:0px 10px}.flex-2[data-v-61b1a3e6]{flex:2}.flex-8[data-v-61b1a3e6]{flex:8}.field-bg[data-v-61b1a3e6]{background:#f0f8ff}.label-field[data-v-61b1a3e6]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-61b1a3e6]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-61b1a3e6]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-61b1a3e6]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-61b1a3e6]{margin-inline:0 5px}[data-v-61b1a3e6] .van-field__label{display:flex;align-items:center}[data-v-61b1a3e6] .van-field__control{font-size:12px;word-break:break-all;overflow:auto}[data-v-61b1a3e6] .van-field__body{width:100%}.sticky-bottom[data-v-61b1a3e6]{position:sticky;bottom:0}",""]);const s=o},8921:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"[data-v-0443d12f]::-webkit-scrollbar{width:10px;height:10px}[data-v-0443d12f]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-0443d12f]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-0443d12f]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-0443d12f]{overflow:auto;background:#fff}.van-radio[data-v-0443d12f]{--van-radio-checked-icon-color: #7232dd !important}.van-switch[data-v-0443d12f]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-0443d12f]{background:#fff;color:#000}.text-field[data-v-0443d12f]{margin-inline:0px 10px}.flex-2[data-v-0443d12f]{flex:2}.flex-8[data-v-0443d12f]{flex:8}.field-bg[data-v-0443d12f]{background:#f0f8ff}.label-field[data-v-0443d12f]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-0443d12f]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-0443d12f]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-0443d12f]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-0443d12f]{margin-inline:0 5px}[data-v-0443d12f] .van-field__label{display:flex;align-items:center}[data-v-0443d12f] .van-field__control{font-size:12px;word-break:break-all;overflow:auto}[data-v-0443d12f] .van-field__body{width:100%}.sticky-bottom[data-v-0443d12f]{position:sticky;bottom:0}",""]);const s=o},4894:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,'[data-v-857183a8]::-webkit-scrollbar{width:10px;height:10px}[data-v-857183a8]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-857183a8]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-857183a8]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}[data-v-857183a8]:root{--van-tabs-card-height: 32px}pre[data-v-857183a8],code[data-v-857183a8]{-webkit-user-select:auto !important;user-select:auto !important}div[data-v-857183a8]{background:linear-gradient(130deg, black, transparent)}[class*=van-hairline][data-v-857183a8]::after{border:none !important}.van-text-ellipsis[data-v-857183a8]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;justify-content:space-between;display:block !important}#video-player-home[data-v-857183a8]{width:100%;height:100%;text-align:center;--video-player-width: 100%;--video-list-item-height: 35px;--top-info-transform: 0px;--top-info-opacity: 0;--top-info-display: none;--van-cell-background-color: black;--van-cell-text-color: white;--van-border-width-base: 0px;--van-padding-md: 0px;--van-overlay-background-color: transparent !important;--van-dialog-border-radius: 10px !important;--van-dialog-has-title-message-text-color: white !important;--van-dialog-confirm-button-text-color: white !important;--van-dialog-header-padding-top: 10px !important;--van-dialog-background-color: #7232dd !important;--div-transition: transform 0.2s ease-in-out, box-shadow 0.5s ease-in-out, outline 0.3s ease-in-out, opacity 0.2s ease-in-out, display 0.2s ease-in-out}#video-player-home div[data-v-857183a8]{transition:var(--div-transition);-moz-transition:var(--div-transition);-webkit-transition:var(--div-transition);-o-transition:var(--div-transition)}#video-player-home .video-bottom-tools[data-v-857183a8]{display:flex;height:var(--video-list-item-height);min-height:var(--video-list-item-height);max-height:var(--video-list-item-height);position:sticky;bottom:0;color:#fff;background:linear-gradient(165deg, #3e1d52, black, #0b2768);align-items:center;justify-content:space-around}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-857183a8]{margin:0px;cursor:pointer}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-857183a8]:hover{color:green}#video-player-home .height-top[data-v-857183a8]{height:45px;overflow:hidden;display:flex;align-items:center;justify-content:space-between;padding:0 10px;z-index:999;position:relative}#video-player-home .height-5vh[data-v-857183a8]{height:5vh;overflow:hidden;display:flex;align-items:center}#video-player-home .height-90vh[data-v-857183a8]{height:calc(100vh - 45px);overflow:auto;display:flex;align-items:center}#video-player-home .height-90vh>div[data-v-857183a8]{height:calc(100vh - 45px);overflow:auto;background:rgba(0,0,0,.4509803922)}#video-player-home .height-100vh[data-v-857183a8]{height:100vh;overflow:hidden}#video-player-home .video-playlist-switch[data-v-857183a8]{width:25px;height:60px !important;background:#000 !important;position:absolute;right:320px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-top-left-radius:20px;border-bottom-left-radius:20px;z-index:1;opacity:.5;outline:none}#video-player-home .video-playlist-switch[data-v-857183a8]:hover{background:linear-gradient(120deg, #6c35c7, black, #1c2d8d) !important}#video-player-home .switch-right-0[data-v-857183a8]{right:0px}#video-player-home .switch-right-200[data-v-857183a8]{right:200px}#video-player-home .video-width-cut-200[data-v-857183a8]{width:calc(100% - 200px) !important}#video-player-home .video-play-list[data-v-857183a8]{overflow:auto}#video-player-home .video-play-list>.van-tabs>div[data-v-857183a8]{position:sticky;top:0px;z-index:3}#video-player-home .video-playlist-categories[data-v-857183a8]{width:120px !important;background:rgba(0,0,0,.3607843137);position:absolute;right:200px;z-index:2}#video-player-home .video-playlist[data-v-857183a8]{width:200px !important;position:absolute;right:0px;background:rgba(0,0,0,.3607843137);z-index:3;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between}#video-player-home .video-playlist-categories-btn[data-v-857183a8]{position:sticky;top:30px;font-size:12px;z-index:2;display:flex;align-items:center;padding:4px 6px 4px 2px}#video-player-home .video-playlist-search-btn[data-v-857183a8]{--van-search-content-background-color: black;--van-search-background-color: black;--van-field-input-text-color: white;--van-search-padding: 0px;padding:0px;z-index:1;position:sticky;top:62px}#video-player-home .video-categories-title[data-v-857183a8]{height:30px;cursor:pointer;display:flex;align-items:center;justify-content:space-around;position:sticky;top:0px;background:#000;font-size:12px}#video-player-home .video-categories[data-v-857183a8]{width:100%;font-size:12px}#video-player-home .video-categories[data-v-857183a8] li{height:var(--video-list-item-height);cursor:pointer;background:#1a192c;padding:0 8px;box-sizing:border-box;line-height:var(--video-list-item-height);display:flex !important;justify-content:space-between;flex-direction:row;align-items:center;flex-wrap:nowrap}#video-player-home .video-categories[data-v-857183a8] li:hover{background:linear-gradient(165deg, #3e1d52, black, #0b2768);color:#32a35e}#video-player-home .active-cell[data-v-857183a8]{background:#083208 !important;position:sticky;top:95px;bottom:0;z-index:1}#video-player-home .active-category[data-v-857183a8]{background:#083208 !important;position:sticky;top:30px;bottom:0px;z-index:1}#video-player-home .active-video-player[data-v-857183a8]{outline:2px solid #ff0 !important}#video-player-home .active-line[data-v-857183a8]{background:#083208 !important;color:#32a35e !important;z-index:1}#video-player-home .error-cell[data-v-857183a8],#video-player-home .error-line[data-v-857183a8]{background:#5a1111 !important;color:#625656 !important}#video-player-home .van-cell[data-v-857183a8]{cursor:pointer;text-align:left}#video-player-home .van-cell[data-v-857183a8]:hover{background:linear-gradient(18deg, #1d523c, black, #32a35e);color:#32a35e}#video-player-home .van-cell[data-v-857183a8]::after{border:none !important}#video-player-home .van-col[data-v-857183a8],#video-player-home .van-row[data-v-857183a8]{background:linear-gradient(2deg, #311d52, black, #252d5c);color:#fff}#video-player-home .van-cell-group[data-v-857183a8]{width:100%}#video-player-home .van-cell-group[data-v-857183a8] .van-cell__title{flex:10 !important}#video-player-home .van-cell-group[data-v-857183a8] .van-cell__label{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}#video-player-home .van-cell-group[data-v-857183a8] .van-cell__value{flex:4 !important}#video-player-home .custom-label[data-v-857183a8]{line-height:15px;outline:0px solid #000;color:#fff;margin-right:5px}#video-player-home .custom-label[data-v-857183a8]:hover{background:#083208;color:#32a35e}#video-player-home .custom-value[data-v-857183a8]{background:rgba(0,0,0,0);color:#32a35e;box-sizing:border-box;display:block;padding:0px;text-align:center;font-size:12px}#video-player-home .custom-value.success[data-v-857183a8]{background:#083208;color:#32a35e}#video-player-home .custom-value.error[data-v-857183a8]{background:#320e08;color:#a45332}#video-player-home .video-player-wrapper[data-v-857183a8]{width:var(--video-player-width);height:100%;background:#000;color:#fff;display:flex;align-content:flex-start;align-items:center;justify-content:space-between;flex-wrap:wrap}#video-player-home .video-player-wrapper .video-player-box[data-v-857183a8]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .top-media-info[data-v-857183a8]{position:absolute;background:linear-gradient(90deg, rgba(62, 29, 82, 0.5019607843), rgba(18, 18, 64, 0.3098039216), transparent);width:300px;max-width:99%;line-height:20px;font-size:15px;text-align:left;padding:5px 10px;margin-inline:1px;top:0;z-index:1;border-radius:15px;transform:translateY(var(--top-info-transform));opacity:var(--top-info-opacity);box-sizing:border-box;display:flex !important;align-items:center;justify-content:space-between;cursor:pointer;border-top-left-radius:0px;border-top-right-radius:0px}#video-player-home .video-player-wrapper .media-player[data-v-857183a8],#video-player-home .video-player-wrapper .iframe-media-player[data-v-857183a8]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .media-player[data-v-857183a8]:hover,#video-player-home .video-player-wrapper .iframe-media-player[data-v-857183a8]:hover{outline:2px dashed green}#video-player-home .video-player-wrapper[data-v-857183a8]:hover{--top-info-transform: 45px;--top-info-opacity: 1;--top-info-display: "block"}#video-player-home .van-tabs__nav[data-v-857183a8],#video-player-home .van-tabs__nav--card[data-v-857183a8]{margin:0px !important}#video-player-home .van-loading-custom[data-v-857183a8]{position:absolute;top:0;z-index:1;background:rgba(0,0,0,.5882352941);width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#1989fa;--van-loading-text-color: #1989fa}#video-player-home .van-popup[data-v-857183a8],#video-player-home .van-dialog[data-v-857183a8]{color:#000 !important}#video-player-home .van-popup>.van-dialog__content[data-v-857183a8],#video-player-home .van-dialog>.van-dialog__content[data-v-857183a8]{max-height:60vh;overflow:auto}',""]);const s=o},2070:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),r=a.n(n),i=a(3645),o=a.n(i)()(r());o.push([e.id,"#option-home[data-v-ed083bda]{width:100%;height:100%;text-align:center}",""]);const s=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",n=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),n&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),n&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,n,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);n&&o[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),a&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=a):c[2]=a),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},510:e=>{var t;self,t=function(){return function(){var e={"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/function(e,t,a){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,o=void 0,s=function(e,t){_[r]=e,_[r+1]=t,2===(r+=2)&&(o?o(E):w())};function l(e){o=e}function d(e){s=e}var c="undefined"!=typeof window?window:void 0,u=c||{},h=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function v(){return function(){return process.nextTick(E)}}function m(){return void 0!==i?function(){i(E)}:b()}function g(){var e=0,t=new h(E),a=document.createTextNode("");return t.observe(a,{characterData:!0}),function(){a.data=e=++e%2}}function y(){var e=new MessageChannel;return e.port1.onmessage=E,function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(E,1)}}var _=new Array(1e3);function E(){for(var e=0;e<r;e+=2)(0,_[e])(_[e+1]),_[e]=void 0,_[e+1]=void 0;r=0}function T(){try{var e=Function("return this")().require("vertx");return i=e.runOnLoop||e.runOnContext,m()}catch(e){return b()}}var w=void 0;function S(e,t){var a=this,n=new this.constructor(A);void 0===n[k]&&Y(n);var r=a._state;if(r){var i=arguments[r-1];s((function(){return G(r,n,i,a._result)}))}else z(a,n,e,t);return n}function x(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var a=new t(A);return B(a,e),a}w=f?v():h?g():p?y():void 0===c?T():b();var k=Math.random().toString(36).substring(2);function A(){}var L=void 0,D=1,C=2;function I(){return new TypeError("You cannot resolve a promise with itself")}function R(){return new TypeError("A promises callback cannot return that same promise.")}function O(e,t,a,n){try{e.call(t,a,n)}catch(e){return e}}function P(e,t,a){s((function(e){var n=!1,r=O(a,t,(function(a){n||(n=!0,t!==a?B(e,a):U(e,a))}),(function(t){n||(n=!0,j(e,t))}),"Settle: "+(e._label||" unknown promise"));!n&&r&&(n=!0,j(e,r))}),e)}function M(e,t){t._state===D?U(e,t._result):t._state===C?j(e,t._result):z(t,void 0,(function(t){return B(e,t)}),(function(t){return j(e,t)}))}function N(e,a,n){a.constructor===e.constructor&&n===S&&a.constructor.resolve===x?M(e,a):void 0===n?U(e,a):t(n)?P(e,a,n):U(e,a)}function B(t,a){if(t===a)j(t,I());else if(e(a)){var n=void 0;try{n=a.then}catch(e){return void j(t,e)}N(t,a,n)}else U(t,a)}function F(e){e._onerror&&e._onerror(e._result),V(e)}function U(e,t){e._state===L&&(e._result=t,e._state=D,0!==e._subscribers.length&&s(V,e))}function j(e,t){e._state===L&&(e._state=C,e._result=t,s(F,e))}function z(e,t,a,n){var r=e._subscribers,i=r.length;e._onerror=null,r[i]=t,r[i+D]=a,r[i+C]=n,0===i&&e._state&&s(V,e)}function V(e){var t=e._subscribers,a=e._state;if(0!==t.length){for(var n=void 0,r=void 0,i=e._result,o=0;o<t.length;o+=3)n=t[o],r=t[o+a],n?G(a,n,r,i):r(i);e._subscribers.length=0}}function G(e,a,n,r){var i=t(n),o=void 0,s=void 0,l=!0;if(i){try{o=n(r)}catch(e){l=!1,s=e}if(a===o)return void j(a,R())}else o=r;a._state!==L||(i&&l?B(a,o):!1===l?j(a,s):e===D?U(a,o):e===C&&j(a,o))}function H(e,t){try{t((function(t){B(e,t)}),(function(t){j(e,t)}))}catch(t){j(e,t)}}var q=0;function K(){return q++}function Y(e){e[k]=q++,e._state=void 0,e._result=void 0,e._subscribers=[]}function W(){return new Error("Array Methods must be provided an Array")}var X=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[k]||Y(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?U(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&U(this.promise,this._result))):j(this.promise,W())}return e.prototype._enumerate=function(e){for(var t=0;this._state===L&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var a=this._instanceConstructor,n=a.resolve;if(n===x){var r=void 0,i=void 0,o=!1;try{r=e.then}catch(e){o=!0,i=e}if(r===S&&e._state!==L)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(a===te){var s=new a(A);o?j(s,i):N(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new a((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,a){var n=this.promise;n._state===L&&(this._remaining--,e===C?j(n,a):this._result[t]=a),0===this._remaining&&U(n,this._result)},e.prototype._willSettleAt=function(e,t){var a=this;z(e,void 0,(function(e){return a._settledAt(D,t,e)}),(function(e){return a._settledAt(C,t,e)}))},e}();function Z(e){return new X(this,e).promise}function Q(e){var t=this;return n(e)?new t((function(a,n){for(var r=e.length,i=0;i<r;i++)t.resolve(e[i]).then(a,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function J(e){var t=new this(A);return j(t,e),t}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function e(t){this[k]=K(),this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&$(),this instanceof e?H(this,t):ee())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var a=this,n=a.constructor;return t(e)?a.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):a.then(e,e)},e}();function ae(){var e=void 0;if(void 0!==a.g)e=a.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=te}return te.prototype.then=S,te.all=Z,te.race=Q,te.resolve=x,te.reject=J,te._setScheduler=l,te._setAsap=d,te._asap=s,te.polyfill=ae,te.Promise=te,te}()},"./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/function(e){"use strict";var t,a="object"==typeof Reflect?Reflect:null,n=a&&"function"==typeof a.apply?a.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)};t=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(a,n){function r(a){e.removeListener(t,i),n(a)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",r),a([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,a){"function"==typeof e.on&&v(e,"error",t,a)}(e,r,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function d(e,t,a,n){var r,i,o,d;if(s(a),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,a.listener?a.listener:a),i=e._events),o=i[t]),void 0===o)o=i[t]=a,++e._eventsCount;else if("function"==typeof o?o=i[t]=n?[a,o]:[o,a]:n?o.unshift(a):o.push(a),(r=l(e))>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,d=c,console&&console.warn&&console.warn(d)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,a){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:a},r=c.bind(n);return r.listener=a,n.wrapFn=r,r}function h(e,t,a){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"==typeof r?a?[r.listener||r]:[r]:a?function(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}(r):p(r,r.length)}function f(e){var t=this._events;if(void 0!==t){var a=t[e];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function p(e,t){for(var a=new Array(t),n=0;n<t;++n)a[n]=e[n];return a}function v(e,t,a,n){if("function"==typeof e.on)n.once?e.once(t,a):e.on(t,a);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(i){n.once&&e.removeEventListener(t,r),a(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var d=l.length,c=p(l,d);for(a=0;a<d;++a)n(c[a],this,t)}return!0},i.prototype.addListener=function(e,t){return d(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return d(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,u(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,u(this,e,t)),this},i.prototype.removeListener=function(e,t){var a,n,r,i,o;if(s(t),void 0===(n=this._events))return this;if(void 0===(a=n[e]))return this;if(a===t||a.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!=typeof a){for(r=-1,i=a.length-1;i>=0;i--)if(a[i]===t||a[i].listener===t){o=a[i].listener,r=i;break}if(r<0)return this;0===r?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,r),1===a.length&&(n[e]=a[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,a,n;if(void 0===(a=this._events))return this;if(void 0===a.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==a[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete a[e]),this;if(0===arguments.length){var r,i=Object.keys(a);for(n=0;n<i.length;++n)"removeListener"!==(r=i[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=a[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return h(this,e,!0)},i.prototype.rawListeners=function(e){return h(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/function(e,t,a){function n(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.i=function(e){return e},a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var n=a(a.s=ENTRY_MODULE);return n.default||n}var r="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+r+").*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,n){var s={};s[n]=[];var l=t.toString(),d=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!d)return s;for(var c,u=d[1],h=new RegExp("(\\\\n|\\W)"+o(u)+i,"g");c=h.exec(l);)"dll-reference"!==c[3]&&s[n].push(c[3]);for(h=new RegExp("\\("+o(u)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+i,"g");c=h.exec(l);)e[c[2]]||(s[n].push(c[1]),e[c[2]]=a(c[1]).m),s[c[2]]=s[c[2]]||[],s[c[2]].push(c[4]);for(var f,p=Object.keys(s),v=0;v<p.length;v++)for(var m=0;m<s[p[v]].length;m++)f=s[p[v]][m],isNaN(1*f)||(s[p[v]][m]=1*s[p[v]][m]);return s}function l(e){return Object.keys(e).reduce((function(t,a){return t||e[a].length>0}),!1)}e.exports=function(e,t){t=t||{};var r={main:a.m},i=t.all?{main:Object.keys(r.main)}:function(e,t){for(var a={main:[t]},n={main:[]},r={main:{}};l(a);)for(var i=Object.keys(a),o=0;o<i.length;o++){var d=i[o],c=a[d].pop();if(r[d]=r[d]||{},!r[d][c]&&e[d][c]){r[d][c]=!0,n[d]=n[d]||[],n[d].push(c);for(var u=s(e,e[d][c],d),h=Object.keys(u),f=0;f<h.length;f++)a[h[f]]=a[h[f]]||[],a[h[f]]=a[h[f]].concat(u[h[f]])}}return n}(r,e),o="";Object.keys(i).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;i[e][t];)t++;i[e].push(t),r[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i[e].map((function(t){return JSON.stringify(t)+": "+r[e][t].toString()})).join(",")+"});\n"})),o=o+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i.main.map((function(e){return JSON.stringify(e)+": "+r.main[e].toString()})).join(",")+"}))(self);";var d=new window.Blob([o],{type:"text/javascript"});if(t.bare)return d;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(d),u=new window.Worker(c);return u.objectURL=c,u}},"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/function(e,t,a){"use strict";a.r(t),a.d(t,{defaultConfig:function(){return n},createDefaultConfig:function(){return r}});var n={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function r(){return Object.assign({},n)}},"./src/core/features.js":
/*!******************************!*\
  !*** ./src/core/features.js ***!
  \******************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../io/io-controller.js */"./src/io/io-controller.js"),r=a(/*! ../config.js */"./src/config.js"),i=function(){function e(){}return e.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},e.supportNetworkStreamIO=function(){var e=new n.default({},(0,r.createDefaultConfig)()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t},e.getNetworkLoaderTypeName=function(){var e=new n.default({},(0,r.createDefaultConfig)()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var a=e.videoElement.canPlayType(t);return"probably"===a||"maybe"==a},e.getFeatureList=function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t},e}();t.default=i},"./src/core/media-info.js":
/*!********************************!*\
  !*** ./src/core/media-info.js ***!
  \********************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,a=this._search(t.times,e);return{index:a,milliseconds:t.times[a],fileposition:t.filepositions[a]}},e.prototype._search=function(e,t){var a=0,n=e.length-1,r=0,i=0,o=n;for(t<e[0]&&(a=0,i=o+1);i<=o;){if((r=i+Math.floor((o-i)/2))===n||t>=e[r]&&t<e[r+1]){a=r;break}e[r]<t?i=r+1:o=r-1}return a},e}();t.default=n},"./src/core/media-segment-info.js":
/*!****************************************!*\
  !*** ./src/core/media-segment-info.js ***!
  \****************************************/function(e,t,a){"use strict";a.r(t),a.d(t,{SampleInfo:function(){return n},MediaSegmentInfo:function(){return r},IDRSampleList:function(){return i},MediaSegmentInfoList:function(){return o}});var n=function(e,t,a,n,r){this.dts=e,this.pts=t,this.duration=a,this.originalDts=n,this.isSyncPoint=r,this.fileposition=null},r=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),i=function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,a=0,n=t.length-1,r=0,i=0,o=n;for(e<t[0].dts&&(a=0,i=o+1);i<=o;){if((r=i+Math.floor((o-i)/2))===n||e>=t[r].dts&&e<t[r+1].dts){a=r;break}t[r].dts<e?i=r+1:o=r-1}return this._list[a]},e}(),o=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var a=t.length-1,n=0,r=0,i=a,o=0;if(e<t[0].originalBeginDts)return o=-1;for(;r<=i;){if((n=r+Math.floor((i-r)/2))===a||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){o=n;break}t[n].originalBeginDts<e?r=n+1:i=n-1}return o},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,a=e,n=this._lastAppendLocation,r=0;-1!==n&&n<t.length&&a.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&a.originalBeginDts<t[n+1].originalBeginDts)?r=n+1:t.length>0&&(r=this._searchNearestSegmentBefore(a.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,a)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),a=this._list[t].syncPoints;0===a.length&&t>0;)t--,a=this._list[t].syncPoints;return a.length>0?a[a.length-1]:null},e}()},"./src/core/mse-controller.js":
/*!************************************!*\
  !*** ./src/core/mse-controller.js ***!
  \************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),r=a.n(n),i=a(/*! ../utils/logger.js */"./src/utils/logger.js"),o=a(/*! ../utils/browser.js */"./src/utils/browser.js"),s=a(/*! ./mse-events.js */"./src/core/mse-events.js"),l=a(/*! ./media-segment-info.js */"./src/core/media-segment-info.js"),d=a(/*! ../utils/exception.js */"./src/utils/exception.js"),c=function(){function e(e){this.TAG="MSEController",this._config=e,this._emitter=new(r()),this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new l.IDRSampleList}return e.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaSource)throw new d.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL},e.prototype.detachMediaElement=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var a=this._pendingSegments[t];a.splice(0,a.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var n=this._sourceBuffers[t];if(n){if("closed"!==e.readyState){try{e.removeSourceBuffer(n)}catch(e){i.default.e(this.TAG,e.message)}n.removeEventListener("error",this.e.onSourceBufferError),n.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){i.default.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var a=e,n=""+a.container;a.codec&&a.codec.length>0&&(n+=";codecs="+a.codec);var r=!1;if(i.default.v(this.TAG,"Received Initialization Segment, mimeType: "+n),this._lastInitSegments[a.type]=a,n!==this._mimeTypes[a.type]){if(this._mimeTypes[a.type])i.default.v(this.TAG,"Notice: "+a.type+" mimeType changed, origin: "+this._mimeTypes[a.type]+", target: "+n);else{r=!0;try{var l=this._sourceBuffers[a.type]=this._mediaSource.addSourceBuffer(n);l.addEventListener("error",this.e.onSourceBufferError),l.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return i.default.e(this.TAG,e.message),void this._emitter.emit(s.default.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[a.type]=n}t||this._pendingSegments[a.type].push(a),r||this._sourceBuffers[a.type]&&!this._sourceBuffers[a.type].updating&&this._doAppendSegments(),o.default.safari&&"audio/mpeg"===a.container&&a.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=a.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var a=this._sourceBuffers[t.type];!a||a.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.seek=function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var a=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{a.abort()}catch(e){i.default.e(this.TAG,e.message)}this._idrList.clear();var n=this._pendingSegments[t];if(n.splice(0,n.length),"closed"!==this._mediaSource.readyState){for(var r=0;r<a.buffered.length;r++){var s=a.buffered.start(r),l=a.buffered.end(r);this._pendingRemoveRanges[t].push({start:s,end:l})}if(a.updating||this._doRemoveRanges(),o.default.safari){var d=this._lastInitSegments[t];d&&(this._pendingSegments[t].push(d),a.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},e.prototype.getNearestKeyframe=function(e){return this._idrList.getLastSyncPointBeforeDts(e)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var a=this._sourceBuffers[t];if(a){var n=a.buffered;if(n.length>=1&&e-n.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var a=this._sourceBuffers[t];if(a){for(var n=a.buffered,r=!1,i=0;i<n.length;i++){var o=n.start(i),s=n.end(i);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){r=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:l})}}else s<e&&(r=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}r&&!a.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,a=this._pendingMediaDuration;a>0&&(isNaN(t)||a>t)&&(i.default.v(this.TAG,"Update MediaSource duration from "+t+" to "+a),this._mediaSource.duration=a),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],a=this._pendingRemoveRanges[e];a.length&&!t.updating;){var n=a.shift();t.remove(n.start,n.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var a=e[t].shift();if(a.timestampOffset){var n=this._sourceBuffers[t].timestampOffset,r=a.timestampOffset/1e3;Math.abs(n-r)>.1&&(i.default.v(this.TAG,"Update MPEG audio timestampOffset from "+n+" to "+r),this._sourceBuffers[t].timestampOffset=r),delete a.timestampOffset}if(!a.data||0===a.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(a.data),this._isBufferFull=!1,"video"===t&&a.hasOwnProperty("info")&&this._idrList.appendArray(a.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(a),22===e.code?(this._isBufferFull||this._emitter.emit(s.default.BUFFER_FULL),this._isBufferFull=!0):(i.default.e(this.TAG,e.message),this._emitter.emit(s.default.ERROR,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(i.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(s.default.SOURCE_OPEN)},e.prototype._onSourceEnded=function(){i.default.v(this.TAG,"MediaSource onSourceEnded")},e.prototype._onSourceClose=function(){i.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(s.default.UPDATE_END)},e.prototype._onSourceBufferError=function(e){i.default.e(this.TAG,"SourceBuffer Error: "+e)},e}();t.default=c},"./src/core/mse-events.js":
/*!********************************!*\
  !*** ./src/core/mse-events.js ***!
  \********************************/function(e,t,a){"use strict";a.r(t),t.default={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"}},"./src/core/transmuxer.js":
/*!********************************!*\
  !*** ./src/core/transmuxer.js ***!
  \********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),r=a.n(n),i=a(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),o=a.n(i),s=a(/*! ../utils/logger.js */"./src/utils/logger.js"),l=a(/*! ../utils/logging-control.js */"./src/utils/logging-control.js"),d=a(/*! ./transmuxing-controller.js */"./src/core/transmuxing-controller.js"),c=a(/*! ./transmuxing-events.js */"./src/core/transmuxing-events.js"),u=a(/*! ./media-info.js */"./src/core/media-info.js"),h=function(){function e(e,t){if(this.TAG="Transmuxer",this._emitter=new(r()),t.enableWorker&&"undefined"!=typeof Worker)try{this._worker=o()(/*! ./transmuxing-worker */"./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},l.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:l.default.getConfig()})}catch(a){s.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new d.default(e,t)}else this._controller=new d.default(e,t);if(this._controller){var a=this._controller;a.on(c.default.IO_ERROR,this._onIOError.bind(this)),a.on(c.default.DEMUX_ERROR,this._onDemuxError.bind(this)),a.on(c.default.INIT_SEGMENT,this._onInitSegment.bind(this)),a.on(c.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),a.on(c.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),a.on(c.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),a.on(c.default.MEDIA_INFO,this._onMediaInfo.bind(this)),a.on(c.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),a.on(c.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),a.on(c.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),a.on(c.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),l.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var a=this;Promise.resolve().then((function(){a._emitter.emit(c.default.INIT_SEGMENT,e,t)}))},e.prototype._onMediaSegment=function(e,t){var a=this;Promise.resolve().then((function(){a._emitter.emit(c.default.MEDIA_SEGMENT,e,t)}))},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(c.default.LOADING_COMPLETE)}))},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(c.default.RECOVERED_EARLY_EOF)}))},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(c.default.MEDIA_INFO,e)}))},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(c.default.METADATA_ARRIVED,e)}))},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(c.default.SCRIPTDATA_ARRIVED,e)}))},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(c.default.STATISTICS_INFO,e)}))},e.prototype._onIOError=function(e,t){var a=this;Promise.resolve().then((function(){a._emitter.emit(c.default.IO_ERROR,e,t)}))},e.prototype._onDemuxError=function(e,t){var a=this;Promise.resolve().then((function(){a._emitter.emit(c.default.DEMUX_ERROR,e,t)}))},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(c.default.RECOMMEND_SEEKPOINT,e)}))},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,a=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case c.default.INIT_SEGMENT:case c.default.MEDIA_SEGMENT:this._emitter.emit(t.msg,a.type,a.data);break;case c.default.LOADING_COMPLETE:case c.default.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case c.default.MEDIA_INFO:Object.setPrototypeOf(a,u.default.prototype),this._emitter.emit(t.msg,a);break;case c.default.METADATA_ARRIVED:case c.default.SCRIPTDATA_ARRIVED:case c.default.STATISTICS_INFO:this._emitter.emit(t.msg,a);break;case c.default.IO_ERROR:case c.default.DEMUX_ERROR:this._emitter.emit(t.msg,a.type,a.info);break;case c.default.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,a);break;case"logcat_callback":s.default.emitter.emit("log",a.type,a.logcat)}},e}();t.default=h},"./src/core/transmuxing-controller.js":
/*!********************************************!*\
  !*** ./src/core/transmuxing-controller.js ***!
  \********************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),r=a.n(n),i=a(/*! ../utils/logger.js */"./src/utils/logger.js"),o=a(/*! ../utils/browser.js */"./src/utils/browser.js"),s=a(/*! ./media-info.js */"./src/core/media-info.js"),l=a(/*! ../demux/flv-demuxer.js */"./src/demux/flv-demuxer.js"),d=a(/*! ../remux/mp4-remuxer.js */"./src/remux/mp4-remuxer.js"),c=a(/*! ../demux/demux-errors.js */"./src/demux/demux-errors.js"),u=a(/*! ../io/io-controller.js */"./src/io/io-controller.js"),h=a(/*! ./transmuxing-events.js */"./src/core/transmuxing-events.js"),f=function(){function e(e,t){this.TAG="TransmuxingController",this._emitter=new(r()),this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var a=0;this._mediaDataSource.segments.forEach((function(n){n.timestampBase=a,a+=n.duration,n.cors=e.cors,n.withCredentials=e.withCredentials,t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy)})),isNaN(a)||this._mediaDataSource.duration===a||(this._mediaDataSource.duration=a),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var a=this._mediaDataSource.segments[e],n=this._ioctl=new u.default(a,this._config,e);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var a=this._mediaInfo.segments[t];if(null==a)this._pendingSeekTime=e;else{var n=a.getNearestKeyframe(e);this._remuxer.seek(n.milliseconds),this._ioctl.seek(n.fileposition),this._pendingResolveSeekPoint=n.milliseconds}}else{var r=this._mediaInfo.segments[t];null==r?(this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t)):(n=r.getNearestKeyframe(e),this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,n.fileposition),this._pendingResolveSeekPoint=n.milliseconds,this._reportSegmentMediaInfo(t))}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,a=t.length-1,n=0;n<t.length;n++)if(e<t[n].timestampBase){a=n-1;break}return a},e.prototype._onInitChunkArrival=function(e,t){var a=this,n=null,r=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,r=this._demuxer.parseChunks(e,t);else if((n=l.default.probe(e)).match){this._demuxer=new l.default(n,this._config),this._remuxer||(this._remuxer=new d.default(this._config));var o=this._mediaDataSource;null==o.duration||isNaN(o.duration)||(this._demuxer.overridedDuration=o.duration),"boolean"==typeof o.hasAudio&&(this._demuxer.overridedHasAudio=o.hasAudio),"boolean"==typeof o.hasVideo&&(this._demuxer.overridedHasVideo=o.hasVideo),this._demuxer.timestampBase=o.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),r=this._demuxer.parseChunks(e,t)}else n=null,i.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then((function(){a._internalAbort()})),this._emitter.emit(h.default.DEMUX_ERROR,c.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),r=0;return r},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,s.default.prototype));var a=Object.assign({},e);Object.setPrototypeOf(a,s.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=a,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then((function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)}))},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(h.default.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(h.default.SCRIPTDATA_ARRIVED,e)},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(h.default.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(h.default.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){i.default.e(this.TAG,"IOException: type = "+e+", code = "+t.code+", msg = "+t.msg),this._emitter.emit(h.default.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){i.default.e(this.TAG,"DemuxException: type = "+e+", info = "+t),this._emitter.emit(h.default.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(h.default.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(h.default.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var a=t.info.syncPoints,n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,o.default.safari&&a.length>0&&a[0].originalDts===n&&(n=a[0].pts),this._emitter.emit(h.default.RECOMMEND_SEEKPOINT,n)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],a=Object.assign({},t);a.duration=this._mediaInfo.duration,a.segmentCount=this._mediaInfo.segmentCount,delete a.segments,delete a.keyframesIndex,this._emitter.emit(h.default.MEDIA_INFO,a)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(h.default.STATISTICS_INFO,e)},e}();t.default=f},"./src/core/transmuxing-events.js":
/*!****************************************!*\
  !*** ./src/core/transmuxing-events.js ***!
  \****************************************/function(e,t,a){"use strict";a.r(t),t.default={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},"./src/core/transmuxing-worker.js":
/*!****************************************!*\
  !*** ./src/core/transmuxing-worker.js ***!
  \****************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/logging-control.js */"./src/utils/logging-control.js"),r=a(/*! ../utils/polyfill.js */"./src/utils/polyfill.js"),i=a(/*! ./transmuxing-controller.js */"./src/core/transmuxing-controller.js"),o=a(/*! ./transmuxing-events.js */"./src/core/transmuxing-events.js");t.default=function(e){var t=null,a=function(t,a){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:a}})}.bind(this);function s(t,a){var n={msg:o.default.INIT_SEGMENT,data:{type:t,data:a}};e.postMessage(n,[a.data])}function l(t,a){var n={msg:o.default.MEDIA_SEGMENT,data:{type:t,data:a}};e.postMessage(n,[a.data])}function d(){var t={msg:o.default.LOADING_COMPLETE};e.postMessage(t)}function c(){var t={msg:o.default.RECOVERED_EARLY_EOF};e.postMessage(t)}function u(t){var a={msg:o.default.MEDIA_INFO,data:t};e.postMessage(a)}function h(t){var a={msg:o.default.METADATA_ARRIVED,data:t};e.postMessage(a)}function f(t){var a={msg:o.default.SCRIPTDATA_ARRIVED,data:t};e.postMessage(a)}function p(t){var a={msg:o.default.STATISTICS_INFO,data:t};e.postMessage(a)}function v(t,a){e.postMessage({msg:o.default.IO_ERROR,data:{type:t,info:a}})}function m(t,a){e.postMessage({msg:o.default.DEMUX_ERROR,data:{type:t,info:a}})}function g(t){e.postMessage({msg:o.default.RECOMMEND_SEEKPOINT,data:t})}r.default.install(),e.addEventListener("message",(function(r){switch(r.data.cmd){case"init":(t=new i.default(r.data.param[0],r.data.param[1])).on(o.default.IO_ERROR,v.bind(this)),t.on(o.default.DEMUX_ERROR,m.bind(this)),t.on(o.default.INIT_SEGMENT,s.bind(this)),t.on(o.default.MEDIA_SEGMENT,l.bind(this)),t.on(o.default.LOADING_COMPLETE,d.bind(this)),t.on(o.default.RECOVERED_EARLY_EOF,c.bind(this)),t.on(o.default.MEDIA_INFO,u.bind(this)),t.on(o.default.METADATA_ARRIVED,h.bind(this)),t.on(o.default.SCRIPTDATA_ARRIVED,f.bind(this)),t.on(o.default.STATISTICS_INFO,p.bind(this)),t.on(o.default.RECOMMEND_SEEKPOINT,g.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(r.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var y=r.data.param;n.default.applyConfig(y),!0===y.enableCallback?n.default.addLogListener(a):n.default.removeLogListener(a)}}))}},"./src/demux/amf-parser.js":
/*!*********************************!*\
  !*** ./src/demux/amf-parser.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n,r=a(/*! ../utils/logger.js */"./src/utils/logger.js"),i=a(/*! ../utils/utf8-conv.js */"./src/utils/utf8-conv.js"),o=a(/*! ../utils/exception.js */"./src/utils/exception.js"),s=(n=new ArrayBuffer(2),new DataView(n).setInt16(0,256,!0),256===new Int16Array(n)[0]),l=function(){function e(){}return e.parseScriptData=function(t,a,n){var i={};try{var o=e.parseValue(t,a,n),s=e.parseValue(t,a+o.size,n-o.size);i[o.data]=s.data}catch(e){r.default.e("AMF",e.toString())}return i},e.parseObject=function(t,a,n){if(n<3)throw new o.IllegalStateException("Data not enough when parse ScriptDataObject");var r=e.parseString(t,a,n),i=e.parseValue(t,a+r.size,n-r.size),s=i.objectEnd;return{data:{name:r.data,value:i.data},size:r.size+i.size,objectEnd:s}},e.parseVariable=function(t,a,n){return e.parseObject(t,a,n)},e.parseString=function(e,t,a){if(a<2)throw new o.IllegalStateException("Data not enough when parse String");var n=new DataView(e,t,a).getUint16(0,!s);return{data:n>0?(0,i.default)(new Uint8Array(e,t+2,n)):"",size:2+n}},e.parseLongString=function(e,t,a){if(a<4)throw new o.IllegalStateException("Data not enough when parse LongString");var n=new DataView(e,t,a).getUint32(0,!s);return{data:n>0?(0,i.default)(new Uint8Array(e,t+4,n)):"",size:4+n}},e.parseDate=function(e,t,a){if(a<10)throw new o.IllegalStateException("Data size invalid when parse Date");var n=new DataView(e,t,a),r=n.getFloat64(0,!s),i=n.getInt16(8,!s);return{data:new Date(r+=60*i*1e3),size:10}},e.parseValue=function(t,a,n){if(n<1)throw new o.IllegalStateException("Data not enough when parse Value");var i,l=new DataView(t,a,n),d=1,c=l.getUint8(0),u=!1;try{switch(c){case 0:i=l.getFloat64(1,!s),d+=8;break;case 1:i=!!l.getUint8(1),d+=1;break;case 2:var h=e.parseString(t,a+1,n-1);i=h.data,d+=h.size;break;case 3:i={};var f=0;for(9==(16777215&l.getUint32(n-4,!s))&&(f=3);d<n-4;){var p=e.parseObject(t,a+d,n-d-f);if(p.objectEnd)break;i[p.data.name]=p.data.value,d+=p.size}d<=n-3&&9==(16777215&l.getUint32(d-1,!s))&&(d+=3);break;case 8:for(i={},d+=4,f=0,9==(16777215&l.getUint32(n-4,!s))&&(f=3);d<n-8;){var v=e.parseVariable(t,a+d,n-d-f);if(v.objectEnd)break;i[v.data.name]=v.data.value,d+=v.size}d<=n-3&&9==(16777215&l.getUint32(d-1,!s))&&(d+=3);break;case 9:i=void 0,d=1,u=!0;break;case 10:i=[];var m=l.getUint32(1,!s);d+=4;for(var g=0;g<m;g++){var y=e.parseValue(t,a+d,n-d);i.push(y.data),d+=y.size}break;case 11:var b=e.parseDate(t,a+1,n-1);i=b.data,d+=b.size;break;case 12:var _=e.parseString(t,a+1,n-1);i=_.data,d+=_.size;break;default:d=n,r.default.w("AMF","Unsupported AMF value type "+c)}}catch(e){r.default.e("AMF",e.toString())}return{data:i,size:d,objectEnd:u}},e}();t.default=l},"./src/demux/demux-errors.js":
/*!***********************************!*\
  !*** ./src/demux/demux-errors.js ***!
  \***********************************/function(e,t,a){"use strict";a.r(t),t.default={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},"./src/demux/exp-golomb.js":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/exception.js */"./src/utils/exception.js"),r=function(){function e(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new n.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),a=new Uint8Array(4);a.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(a.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new n.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var a=this._current_word_bits_left?this._current_word:0;a>>>=32-this._current_word_bits_left;var r=e-this._current_word_bits_left;this._fillCurrentWord();var i=Math.min(r,this._current_word_bits_left),o=this._current_word>>>32-i;return this._current_word<<=i,this._current_word_bits_left-=i,a=a<<i|o},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}();t.default=r},"./src/demux/flv-demuxer.js":
/*!**********************************!*\
  !*** ./src/demux/flv-demuxer.js ***!
  \**********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/logger.js */"./src/utils/logger.js"),r=a(/*! ./amf-parser.js */"./src/demux/amf-parser.js"),i=a(/*! ./sps-parser.js */"./src/demux/sps-parser.js"),o=a(/*! ./demux-errors.js */"./src/demux/demux-errors.js"),s=a(/*! ../core/media-info.js */"./src/core/media-info.js"),l=a(/*! ../utils/exception.js */"./src/utils/exception.js"),d=function(){function e(e,t){var a;this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new s.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=(a=new ArrayBuffer(2),new DataView(a).setInt16(0,256,!0),256===new Int16Array(a)[0])}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e),a={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return a;var n,r,i=(4&t[4])>>>2!=0,o=0!=(1&t[4]),s=(n=t)[r=5]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3];return s<9?a:{match:!0,consumed:s,dataOffset:s,hasAudioTrack:i,hasVideoTrack:o}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(e.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(e){this._timestampBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedDuration",{get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasAudio",{set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasVideo",{set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e},enumerable:!1,configurable:!0}),e.prototype.resetMediaInfo=function(){this._mediaInfo=new s.default},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,a){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new l.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0,i=this._littleEndian;if(0===a){if(!(t.byteLength>13))return 0;r=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,a+r!==this._dataOffset&&n.default.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==(o=new DataView(t,r)).getUint32(0,!i)&&n.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),r+=4);r<t.byteLength;){this._dispatch=!0;var o=new DataView(t,r);if(r+11+4>t.byteLength)break;var s=o.getUint8(0),d=16777215&o.getUint32(0,!i);if(r+11+d+4>t.byteLength)break;if(8===s||9===s||18===s){var c=o.getUint8(4),u=o.getUint8(5),h=o.getUint8(6)|u<<8|c<<16|o.getUint8(7)<<24;0!=(16777215&o.getUint32(7,!i))&&n.default.w(this.TAG,"Meet tag which has StreamID != 0!");var f=r+11;switch(s){case 8:this._parseAudioData(t,f,d,h);break;case 9:this._parseVideoData(t,f,d,h,a+r);break;case 18:this._parseScriptData(t,f,d)}var p=o.getUint32(11+d,!i);p!==11+d&&n.default.w(this.TAG,"Invalid PrevTagSize "+p),r+=11+d+4}else n.default.w(this.TAG,"Unsupported tag type "+s+", skipped"),r+=11+d+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),r},e.prototype._parseScriptData=function(e,t,a){var i=r.default.parseScriptData(e,t,a);if(i.hasOwnProperty("onMetaData")){if(null==i.onMetaData||"object"!=typeof i.onMetaData)return void n.default.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&n.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=i;var o=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},o)),"boolean"==typeof o.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=o.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof o.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=o.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof o.audiodatarate&&(this._mediaInfo.audioDataRate=o.audiodatarate),"number"==typeof o.videodatarate&&(this._mediaInfo.videoDataRate=o.videodatarate),"number"==typeof o.width&&(this._mediaInfo.width=o.width),"number"==typeof o.height&&(this._mediaInfo.height=o.height),"number"==typeof o.duration){if(!this._durationOverrided){var s=Math.floor(o.duration*this._timescale);this._duration=s,this._mediaInfo.duration=s}}else this._mediaInfo.duration=0;if("number"==typeof o.framerate){var l=Math.floor(1e3*o.framerate);if(l>0){var d=l/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=d,this._referenceFrameRate.fps_num=l,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=d}}if("object"==typeof o.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var c=o.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(c),o.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=o,n.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(i).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},i))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],a=[],n=1;n<e.times.length;n++){var r=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(r),a.push(e.filepositions[n])}return{times:t,filepositions:a}},e.prototype._parseAudioData=function(e,t,a,r){if(a<=1)n.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var i=new DataView(e,t,a).getUint8(0),s=i>>>4;if(2===s||10===s){var l=0,d=(12&i)>>>2;if(d>=0&&d<=4){l=this._flvSoundRateTable[d];var c=1&i,u=this._audioMetadata,h=this._audioTrack;if(u||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(u=this._audioMetadata={}).type="audio",u.id=h.id,u.timescale=this._timescale,u.duration=this._duration,u.audioSampleRate=l,u.channelCount=0===c?1:2),10===s){var f=this._parseAACAudioData(e,t+1,a-1);if(null==f)return;if(0===f.packetType){u.config&&n.default.w(this.TAG,"Found another AudioSpecificConfig!");var p=f.data;u.audioSampleRate=p.samplingRate,u.channelCount=p.channelCount,u.codec=p.codec,u.originalCodec=p.originalCodec,u.config=p.config,u.refSampleDuration=1024/u.audioSampleRate*u.timescale,n.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",u),(g=this._mediaInfo).audioCodec=u.originalCodec,g.audioSampleRate=u.audioSampleRate,g.audioChannelCount=u.channelCount,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}else if(1===f.packetType){var v=this._timestampBase+r,m={unit:f.data,length:f.data.byteLength,dts:v,pts:v};h.samples.push(m),h.length+=f.data.length}else n.default.e(this.TAG,"Flv: Unsupported AAC data type "+f.packetType)}else if(2===s){if(!u.codec){var g;if(null==(p=this._parseMP3AudioData(e,t+1,a-1,!0)))return;u.audioSampleRate=p.samplingRate,u.channelCount=p.channelCount,u.codec=p.codec,u.originalCodec=p.originalCodec,u.refSampleDuration=1152/u.audioSampleRate*u.timescale,n.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",u),(g=this._mediaInfo).audioCodec=u.codec,g.audioSampleRate=u.audioSampleRate,g.audioChannelCount=u.channelCount,g.audioDataRate=p.bitRate,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}var y=this._parseMP3AudioData(e,t+1,a-1,!1);if(null==y)return;v=this._timestampBase+r;var b={unit:y,length:y.byteLength,dts:v,pts:v};h.samples.push(b),h.length+=y.length}}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+d)}else this._onError(o.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+s)}},e.prototype._parseAACAudioData=function(e,t,a){if(!(a<=1)){var r={},i=new Uint8Array(e,t,a);return r.packetType=i[0],0===i[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,a-1):r.data=i.subarray(1),r}n.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},e.prototype._parseAACAudioSpecificConfig=function(e,t,a){var n,r,i=new Uint8Array(e,t,a),s=null,l=0,d=null;if(l=n=i[0]>>>3,(r=(7&i[0])<<1|i[1]>>>7)<0||r>=this._mpegSamplingRates.length)this._onError(o.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var c=this._mpegSamplingRates[r],u=(120&i[1])>>>3;if(!(u<0||u>=8)){5===l&&(d=(7&i[1])<<1|i[2]>>>7,i[2]);var h=self.navigator.userAgent.toLowerCase();return-1!==h.indexOf("firefox")?r>=6?(l=5,s=new Array(4),d=r-3):(l=2,s=new Array(2),d=r):-1!==h.indexOf("android")?(l=2,s=new Array(2),d=r):(l=5,d=r,s=new Array(4),r>=6?d=r-3:1===u&&(l=2,s=new Array(2),d=r)),s[0]=l<<3,s[0]|=(15&r)>>>1,s[1]=(15&r)<<7,s[1]|=(15&u)<<3,5===l&&(s[1]|=(15&d)>>>1,s[2]=(1&d)<<7,s[2]|=8,s[3]=0),{config:s,samplingRate:c,channelCount:u,codec:"mp4a.40."+l,originalCodec:"mp4a.40."+n}}this._onError(o.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},e.prototype._parseMP3AudioData=function(e,t,a,r){if(!(a<4)){this._littleEndian;var i=new Uint8Array(e,t,a),o=null;if(r){if(255!==i[0])return;var s=i[1]>>>3&3,l=(6&i[1])>>1,d=(240&i[2])>>>4,c=(12&i[2])>>>2,u=3!=(i[3]>>>6&3)?2:1,h=0,f=0;switch(s){case 0:h=this._mpegAudioV25SampleRateTable[c];break;case 2:h=this._mpegAudioV20SampleRateTable[c];break;case 3:h=this._mpegAudioV10SampleRateTable[c]}switch(l){case 1:d<this._mpegAudioL3BitRateTable.length&&(f=this._mpegAudioL3BitRateTable[d]);break;case 2:d<this._mpegAudioL2BitRateTable.length&&(f=this._mpegAudioL2BitRateTable[d]);break;case 3:d<this._mpegAudioL1BitRateTable.length&&(f=this._mpegAudioL1BitRateTable[d])}o={bitRate:f,samplingRate:h,channelCount:u,codec:"mp3",originalCodec:"mp3"}}else o=i;return o}n.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},e.prototype._parseVideoData=function(e,t,a,r,i){if(a<=1)n.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var s=new Uint8Array(e,t,a)[0],l=(240&s)>>>4,d=15&s;7===d?this._parseAVCVideoPacket(e,t+1,a-1,r,i,l):this._onError(o.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+d)}},e.prototype._parseAVCVideoPacket=function(e,t,a,r,i,s){if(a<4)n.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var l=this._littleEndian,d=new DataView(e,t,a),c=d.getUint8(0),u=(16777215&d.getUint32(0,!l))<<8>>8;if(0===c)this._parseAVCDecoderConfigurationRecord(e,t+4,a-4);else if(1===c)this._parseAVCVideoData(e,t+4,a-4,r,i,s,u);else if(2!==c)return void this._onError(o.default.FORMAT_ERROR,"Flv: Invalid video packet type "+c)}},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,a){if(a<7)n.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var r=this._videoMetadata,s=this._videoTrack,l=this._littleEndian,d=new DataView(e,t,a);r?void 0!==r.avcc&&n.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=s.id,r.timescale=this._timescale,r.duration=this._duration);var c=d.getUint8(0),u=d.getUint8(1);if(d.getUint8(2),d.getUint8(3),1===c&&0!==u)if(this._naluLengthSize=1+(3&d.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var h=31&d.getUint8(5);if(0!==h){h>1&&n.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+h);for(var f=6,p=0;p<h;p++){var v=d.getUint16(f,!l);if(f+=2,0!==v){var m=new Uint8Array(e,t+f,v);f+=v;var g=i.default.parseSPS(m);if(0===p){r.codecWidth=g.codec_size.width,r.codecHeight=g.codec_size.height,r.presentWidth=g.present_size.width,r.presentHeight=g.present_size.height,r.profile=g.profile_string,r.level=g.level_string,r.bitDepth=g.bit_depth,r.chromaFormat=g.chroma_format,r.sarRatio=g.sar_ratio,r.frameRate=g.frame_rate,!1!==g.frame_rate.fixed&&0!==g.frame_rate.fps_num&&0!==g.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);var y=r.frameRate.fps_den,b=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(y/b);for(var _=m.subarray(1,4),E="avc1.",T=0;T<3;T++){var w=_[T].toString(16);w.length<2&&(w="0"+w),E+=w}r.codec=E;var S=this._mediaInfo;S.width=r.codecWidth,S.height=r.codecHeight,S.fps=r.frameRate.fps,S.profile=r.profile,S.level=r.level,S.refFrames=g.ref_frames,S.chromaFormat=g.chroma_format_string,S.sarNum=r.sarRatio.width,S.sarDen=r.sarRatio.height,S.videoCodec=E,S.hasAudio?null!=S.audioCodec&&(S.mimeType='video/x-flv; codecs="'+S.videoCodec+","+S.audioCodec+'"'):S.mimeType='video/x-flv; codecs="'+S.videoCodec+'"',S.isComplete()&&this._onMediaInfo(S)}}}var x=d.getUint8(f);if(0!==x){for(x>1&&n.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+x),f++,p=0;p<x;p++)v=d.getUint16(f,!l),f+=2,0!==v&&(f+=v);r.avcc=new Uint8Array(a),r.avcc.set(new Uint8Array(e,t,a),0),n.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(o.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},e.prototype._parseAVCVideoData=function(e,t,a,r,i,o,s){for(var l=this._littleEndian,d=new DataView(e,t,a),c=[],u=0,h=0,f=this._naluLengthSize,p=this._timestampBase+r,v=1===o;h<a;){if(h+4>=a){n.default.w(this.TAG,"Malformed Nalu near timestamp "+p+", offset = "+h+", dataSize = "+a);break}var m=d.getUint32(h,!l);if(3===f&&(m>>>=8),m>a-f)return void n.default.w(this.TAG,"Malformed Nalus near timestamp "+p+", NaluSize > DataSize!");var g=31&d.getUint8(h+f);5===g&&(v=!0);var y=new Uint8Array(e,t+h,f+m),b={type:g,data:y};c.push(b),u+=y.byteLength,h+=f+m}if(c.length){var _=this._videoTrack,E={units:c,length:u,isKeyframe:v,dts:p,cts:s,pts:p+s};v&&(E.fileposition=i),_.samples.push(E),_.length+=u}},e}();t.default=d},"./src/demux/sps-parser.js":
/*!*********************************!*\
  !*** ./src/demux/sps-parser.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ./exp-golomb.js */"./src/demux/exp-golomb.js"),r=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,a=t.byteLength,n=new Uint8Array(a),r=0,i=0;i<a;i++)i>=2&&3===t[i]&&0===t[i-1]&&0===t[i-2]||(n[r]=t[i],r++);return new Uint8Array(n.buffer,0,r)},e.parseSPS=function(t){var a=e._ebsp2rbsp(t),r=new n.default(a);r.readByte();var i=r.readByte();r.readByte();var o=r.readByte();r.readUEG();var s=e.getProfileString(i),l=e.getLevelString(o),d=1,c=420,u=8;if((100===i||110===i||122===i||244===i||44===i||83===i||86===i||118===i||128===i||138===i||144===i)&&(3===(d=r.readUEG())&&r.readBits(1),d<=3&&(c=[0,420,422,444][d]),u=r.readUEG()+8,r.readUEG(),r.readBits(1),r.readBool()))for(var h=3!==d?8:12,f=0;f<h;f++)r.readBool()&&(f<6?e._skipScalingList(r,16):e._skipScalingList(r,64));r.readUEG();var p=r.readUEG();if(0===p)r.readUEG();else if(1===p){r.readBits(1),r.readSEG(),r.readSEG();var v=r.readUEG();for(f=0;f<v;f++)r.readSEG()}var m=r.readUEG();r.readBits(1);var g=r.readUEG(),y=r.readUEG(),b=r.readBits(1);0===b&&r.readBits(1),r.readBits(1);var _=0,E=0,T=0,w=0;r.readBool()&&(_=r.readUEG(),E=r.readUEG(),T=r.readUEG(),w=r.readUEG());var S=1,x=1,k=0,A=!0,L=0,D=0;if(r.readBool()){if(r.readBool()){var C=r.readByte();C>0&&C<16?(S=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][C-1],x=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][C-1]):255===C&&(S=r.readByte()<<8|r.readByte(),x=r.readByte()<<8|r.readByte())}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(4),r.readBool()&&r.readBits(24)),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool()){var I=r.readBits(32),R=r.readBits(32);A=r.readBool(),k=(L=R)/(D=2*I)}}var O=1;1===S&&1===x||(O=S/x);var P=0,M=0;0===d?(P=1,M=2-b):(P=3===d?1:2,M=(1===d?2:1)*(2-b));var N=16*(g+1),B=16*(y+1)*(2-b);N-=(_+E)*P,B-=(T+w)*M;var F=Math.ceil(N*O);return r.destroy(),r=null,{profile_string:s,level_string:l,bit_depth:u,ref_frames:m,chroma_format:c,chroma_format_string:e.getChromaFormatString(c),frame_rate:{fixed:A,fps:k,fps_den:D,fps_num:L},sar_ratio:{width:S,height:x},codec_size:{width:N,height:B},present_size:{width:F,height:B}}},e._skipScalingList=function(e,t){for(var a=8,n=8,r=0;r<t;r++)0!==n&&(n=(a+e.readSEG()+256)%256),a=0===n?a:n},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e}();t.default=r},"./src/flv.js":
/*!********************!*\
  !*** ./src/flv.js ***!
  \********************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ./utils/polyfill.js */"./src/utils/polyfill.js"),r=a(/*! ./core/features.js */"./src/core/features.js"),i=a(/*! ./io/loader.js */"./src/io/loader.js"),o=a(/*! ./player/flv-player.js */"./src/player/flv-player.js"),s=a(/*! ./player/native-player.js */"./src/player/native-player.js"),l=a(/*! ./player/player-events.js */"./src/player/player-events.js"),d=a(/*! ./player/player-errors.js */"./src/player/player-errors.js"),c=a(/*! ./utils/logging-control.js */"./src/utils/logging-control.js"),u=a(/*! ./utils/exception.js */"./src/utils/exception.js");n.default.install();var h={createPlayer:function(e,t){var a=e;if(null==a||"object"!=typeof a)throw new u.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!a.hasOwnProperty("type"))throw new u.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");return"flv"===a.type?new o.default(a,t):new s.default(a,t)},isSupported:function(){return r.default.supportMSEH264Playback()},getFeatureList:function(){return r.default.getFeatureList()}};h.BaseLoader=i.BaseLoader,h.LoaderStatus=i.LoaderStatus,h.LoaderErrors=i.LoaderErrors,h.Events=l.default,h.ErrorTypes=d.ErrorTypes,h.ErrorDetails=d.ErrorDetails,h.FlvPlayer=o.default,h.NativePlayer=s.default,h.LoggingControl=c.default,Object.defineProperty(h,"version",{enumerable:!0,get:function(){return"1.6.2"}}),t.default=h},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/function(e,t,a){e.exports=a(/*! ./flv.js */"./src/flv.js").default},"./src/io/fetch-stream-loader.js":
/*!***************************************!*\
  !*** ./src/io/fetch-stream-loader.js ***!
  \***************************************/function(e,t,a){"use strict";a.r(t);var n,r=a(/*! ../utils/browser.js */"./src/utils/browser.js"),i=a(/*! ./loader.js */"./src/io/loader.js"),o=a(/*! ../utils/exception.js */"./src/utils/exception.js"),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),l=function(e){function t(t,a){var n=e.call(this,"fetch-stream-loader")||this;return n.TAG="FetchStreamLoader",n._seekHandler=t,n._config=a,n._needStash=!0,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return s(t,e),t.isSupported=function(){try{var e=r.default.msedge&&r.default.version.minor>=15048,t=!r.default.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var a=this;this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var r=this._seekHandler.getConfig(n,t),s=new self.Headers;if("object"==typeof r.headers){var l=r.headers;for(var d in l)l.hasOwnProperty(d)&&s.append(d,l[d])}var c={method:"GET",headers:s,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(var d in this._config.headers)s.append(d,this._config.headers[d]);!1===e.cors&&(c.mode="same-origin"),e.withCredentials&&(c.credentials="include"),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,c.signal=this._abortController.signal),this._status=i.LoaderStatus.kConnecting,self.fetch(r.url,c).then((function(e){if(a._requestAbort)return a._status=i.LoaderStatus.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==r.url&&a._onURLRedirect){var t=a._seekHandler.removeURLParameters(e.url);a._onURLRedirect(t)}var n=e.headers.get("Content-Length");return null!=n&&(a._contentLength=parseInt(n),0!==a._contentLength&&a._onContentLengthKnown&&a._onContentLengthKnown(a._contentLength)),a._pump.call(a,e.body.getReader())}if(a._status=i.LoaderStatus.kError,!a._onError)throw new o.RuntimeException("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);a._onError(i.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})})).catch((function(e){if(!a._abortController||!a._abortController.signal.aborted){if(a._status=i.LoaderStatus.kError,!a._onError)throw e;a._onError(i.LoaderErrors.EXCEPTION,{code:-1,msg:e.message})}}))},t.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==i.LoaderStatus.kBuffering||!r.default.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},t.prototype._pump=function(e){var t=this;return e.read().then((function(a){if(a.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=i.LoaderStatus.kError;var n=i.LoaderErrors.EARLY_EOF,r={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new o.RuntimeException(r.msg);t._onError(n,r)}else t._status=i.LoaderStatus.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=i.LoaderStatus.kComplete);if(!0===t._requestAbort)return t._status=i.LoaderStatus.kComplete,e.cancel();t._status=i.LoaderStatus.kBuffering;var s=a.value.buffer,l=t._range.from+t._receivedLength;t._receivedLength+=s.byteLength,t._onDataArrival&&t._onDataArrival(s,l,t._receivedLength),t._pump(e)}})).catch((function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=i.LoaderStatus.kComplete;else if(11!==e.code||!r.default.msedge){t._status=i.LoaderStatus.kError;var a=0,n=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(a=i.LoaderErrors.EXCEPTION,n={code:e.code,msg:e.message}):(a=i.LoaderErrors.EARLY_EOF,n={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new o.RuntimeException(n.msg);t._onError(a,n)}}))},t}(i.BaseLoader);t.default=l},"./src/io/io-controller.js":
/*!*********************************!*\
  !*** ./src/io/io-controller.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/logger.js */"./src/utils/logger.js"),r=a(/*! ./speed-sampler.js */"./src/io/speed-sampler.js"),i=a(/*! ./loader.js */"./src/io/loader.js"),o=a(/*! ./fetch-stream-loader.js */"./src/io/fetch-stream-loader.js"),s=a(/*! ./xhr-moz-chunked-loader.js */"./src/io/xhr-moz-chunked-loader.js"),l=a(/*! ./xhr-range-loader.js */"./src/io/xhr-range-loader.js"),d=a(/*! ./websocket-loader.js */"./src/io/websocket-loader.js"),c=a(/*! ./range-seek-handler.js */"./src/io/range-seek-handler.js"),u=a(/*! ./param-seek-handler.js */"./src/io/param-seek-handler.js"),h=a(/*! ../utils/exception.js */"./src/utils/exception.js"),f=function(){function e(e,t,a){this.TAG="IOController",this._config=t,this._extraData=a,this._stashInitialSize=393216,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new r.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},Object.defineProperty(e.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(e){this._onSeeked=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(e){this._onRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRedirect",{get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSpeed",{get:function(){return this._loaderClass===l.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),e.prototype._selectSeekHandler=function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new c.default(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",a=e.seekParamEnd||"bend";this._seekHandler=new u.default(t,a)}else{if("custom"!==e.seekType)throw new h.InvalidArgumentException("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new h.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=d.default;else if(o.default.isSupported())this._loaderClass=o.default;else if(s.default.isSupported())this._loaderClass=s.default;else{if(!l.default.isSupported())throw new h.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=l.default}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var a={from:e,to:-1};this._currentRange={from:a.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,a),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||"string"!=typeof e||0===e.length)throw new h.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var a=new ArrayBuffer(t);if(this._stashUsed>0){var n=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(a,0,t).set(n,0)}this._stashBuffer=a,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,a=t.length-1,n=0,r=0,i=a;if(e<t[0])return t[0];for(;r<=i;){if((n=r+Math.floor((i-r)/2))===a||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:i=n-1}},e.prototype._adjustStashSize=function(e){var t=0;(t=this._config.isLive||e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var a=1024*t+1048576;this._bufferSize<a&&this._expandBuffer(a),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,a){if(!this._onDataArrival)throw new h.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var n=this._speedSampler.lastSecondKBps;if(0!==n){var r=this._normalizeSpeed(n);this._speedNormalized!==r&&(this._speedNormalized=r,this._adjustStashSize(r))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)(s=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else if(s=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var i=this._stashBuffer.slice(0,this._stashUsed);(l=this._dispatchChunks(i,this._stashByteStart))<i.byteLength?l>0&&(d=new Uint8Array(i,l),s.set(d,0),this._stashUsed=d.byteLength,this._stashByteStart+=l):(this._stashUsed=0,this._stashByteStart+=l),this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else(l=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-l)>this._bufferSize&&(this._expandBuffer(o),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e,l),0),this._stashUsed+=o,this._stashByteStart=t+l);else if(0===this._stashUsed){var o;(l=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-l)>this._bufferSize&&this._expandBuffer(o),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e,l),0),this._stashUsed+=o,this._stashByteStart=t+l)}else{var s,l;if(this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength,(l=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&l>0){var d=new Uint8Array(this._stashBuffer,l);s.set(d,0)}this._stashUsed-=l,this._stashByteStart+=l}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),a=this._dispatchChunks(t,this._stashByteStart),r=t.byteLength-a;if(a<t.byteLength){if(!e){if(a>0){var i=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,a);i.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=a}return 0}n.default.w(this.TAG,r+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,r}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(n.default.e(this.TAG,"Loader error, code = "+t.code+", msg = "+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=i.LoaderErrors.UNRECOVERABLE_EARLY_EOF),e){case i.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var a=this._currentRange.to+1;return void(a<this._totalLength&&(n.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(a,!1)))}e=i.LoaderErrors.UNRECOVERABLE_EARLY_EOF;case i.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case i.LoaderErrors.CONNECTING_TIMEOUT:case i.LoaderErrors.HTTP_STATUS_CODE_INVALID:case i.LoaderErrors.EXCEPTION:}if(!this._onError)throw new h.RuntimeException("IOException: "+t.msg);this._onError(e,t)},e}();t.default=f},"./src/io/loader.js":
/*!**************************!*\
  !*** ./src/io/loader.js ***!
  \**************************/function(e,t,a){"use strict";a.r(t),a.d(t,{LoaderStatus:function(){return r},LoaderErrors:function(){return i},BaseLoader:function(){return o}});var n=a(/*! ../utils/exception.js */"./src/utils/exception.js"),r={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},i={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},o=function(){function e(e){this._type=e||"undefined",this._status=r.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=r.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===r.kConnecting||this._status===r.kBuffering},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),e.prototype.open=function(e,t){throw new n.NotImplementedException("Unimplemented abstract function!")},e.prototype.abort=function(){throw new n.NotImplementedException("Unimplemented abstract function!")},e}()},"./src/io/param-seek-handler.js":
/*!**************************************!*\
  !*** ./src/io/param-seek-handler.js ***!
  \**************************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(e,t){this._startName=e,this._endName=t}return e.prototype.getConfig=function(e,t){var a=e;if(0!==t.from||-1!==t.to){var n=!0;-1===a.indexOf("?")&&(a+="?",n=!1),n&&(a+="&"),a+=this._startName+"="+t.from.toString(),-1!==t.to&&(a+="&"+this._endName+"="+t.to.toString())}return{url:a,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split("?")[0],a=void 0,n=e.indexOf("?");-1!==n&&(a=e.substring(n+1));var r="";if(null!=a&&a.length>0)for(var i=a.split("&"),o=0;o<i.length;o++){var s=i[o].split("="),l=o>0;s[0]!==this._startName&&s[0]!==this._endName&&(l&&(r+="&"),r+=i[o])}return 0===r.length?t:t+"?"+r},e}();t.default=n},"./src/io/range-seek-handler.js":
/*!**************************************!*\
  !*** ./src/io/range-seek-handler.js ***!
  \**************************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(e){this._zeroStart=e||!1}return e.prototype.getConfig=function(e,t){var a={};if(0!==t.from||-1!==t.to){var n=void 0;n=-1!==t.to?"bytes="+t.from.toString()+"-"+t.to.toString():"bytes="+t.from.toString()+"-",a.Range=n}else this._zeroStart&&(a.Range="bytes=0-");return{url:e,headers:a}},e.prototype.removeURLParameters=function(e){return e},e}();t.default=n},"./src/io/speed-sampler.js":
/*!*********************************!*\
  !*** ./src/io/speed-sampler.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},Object.defineProperty(e.prototype,"currentKBps",{get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageKBps",{get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024},enumerable:!1,configurable:!0}),e}();t.default=n},"./src/io/websocket-loader.js":
/*!************************************!*\
  !*** ./src/io/websocket-loader.js ***!
  \************************************/function(e,t,a){"use strict";a.r(t);var n,r=a(/*! ./loader.js */"./src/io/loader.js"),i=a(/*! ../utils/exception.js */"./src/utils/exception.js"),o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),s=function(e){function t(){var t=e.call(this,"websocket-loader")||this;return t.TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}return o(t,e),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=r.LoaderStatus.kConnecting}catch(e){this._status=r.LoaderStatus.kError;var a={code:e.code,msg:e.message};if(!this._onError)throw new i.RuntimeException(a.msg);this._onError(r.LoaderErrors.EXCEPTION,a)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=r.LoaderStatus.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=r.LoaderStatus.kBuffering},t.prototype._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=r.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var a=new FileReader;a.onload=function(){t._dispatchArrayBuffer(a.result)},a.readAsArrayBuffer(e.data)}else{this._status=r.LoaderStatus.kError;var n={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new i.RuntimeException(n.msg);this._onError(r.LoaderErrors.EXCEPTION,n)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,a=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,a,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=r.LoaderStatus.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new i.RuntimeException(t.msg);this._onError(r.LoaderErrors.EXCEPTION,t)},t}(r.BaseLoader);t.default=s},"./src/io/xhr-moz-chunked-loader.js":
/*!******************************************!*\
  !*** ./src/io/xhr-moz-chunked-loader.js ***!
  \******************************************/function(e,t,a){"use strict";a.r(t);var n,r=a(/*! ../utils/logger.js */"./src/utils/logger.js"),i=a(/*! ./loader.js */"./src/io/loader.js"),o=a(/*! ../utils/exception.js */"./src/utils/exception.js"),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),l=function(e){function t(t,a){var n=e.call(this,"xhr-moz-chunked-loader")||this;return n.TAG="MozChunkedLoader",n._seekHandler=t,n._config=a,n._needStash=!0,n._xhr=null,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return s(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return r.default.w("MozChunkedLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var a=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(a=e.redirectedURL);var n=this._seekHandler.getConfig(a,t);this._requestURL=n.url;var r=this._xhr=new XMLHttpRequest;if(r.open("GET",n.url,!0),r.responseType="moz-chunked-arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onloadend=this._onLoadEnd.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),"object"==typeof n.headers){var o=n.headers;for(var s in o)o.hasOwnProperty(s)&&r.setRequestHeader(s,o[s])}if("object"==typeof this._config.headers)for(var s in o=this._config.headers)o.hasOwnProperty(s)&&r.setRequestHeader(s,o[s]);this._status=i.LoaderStatus.kConnecting,r.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=i.LoaderStatus.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var a=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(a)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=i.LoaderStatus.kError,!this._onError)throw new o.RuntimeException("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(i.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=i.LoaderStatus.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==i.LoaderStatus.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,a=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,a,this._receivedLength)}},t.prototype._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==i.LoaderStatus.kError&&(this._status=i.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},t.prototype._onXhrError=function(e){this._status=i.LoaderStatus.kError;var t=0,a=null;if(this._contentLength&&e.loaded<this._contentLength?(t=i.LoaderErrors.EARLY_EOF,a={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=i.LoaderErrors.EXCEPTION,a={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new o.RuntimeException(a.msg);this._onError(t,a)},t}(i.BaseLoader);t.default=l},"./src/io/xhr-range-loader.js":
/*!************************************!*\
  !*** ./src/io/xhr-range-loader.js ***!
  \************************************/function(e,t,a){"use strict";a.r(t);var n,r=a(/*! ../utils/logger.js */"./src/utils/logger.js"),i=a(/*! ./speed-sampler.js */"./src/io/speed-sampler.js"),o=a(/*! ./loader.js */"./src/io/loader.js"),s=a(/*! ../utils/exception.js */"./src/utils/exception.js"),l=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),d=function(e){function t(t,a){var n=e.call(this,"xhr-range-loader")||this;return n.TAG="RangeLoader",n._seekHandler=t,n._config=a,n._needStash=!1,n._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],n._currentChunkSizeKB=384,n._currentSpeedNormalized=0,n._zeroSpeedChunkCount=0,n._xhr=null,n._speedSampler=new i.default,n._requestAbort=!1,n._waitForTotalLength=!1,n._totalLengthReceived=!1,n._currentRequestURL=null,n._currentRedirectedURL=null,n._currentRequestRange=null,n._totalLength=null,n._contentLength=null,n._receivedLength=0,n._lastTimeLoaded=0,n}return l(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return r.default.w("RangeLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=o.LoaderStatus.kConnecting;var a=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(a=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||a?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,a=t+e;null!=this._contentLength&&a-this._range.from>=this._contentLength&&(a=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:a},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var a=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?a=this._currentRedirectedURL:null!=e.redirectedURL&&(a=e.redirectedURL));var n=this._seekHandler.getConfig(a,t);this._currentRequestURL=n.url;var r=this._xhr=new XMLHttpRequest;if(r.open("GET",n.url,!0),r.responseType="arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onload=this._onLoad.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),"object"==typeof n.headers){var i=n.headers;for(var o in i)i.hasOwnProperty(o)&&r.setRequestHeader(o,i[o])}if("object"==typeof this._config.headers)for(var o in i=this._config.headers)i.hasOwnProperty(o)&&r.setRequestHeader(o,i[o]);r.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=o.LoaderStatus.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var a=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&a!==this._currentRedirectedURL&&(this._currentRedirectedURL=a,this._onURLRedirect&&this._onURLRedirect(a))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=o.LoaderStatus.kBuffering}else{if(this._status=o.LoaderStatus.kError,!this._onError)throw new s.RuntimeException("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==o.LoaderStatus.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var a=e.total;this._internalAbort(),null!=a&0!==a&&(this._totalLength=a)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var n=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(n)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,a=t.length-1,n=0,r=0,i=a;if(e<t[0])return t[0];for(;r<=i;){if((n=r+Math.floor((i-r)/2))===a||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:i=n-1}},t.prototype._onLoad=function(e){if(this._status!==o.LoaderStatus.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var a=this._normalizeSpeed(t);this._currentSpeedNormalized!==a&&(this._currentSpeedNormalized=a,this._currentChunkSizeKB=a)}var n=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength;var i=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():i=!0,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),i&&(this._status=o.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=o.LoaderStatus.kError;var t=0,a=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=o.LoaderErrors.EARLY_EOF,a={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=o.LoaderErrors.EXCEPTION,a={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new s.RuntimeException(a.msg);this._onError(t,a)},t}(o.BaseLoader);t.default=d},"./src/player/flv-player.js":
/*!**********************************!*\
  !*** ./src/player/flv-player.js ***!
  \**********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),r=a.n(n),i=a(/*! ../utils/logger.js */"./src/utils/logger.js"),o=a(/*! ../utils/browser.js */"./src/utils/browser.js"),s=a(/*! ./player-events.js */"./src/player/player-events.js"),l=a(/*! ../core/transmuxer.js */"./src/core/transmuxer.js"),d=a(/*! ../core/transmuxing-events.js */"./src/core/transmuxing-events.js"),c=a(/*! ../core/mse-controller.js */"./src/core/mse-controller.js"),u=a(/*! ../core/mse-events.js */"./src/core/mse-events.js"),h=a(/*! ./player-errors.js */"./src/player/player-errors.js"),f=a(/*! ../config.js */"./src/config.js"),p=a(/*! ../utils/exception.js */"./src/utils/exception.js"),v=function(){function e(e,t){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(r()),this._config=(0,f.createDefaultConfig)(),"object"==typeof t&&Object.assign(this._config,t),"flv"!==e.type.toLowerCase())throw new p.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var a=o.default.chrome&&(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661);this._alwaysSeekKeyframe=!!(a||o.default.msedge||o.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return e.prototype.destroy=function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var a=this;e===s.default.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then((function(){a._emitter.emit(s.default.MEDIA_INFO,a.mediaInfo)})):e===s.default.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then((function(){a._emitter.emit(s.default.STATISTICS_INFO,a.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new c.default(this._config),this._msectl.on(u.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(u.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(u.default.SOURCE_OPEN,(function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())})),this._msectl.on(u.default.ERROR,(function(e){t._emitter.emit(s.default.ERROR,h.ErrorTypes.MEDIA_ERROR,h.ErrorDetails.MEDIA_MSE_ERROR,e)})),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},e.prototype.load=function(){var e=this;if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new p.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new l.default(this._mediaDataSource,this._config),this._transmuxer.on(d.default.INIT_SEGMENT,(function(t,a){e._msectl.appendInitSegment(a)})),this._transmuxer.on(d.default.MEDIA_SEGMENT,(function(t,a){if(e._msectl.appendMediaSegment(a),e._config.lazyLoad&&!e._config.isLive){var n=e._mediaElement.currentTime;a.info.endDts>=1e3*(n+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(i.default.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}})),this._transmuxer.on(d.default.LOADING_COMPLETE,(function(){e._msectl.endOfStream(),e._emitter.emit(s.default.LOADING_COMPLETE)})),this._transmuxer.on(d.default.RECOVERED_EARLY_EOF,(function(){e._emitter.emit(s.default.RECOVERED_EARLY_EOF)})),this._transmuxer.on(d.default.IO_ERROR,(function(t,a){e._emitter.emit(s.default.ERROR,h.ErrorTypes.NETWORK_ERROR,t,a)})),this._transmuxer.on(d.default.DEMUX_ERROR,(function(t,a){e._emitter.emit(s.default.ERROR,h.ErrorTypes.MEDIA_ERROR,t,{code:-1,msg:a})})),this._transmuxer.on(d.default.MEDIA_INFO,(function(t){e._mediaInfo=t,e._emitter.emit(s.default.MEDIA_INFO,Object.assign({},t))})),this._transmuxer.on(d.default.METADATA_ARRIVED,(function(t){e._emitter.emit(s.default.METADATA_ARRIVED,t)})),this._transmuxer.on(d.default.SCRIPTDATA_ARRIVED,(function(t){e._emitter.emit(s.default.SCRIPTDATA_ARRIVED,t)})),this._transmuxer.on(d.default.STATISTICS_INFO,(function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(s.default.STATISTICS_INFO,Object.assign({},e._statisticsInfo))})),this._transmuxer.on(d.default.RECOMMEND_SEEKPOINT,(function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)})),this._transmuxer.open()))},e.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),e.prototype._fillStatisticsInfo=function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,a=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();a=r.totalVideoFrames,n=r.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(a=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=a,e.droppedFrames=n),e},e.prototype._onmseUpdateEnd=function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,a=0,n=0;n<e.length;n++){var r=e.start(n),o=e.end(n);if(r<=t&&t<o){a=o;break}}a>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(i.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},e.prototype._onmseBufferFull=function(){i.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()},e.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},e.prototype._checkProgressAndResume=function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,a=!1,n=0;n<t.length;n++){var r=t.start(n),o=t.end(n);if(e>=r&&e<o){e>=o-this._config.lazyLoadRecoverDuration&&(a=!0);break}}a&&(window.clearInterval(this._progressChecker),this._progressChecker=null,a&&(i.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},e.prototype._isTimepointBuffered=function(e){for(var t=this._mediaElement.buffered,a=0;a<t.length;a++){var n=t.start(a),r=t.end(a);if(e>=n&&e<r)return!0}return!1},e.prototype._internalSeek=function(e){var t=this._isTimepointBuffered(e),a=!1,n=0;if(e<1&&this._mediaElement.buffered.length>0){var r=this._mediaElement.buffered.start(0);(r<1&&e<r||o.default.safari)&&(a=!0,n=o.default.safari?.1:r)}if(a)this._requestSetTime=!0,this._mediaElement.currentTime=n;else if(t){if(this._alwaysSeekKeyframe){var i=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=i?i.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)},e.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},e.prototype._checkAndResumeStuckPlayback=function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var a=t.buffered;a.length>0&&t.currentTime<a.start(0)&&(i.default.w(this.TAG,"Playback seems stuck at "+t.currentTime+", seek to "+a.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=a.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},e.prototype._onvSeeking=function(e){var t=this._mediaElement.currentTime,a=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&a.length>0){var n=a.start(0);if(n<1&&t<n||o.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=o.default.safari?.1:n)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var r=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=r&&(this._requestSetTime=!0,this._mediaElement.currentTime=r.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},e.prototype._onvCanPlay=function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},e.prototype._onvStalled=function(e){this._checkAndResumeStuckPlayback(!0)},e.prototype._onvProgress=function(e){this._checkAndResumeStuckPlayback()},e}();t.default=v},"./src/player/native-player.js":
/*!*************************************!*\
  !*** ./src/player/native-player.js ***!
  \*************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),r=a.n(n),i=a(/*! ./player-events.js */"./src/player/player-events.js"),o=a(/*! ../config.js */"./src/config.js"),s=a(/*! ../utils/exception.js */"./src/utils/exception.js"),l=function(){function e(e,t){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(r()),this._config=(0,o.createDefaultConfig)(),"object"==typeof t&&Object.assign(this._config,t),"flv"===e.type.toLowerCase())throw new s.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new s.InvalidArgumentException("NativePlayer("+e.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}return e.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var a=this;e===i.default.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){a._emitter.emit(i.default.MEDIA_INFO,a.mediaInfo)})):e===i.default.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){a._emitter.emit(i.default.STATISTICS_INFO,a.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new s.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,a=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var r=this._mediaElement.getVideoPlaybackQuality();a=r.totalVideoFrames,n=r.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(a=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=a,e.droppedFrames=n),e},enumerable:!1,configurable:!0}),e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(i.default.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(i.default.STATISTICS_INFO,this.statisticsInfo)},e}();t.default=l},"./src/player/player-errors.js":
/*!*************************************!*\
  !*** ./src/player/player-errors.js ***!
  \*************************************/function(e,t,a){"use strict";a.r(t),a.d(t,{ErrorTypes:function(){return i},ErrorDetails:function(){return o}});var n=a(/*! ../io/loader.js */"./src/io/loader.js"),r=a(/*! ../demux/demux-errors.js */"./src/demux/demux-errors.js"),i={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},o={NETWORK_EXCEPTION:n.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:n.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:n.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:n.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:r.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:r.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:r.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":
/*!*************************************!*\
  !*** ./src/player/player-events.js ***!
  \*************************************/function(e,t,a){"use strict";a.r(t),t.default={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"}},"./src/remux/aac-silent.js":
/*!*********************************!*\
  !*** ./src/remux/aac-silent.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=n},"./src/remux/mp4-generator.js":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.js ***!
  \************************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var a=e.constants={};a.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),a.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),a.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),a.STSC=a.STCO=a.STTS,a.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),a.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),a.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),a.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),a.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,a=null,n=Array.prototype.slice.call(arguments,1),r=n.length,i=0;i<r;i++)t+=n[i].byteLength;(a=new Uint8Array(t))[0]=t>>>24&255,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=255&t,a.set(e,4);var o=8;for(i=0;i<r;i++)a.set(n[i],o),o+=n[i].byteLength;return a},e.generateInitSegment=function(t){var a=e.box(e.types.ftyp,e.constants.FTYP),n=e.moov(t),r=new Uint8Array(a.byteLength+n.byteLength);return r.set(a,0),r.set(n,a.byteLength),r},e.moov=function(t){var a=e.mvhd(t.timescale,t.duration),n=e.trak(t),r=e.mvex(t);return e.box(e.types.moov,a,n,r)},e.mvhd=function(t,a){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,a>>>24&255,a>>>16&255,a>>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var a=t.id,n=t.duration,r=t.presentWidth,i=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,i>>>8&255,255&i,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var a=t.timescale,n=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))},e.hdlr=function(t){var a=null;return a="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,a)},e.minf=function(t){var a=null;return a="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,a,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var a=t.channelCount,n=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,a,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types[".mp3"],r)},e.mp4a=function(t){var a=t.channelCount,n=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,a,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.mp4a,r,e.esds(t))},e.esds=function(t){var a=t.config||[],n=a.length,r=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(a).concat([6,1,2]));return e.box(e.types.esds,r)},e.avc1=function(t){var a=t.avcc,n=t.codecWidth,r=t.codecHeight,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,i,e.box(e.types.avcC,a))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var a=t.id,n=new Uint8Array([0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,n)},e.moof=function(t,a){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,a))},e.mfhd=function(t){var a=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,a)},e.traf=function(t,a){var n=t.id,r=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),i=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),o=e.sdtp(t),s=e.trun(t,o.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,r,i,s,o)},e.sdtp=function(t){for(var a=t.samples||[],n=a.length,r=new Uint8Array(4+n),i=0;i<n;i++){var o=a[i].flags;r[i+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return e.box(e.types.sdtp,r)},e.trun=function(t,a){var n=t.samples||[],r=n.length,i=12+16*r,o=new Uint8Array(i);a+=8+i,o.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,a>>>24&255,a>>>16&255,a>>>8&255,255&a],0);for(var s=0;s<r;s++){var l=n[s].duration,d=n[s].size,c=n[s].flags,u=n[s].cts;o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,d>>>24&255,d>>>16&255,d>>>8&255,255&d,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.isNonSync,0,0,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*s)}return e.box(e.types.trun,o)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();n.init(),t.default=n},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.js ***!
  \**********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/logger.js */"./src/utils/logger.js"),r=a(/*! ./mp4-generator.js */"./src/remux/mp4-generator.js"),i=a(/*! ./aac-silent.js */"./src/remux/aac-silent.js"),o=a(/*! ../utils/browser.js */"./src/utils/browser.js"),s=a(/*! ../core/media-segment-info.js */"./src/core/media-segment-info.js"),l=a(/*! ../utils/exception.js */"./src/utils/exception.js"),d=function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new s.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new s.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!o.default.chrome||!(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661)),this._fillSilentAfterSeek=o.default.msedge||o.default.msie,this._mp3UseMpegAudio=!o.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!1,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new l.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var a=null,n="mp4",i=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(n="mpeg",i="",a=new Uint8Array):a=r.default.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,a=r.default.generateInitSegment(t)}if(!this._onInitSegment)throw new l.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:a.buffer,codec:i,container:e+"/"+n,mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,a={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(a.samples.push(e),a.length=e.length);var n={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(n.samples.push(t),n.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(a,!0),this._remuxAudio(n,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var a,l=e,d=l.samples,c=void 0,u=-1,h=this._audioMeta.refSampleDuration,f="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,p=this._dtsBaseInited&&void 0===this._audioNextDts,v=!1;if(d&&0!==d.length&&(1!==d.length||t)){var m=0,g=null,y=0;f?(m=0,y=l.length):(m=8,y=8+l.length);var b=null;if(d.length>1&&(y-=(b=d.pop()).length),null!=this._audioStashedLastSample){var _=this._audioStashedLastSample;this._audioStashedLastSample=null,d.unshift(_),y+=_.length}null!=b&&(this._audioStashedLastSample=b);var E=d[0].dts-this._dtsBase;if(this._audioNextDts)c=E-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())c=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(v=!0);else{var T=this._audioSegmentInfoList.getLastSampleBefore(E);if(null!=T){var w=E-(T.originalDts+T.duration);w<=3&&(w=0),c=E-(T.dts+T.duration+w)}else c=0}if(v){var S=E-c,x=this._videoSegmentInfoList.getLastSegmentBefore(E);if(null!=x&&x.beginDts<S){if(N=i.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var k=x.beginDts,A=S-x.beginDts;n.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+k+", duration: "+A),d.unshift({unit:N,dts:k,pts:k}),y+=N.byteLength}}else v=!1}for(var L=[],D=0;D<d.length;D++){var C=(_=d[D]).unit,I=_.dts-this._dtsBase,R=(k=I,!1),O=null,P=0;if(!(I<-.001)){if("mp3"!==this._audioMeta.codec){var M=I;if(this._audioNextDts&&(M=this._audioNextDts),(c=I-M)<=-3*h){n.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+I+" ms ,curRefDts: "+M+" ms)  due to dtsCorrection: "+c+" ms overlap.");continue}if(c>=3*h&&this._fillAudioTimestampGap&&!o.default.safari){R=!0;var N,B=Math.floor(c/h);n.default.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\noriginalDts: "+I+" ms, curRefDts: "+M+" ms, dtsCorrection: "+Math.round(c)+" ms, generate: "+B+" frames"),k=Math.floor(M),P=Math.floor(M+h)-k,null==(N=i.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(n.default.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),N=C),O=[];for(var F=0;F<B;F++){M+=h;var U=Math.floor(M),j=Math.floor(M+h)-U,z={dts:U,pts:U,cts:0,unit:N,size:N.byteLength,duration:j,originalDts:I,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};O.push(z),y+=z.size}this._audioNextDts=M+h}else k=Math.floor(M),P=Math.floor(M+h)-k,this._audioNextDts=M+h}else k=I-c,P=D!==d.length-1?d[D+1].dts-this._dtsBase-c-k:null!=b?b.dts-this._dtsBase-c-k:L.length>=1?L[L.length-1].duration:Math.floor(h),this._audioNextDts=k+P;-1===u&&(u=k),L.push({dts:k,pts:k,cts:0,unit:_.unit,size:_.unit.byteLength,duration:P,originalDts:I,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),R&&L.push.apply(L,O)}}if(0===L.length)return l.samples=[],void(l.length=0);for(f?g=new Uint8Array(y):((g=new Uint8Array(y))[0]=y>>>24&255,g[1]=y>>>16&255,g[2]=y>>>8&255,g[3]=255&y,g.set(r.default.types.mdat,4)),D=0;D<L.length;D++)C=L[D].unit,g.set(C,m),m+=C.byteLength;var V=L[L.length-1];a=V.dts+V.duration;var G=new s.MediaSegmentInfo;G.beginDts=u,G.endDts=a,G.beginPts=u,G.endPts=a,G.originalBeginDts=L[0].originalDts,G.originalEndDts=V.originalDts+V.duration,G.firstSample=new s.SampleInfo(L[0].dts,L[0].pts,L[0].duration,L[0].originalDts,!1),G.lastSample=new s.SampleInfo(V.dts,V.pts,V.duration,V.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(G),l.samples=L,l.sequenceNumber++;var H=null;H=f?new Uint8Array:r.default.moof(l,u),l.samples=[],l.length=0;var q={type:"audio",data:this._mergeBoxes(H,g).buffer,sampleCount:L.length,info:G};f&&p&&(q.timestampOffset=u),this._onMediaSegment("audio",q)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var a,n,i=e,o=i.samples,l=void 0,d=-1,c=-1;if(o&&0!==o.length&&(1!==o.length||t)){var u=8,h=null,f=8+e.length,p=null;if(o.length>1&&(f-=(p=o.pop()).length),null!=this._videoStashedLastSample){var v=this._videoStashedLastSample;this._videoStashedLastSample=null,o.unshift(v),f+=v.length}null!=p&&(this._videoStashedLastSample=p);var m=o[0].dts-this._dtsBase;if(this._videoNextDts)l=m-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())l=0;else{var g=this._videoSegmentInfoList.getLastSampleBefore(m);if(null!=g){var y=m-(g.originalDts+g.duration);y<=3&&(y=0),l=m-(g.dts+g.duration+y)}else l=0}for(var b=new s.MediaSegmentInfo,_=[],E=0;E<o.length;E++){var T=(v=o[E]).dts-this._dtsBase,w=v.isKeyframe,S=T-l,x=v.cts,k=S+x;-1===d&&(d=S,c=k);var A=0;if(A=E!==o.length-1?o[E+1].dts-this._dtsBase-l-S:null!=p?p.dts-this._dtsBase-l-S:_.length>=1?_[_.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),w){var L=new s.SampleInfo(S,k,A,v.dts,!0);L.fileposition=v.fileposition,b.appendSyncPoint(L)}_.push({dts:S,pts:k,cts:x,units:v.units,size:v.length,isKeyframe:w,duration:A,originalDts:T,flags:{isLeading:0,dependsOn:w?2:1,isDependedOn:w?1:0,hasRedundancy:0,isNonSync:w?0:1}})}for((h=new Uint8Array(f))[0]=f>>>24&255,h[1]=f>>>16&255,h[2]=f>>>8&255,h[3]=255&f,h.set(r.default.types.mdat,4),E=0;E<_.length;E++)for(var D=_[E].units;D.length;){var C=D.shift().data;h.set(C,u),u+=C.byteLength}var I=_[_.length-1];if(a=I.dts+I.duration,n=I.pts+I.duration,this._videoNextDts=a,b.beginDts=d,b.endDts=a,b.beginPts=c,b.endPts=n,b.originalBeginDts=_[0].originalDts,b.originalEndDts=I.originalDts+I.duration,b.firstSample=new s.SampleInfo(_[0].dts,_[0].pts,_[0].duration,_[0].originalDts,_[0].isKeyframe),b.lastSample=new s.SampleInfo(I.dts,I.pts,I.duration,I.originalDts,I.isKeyframe),this._isLive||this._videoSegmentInfoList.append(b),i.samples=_,i.sequenceNumber++,this._forceFirstIDR){var R=_[0].flags;R.dependsOn=2,R.isNonSync=0}var O=r.default.moof(i,d);i.samples=[],i.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(O,h).buffer,sampleCount:_.length,info:b})}}},e.prototype._mergeBoxes=function(e,t){var a=new Uint8Array(e.byteLength+t.byteLength);return a.set(e,0),a.set(t,e.byteLength),a},e}();t.default=d},"./src/utils/browser.js":
/*!******************************!*\
  !*** ./src/utils/browser.js ***!
  \******************************/function(e,t,a){"use strict";a.r(t);var n={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],a=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:a[0]||""},i={};if(r.browser){i[r.browser]=!0;var o=r.majorVersion.split(".");i.version={major:parseInt(r.majorVersion,10),string:r.version},o.length>1&&(i.version.minor=parseInt(o[1],10)),o.length>2&&(i.version.build=parseInt(o[2],10))}if(r.platform&&(i[r.platform]=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),i.rv||i.iemobile){i.rv&&delete i.rv;var s="msie";r.browser=s,i[s]=!0}if(i.edge){delete i.edge;var l="msedge";r.browser=l,i[l]=!0}if(i.opr){var d="opera";r.browser=d,i[d]=!0}if(i.safari&&i.android){var c="android";r.browser=c,i[c]=!0}for(var u in i.name=r.browser,i.platform=r.platform,n)n.hasOwnProperty(u)&&delete n[u];Object.assign(n,i)}(),t.default=n},"./src/utils/exception.js":
/*!********************************!*\
  !*** ./src/utils/exception.js ***!
  \********************************/function(e,t,a){"use strict";a.r(t),a.d(t,{RuntimeException:function(){return i},IllegalStateException:function(){return o},InvalidArgumentException:function(){return s},NotImplementedException:function(){return l}});var n,r=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),i=function(){function e(e){this._message=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.message},e}(),o=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),t}(i),s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),t}(i),l=function(e){function t(t){return e.call(this,t)||this}return r(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),t}(i)},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),r=a.n(n),i=function(){function e(){}return e.e=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","error",n),e.ENABLE_ERROR&&(console.error?console.error(n):console.warn?console.warn(n):console.log(n))},e.i=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","info",n),e.ENABLE_INFO&&(console.info?console.info(n):console.log(n))},e.w=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",n),e.ENABLE_WARN&&(console.warn?console.warn(n):console.log(n))},e.d=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",n),e.ENABLE_DEBUG&&(console.debug?console.debug(n):console.log(n))},e.v=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",n),e.ENABLE_VERBOSE&&console.log(n)},e}();i.GLOBAL_TAG="flv.js",i.FORCE_GLOBAL_TAG=!1,i.ENABLE_ERROR=!0,i.ENABLE_INFO=!0,i.ENABLE_WARN=!0,i.ENABLE_DEBUG=!0,i.ENABLE_VERBOSE=!0,i.ENABLE_CALLBACK=!1,i.emitter=new(r()),t.default=i},"./src/utils/logging-control.js":
/*!**************************************!*\
  !*** ./src/utils/logging-control.js ***!
  \**************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),r=a.n(n),i=a(/*! ./logger.js */"./src/utils/logger.js"),o=function(){function e(){}return Object.defineProperty(e,"forceGlobalTag",{get:function(){return i.default.FORCE_GLOBAL_TAG},set:function(t){i.default.FORCE_GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"globalTag",{get:function(){return i.default.GLOBAL_TAG},set:function(t){i.default.GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAll",{get:function(){return i.default.ENABLE_VERBOSE&&i.default.ENABLE_DEBUG&&i.default.ENABLE_INFO&&i.default.ENABLE_WARN&&i.default.ENABLE_ERROR},set:function(t){i.default.ENABLE_VERBOSE=t,i.default.ENABLE_DEBUG=t,i.default.ENABLE_INFO=t,i.default.ENABLE_WARN=t,i.default.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableDebug",{get:function(){return i.default.ENABLE_DEBUG},set:function(t){i.default.ENABLE_DEBUG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableVerbose",{get:function(){return i.default.ENABLE_VERBOSE},set:function(t){i.default.ENABLE_VERBOSE=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableInfo",{get:function(){return i.default.ENABLE_INFO},set:function(t){i.default.ENABLE_INFO=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableWarn",{get:function(){return i.default.ENABLE_WARN},set:function(t){i.default.ENABLE_WARN=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableError",{get:function(){return i.default.ENABLE_ERROR},set:function(t){i.default.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),e.getConfig=function(){return{globalTag:i.default.GLOBAL_TAG,forceGlobalTag:i.default.FORCE_GLOBAL_TAG,enableVerbose:i.default.ENABLE_VERBOSE,enableDebug:i.default.ENABLE_DEBUG,enableInfo:i.default.ENABLE_INFO,enableWarn:i.default.ENABLE_WARN,enableError:i.default.ENABLE_ERROR,enableCallback:i.default.ENABLE_CALLBACK}},e.applyConfig=function(e){i.default.GLOBAL_TAG=e.globalTag,i.default.FORCE_GLOBAL_TAG=e.forceGlobalTag,i.default.ENABLE_VERBOSE=e.enableVerbose,i.default.ENABLE_DEBUG=e.enableDebug,i.default.ENABLE_INFO=e.enableInfo,i.default.ENABLE_WARN=e.enableWarn,i.default.ENABLE_ERROR=e.enableError,i.default.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount("change")>0){var a=e.getConfig();t.emit("change",a)}},e.registerListener=function(t){e.emitter.addListener("change",t)},e.removeListener=function(t){e.emitter.removeListener("change",t)},e.addLogListener=function(t){i.default.emitter.addListener("log",t),i.default.emitter.listenerCount("log")>0&&(i.default.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){i.default.emitter.removeListener("log",t),0===i.default.emitter.listenerCount("log")&&(i.default.ENABLE_CALLBACK=!1,e._notifyChange())},e}();o.emitter=new(r()),t.default=o},"./src/utils/polyfill.js":
/*!*******************************!*\
  !*** ./src/utils/polyfill.js ***!
  \*******************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),a=1;a<arguments.length;a++){var n=arguments[a];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},"function"!=typeof self.Promise&&a(/*! es6-promise */"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},e}();n.install(),t.default=n},"./src/utils/utf8-conv.js":
/*!********************************!*\
  !*** ./src/utils/utf8-conv.js ***!
  \********************************/function(e,t,a){"use strict";function n(e,t,a){var n=e;if(t+a<n.length){for(;a--;)if(128!=(192&n[++t]))return!1;return!0}return!1}a.r(t),t.default=function(e){for(var t=[],a=e,r=0,i=e.length;r<i;)if(a[r]<128)t.push(String.fromCharCode(a[r])),++r;else{if(a[r]<192);else if(a[r]<224){if(n(a,r,1)&&(o=(31&a[r])<<6|63&a[r+1])>=128){t.push(String.fromCharCode(65535&o)),r+=2;continue}}else if(a[r]<240){if(n(a,r,2)&&(o=(15&a[r])<<12|(63&a[r+1])<<6|63&a[r+2])>=2048&&55296!=(63488&o)){t.push(String.fromCharCode(65535&o)),r+=3;continue}}else if(a[r]<248){var o;if(n(a,r,3)&&(o=(7&a[r])<<18|(63&a[r+1])<<12|(63&a[r+2])<<6|63&a[r+3])>65536&&o<1114112){o-=65536,t.push(String.fromCharCode(o>>>10|55296)),t.push(String.fromCharCode(1023&o|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}return a.m=e,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a("./src/index.js")}()},e.exports=t()},7631:function(e){var t;"undefined"!=typeof window&&(t=()=>(()=>{var e={"./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{enableStreamingMode:()=>x,hlsDefaultConfig:()=>w,mergeConfig:()=>S});var n=a(/*! ./controller/abr-controller */"./src/controller/abr-controller.ts"),r=a(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.ts"),i=a(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.ts"),o=a(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.ts"),s=a(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.ts"),l=a(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.ts"),d=a(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.ts"),c=a(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.ts"),u=a(/*! ./controller/fps-controller */"./src/controller/fps-controller.ts"),h=a(/*! ./controller/eme-controller */"./src/controller/eme-controller.ts"),f=a(/*! ./controller/cmcd-controller */"./src/controller/cmcd-controller.ts"),p=a(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.ts"),v=a(/*! ./utils/fetch-loader */"./src/utils/fetch-loader.ts"),m=a(/*! ./utils/cues */"./src/utils/cues.ts"),g=a(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts"),y=a(/*! ./utils/logger */"./src/utils/logger.ts");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b.apply(this,arguments)}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){T(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=E(E({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:p.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:n.default,bufferController:l.default,capLevelController:c.default,fpsController:u.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:m.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:o.SubtitleStreamController,subtitleTrackController:s.default,timelineController:d.TimelineController,audioStreamController:r.default,audioTrackController:i.default,emeController:h.default,cmcdController:f.default});function S(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return b({},e,t)}function x(e){var t=e.loader;t!==v.default&&t!==p.default?(y.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):(0,v.fetchSupported)()&&(e.loader=v.default,e.progressive=!0,e.enableSoftwareAES=!0,y.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.ts"),i=a(/*! ../events */"./src/events.ts"),o=a(/*! ../errors */"./src/errors.ts"),s=a(/*! ../types/loader */"./src/types/loader.ts"),l=a(/*! ../utils/logger */"./src/utils/logger.ts");function d(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const c=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new r.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,a,c,u=e.prototype;return u.registerListeners=function(){var e=this.hls;e.on(i.Events.FRAG_LOADING,this.onFragLoading,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.ERROR,this.onError,this)},u.unregisterListeners=function(){var e=this.hls;e.off(i.Events.FRAG_LOADING,this.onFragLoading,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.ERROR,this.onError,this)},u.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},u.onFragLoading=function(e,t){var a,n=t.frag;n.type===s.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=n,this.partCurrent=null!=(a=t.part)?a:null,this.timer=self.setInterval(this.onCheck,100)))},u.onLevelLoaded=function(e,t){var a=this.hls.config;t.details.live?this.bwEstimator.update(a.abrEwmaSlowLive,a.abrEwmaFastLive):this.bwEstimator.update(a.abrEwmaSlowVoD,a.abrEwmaFastVoD)},u._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,a=this.hls,r=a.autoLevelEnabled,o=(a.config,a.media);if(e&&o){var s=t?t.stats:e.stats,d=t?t.duration:e.duration;if(s.aborted||s.loaded&&s.loaded===s.total||0===e.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(r&&!o.paused&&o.playbackRate&&o.readyState){var c=a.mainForwardBufferInfo;if(null!==c){var u=performance.now()-s.loading.start,h=Math.abs(o.playbackRate);if(!(u<=500*d/h)){var f=s.loaded&&s.loading.first,p=this.bwEstimator.getEstimate(),v=a.levels,m=a.minAutoLevel,g=v[e.level],y=s.total||Math.max(s.loaded,Math.round(d*g.maxBitrate/8)),b=f?1e3*s.loaded/u:0,_=b?(y-s.loaded)/b:8*y/p,E=c.len/h;if(!(_<=E)){var T,w=Number.POSITIVE_INFINITY;for(T=e.level-1;T>m;T--){var S=v[T].maxBitrate;if((w=b?d*S/(6.4*b):d*S/p)<E)break}w>=_||(l.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+T+"\n      Current BW estimate: "+((0,n.isFiniteNumber)(p)?(p/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+_.toFixed(3)+" s\n      Estimated load time for the next fragment: "+w.toFixed(3)+" s\n      Time to underbuffer: "+E.toFixed(3)+" s"),a.nextLoadLevel=T,f&&this.bwEstimator.sample(u,s.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),a.trigger(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:s}))}}}}}},u.onFragLoaded=function(e,t){var a=t.frag,r=t.part;if(a.type===s.PlaylistLevelType.MAIN&&(0,n.isFiniteNumber)(a.sn)){var o=r?r.stats:a.stats,l=r?r.duration:a.duration;if(this.clearTimer(),this.lastLoadedFragLevel=a.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var d=this.hls.levels[a.level],c=(d.loaded?d.loaded.bytes:0)+o.loaded,u=(d.loaded?d.loaded.duration:0)+l;d.loaded={bytes:c,duration:u},d.realBitrate=Math.round(8*c/u)}if(a.bitrateTest){var h={stats:o,frag:a,part:r,id:a.type};this.onFragBuffered(i.Events.FRAG_BUFFERED,h)}}},u.onFragBuffered=function(e,t){var a=t.frag,n=t.part,r=n?n.stats:a.stats;if(!r.aborted&&a.type===s.PlaylistLevelType.MAIN&&"initSegment"!==a.sn){var i=r.parsing.end-r.loading.start;this.bwEstimator.sample(i,r.loaded),r.bwEstimate=this.bwEstimator.getEstimate(),a.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},u.onError=function(e,t){switch(t.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},u.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},u.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,a=this.hls,n=a.maxAutoLevel,r=a.config,i=a.minAutoLevel,o=a.media,s=t?t.duration:e?e.duration:0,d=(o&&o.currentTime,o&&0!==o.playbackRate?Math.abs(o.playbackRate):1),c=this.bwEstimator?this.bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,u=a.mainForwardBufferInfo,h=(u?u.len:0)/d,f=this.findBestLevel(c,i,n,h,r.abrBandWidthFactor,r.abrBandWidthUpFactor);if(f>=0)return f;l.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var p=s?Math.min(s,r.maxStarvationDelay):r.maxStarvationDelay,v=r.abrBandWidthFactor,m=r.abrBandWidthUpFactor;if(!h){var g=this.bitrateTestDelay;g&&(p=(s?Math.min(s,r.maxLoadingDelay):r.maxLoadingDelay)-g,l.logger.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),v=m=1)}return f=this.findBestLevel(c,i,n,h+p,v,m),Math.max(f,0)},u.findBestLevel=function(e,t,a,r,i,o){for(var s,d=this.fragCurrent,c=this.partCurrent,u=this.lastLoadedFragLevel,h=this.hls.levels,f=h[u],p=!(null==f||null===(s=f.details)||void 0===s||!s.live),v=null==f?void 0:f.codecSet,m=c?c.duration:d?d.duration:0,g=a;g>=t;g--){var y=h[g];if(y&&(!v||y.codecSet===v)){var b=y.details,_=(c?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||m,E=void 0;E=g<=u?i*e:o*e;var T=h[g].maxBitrate,w=T*_/E;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+g+"/"+Math.round(E)+"/"+T+"/"+_+"/"+r+"/"+w),E>T&&(0===w||!(0,n.isFiniteNumber)(w)||p&&!this.bitrateTestDelay||w<r))return g}}return-1},t=e,(a=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&!t.canEstimate())return e;var a=this.getNextABRAutoLevel();return-1!==e&&this.hls.levels[a].loadError?e:(-1!==e&&(a=Math.min(e,a)),a)},set:function(e){this._nextAutoLevel=e}}])&&d(t.prototype,a),c&&d(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/audio-stream-controller.ts":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.ts ***!
  \***************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),i=a(/*! ../events */"./src/events.ts"),o=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),s=a(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),l=a(/*! ../types/level */"./src/types/level.ts"),d=a(/*! ../types/loader */"./src/types/loader.ts"),c=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),u=a(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts"),h=a(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts"),f=a(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),p=a(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),v=a(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),m=a(/*! ../errors */"./src/errors.ts");function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g.apply(this,arguments)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}const b=function(e){var t,a;function b(t,a){var n;return(n=e.call(this,t,a,"[audio-stream-controller]")||this).videoBuffer=null,n.videoTrackCC=-1,n.waitingVideoCC=-1,n.audioSwitch=!1,n.trackId=-1,n.waitingData=null,n.mainDetails=null,n.bufferFlushed=!1,n.cachedTrackLoadedData=null,n._registerListeners(),n}a=e,(t=b).prototype=Object.create(a.prototype),t.prototype.constructor=t,y(t,a);var _=b.prototype;return _.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},_._registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(i.Events.ERROR,this.onError,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(i.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(i.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(i.Events.ERROR,this.onError,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(i.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onInitPtsFound=function(e,t){var a=t.frag,n=t.id,i=t.initPTS;if("main"===n){var o=a.cc;this.initPTS[a.cc]=i,this.log("InitPTS for cc: "+o+" found from main: "+i),this.videoTrackCC=o,this.state===r.State.WAITING_INIT_PTS&&this.tick()}},_.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=r.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t,this.state=r.State.IDLE):(this.loadedmetadata=!1,this.state=r.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},_.doTick=function(){switch(this.state){case r.State.IDLE:this.doTickIdle();break;case r.State.WAITING_TRACK:var t,a=this.levels,n=this.trackId,i=null==a||null===(t=a[n])||void 0===t?void 0:t.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=r.State.WAITING_INIT_PTS}break;case r.State.FRAG_LOADING_WAITING_RETRY:var s,l=performance.now(),d=this.retryDate;(!d||l>=d||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=r.State.IDLE);break;case r.State.WAITING_INIT_PTS:var c=this.waitingData;if(c){var u=c.frag,h=c.part,f=c.cache,v=c.complete;if(void 0!==this.initPTS[u.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=r.State.FRAG_LOADING;var m={frag:u,part:h,payload:f.flush(),networkDetails:null};this._handleFragmentLoadProgress(m),v&&e.prototype._handleFragmentLoadComplete.call(this,m)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+u.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var g=this.getLoadPosition(),y=o.BufferHelper.bufferInfo(this.mediaBuffer,g,this.config.maxBufferHole);(0,p.fragmentWithinToleranceTest)(y.end,this.config.maxFragLookUpTolerance,u)<0&&(this.log("Waiting fragment cc ("+u.cc+") @ "+u.start+" cancelled because another fragment at "+y.end+" is needed"),this.clearWaitingFragment())}}else this.state=r.State.IDLE}this.onTickEnd()},_.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=r.State.IDLE)},_.resetLoadingState=function(){this.clearWaitingFragment(),e.prototype.resetLoadingState.call(this)},_.onTickEnd=function(){var e=this.media;e&&e.readyState&&(this.lastCurrentTime=e.currentTime)},_.doTickIdle=function(){var e,t,a=this.hls,n=this.levels,o=this.media,s=this.trackId,l=a.config;if(n&&n[s]&&(o||!this.startFragRequested&&l.startFragPrefetch)){var u=n[s].details;if(!u||u.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(u))this.state=r.State.WAITING_TRACK;else{var h=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&h&&(this.bufferFlushed=!1,this.afterBufferFlushed(h,c.ElementaryStreamTypes.AUDIO,d.PlaylistLevelType.AUDIO));var f=this.getFwdBufferInfo(h,d.PlaylistLevelType.AUDIO);if(null!==f){var p=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,d.PlaylistLevelType.MAIN),v=f.len,m=this.getMaxBufferLength(null==p?void 0:p.len),g=this.audioSwitch;if(!(v>=m)||g){if(!g&&this._streamEnded(f,u))return a.trigger(i.Events.BUFFER_EOS,{type:"audio"}),void(this.state=r.State.ENDED);var y=u.fragments[0].start,b=f.end;if(g&&o){var _=this.getLoadPosition();b=_,u.PTSKnown&&_<y&&(f.end>y||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),o.currentTime=y+.05)}if(!(p&&b>p.end+u.targetduration)&&(p&&p.len||!f.len)){var E=this.getNextFragment(b,u);E?"identity"!==(null===(e=E.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=E.decryptdata)&&void 0!==t&&t.key?this.loadFragment(E,u,b):this.loadKey(E,u):this.bufferFlushed=!0}}}}}},_.getMaxBufferLength=function(t){var a=e.prototype.getMaxBufferLength.call(this);return t?Math.max(a,t):a},_.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},_.onAudioTracksUpdated=function(e,t){var a=t.audioTracks;this.resetTransmuxer(),this.levels=a.map((function(e){return new l.Level(e)}))},_.onAudioTrackSwitching=function(e,t){var a=!!t.url;this.trackId=t.id;var n=this.fragCurrent;null!=n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),a?this.setInterval(100):this.resetTransmuxer(),a?(this.audioSwitch=!0,this.state=r.State.IDLE):this.state=r.State.STOPPED,this.tick()},_.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},_.onLevelLoaded=function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},_.onAudioTrackLoaded=function(e,t){var a;if(null!=this.mainDetails){var n=this.levels,i=t.details,o=t.id;if(n){this.log("Track "+o+" loaded ["+i.startSN+","+i.endSN+"],duration:"+i.totalduration);var s=n[o],l=0;if(i.live||null!==(a=s.details)&&void 0!==a&&a.live){var d=this.mainDetails;if(i.fragments[0]||(i.deltaUpdateFailed=!0),i.deltaUpdateFailed||!d)return;!s.details&&i.hasProgramDateTime&&d.hasProgramDateTime?((0,v.alignMediaPlaylistByPDT)(i,d),l=i.fragments[0].start):l=this.alignPlaylists(i,s.details)}s.details=i,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(s.details,l),this.state!==r.State.WAITING_TRACK||this.waitForCdnTuneIn(i)||(this.state=r.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+o)}else this.cachedTrackLoadedData=t},_._handleFragmentLoadProgress=function(e){var t,a=e.frag,n=e.part,i=e.payload,o=this.config,s=this.trackId,l=this.levels;if(l){var c=l[s];console.assert(c,"Audio track is defined on fragment load progress");var p=c.details;console.assert(p,"Audio track details are defined on fragment load progress");var v=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2",m=this.transmuxer;m||(m=this.transmuxer=new h.default(this.hls,d.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var g=this.initPTS[a.cc],y=null===(t=a.initSegment)||void 0===t?void 0:t.data;if(void 0!==g){var b=n?n.index:-1,_=-1!==b,E=new f.ChunkMetadata(a.level,a.sn,a.stats.chunkCount,i.byteLength,b,_);m.push(i,y,v,"",a,n,p.totalduration,!1,E,g)}else this.log("Unknown video PTS for cc "+a.cc+", waiting for video PTS before demuxing audio frag "+a.sn+" of ["+p.startSN+" ,"+p.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:a,part:n,cache:new u.default,complete:!1}).cache.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=r.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+a.sn+" of level "+a.level+" will not be buffered")},_._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},_.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},_.onBufferCreated=function(e,t){var a=t.tracks.audio;a&&(this.mediaBuffer=a.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)},_.onFragBuffered=function(e,t){var a,n=t.frag,r=t.part;n.type===d.PlaylistLevelType.AUDIO?this.fragContextChanged(n)?this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,r)):this.loadedmetadata||n.type!==d.PlaylistLevelType.MAIN||null!==(a=this.videoBuffer||this.media)&&void 0!==a&&a.buffered.length&&(this.loadedmetadata=!0)},_.onError=function(t,a){switch(a.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(d.PlaylistLevelType.AUDIO,a);break;case m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case m.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==r.State.ERROR&&this.state!==r.State.STOPPED&&(this.state=a.fatal?r.State.ERROR:r.State.IDLE,this.warn(a.details+" while loading frag, switching to "+this.state+" state"));break;case m.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===a.parent&&(this.state===r.State.PARSING||this.state===r.State.PARSED)){var n=!0,i=this.getFwdBufferInfo(this.mediaBuffer,d.PlaylistLevelType.AUDIO);i&&i.len>.5&&(n=!this.reduceMaxBufferLength(i.len)),n&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},_.onBufferFlushed=function(e,t){t.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},_._handleTransmuxComplete=function(e){var t,a="audio",n=this.hls,o=e.remuxResult,s=e.chunkMeta,l=this.getCurrentContext(s);if(!l)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(s.level);var d=l.frag,u=l.part,h=l.level.details,f=o.audio,p=o.text,v=o.id3,m=o.initSegment;if(!this.fragContextChanged(d)&&h){if(this.state=r.State.PARSING,this.audioSwitch&&f&&this.completeAudioSwitch(),null!=m&&m.tracks&&(this._bufferInitSegment(m.tracks,d,s),n.trigger(i.Events.FRAG_PARSING_INIT_SEGMENT,{frag:d,id:a,tracks:m.tracks})),f){var y=f.startPTS,b=f.endPTS,_=f.startDTS,E=f.endDTS;u&&(u.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:y,endPTS:b,startDTS:_,endDTS:E}),d.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,y,b,_,E),this.bufferFragmentData(f,d,u,s)}if(null!=v&&null!==(t=v.samples)&&void 0!==t&&t.length){var T=g({id:a,frag:d,details:h},v);n.trigger(i.Events.FRAG_PARSING_METADATA,T)}if(p){var w=g({id:a,frag:d,details:h},p);n.trigger(i.Events.FRAG_PARSING_USERDATA,w)}}},_._bufferInitSegment=function(e,t,a){if(this.state===r.State.PARSING){e.video&&delete e.video;var n=e.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:"+n.container+", codecs[parsed]=["+n.codec+"]"),this.hls.trigger(i.Events.BUFFER_CODECS,e);var o=n.initSegment;if(null!=o&&o.byteLength){var s={type:"audio",frag:t,part:null,chunkMeta:a,parent:t.type,data:o};this.hls.trigger(i.Events.BUFFER_APPENDING,s)}this.tick()}}},_.loadFragment=function(t,a,i){var o=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||o===s.FragmentState.NOT_LOADED||o===s.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t):a.live&&!(0,n.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=r.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,a,i)))},_.completeAudioSwitch=function(){var t=this.hls,a=this.media,n=this.trackId;a&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(i.Events.AUDIO_TRACK_SWITCHED,{id:n})},b}(r.default)},"./src/controller/audio-track-controller.ts":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.ts ***!
  \**************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(/*! ../events */"./src/events.ts"),r=a(/*! ../errors */"./src/errors.ts"),i=a(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),o=a(/*! ../types/loader */"./src/types/loader.ts");function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}const d=function(e){var t,a;function i(t){var a;return(a=e.call(this,t,"[audio-track-controller]")||this).tracks=[],a.groupId=null,a.tracksInGroup=[],a.trackId=-1,a.trackName="",a.selectDefaultTrack=!0,a.registerListeners(),a}a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,l(t,a);var d,c,u,h=i.prototype;return h.registerListeners=function(){var e=this.hls;e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(n.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(n.Events.ERROR,this.onError,this)},h.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},h.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},h.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},h.onAudioTrackLoaded=function(e,t){var a=t.id,n=t.details,r=this.tracksInGroup[a];if(r){var i=r.details;r.details=t.details,this.log("audioTrack "+a+" loaded ["+n.startSN+"-"+n.endSN+"]"),a===this.trackId&&(this.retryCount=0,this.playlistLoaded(a,t,i))}else this.warn("Invalid audio track id "+a)},h.onLevelLoading=function(e,t){this.switchLevel(t.level)},h.onLevelSwitching=function(e,t){this.switchLevel(t.level)},h.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var a=t.audioGroupIds[t.urlId];if(this.groupId!==a){this.groupId=a;var r=this.tracks.filter((function(e){return!a||e.groupId===a}));this.selectDefaultTrack&&!r.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=r;var i={audioTracks:r};this.log("Updating audio tracks, "+r.length+' track(s) found in "'+a+'" group-id'),this.hls.trigger(n.Events.AUDIO_TRACKS_UPDATED,i),this.selectInitialTrack()}}},h.onError=function(t,a){e.prototype.onError.call(this,t,a),!a.fatal&&a.context&&a.context.type===o.PlaylistContextType.AUDIO_TRACK&&a.context.id===this.trackId&&a.context.groupId===this.groupId&&this.retryLoadingOrFail(a)},h.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var a=t[this.trackId];this.log("Now switching to audio-track index "+e);var r=t[e],i=r.id,o=r.groupId,s=void 0===o?"":o,l=r.name,d=r.type,c=r.url;if(this.trackId=e,this.trackName=l,this.selectDefaultTrack=!1,this.hls.trigger(n.Events.AUDIO_TRACK_SWITCHING,{id:i,groupId:s,name:l,type:d,url:c}),!r.details||r.details.live){var u=this.switchParams(r.url,null==a?void 0:a.details);this.loadPlaylist(u)}}},h.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,a=this.findTrackId(t)||this.findTrackId();-1!==a?this.setAudioTrack(a):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},h.findTrackId=function(e){for(var t=this.tracksInGroup,a=0;a<t.length;a++){var n=t[a];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},h.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var a=t.id,r=t.groupId,i=t.url;if(e)try{i=e.addDirectives(i)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("loading audio-track playlist for id: "+a),this.clearTimer(),this.hls.trigger(n.Events.AUDIO_TRACK_LOADING,{url:i,id:a,groupId:r,deliveryDirectives:e||null})}},d=i,(c=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}])&&s(d.prototype,c),u&&s(d,u),Object.defineProperty(d,"prototype",{writable:!1}),i}(i.default)},"./src/controller/base-playlist-controller.ts":
/*!****************************************************!*\
  !*** ./src/controller/base-playlist-controller.ts ***!
  \****************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../types/level */"./src/types/level.ts"),i=a(/*! ./level-helper */"./src/controller/level-helper.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ../errors */"./src/errors.ts"),l=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,t+":"),this.warn=o.logger.warn.bind(o.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var a=null==t?void 0:t.renditionReports;if(a)for(var i=0;i<a.length;i++){var o=a[i],s=""+o.URI;if(s===e.slice(-s.length)){var l=parseInt(o["LAST-MSN"]),d=parseInt(o["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);void 0!==d&&c>t.partTarget&&(d+=1)}if((0,n.isFiniteNumber)(l))return new r.HlsUrlParameters(l,(0,n.isFiniteNumber)(d)?d:void 0,r.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,a){var n=this,r=t.details,o=t.stats,s=o.loading.end?Math.max(0,self.performance.now()-o.loading.end):0;if(r.advancedDateTime=Date.now()-s,r.live||null!=a&&a.live){if(r.reloaded(a),a&&this.log("live playlist "+e+" "+(r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:"MISSED")),a&&r.fragments.length>0&&(0,i.mergeDetails)(a,r),!this.canLoad||!r.live)return;var l,d=void 0,c=void 0;if(r.canBlockReload&&r.endSN&&r.advanced){var u=this.hls.config.lowLatencyMode,h=r.lastPartSn,f=r.endSN,p=r.lastPartIndex,v=h===f;-1!==p?(d=v?f+1:h,c=v?u?0:p:p+1):d=f+1;var m=r.age,g=m+r.ageHeader,y=Math.min(g-r.partTarget,1.5*r.targetduration);if(y>0){if(a&&y>a.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+a.tuneInGoal+" to: "+y+" with playlist age: "+r.age),y=0;else{var b=Math.floor(y/r.targetduration);d+=b,void 0!==c&&(c+=Math.round(y%r.targetduration/r.partTarget)),this.log("CDN Tune-in age: "+r.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+c)}r.tuneInGoal=y}if(l=this.getDeliveryDirectives(r,t.deliveryDirectives,d,c),u||!v)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(r,t.deliveryDirectives,d,c);var _=(0,i.computeReloadInterval)(r,o);void 0!==d&&r.canBlockReload&&(_-=r.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(_)+" ms"),this.timer=self.setTimeout((function(){return n.loadPlaylist(l)}),_)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,a,n){var i=(0,r.getSkipValue)(e,a);return null!=t&&t.skip&&e.deltaUpdateFailed&&(a=t.msn,n=t.part,i=r.HlsSkip.No),new r.HlsUrlParameters(a,n,i)},t.retryLoadingOrFail=function(e){var t,a=this,n=this.hls.config,r=this.retryCount<n.levelLoadingMaxRetry;if(r)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var i=Math.min(Math.pow(2,this.retryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return a.loadPlaylist()}),i),this.warn("retry playlist loading #"+this.retryCount+" in "+i+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return r},e}()},"./src/controller/base-stream-controller.ts":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.ts ***!
  \**************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{State:()=>T,default:()=>w});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../task-loop */"./src/task-loop.ts"),i=a(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),o=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),s=a(/*! ../utils/logger */"./src/utils/logger.ts"),l=a(/*! ../events */"./src/events.ts"),d=a(/*! ../errors */"./src/errors.ts"),c=a(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),u=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),h=a(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),f=a(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),p=a(/*! ./level-helper */"./src/controller/level-helper.ts"),v=a(/*! ../loader/fragment-loader */"./src/loader/fragment-loader.ts"),m=a(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),g=a(/*! ../utils/time-ranges */"./src/utils/time-ranges.ts"),y=a(/*! ../types/loader */"./src/types/loader.ts");function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var T={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},w=function(e){var t,a;function r(t,a,n){var r;return(r=e.call(this)||this).hls=void 0,r.fragPrevious=null,r.fragCurrent=null,r.fragmentTracker=void 0,r.transmuxer=null,r._state=T.STOPPED,r.media=null,r.mediaBuffer=null,r.config=void 0,r.bitrateTest=!1,r.lastCurrentTime=0,r.nextLoadPosition=0,r.startPosition=0,r.loadedmetadata=!1,r.fragLoadError=0,r.retryDate=0,r.levels=null,r.fragmentLoader=void 0,r.levelLastLoaded=null,r.startFragRequested=!1,r.decrypter=void 0,r.initPTS=[],r.onvseeking=null,r.onvended=null,r.logPrefix="",r.log=void 0,r.warn=void 0,r.logPrefix=n,r.log=s.logger.log.bind(s.logger,n+":"),r.warn=s.logger.warn.bind(s.logger,n+":"),r.hls=t,r.fragmentLoader=new v.default(t.config),r.fragmentTracker=a,r.config=t.config,r.decrypter=new m.default(t,t.config),t.on(l.Events.KEY_LOADED,r.onKeyLoaded,_(r)),t.on(l.Events.LEVEL_SWITCHING,r.onLevelSwitching,_(r)),r}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,E(t,a);var w,S,x,k=r.prototype;return k.doTick=function(){this.onTickEnd()},k.onTickEnd=function(){},k.startLoad=function(e){},k.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=T.STOPPED},k._streamEnded=function(e,t){var a=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&a&&this.media&&a.sn>=t.endSN&&!e.nextStart){var r=t.partList;if(null!=r&&r.length){var s=r[r.length-1];return o.BufferHelper.isBuffered(this.media,s.start+s.duration/2)}var l=n.getState(a);return l===i.FragmentState.PARTIAL||l===i.FragmentState.OK}return!1},k.onMediaAttached=function(e,t){var a=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),a.addEventListener("seeking",this.onvseeking),a.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===T.STOPPED&&this.startLoad(n.startPosition)},k.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},k.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,a=this.media,r=this.mediaBuffer,i=this.state,s=a?a.currentTime:0,l=o.BufferHelper.bufferInfo(r||a,s,e.maxBufferHole);if(this.log("media seeking to "+((0,n.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+i),i===T.ENDED)this.resetLoadingState();else if(t){var d=e.maxFragLookUpTolerance,c=t.start-d,u=t.start+t.duration+d;if(!l.len||u<l.start||c>l.end){var h=s>u;(s<c||h)&&(h&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}}a&&(this.lastCurrentTime=s),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},k.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},k.onKeyLoaded=function(e,t){if(this.state===T.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=T.IDLE;var a=this.levels[t.frag.level].details;a&&this.loadFragment(t.frag,a,t.frag.start)}},k.onLevelSwitching=function(e,t){this.fragLoadError=0},k.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},k.onHandlerDestroyed=function(){this.state=T.STOPPED,this.hls.off(l.Events.KEY_LOADED,this.onKeyLoaded,this),this.hls.off(l.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},k.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=T.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(l.Events.KEY_LOADING,{frag:e})},k.loadFragment=function(e,t,a){this._loadFragForPlayback(e,t,a)},k._loadFragForPlayback=function(e,t,a){var n=this;this._doFragLoad(e,t,a,(function(t){if(n.fragContextChanged(e))return n.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void n.fragmentTracker.removeFragment(e);e.stats.chunkCount++,n._handleFragmentLoadProgress(t)})).then((function(t){if(t){n.fragLoadError=0;var a=n.state;n.fragContextChanged(e)?(a===T.FRAG_LOADING||!n.fragCurrent&&a===T.PARSING)&&(n.fragmentTracker.removeFragment(e),n.state=T.IDLE):("payload"in t&&(n.log("Loaded fragment "+e.sn+" of level "+e.level),n.hls.trigger(l.Events.FRAG_LOADED,t)),n._handleFragmentLoadComplete(t))}})).catch((function(t){n.state!==T.STOPPED&&n.state!==T.ERROR&&(n.warn(t),n.resetFragmentLoading(e))}))},k.flushMainBuffer=function(e,t,a){if(void 0===a&&(a=null),e-t){var n={startOffset:e,endOffset:t,type:a};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,n)}},k._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(a){if(!a||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return a})).then((function(a){var n=t.hls,r=a.payload,i=e.decryptdata;if(r&&r.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var o=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).then((function(t){var r=self.performance.now();return n.trigger(l.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:o,tdecrypt:r}}),a.payload=t,a}))}return a})).then((function(a){var n=t.fragCurrent,r=t.hls,i=t.levels;if(!i)throw new Error("init load aborted, missing levels");var o=i[e.level].details;console.assert(o,"Level details are defined when init segment is loaded");var s=e.stats;t.state=T.IDLE,t.fragLoadError=0,e.data=new Uint8Array(a.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),a.frag===n&&r.trigger(l.Events.FRAG_BUFFERED,{stats:s,frag:n,part:null,id:e.type}),t.tick()})).catch((function(a){t.state!==T.STOPPED&&t.state!==T.ERROR&&(t.warn(a),t.resetFragmentLoading(e))}))},k.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},k.fragBufferedComplete=function(e,t){var a,n,r=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+(r?g.default.toString(o.BufferHelper.getBuffered(r)):"(detached)")),this.state=T.IDLE,r&&(!this.loadedmetadata&&e.type==y.PlaylistLevelType.MAIN&&r.buffered.length&&(null===(a=this.fragCurrent)||void 0===a?void 0:a.sn)===(null===(n=this.fragPrevious)||void 0===n?void 0:n.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},k.seekToStartPos=function(){},k._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var a=e.frag,n=e.part,r=e.partsLoaded,i=!r||0===r.length||r.some((function(e){return!e})),o=new c.ChunkMetadata(a.level,a.sn,a.stats.chunkCount+1,0,n?n.index:-1,!i);t.flush(o)}},k._handleFragmentLoadProgress=function(e){},k._doFragLoad=function(e,t,a,r){var i=this;if(void 0===a&&(a=null),!this.levels)throw new Error("frag load aborted, missing levels");if(a=Math.max(e.start,a||0),this.config.lowLatencyMode&&t){var o=t.partList;if(o&&r){a>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(o,e,a);if(s>-1){var d=o[s];return this.log("Loading part sn: "+e.sn+" p: "+d.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(o.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(a.toFixed(3))),this.nextLoadPosition=d.start+d.duration,this.state=T.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,part:o[s],targetBufferTime:a}),this.doFragPartsLoad(e,o,s,r).catch((function(e){return i.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(o,a))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(a.toFixed(3))),(0,n.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=T.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,targetBufferTime:a}),this.fragmentLoader.load(e,r).catch((function(e){return i.handleFragLoadError(e)}))},k.doFragPartsLoad=function(e,t,a,n){var r=this;return new Promise((function(i,o){var s=[];!function a(d){var c=t[d];r.fragmentLoader.loadPart(e,c,n).then((function(n){s[c.index]=n;var o=n.part;r.hls.trigger(l.Events.FRAG_LOADED,n);var u=t[d+1];if(!u||u.fragment!==e)return i({frag:e,part:o,partsLoaded:s});a(d+1)})).catch(o)}(a)}))},k.handleFragLoadError=function(e){var t=e.data;return t&&t.details===d.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(l.Events.ERROR,t),null},k._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===T.PARSING){var a=t.frag,n=t.part,r=t.level,i=self.performance.now();a.stats.parsing.end=i,n&&(n.stats.parsing.end=i),this.updateLevelTiming(a,n,r,e.partial)}else this.fragCurrent||(this.state=T.IDLE)},k.getCurrentContext=function(e){var t=this.levels,a=e.level,n=e.sn,r=e.part;if(!t||!t[a])return this.warn("Levels object was unset while buffering fragment "+n+" of level "+a+". The current chunk will not be buffered."),null;var i=t[a],o=r>-1?(0,p.getPartWith)(i,n,r):null,s=o?o.fragment:(0,p.getFragmentWithSN)(i,n,this.fragCurrent);return s?{frag:s,part:o,level:i}:null},k.bufferFragmentData=function(e,t,a,n){if(e&&this.state===T.PARSING){var r=e.data1,i=e.data2,o=r;if(r&&i&&(o=(0,u.appendUint8Array)(r,i)),o&&o.length){var s={type:e.type,frag:t,part:a,chunkMeta:n,parent:t.type,data:o};this.hls.trigger(l.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!a&&this.flushBufferGap(t)}}},k.flushBufferGap=function(e){var t=this.media;if(t)if(o.BufferHelper.isBuffered(t,t.currentTime)){var a=t.currentTime,n=o.BufferHelper.bufferInfo(t,a,0),r=e.duration,i=Math.min(2*this.config.maxFragLookUpTolerance,.25*r),s=Math.max(Math.min(e.start-i,n.end-i),a+i);e.start-s>i&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},k.getFwdBufferInfo=function(e,t){var a=this.config,r=this.getLoadPosition();if(!(0,n.isFiniteNumber)(r))return null;var i=o.BufferHelper.bufferInfo(e,r,a.maxBufferHole);if(0===i.len&&void 0!==i.nextStart){var s=this.fragmentTracker.getBufferedFrag(r,t);if(s&&i.nextStart<s.end)return o.BufferHelper.bufferInfo(e,r,Math.max(i.nextStart,a.maxBufferHole))}return i},k.getMaxBufferLength=function(e){var t,a=this.config;return t=e?Math.max(8*a.maxBufferSize/e,a.maxBufferLength):a.maxBufferLength,Math.min(t,a.maxMaxBufferLength)},k.reduceMaxBufferLength=function(e){var t=this.config,a=e||t.maxBufferLength;return t.maxMaxBufferLength>=a&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},k.getNextFragment=function(e,t){var a=t.fragments,n=a.length;if(!n)return null;var r,i=this.config,o=a[0].start;if(t.live){var s=i.initialLiveManifestSize;if(n<s)return this.warn("Not enough fragments to start playback (have: "+n+", need: "+s+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(r=this.getInitialLiveFragment(t,a),this.startPosition=r?this.hls.liveSyncPosition||r.start:e)}else e<=o&&(r=a[0]);if(!r){var l=i.lowLatencyMode?t.partEnd:t.fragmentEnd;r=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(r)},k.mapToInitFragWhenRequired=function(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment},k.getNextPart=function(e,t,a){for(var n=-1,r=!1,i=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(i=i&&!l.independent,n>-1&&a<l.start)break;var d=l.loaded;!d&&(r||l.independent||i)&&l.fragment===t&&(n=o),r=d}return n},k.loadedEndOfParts=function(e,t){var a=e[e.length-1];return a&&t>a.start&&a.loaded},k.getInitialLiveFragment=function(e,t){var a=this.fragPrevious,n=null;if(a){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+a.programDateTime),n=(0,f.findFragmentByPDT)(t,a.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var r=a.sn+1;if(r>=e.startSN&&r<=e.endSN){var i=t[r-e.startSN];a.cc===i.cc&&(n=i,this.log("Live playlist, switching playlist, load frag with next SN: "+n.sn))}n||(n=(0,f.findFragWithCC)(t,a.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+n.sn)}}else{var o=this.hls.liveSyncPosition;null!==o&&(n=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n},k.getFragmentAtPosition=function(e,t,a){var n,r=this.config,o=this.fragPrevious,s=a.fragments,l=a.endSN,d=a.fragmentHint,c=r.maxFragLookUpTolerance,u=!!(r.lowLatencyMode&&a.partList&&d);if(u&&d&&!this.bitrateTest&&(s=s.concat(d),l=d.sn),e<t){var h=e>t-c?0:c;n=(0,f.findFragmentByPTS)(o,s,e,h)}else n=s[s.length-1];if(n){var p=n.sn-a.startSN;if(this.fragmentTracker.getState(n)===i.FragmentState.OK&&(o=n),o&&n.sn===o.sn&&!u&&o&&n.level===o.level){var v=s[p+1];n.sn<l&&this.fragmentTracker.getState(v)!==i.FragmentState.OK?(this.log("SN "+n.sn+" just loaded, load next one: "+v.sn),n=v):n=null}}return n},k.synchronizeToLiveEdge=function(e){var t=this.config,a=this.media;if(a){var n=this.hls.liveSyncPosition,r=a.currentTime,i=e.fragments[0].start,o=e.edge,s=r>=i-t.maxFragLookUpTolerance&&r<=o;if(null!==n&&a.duration>n&&(r<n||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&a.readyState<4||r<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=n),a.readyState&&(this.warn("Playback: "+r.toFixed(3)+" is located too far from the end of live sliding playlist: "+o+", reset currentTime to : "+n.toFixed(3)),a.currentTime=n))}}},k.alignPlaylists=function(e,t){var a=this.levels,r=this.levelLastLoaded,i=this.fragPrevious,o=null!==r?a[r]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var l=e.fragments[0].start,d=!t,c=e.alignedSliding&&(0,n.isFiniteNumber)(l);if(d||!c&&!l){(0,h.alignStream)(i,o,e);var u=e.fragments[0].start;return this.log("Live playlist sliding: "+u.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(i?i.sn:"na")+" fragments: "+s),u}return l},k.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},k.setStartPosition=function(e,t){var a=this.startPosition;if(a<t&&(a=-1),-1===a||-1===this.lastCurrentTime){var r=e.startTimeOffset;(0,n.isFiniteNumber)(r)?(a=t+r,r<0&&(a+=e.totalduration),a=Math.min(Math.max(t,a),t+e.totalduration),this.log("Start time offset "+r+" found in playlist, adjust startPosition to "+a),this.startPosition=a):e.live?a=this.hls.liveSyncPosition||t:this.startPosition=a=0,this.lastCurrentTime=a}this.nextLoadPosition=a},k.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},k.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},k.resetFragmentLoading=function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===T.FRAG_LOADING_WAITING_RETRY)||(this.state=T.IDLE)},k.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var a=t.frag;if(a&&a.type===e){var n=this.fragCurrent;console.assert(n&&a.sn===n.sn&&a.level===n.level&&a.urlId===n.urlId,"Frag load error must match current frag to retry");var r=this.config;if(this.fragLoadError+1<=r.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var i=Math.min(Math.pow(2,this.fragLoadError)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);this.warn("Fragment "+a.sn+" of "+e+" "+a.level+" failed to load, retrying in "+i+"ms"),this.retryDate=self.performance.now()+i,this.fragLoadError++,this.state=T.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=T.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=T.ERROR)}}},k.afterBufferFlushed=function(e,t,a){if(e){var n=o.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,a),this.state===T.ENDED&&this.resetLoadingState()}},k.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=T.IDLE},k.resetStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},k.updateLevelTiming=function(e,t,a,n){var r=this,i=a.details;console.assert(!!i,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce((function(t,o){var s=e.elementaryStreams[o];if(s){var d=s.endPTS-s.startPTS;if(d<=0)return r.warn("Could not parse fragment "+e.sn+" "+o+" duration reliably ("+d+")"),t||!1;var c=n?0:(0,p.updateFragPTSDTS)(i,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return r.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:i,level:a,drift:c,type:o,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)||(this.warn("Found no media in fragment "+e.sn+" of level "+a.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=T.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:e,part:t})},k.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},w=r,(S=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&b(w.prototype,S),x&&b(w,x),Object.defineProperty(w,"prototype",{writable:!1}),r}(r.default)},"./src/controller/buffer-controller.ts":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.ts ***!
  \*********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! ../errors */"./src/errors.ts"),s=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),l=a(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts"),d=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),c=a(/*! ./buffer-operation-queue */"./src/controller/buffer-operation-queue.ts"),u=(0,l.getMediaSource)(),h=/([ha]vc.)(?:\.[^.,]+)+/,f=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,a=t.media,n=t.mediaSource;i.logger.log("[buffer-controller]: Media source opened"),a&&(t.updateMediaElementDuration(),e.trigger(r.Events.MEDIA_ATTACHED,{media:a})),n&&n.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){i.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){i.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.BUFFER_RESET,this.onBufferReset,this),e.on(r.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(r.Events.BUFFER_EOS,this.onBufferEos,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(r.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(r.Events.FRAG_PARSED,this.onFragParsed,this),e.on(r.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.BUFFER_RESET,this.onBufferReset,this),e.off(r.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(r.Events.BUFFER_EOS,this.onBufferEos,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(r.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(r.Events.FRAG_PARSED,this.onFragParsed,this),e.off(r.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var a=2;(t.audio&&!t.video||!t.altAudio)&&(a=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=a,this.details=null,i.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var a=this.media=t.media;if(a&&u){var n=this.mediaSource=new u;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),a.src=self.URL.createObjectURL(n),this._objectUrl=a.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,a=this._objectUrl;if(t){if(i.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){i.logger.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(a&&self.URL.revokeObjectURL(a),e.src===a?(e.removeAttribute("src"),e.load()):i.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(r.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var a=e.sourceBuffer[t];try{a&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(a),e.sourceBuffer[t]=void 0)}catch(e){i.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var a=this,n=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(n){var r=a.tracks[e];if(r&&"function"==typeof r.buffer.changeType){var o=t[e],s=o.id,l=o.codec,d=o.levelCodec,c=o.container,u=o.metadata,f=(r.levelCodec||r.codec).replace(h,"$1"),p=(d||l).replace(h,"$1");if(f!==p){var v=c+";codecs="+(d||l);a.appendChangeType(e,v),i.logger.log("[buffer-controller]: switching codec "+f+" to "+p),a.tracks[e]={buffer:r.buffer,codec:l,container:c,levelCodec:d,metadata:u,id:s}}}}else a.pendingTracks[e]=t[e]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var a=this,n=this.operationQueue,r={execute:function(){var r=a.sourceBuffer[e];r&&(i.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),r.changeType(t)),n.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){i.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};n.append(r,e)},t.onBufferAppending=function(e,t){var a=this,n=this.hls,l=this.operationQueue,d=this.tracks,c=t.data,u=t.type,h=t.frag,f=t.part,p=t.chunkMeta,v=p.buffering[u],m=self.performance.now();v.start=m;var g=h.stats.buffering,y=f?f.stats.buffering:null;0===g.start&&(g.start=m),y&&0===y.start&&(y.start=m);var b=d.audio,_="audio"===u&&1===p.id&&"audio/mpeg"===(null==b?void 0:b.container),E={execute:function(){if(v.executeStart=self.performance.now(),_){var e=a.sourceBuffer[u];if(e){var t=h.start-e.timestampOffset;Math.abs(t)>=.1&&(i.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+h.start+" (delta: "+t+") sn: "+h.sn+")"),e.timestampOffset=h.start)}}a.appendExecutor(c,u)},onStart:function(){},onComplete:function(){var e=self.performance.now();v.executeEnd=v.end=e,0===g.first&&(g.first=e),y&&0===y.first&&(y.first=e);var t=a.sourceBuffer,n={};for(var i in t)n[i]=s.BufferHelper.getBuffered(t[i]);a.appendError=0,a.hls.trigger(r.Events.BUFFER_APPENDED,{type:u,frag:h,part:f,chunkMeta:p,parent:h.type,timeRanges:n})},onError:function(e){i.logger.error("[buffer-controller]: Error encountered while trying to append to the "+u+" SourceBuffer",e);var t={type:o.ErrorTypes.MEDIA_ERROR,parent:h.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=o.ErrorDetails.BUFFER_FULL_ERROR:(a.appendError++,t.details=o.ErrorDetails.BUFFER_APPEND_ERROR,a.appendError>n.config.appendErrorMaxRetry&&(i.logger.error("[buffer-controller]: Failed "+n.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0,n.stopLoad())),n.trigger(r.Events.ERROR,t)}};l.append(E,u)},t.onBufferFlushing=function(e,t){var a=this,n=this.operationQueue,o=function(e){return{execute:a.removeExecutor.bind(a,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){a.hls.trigger(r.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){i.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?n.append(o(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){n.append(o(e),e)}))},t.onFragParsed=function(e,t){var a=this,n=t.frag,o=t.part,s=[],l=o?o.elementaryStreams:n.elementaryStreams;l[d.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(l[d.ElementaryStreamTypes.AUDIO]&&s.push("audio"),l[d.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&i.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+n.type+" level: "+n.level+" sn: "+n.sn),this.blockBuffers((function(){var e=self.performance.now();n.stats.buffering.end=e,o&&(o.stats.buffering.end=e);var t=o?o.stats:n.stats;a.hls.trigger(r.Events.FRAG_BUFFERED,{frag:n,part:o,stats:t,id:n.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var a=this;this.getSourceBufferTypes().reduce((function(e,n){var r=a.sourceBuffer[n];return t.type&&t.type!==n||r&&!r.ended&&(r.ended=!0,i.logger.log("[buffer-controller]: "+n+" sourceBuffer now EOS")),e&&!(r&&!r.ended)}),!0)&&this.blockBuffers((function(){var e=a.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var a=t.details;a.fragments.length&&(this.details=a,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,a=this.media,i=this.sourceBuffer;if(a&&null!==t){var o=this.getSourceBufferTypes();if(o.length){var l=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if((0,n.isFiniteNumber)(l)&&!(l<0)){var d=a.currentTime,c=t.levelTargetDuration,u=Math.max(l,c),h=Math.floor(d/c)*c-u;o.forEach((function(a){var n=i[a];if(n){var o=s.BufferHelper.getBuffered(n);o.length>0&&h>o.start(0)&&(e.trigger(r.Events.BACK_BUFFER_REACHED,{bufferEnd:h}),t.live&&e.trigger(r.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:h}),e.trigger(r.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:h,type:a}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,a=this.media,r=this.mediaSource,o=e.fragments[0].start+e.totalduration,s=a.duration,l=(0,n.isFiniteNumber)(r.duration)?r.duration:0;e.live&&t.config.liveDurationInfinity?(i.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),r.duration=1/0,this.updateSeekableRange(e)):(o>l&&o>s||!(0,n.isFiniteNumber)(s))&&(i.logger.log("[buffer-controller]: Updating Media Source duration to "+o.toFixed(3)),r.duration=o)}},t.updateSeekableRange=function(e){var t=this.mediaSource,a=e.fragments;if(a.length&&e.live&&null!=t&&t.setLiveSeekableRange){var n=Math.max(0,a[0].start),r=Math.max(n,n+e.totalduration);t.setLiveSeekableRange(n,r)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,a=this.pendingTracks,n=Object.keys(a).length;if(n&&!e||2===n){this.createSourceBuffers(a),this.pendingTracks={};var i=this.getSourceBufferTypes();if(0===i.length)return void this.hls.trigger(r.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});i.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,a=this.mediaSource;if(!a)throw Error("createSourceBuffers called when mediaSource was null");var n=0;for(var s in e)if(!t[s]){var l=e[s];if(!l)throw Error("source buffer exists for track "+s+", however track does not");var d=l.levelCodec||l.codec,c=l.container+";codecs="+d;i.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var u=t[s]=a.addSourceBuffer(c),h=s;this.addBufferListener(h,"updatestart",this._onSBUpdateStart),this.addBufferListener(h,"updateend",this._onSBUpdateEnd),this.addBufferListener(h,"error",this._onSBUpdateError),this.tracks[s]={buffer:u,codec:d,container:l.container,levelCodec:l.levelCodec,metadata:l.metadata,id:l.id},n++}catch(e){i.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(r.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:c})}}n&&this.hls.trigger(r.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){i.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(r.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var a=this.operationQueue.current(e);a&&a.onError(t)},t.removeExecutor=function(e,t,a){var r=this.media,o=this.mediaSource,s=this.operationQueue,l=this.sourceBuffer[e];if(!r||!o||!l)return i.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var d=(0,n.isFiniteNumber)(r.duration)?r.duration:1/0,c=(0,n.isFiniteNumber)(o.duration)?o.duration:1/0,u=Math.max(0,t),h=Math.min(a,d,c);h>u?(i.logger.log("[buffer-controller]: Removing ["+u+","+h+"] from the "+e+" SourceBuffer"),console.assert(!l.updating,e+" sourceBuffer must not be updating"),l.remove(u,h)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var a=this.operationQueue,n=this.sourceBuffer[t];if(!n)return i.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(t);n.ended=!1,console.assert(!n.updating,t+" sourceBuffer must not be updating"),n.appendBuffer(e)},t.blockBuffers=function(e,t){var a=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return i.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var n=this.operationQueue,r=t.map((function(e){return n.appendBlocker(e)}));Promise.all(r).then((function(){e(),t.forEach((function(e){var t=a.sourceBuffer[e];t&&t.updating||n.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,a){var n=this.sourceBuffer[e];if(n){var r=a.bind(this,e);this.listeners[e].push({event:t,listener:r}),n.addEventListener(t,r)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":
/*!**************************************************!*\
  !*** ./src/controller/buffer-operation-queue.ts ***!
  \**************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(/*! ../utils/logger */"./src/utils/logger.ts"),r=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var a=this.queues[t];a.push(e),1===a.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,a=new Promise((function(e){t=e})),n={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,e),a},t.executeNext=function(e){var t=this.buffers,a=this.queues,r=t[e],i=a[e];if(i.length){var o=i[0];try{o.execute()}catch(t){n.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(t),r&&r.updating||(i.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.ts ***!
  \************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(/*! ../events */"./src/events.ts");function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const i=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,a,i,o=e.prototype;return o.setStreamController=function(e){this.streamController=e},o.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},o.registerListeners=function(){var e=this.hls;e.on(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.unregisterListener=function(){var e=this.hls;e.off(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.onFpsDropLevelCapping=function(t,a){e.isLevelAllowed(a.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(a.droppedLevel)},o.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},o.onManifestParsed=function(e,t){var a=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,a.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onMediaDetaching=function(){this.stopCapping()},o.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},o.getMaxLevel=function(t){var a=this,n=this.hls.levels;if(!n.length)return-1;var r=n.filter((function(n,r){return e.isLevelAllowed(r,a.restrictedLevels)&&r<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},o.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},o.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},o.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var a=e.getBoundingClientRect();t.width=a.width,t.height=a.height,t.width||t.height||(t.width=a.right-a.left||e.width||0,t.height=a.bottom-a.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,a){if(!e||!e.length)return-1;for(var n,r,i=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=a)&&(n=s,!(r=e[o+1])||n.width!==r.width||n.height!==r.height)){i=o;break}}return i},t=e,(a=[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(e){}return e}}])&&r(t.prototype,a),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/cmcd-controller.ts":
/*!*******************************************!*\
  !*** ./src/controller/cmcd-controller.ts ***!
  \*******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(/*! ../events */"./src/events.ts"),r=a(/*! ../types/cmcd */"./src/types/cmcd.ts"),i=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts");function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}var h=function(){function e(t){var a=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){a.initialized&&(a.starved=!0),a.buffering=!0},this.onPlaying=function(){a.initialized||(a.initialized=!0),a.buffering=!1},this.applyPlaylistData=function(e){try{a.apply(e,{ot:r.CMCDObjectType.MANIFEST,su:!a.initialized})}catch(e){o.logger.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(e){try{var t=e.frag,n=a.hls.levels[t.level],i=a.getObjectType(t),s={d:1e3*t.duration,ot:i};i!==r.CMCDObjectType.VIDEO&&i!==r.CMCDObjectType.AUDIO&&i!=r.CMCDObjectType.MUXED||(s.br=n.bitrate/1e3,s.tb=a.getTopBandwidth(i)/1e3,s.bl=a.getBufferLength(i)),a.apply(e,s)}catch(e){o.logger.warn("Could not generate segment CMCD data.",e)}},this.hls=t;var n=this.config=t.config,i=n.cmcd;null!=i&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||e.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.on(n.Events.BUFFER_CREATED,this.onBufferCreated,this)},t.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.off(n.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},t.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},t.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},t.onBufferCreated=function(e,t){var a,n;this.audioBuffer=null===(a=t.tracks.audio)||void 0===a?void 0:a.buffer,this.videoBuffer=null===(n=t.tracks.video)||void 0===n?void 0:n.buffer},t.createData=function(){var e;return{v:r.CMCDVersion,sf:r.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(e=this.media)||void 0===e?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},t.apply=function(t,a){void 0===a&&(a={}),u(a,this.createData());var n=a.ot===r.CMCDObjectType.INIT||a.ot===r.CMCDObjectType.VIDEO||a.ot===r.CMCDObjectType.MUXED;if(this.starved&&n&&(a.bs=!0,a.su=!0,this.starved=!1),null==a.su&&(a.su=this.buffering),this.useHeaders){var i=e.toHeaders(a);if(!Object.keys(i).length)return;t.headers||(t.headers={}),u(t.headers,i)}else{var o=e.toQuery(a);if(!o)return;t.url=e.appendQueryToUri(t.url,o)}},t.getObjectType=function(e){var t=e.type;return"subtitle"===t?r.CMCDObjectType.TIMED_TEXT:"initSegment"===e.sn?r.CMCDObjectType.INIT:"audio"===t?r.CMCDObjectType.AUDIO:"main"===t?this.hls.audioTracks.length?r.CMCDObjectType.VIDEO:r.CMCDObjectType.MUXED:void 0},t.getTopBandwidth=function(e){var t,a=0,n=this.hls;if(e===r.CMCDObjectType.AUDIO)t=n.audioTracks;else{var i=n.maxAutoLevel,o=i>-1?i+1:n.levels.length;t=n.levels.slice(0,o)}for(var s,l=d(t);!(s=l()).done;){var c=s.value;c.bitrate>a&&(a=c.bitrate)}return a>0?a:NaN},t.getBufferLength=function(e){var t=this.hls.media,a=e===r.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return a&&t?1e3*i.BufferHelper.bufferInfo(a,t.currentTime,this.config.maxBufferHole).len:NaN},t.createPlaylistLoader=function(){var e=this.config.pLoader,t=this.applyPlaylistData,a=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new a(e)}var n=e.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(e,a,n){t(e),this.loader.load(e,a,n)},l(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},t.createFragmentLoader=function(){var e=this.config.fLoader,t=this.applyFragmentData,a=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new a(e)}var n=e.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(e,a,n){t(e),this.loader.load(e,a,n)},l(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},e.uuid=function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)},e.serialize=function(e){for(var t,a=[],n=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},r=function(e){return Math.round(e)},i=function(e){return 100*r(e/100)},o={br:r,d:r,bl:i,dl:i,mtp:i,nor:function(e){return encodeURIComponent(e)},rtp:i,tb:r},s=d(Object.keys(e||{}).sort());!(t=s()).done;){var l=t.value,c=e[l];if(n(c)&&!("v"===l&&1===c||"pr"==l&&1===c)){var u=o[l];u&&(c=u(c));var h=typeof c,f=void 0;f="ot"===l||"sf"===l||"st"===l?l+"="+c:"boolean"===h?l:"number"===h?l+"="+c:l+"="+JSON.stringify(c),a.push(f)}}return a.join(",")},e.toHeaders=function(t){for(var a={},n=["Object","Request","Session","Status"],r=[{},{},{},{}],i={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},o=0,s=Object.keys(t);o<s.length;o++){var l=s[o];r[null!=i[l]?i[l]:1][l]=t[l]}for(var d=0;d<r.length;d++){var c=e.serialize(r[d]);c&&(a["CMCD-"+n[d]]=c)}return a},e.toQuery=function(t){return"CMCD="+encodeURIComponent(e.serialize(t))},e.appendQueryToUri=function(e,t){if(!t)return e;var a=e.includes("?")?"&":"?";return""+e+a+t},e}()},"./src/controller/eme-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(/*! ../events */"./src/events.ts"),r=a(/*! ../errors */"./src/errors.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! ../utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts");function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const l=function(){function e(e){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=e,this._config=e.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var t,a,l,d=e.prototype;return d.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},d._registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},d._unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},d.getLicenseServerUrl=function(e){switch(e){case o.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},d._attemptKeySystemAccess=function(e,t,a){var n=this,r=function(e,t,a,n){if(e===o.KeySystems.WIDEVINE)return function(e,t,a){var n={audioCapabilities:[],videoCapabilities:[]};return e.forEach((function(e){n.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:a.audioRobustness||""})})),t.forEach((function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:a.videoRobustness||""})})),[n]}(t,a,n);throw new Error("Unknown key-system: "+e)}(e,t,a,this._drmSystemOptions);i.logger.log("Requesting encrypted media key-system access");var s=this.requestMediaKeySystemAccess(e,r);this.mediaKeysPromise=s.then((function(t){return n._onMediaKeySystemAccessObtained(e,t)})),s.catch((function(t){i.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))},d._onMediaKeySystemAccessObtained=function(e,t){var a=this;i.logger.log('Access for key-system "'+e+'" obtained');var n={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(n);var r=Promise.resolve().then((function(){return t.createMediaKeys()})).then((function(t){return n.mediaKeys=t,i.logger.log('Media-keys created for key-system "'+e+'"'),a._onMediaKeysCreated(),t}));return r.catch((function(e){i.logger.error("Failed to create media-keys:",e)})),r},d._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},d._onNewMediaKeySession=function(e){var t=this;i.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(a){t._onKeySessionMessage(e,a.message)}),!1)},d._onKeySessionMessage=function(e,t){i.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){i.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t).catch((function(e){i.logger.warn("Updating key-session failed: "+e)}))}))},d.onMediaEncrypted=function(e){var t=this;if(i.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!this.mediaKeysPromise)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var a=function(a){t._media&&(t._attemptSetMediaKeys(a),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};this.mediaKeysPromise.then(a).catch(a)},d._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return i.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});i.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},d._generateRequestWithPreferredKeySession=function(e,t){var a=this,o=this._mediaKeysList[0];if(!o)return i.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(o.mediaKeysSessionInitialized)i.logger.warn("Key-Session already initialized but requested again");else{var s=o.mediaKeysSession;if(!s)return i.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return i.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});i.logger.log('Generating key-session request for "'+e+'" init data type'),o.mediaKeysSessionInitialized=!0,s.generateRequest(e,t).then((function(){i.logger.debug("Key-session generation succeeded")})).catch((function(e){i.logger.error("Error generating key-session request:",e),a.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},d._createLicenseXhr=function(e,t,a){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,e,t,a);var r=this._licenseXhrSetup;if(r)try{r.call(this.hls,n,e),r=void 0}catch(e){i.logger.error(e)}try{n.readyState||n.open("POST",e,!0),r&&r.call(this.hls,n,e)}catch(e){throw new Error("issue setting up KeySystem license XHR "+e)}return n},d._onLicenseRequestReadyStageChange=function(e,t,a,o){if(4===e.readyState)if(200===e.status){this._requestLicenseFailureCount=0,i.logger.log("License request succeeded");var s=e.response,l=this._licenseResponseCallback;if(l)try{s=l.call(this.hls,e,t)}catch(e){i.logger.error(e)}o(s)}else{if(i.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var d=3-this._requestLicenseFailureCount+1;i.logger.warn("Retrying license request, "+d+" attempts left"),this._requestLicense(a,o)}},d._generateLicenseRequestChallenge=function(e,t){if(e.mediaKeySystemDomain===o.KeySystems.WIDEVINE)return t;throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},d._requestLicense=function(e,t){i.logger.log("Requesting content license for key-system");var a=this._mediaKeysList[0];if(!a)return i.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var o=this.getLicenseServerUrl(a.mediaKeySystemDomain),s=this._createLicenseXhr(o,e,t);i.logger.log("Sending license request to URL: "+o);var l=this._generateLicenseRequestChallenge(a,e);s.send(l)}catch(e){i.logger.error("Failure requesting DRM license: "+e),this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.KEY_SYSTEM_ERROR,details:r.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},d.onMediaAttached=function(e,t){if(this._emeEnabled){var a=t.media;this._media=a,a.addEventListener("encrypted",this._onMediaEncrypted)}},d.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch((function(){}))}))).then((function(){return e.setMediaKeys(null)})).catch((function(){})))},d.onManifestParsed=function(e,t){if(this._emeEnabled){var a=t.levels.map((function(e){return e.audioCodec})).filter((function(e){return!!e})),n=t.levels.map((function(e){return e.videoCodec})).filter((function(e){return!!e}));this._attemptKeySystemAccess(o.KeySystems.WIDEVINE,a,n)}},t=e,(a=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&s(t.prototype,a),l&&s(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/fps-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(/*! ../events */"./src/events.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts");const i=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var a=this.hls.config;if(a.capLevelOnFPSDrop){var n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&"function"==typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),a.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,a){var i=performance.now();if(t){if(this.lastTime){var o=i-this.lastTime,s=a-this.lastDroppedFrames,l=t-this.lastDecodedFrames,d=1e3*s/o,c=this.hls;if(c.trigger(n.Events.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:a}),d>0&&s>c.config.fpsDroppedMonitoringThreshold*l){var u=c.currentLevel;r.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=u)&&(u-=1,c.trigger(n.Events.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=a,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}()},"./src/controller/fragment-finders.ts":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.ts ***!
  \********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{findFragWithCC:()=>d,findFragmentByPDT:()=>i,findFragmentByPTS:()=>o,fragmentWithinToleranceTest:()=>s,pdtWithinToleranceTest:()=>l});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../utils/binary-search */"./src/utils/binary-search.ts");function i(e,t,a){if(null===t||!Array.isArray(e)||!e.length||!(0,n.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;a=a||0;for(var r=0;r<e.length;++r){var i=e[r];if(l(t,a,i))return i}return null}function o(e,t,a,n){void 0===a&&(a=0),void 0===n&&(n=0);var i=null;if(e?i=t[e.sn-t[0].sn+1]||null:0===a&&0===t[0].start&&(i=t[0]),i&&0===s(a,n,i))return i;var o=r.default.search(t,s.bind(null,a,n));return o||i}function s(e,t,a){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,a.duration+(a.deltaPTS?a.deltaPTS:0));return a.start+a.duration-n<=e?1:a.start-n>e&&a.start?-1:0}function l(e,t,a){var n=1e3*Math.min(t,a.duration+(a.deltaPTS?a.deltaPTS:0));return(a.endProgramDateTime||0)-n>e}function d(e,t){return r.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.ts ***!
  \********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{FragmentState:()=>n,FragmentTracker:()=>o});var n,r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../types/loader */"./src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(n||(n={}));var o=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(r.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(r.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(r.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(r.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(r.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(r.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===i.PlaylistLevelType.MAIN){var a=this.activeFragment,n=this.activeParts;if(!a)return null;if(n)for(var r=n.length;r--;){var o=n[r],s=o?o.end:a.appendedPTS;if(o.start<=e&&void 0!==s&&e<=s)return r>9&&(this.activeParts=n.slice(r-9)),o}else if(a.start<=e&&void 0!==a.appendedPTS&&e<=a.appendedPTS)return a}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var a=this.fragments,n=Object.keys(a),r=n.length;r--;){var i=a[n[r]];if((null==i?void 0:i.body.type)===t&&i.buffered){var o=i.body;if(o.start<=e&&e<=o.end)return o}}return null},t.detectEvictedFragments=function(e,t,a){var n=this;Object.keys(this.fragments).forEach((function(r){var i=n.fragments[r];if(i)if(i.buffered){var o=i.range[e];o&&o.time.some((function(e){var a=!n.isTimeBuffered(e.startPTS,e.endPTS,t);return a&&n.removeFragment(i.body),a}))}else i.body.type===a&&n.removeFragment(i.body)}))},t.detectPartialFragments=function(e){var t=this,a=this.timeRanges,n=e.frag,r=e.part;if(a&&"initSegment"!==n.sn){var i=l(n),o=this.fragments[i];o&&(Object.keys(a).forEach((function(e){var i=n.elementaryStreams[e];if(i){var s=a[e],l=null!==r||!0===i.partial;o.range[e]=t.getBufferedTimes(n,r,l,s)}})),o.loaded=null,Object.keys(o.range).length?o.buffered=!0:this.removeFragment(o.body))}},t.fragBuffered=function(e){var t=l(e),a=this.fragments[t];a&&(a.loaded=null,a.buffered=!0)},t.getBufferedTimes=function(e,t,a,n){for(var r={time:[],partial:a},i=t?t.start:e.start,o=t?t.end:e.end,s=e.minEndPTS||o,l=e.maxStartPTS||i,d=0;d<n.length;d++){var c=n.start(d)-this.bufferPadding,u=n.end(d)+this.bufferPadding;if(l>=c&&s<=u){r.time.push({startPTS:Math.max(i,n.start(d)),endPTS:Math.min(o,n.end(d))});break}if(i<u&&o>c)r.partial=!0,r.time.push({startPTS:Math.max(i,n.start(d)),endPTS:Math.min(o,n.end(d))});else if(o<=c)break}return r},t.getPartialFragment=function(e){var t,a,n,r=null,i=0,o=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach((function(d){var c=l[d];c&&s(c)&&(a=c.body.start-o,n=c.body.end+o,e>=a&&e<=n&&(t=Math.min(e-a,n-e),i<=t&&(r=c.body,i=t)))})),r},t.getState=function(e){var t=l(e),a=this.fragments[t];return a?a.buffered?s(a)?n.PARTIAL:n.OK:n.APPENDING:n.NOT_LOADED},t.isTimeBuffered=function(e,t,a){for(var n,r,i=0;i<a.length;i++){if(n=a.start(i)-this.bufferPadding,r=a.end(i)+this.bufferPadding,e>=n&&t<=r)return!0;if(t<=n)return!1}return!1},t.onFragLoaded=function(e,t){var a=t.frag,n=t.part;if("initSegment"!==a.sn&&!a.bitrateTest&&!n){var r=l(a);this.fragments[r]={body:a,loaded:t,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var a=this,n=t.frag,r=t.part,o=t.timeRanges;if(n.type===i.PlaylistLevelType.MAIN)if(this.activeFragment=n,r){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(r)}else this.activeParts=null;this.timeRanges=o,Object.keys(o).forEach((function(e){var t=o[e];if(a.detectEvictedFragments(e,t),!r)for(var i=0;i<t.length;i++)n.appendedPTS=Math.max(t.end(i),n.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=l(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,a){var n=this;Object.keys(this.fragments).forEach((function(r){var i=n.fragments[r];if(i&&i.buffered){var o=i.body;o.type===a&&o.start<t&&o.end>e&&n.removeFragment(o)}}))},t.removeFragment=function(e){var t=l(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,a;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(a=e.range.audio)||void 0===a?void 0:a.partial))}function l(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_START_GAP_JUMP:()=>l,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>d,SKIP_BUFFER_RANGE_START:()=>c,STALL_MINIMUM_DURATION_MS:()=>s,default:()=>u});var n=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),r=a(/*! ../errors */"./src/errors.ts"),i=a(/*! ../events */"./src/events.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=250,l=2,d=.1,c=.05,u=function(){function e(e,t,a,n){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=a,this.hls=n}var t=e.prototype;return t.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},t.poll=function(e,t){var a=this.config,r=this.media,i=this.stalled;if(null!==r){var d=r.currentTime,c=r.seeking,u=this.seeking&&!c,h=!this.seeking&&c;if(this.seeking=c,d===e){if((h||u)&&(this.stalled=null),!(r.paused&&!c||r.ended||0===r.playbackRate)&&n.BufferHelper.getBuffered(r).length){var f=n.BufferHelper.bufferInfo(r,d,0),p=f.len>0,v=f.nextStart||0;if(p||v){if(c){var m=f.len>l,g=!v||t&&t.start<=d||v-d>l&&!this.fragmentTracker.getPartialFragment(d);if(m||g)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var y,b=Math.max(v,f.start||0)-d,_=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,E=(null==_||null===(y=_.details)||void 0===y?void 0:y.live)?2*_.details.targetduration:l;if(b>0&&b<=E)return void this._trySkipBufferHole(null)}var T=self.performance.now();if(null!==i){var w=T-i;if(c||!(w>=s)||(this._reportStall(f),this.media)){var S=n.BufferHelper.bufferInfo(r,d,a.maxBufferHole);this._tryFixBufferStall(S,w)}}else this.stalled=T}}}else if(this.moved=!0,null!==i){if(this.stallReported){var x=self.performance.now()-i;o.logger.warn("playback not stuck anymore @"+d+", after "+Math.round(x)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},t._tryFixBufferStall=function(e,t){var a=this.config,n=this.fragmentTracker,r=this.media;if(null!==r){var i=r.currentTime,s=n.getPartialFragment(i);if(s&&(this._trySkipBufferHole(s)||!this.media))return;e.len>a.maxBufferHole&&t>1e3*a.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},t._reportStall=function(e){var t=this.hls,a=this.media;!this.stallReported&&a&&(this.stallReported=!0,o.logger.warn("Playback stalling at @"+a.currentTime+" due to low buffer ("+JSON.stringify(e)+")"),t.trigger(i.Events.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e.len}))},t._trySkipBufferHole=function(e){var t=this.config,a=this.hls,s=this.media;if(null===s)return 0;for(var l=s.currentTime,u=0,h=n.BufferHelper.getBuffered(s),f=0;f<h.length;f++){var p=h.start(f);if(l+t.maxBufferHole>=u&&l<p){var v=Math.max(p+c,s.currentTime+d);return o.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+v),this.moved=!0,this.stalled=null,s.currentTime=v,e&&a.trigger(i.Events.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+v,frag:e}),v}u=h.end(f)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,a=this.media,n=this.nudgeRetry;if(null!==a){var s=a.currentTime;if(this.nudgeRetry++,n<e.nudgeMaxRetry){var l=s+(n+1)*e.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+s+" to "+l),a.currentTime=l,t.trigger(i.Events.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+s+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(i.Events.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},e}()},"./src/controller/id3-track-controller.ts":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.ts ***!
  \************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),o=a(/*! ../demux/id3 */"./src/demux/id3.ts"),s=a(/*! ../loader/date-range */"./src/loader/date-range.ts"),l=a(/*! ../types/demuxer */"./src/types/demuxer.ts");function d(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var c=function(){var e=d();try{new e(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function u(e,t){return e.getTime()/1e3-t}const h=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},t._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(r.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},t._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(r.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&((0,i.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},t.onManifestLoading=function(){this.dateRangeCuesAppended={}},t.createTrack=function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var a=e[t];if("metadata"===a.kind&&"id3"===a.label)return(0,i.sendAddTrackEvent)(a,this.media),a}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var a=this.hls.config,n=a.enableEmsgMetadataCues,r=a.enableID3MetadataCues;if(n||r){t.frag;var i=t.samples;t.details,this.id3Track||(this.id3Track=this.createTrack(this.media));for(var s=d(),u=0;u<i.length;u++){var h=i[u].type;if((h!==l.MetadataSchema.emsg||n)&&r){var f=o.getID3Frames(i[u].data);if(f){var p=i[u].pts,v=p+i[u].duration;v>c&&(v=c),v-p<=0&&(v=p+.25);for(var m=0;m<f.length;m++){var g=f[m];if(!o.isTimeStampFrame(g)){this.updateId3CueEnds(p);var y=new s(p,v,"");y.value=g,h&&(y.type=h),this.id3Track.addCue(y)}}}}}}}},t.updateId3CueEnds=function(e){var t,a=null===(t=this.id3Track)||void 0===t?void 0:t.cues;if(a)for(var n=a.length;n--;){var r=a[n];r.startTime<e&&r.endTime===c&&(r.endTime=e)}},t.onBufferFlushing=function(e,t){var a=t.startOffset,n=t.endOffset,r=t.type,o=this.id3Track,s=this.hls;if(s){var d,c=s.config,u=c.enableEmsgMetadataCues,h=c.enableID3MetadataCues;o&&(u||h)&&(d="audio"===r?function(e){return e.type===l.MetadataSchema.audioId3&&h}:"video"===r?function(e){return e.type===l.MetadataSchema.emsg&&u}:function(e){return e.type===l.MetadataSchema.audioId3&&h||e.type===l.MetadataSchema.emsg&&u},(0,i.removeCuesInRange)(o,a,n,d))}},t.onLevelUpdated=function(e,t){var a=this,r=t.details;if(this.media&&r.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var i=this.dateRangeCuesAppended,o=this.id3Track,h=r.dateRanges,f=Object.keys(h);if(o)for(var p=Object.keys(i).filter((function(e){return!f.includes(e)})),v=function(e){var t=p[e];Object.keys(i[t].cues).forEach((function(e){o.removeCue(i[t].cues[e])})),delete i[t]},m=p.length;m--;)v(m);var g=r.fragments[r.fragments.length-1];if(0!==f.length&&(0,n.isFiniteNumber)(null==g?void 0:g.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var y=g.programDateTime/1e3-g.start,b=d(),_=function(e){var t=f[e],n=h[t],r=i[t],o=(null==r?void 0:r.cues)||{},d=(null==r?void 0:r.durationKnown)||!1,p=u(n.startDate,y),v=c,m=n.endDate;if(m)v=u(m,y),d=!0;else if(n.endOnNext&&!d){var g=f.reduce((function(e,t){var a=h[t];return a.class===n.class&&a.id!==t&&a.startDate>n.startDate&&e.push(a),e}),[]).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()}))[0];g&&(v=u(g.startDate,y),d=!0)}for(var _,E=Object.keys(n.attr),T=0;T<E.length;T++){var w=E[T];if(w!==s.DateRangeAttribute.ID&&w!==s.DateRangeAttribute.CLASS&&w!==s.DateRangeAttribute.START_DATE&&w!==s.DateRangeAttribute.DURATION&&w!==s.DateRangeAttribute.END_DATE&&w!==s.DateRangeAttribute.END_ON_NEXT){var S=o[w];if(S)d&&!r.durationKnown&&(S.endTime=v);else{var x=n.attr[w];S=new b(p,v,""),w!==s.DateRangeAttribute.SCTE35_OUT&&w!==s.DateRangeAttribute.SCTE35_IN||(_=x,x=Uint8Array.from(_.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),S.value={key:w,data:x},S.type=l.MetadataSchema.dateRange,a.id3Track.addCue(S),o[w]=S}}}i[t]={cues:o,dateRange:n,durationKnown:d}},E=0;E<f.length;E++)_(E)}}},e}()},"./src/controller/latency-controller.ts":
/*!**********************************************!*\
  !*** ./src/controller/latency-controller.ts ***!
  \**********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(/*! ../errors */"./src/errors.ts"),r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts");function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,a,s,l=e.prototype;return l.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},l.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(r.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(r.Events.ERROR,this.onError,this)},l.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(r.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(r.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(r.Events.ERROR,this.onError)},l.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},l.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},l.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},l.onLevelUpdated=function(e,t){var a=t.details;this.levelDetails=a,a.advanced&&this.timeupdate(),!a.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},l.onError=function(e,t){t.details===n.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,i.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},l.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var a=this.computeLatency();if(null!==a){this._latency=a;var n=this.config,r=n.lowLatencyMode,i=n.maxLiveSyncPlaybackRate;if(r&&1!==i){var o=this.targetLatency;if(null!==o){var s=a-o,l=s<Math.min(this.maxLatency,o+t.targetduration);if(t.live&&l&&s>.05&&this.forwardBufferLength>1){var d=Math.min(2,Math.max(1,i)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(d,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},l.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},l.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},t=e,(a=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,a=e.partHoldBack,n=e.targetduration,r=this.config,i=r.liveSyncDuration,o=r.liveSyncDurationCount,s=r.lowLatencyMode,l=this.hls.userConfig,d=s&&a||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===d)&&(d=void 0!==i?i:o*n);var c=n;return d+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,a=this.levelDetails;if(null===e||null===t||null===a)return null;var n=a.edge,r=e-t-this.edgeStalled,i=n-a.totalduration,o=n-(this.config.lowLatencyMode&&a.partTarget||a.targetduration);return Math.min(Math.max(i,r),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var a=e.buffered.length;return(a?e.buffered.end(a-1):t.edge)-this.currentTime}}])&&o(t.prototype,a),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/level-controller.ts":
/*!********************************************!*\
  !*** ./src/controller/level-controller.ts ***!
  \********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(/*! ../types/level */"./src/types/level.ts"),r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../errors */"./src/errors.ts"),o=a(/*! ../utils/codecs */"./src/utils/codecs.ts"),s=a(/*! ./level-helper */"./src/controller/level-helper.ts"),l=a(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),d=a(/*! ../types/loader */"./src/types/loader.ts");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var f=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(e){var t,a;function l(t){var a;return(a=e.call(this,t,"[level-controller]")||this)._levels=[],a._firstLevel=-1,a._startLevel=void 0,a.currentLevelIndex=-1,a.manualLevelIndex=-1,a.onParsedComplete=void 0,a._registerListeners(),a}a=e,(t=l).prototype=Object.create(a.prototype),t.prototype.constructor=t,h(t,a);var p,v,m,g=l.prototype;return g._registerListeners=function(){var e=this.hls;e.on(r.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(r.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(r.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(r.Events.ERROR,this.onError,this)},g._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(r.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(r.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(r.Events.ERROR,this.onError,this)},g.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},g.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},g.onManifestLoaded=function(e,t){var a,l,d=[],c=[],u=[],h={},p=!1,v=!1,m=!1;if(t.levels.forEach((function(e){var t=e.attrs;p=p||!(!e.width||!e.height),v=v||!!e.videoCodec,m=m||!!e.audioCodec,f&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var a=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(l=h[a])?l.url.push(e.url):(l=new n.Level(e),h[a]=l,d.push(l)),t&&(t.AUDIO&&(0,s.addGroupId)(l,"audio",t.AUDIO),t.SUBTITLES&&(0,s.addGroupId)(l,"text",t.SUBTITLES))})),(p||v)&&m&&(d=d.filter((function(e){var t=e.videoCodec,a=e.width,n=e.height;return!!t||!(!a||!n)}))),d=d.filter((function(e){var t=e.audioCodec,a=e.videoCodec;return(!t||(0,o.isCodecSupportedInMp4)(t,"audio"))&&(!a||(0,o.isCodecSupportedInMp4)(a,"video"))})),t.audioTracks&&(c=t.audioTracks.filter((function(e){return!e.audioCodec||(0,o.isCodecSupportedInMp4)(e.audioCodec,"audio")})),(0,s.assignTrackIdsByGroup)(c)),t.subtitles&&(u=t.subtitles,(0,s.assignTrackIdsByGroup)(u)),d.length>0){a=d[0].bitrate,d.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=d;for(var g=0;g<d.length;g++)if(d[g].bitrate===a){this._firstLevel=g,this.log("manifest loaded, "+d.length+" level(s) found, first bitrate: "+a);break}var y=m&&!v,b={levels:d,audioTracks:c,subtitleTracks:u,firstLevel:this._firstLevel,stats:t.stats,audio:m,video:v,altAudio:!y&&c.some((function(e){return!!e.url}))};this.hls.trigger(r.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},g.onError=function(t,a){var n;if(e.prototype.onError.call(this,t,a),!a.fatal){var r=a.context,o=this._levels[this.currentLevelIndex];if(r&&(r.type===d.PlaylistContextType.AUDIO_TRACK&&o.audioGroupIds&&r.groupId===o.audioGroupIds[o.urlId]||r.type===d.PlaylistContextType.SUBTITLE_TRACK&&o.textGroupIds&&r.groupId===o.textGroupIds[o.urlId]))this.redundantFailover(this.currentLevelIndex);else{var s,l=!1,c=!0;switch(a.details){case i.ErrorDetails.FRAG_LOAD_ERROR:case i.ErrorDetails.FRAG_LOAD_TIMEOUT:case i.ErrorDetails.KEY_LOAD_ERROR:case i.ErrorDetails.KEY_LOAD_TIMEOUT:if(a.frag){var u=a.frag.type===d.PlaylistLevelType.MAIN?a.frag.level:this.currentLevelIndex,h=this._levels[u];h?(h.fragmentError++,h.fragmentError>this.hls.config.fragLoadingMaxRetry&&(s=u)):s=u}break;case i.ErrorDetails.LEVEL_LOAD_ERROR:case i.ErrorDetails.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(c=!1),s=r.level),l=!0;break;case i.ErrorDetails.REMUX_ALLOC_ERROR:s=null!=(n=a.level)?n:this.currentLevelIndex,l=!0}void 0!==s&&this.recoverLevel(a,s,l,c)}}},g.recoverLevel=function(e,t,a,n){var r=e.details,i=this._levels[t];if(i.loadError++,a){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(n){var o=i.url.length;if(o>1&&i.loadError<o)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){for(var s=-1,l=this._levels,d=l.length;d--;){var c=(d+this.currentLevelIndex)%l.length;if(c!==this.currentLevelIndex&&0===l[c].loadError){s=c;break}}s>-1&&this.currentLevelIndex!==s&&(this.warn(r+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},g.redundantFailover=function(e){var t=this._levels[e],a=t.url.length;if(a>1){var n=(t.urlId+1)%a;this.warn("Switching to redundant URL-id "+n),this._levels.forEach((function(e){e.urlId=n})),this.level=e}},g.onFragLoaded=function(e,t){var a=t.frag;if(void 0!==a&&a.type===d.PlaylistLevelType.MAIN){var n=this._levels[a.level];void 0!==n&&(n.fragmentError=0,n.loadError=0)}},g.onLevelLoaded=function(e,t){var a,n,r=t.level,i=t.details,o=this._levels[r];if(!o)return this.warn("Invalid level index "+r),void(null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(i.deltaUpdateFailed=!0));r===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0,this.retryCount=0),this.playlistLoaded(r,t,o.details)):null!==(a=t.deliveryDirectives)&&void 0!==a&&a.skip&&(i.deltaUpdateFailed=!0)},g.onAudioTrackSwitched=function(e,t){var a=this.hls.levels[this.currentLevelIndex];if(a&&a.audioGroupIds){for(var n=-1,r=this.hls.audioTracks[t.id].groupId,i=0;i<a.audioGroupIds.length;i++)if(a.audioGroupIds[i]===r){n=i;break}n!==a.urlId&&(a.urlId=n,this.startLoad())}},g.loadPlaylist=function(e){var t=this.currentLevelIndex,a=this._levels[t];if(this.canLoad&&a&&a.url.length>0){var n=a.urlId,i=a.url[n];if(e)try{i=e.addDirectives(i)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+n+" "+i),this.clearTimer(),this.hls.trigger(r.Events.LEVEL_LOADING,{url:i,level:t,id:n,deliveryDirectives:e||null})}},g.removeLevel=function(e,t){var a=function(e,a){return a!==t},n=this._levels.filter((function(n,r){return r!==e||n.url.length>1&&void 0!==t&&(n.url=n.url.filter(a),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(a)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(a)),n.urlId=0,!0)})).map((function(e,t){var a=e.details;return null!=a&&a.fragments&&a.fragments.forEach((function(e){e.level=t})),e}));this._levels=n,this.hls.trigger(r.Events.LEVELS_UPDATED,{levels:n})},p=l,(v=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,a=this._levels;if(0!==a.length&&(this.currentLevelIndex!==e||null===(t=a[e])||void 0===t||!t.details)){if(e<0||e>=a.length){var n=e<0;if(this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:n,reason:"invalid level idx"}),n)return;e=Math.min(e,a.length-1)}this.clearTimer();var o=this.currentLevelIndex,s=a[o],l=a[e];this.log("switching to level "+e+" from "+o),this.currentLevelIndex=e;var d=c({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete d._urlId,this.hls.trigger(r.Events.LEVEL_SWITCHING,d);var u=l.details;if(!u||u.live){var h=this.switchParams(l.uri,null==s?void 0:s.details);this.loadPlaylist(h)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&u(p.prototype,v),m&&u(p,m),Object.defineProperty(p,"prototype",{writable:!1}),l}(l.default)},"./src/controller/level-helper.ts":
/*!****************************************!*\
  !*** ./src/controller/level-helper.ts ***!
  \****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{addGroupId:()=>s,addSliding:()=>m,adjustSliding:()=>v,assignTrackIdsByGroup:()=>l,computeReloadInterval:()=>g,getFragmentWithSN:()=>y,getPartWith:()=>b,mapFragmentIntersection:()=>p,mapPartIntersection:()=>f,mergeDetails:()=>h,updateFragPTSDTS:()=>u,updatePTS:()=>d});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts"),i=a(/*! ../loader/date-range */"./src/loader/date-range.ts");function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function s(e,t,a){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(a);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(a)}}function l(e){var t={};e.forEach((function(e){var a=e.groupId||"";e.id=t[a]=t[a]||0,t[a]++}))}function d(e,t,a){c(e[t],e[a])}function c(e,t){var a=t.startPTS;if((0,n.isFiniteNumber)(a)){var r,i=0;t.sn>e.sn?(i=a-e.start,r=e):(i=e.start-a,r=t),r.duration!==i&&(r.duration=i)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function u(e,t,a,i,o,s){i-a<=0&&(r.logger.warn("Fragment should have a positive duration",t),i=a+t.duration,s=o+t.duration);var l=a,d=i,u=t.startPTS,h=t.endPTS;if((0,n.isFiniteNumber)(u)){var f=Math.abs(u-a);(0,n.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(f,t.deltaPTS):t.deltaPTS=f,l=Math.max(a,u),a=Math.min(a,u),o=Math.min(o,t.startDTS),d=Math.min(i,h),i=Math.max(i,h),s=Math.max(s,t.endDTS)}t.duration=i-a;var p=a-t.start;t.appendedPTS=i,t.start=t.startPTS=a,t.maxStartPTS=l,t.startDTS=o,t.endPTS=i,t.minEndPTS=d,t.endDTS=s;var v,m=t.sn;if(!e||m<e.startSN||m>e.endSN)return 0;var g=m-e.startSN,y=e.fragments;for(y[g]=t,v=g;v>0;v--)c(y[v],y[v-1]);for(v=g;v<y.length-1;v++)c(y[v],y[v+1]);return e.fragmentHint&&c(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,p}function h(e,t){for(var a=null,s=e.fragments,l=s.length-1;l>=0;l--){var d=s[l].initSegment;if(d){a=d;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var c,h,m,g,y,b=0;if(p(e,t,(function(e,r){e.relurl&&(b=e.cc-r.cc),(0,n.isFiniteNumber)(e.startPTS)&&(0,n.isFiniteNumber)(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.appendedPTS=e.appendedPTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(c=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,r.urlId=e.urlId,e.initSegment&&(r.initSegment=e.initSegment,a=e.initSegment)})),a&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=a)||void 0===t?void 0:t.relurl)||(e.initSegment=a)})),t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){r.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var _=t.skippedSegments;_--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=(h=e.dateRanges,m=t.dateRanges,g=t.recentlyRemovedDateranges,y=o({},h),g&&g.forEach((function(e){delete y[e]})),Object.keys(m).forEach((function(e){var t=new i.DateRange(m[e].attr,y[e]);t.isValid?y[e]=t:r.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(m[e].attr)+'"')})),y));var E=t.fragments;if(b){r.logger.warn("discontinuity sliding from playlist, take drift into account");for(var T=0;T<E.length;T++)E[T].cc+=b}t.skippedSegments&&(t.startCC=t.fragments[0].cc),f(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),c?u(t,c,c.startPTS,c.endPTS,c.startDTS,c.endDTS):v(e,t),E.length&&(t.totalduration=t.edge-E[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var w=t.advancedDateTime;if(t.advanced&&w){var S=t.edge;t.driftStart||(t.driftStartTime=w,t.driftStart=S),t.driftEndTime=w,t.driftEnd=S}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function f(e,t,a){if(e&&t)for(var n=0,r=0,i=e.length;r<=i;r++){var o=e[r],s=t[r+n];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?a(o,s):n--}}function p(e,t,a){for(var n=t.skippedSegments,r=Math.max(e.startSN,t.startSN)-t.startSN,i=(e.fragmentHint?1:0)+(n?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,d=r;d<=i;d++){var c=l[o+d],u=s[d];n&&!u&&d<n&&(u=t.fragments[d]=c),c&&u&&a(c,u)}}function v(e,t){var a=t.startSN+t.skippedSegments-e.startSN,n=e.fragments;a<0||a>=n.length||m(t,n[a].start)}function m(e,t){if(t){for(var a=e.fragments,n=e.skippedSegments;n<a.length;n++)a[n].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function g(e,t){var a,n=1e3*e.levelTargetDuration,r=n/2,i=e.age,o=i>0&&i<3*n,s=t.loading.end-t.loading.start,l=e.availabilityDelay;if(!1===e.updated)if(o){var d=333*e.misses;a=Math.max(Math.min(r,2*s),d),e.availabilityDelay=(e.availabilityDelay||0)+a}else a=r;else o?(l=Math.min(l||n/2,i),e.availabilityDelay=l,a=l+n-i):a=n-s;return Math.round(a)}function y(e,t,a){if(!e||!e.details)return null;var n=e.details,r=n.fragments[t-n.startSN];return r||((r=n.fragmentHint)&&r.sn===t?r:t<n.startSN&&a&&a.sn===t?a:null)}function b(e,t,a){if(!e||!e.details)return null;var n=e.details.partList;if(n)for(var r=n.length;r--;){var i=n[r];if(i.index===a&&i.fragment.sn===t)return i}return null}},"./src/controller/stream-controller.ts":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.ts ***!
  \*********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),i=a(/*! ../is-supported */"./src/is-supported.ts"),o=a(/*! ../events */"./src/events.ts"),s=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),l=a(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),d=a(/*! ../types/loader */"./src/types/loader.ts"),c=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),u=a(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts"),h=a(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),f=a(/*! ./gap-controller */"./src/controller/gap-controller.ts"),p=a(/*! ../errors */"./src/errors.ts");function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var g=function(e){var t,a;function g(t,a){var n;return(n=e.call(this,t,a,"[stream-controller]")||this).audioCodecSwap=!1,n.gapController=null,n.level=-1,n._forceStartLoad=!1,n.altAudio=!1,n.audioOnly=!1,n.fragPlaying=null,n.onvplaying=null,n.onvseeked=null,n.fragLastKbps=0,n.couldBacktrack=!1,n.backtrackFragment=null,n.audioCodecSwitch=!1,n.videoBuffer=null,n._registerListeners(),n}a=e,(t=g).prototype=Object.create(a.prototype),t.prototype.constructor=t,m(t,a);var y,b,_,E=g.prototype;return E._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},E._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},E.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},E.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,a=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=a.startLevel;-1===n&&(a.config.testBandwidth&&this.levels.length>1?(n=0,this.bitrateTest=!0):n=a.nextAutoLevel),this.level=a.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=r.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=r.State.STOPPED},E.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},E.doTick=function(){switch(this.state){case r.State.IDLE:this.doTickIdle();break;case r.State.WAITING_LEVEL:var e,t=this.levels,a=this.level,n=null==t||null===(e=t[a])||void 0===e?void 0:e.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=r.State.IDLE;break}break;case r.State.FRAG_LOADING_WAITING_RETRY:var i,o=self.performance.now(),s=this.retryDate;(!s||o>=s||null!==(i=this.media)&&void 0!==i&&i.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=r.State.IDLE)}this.onTickEnd()},E.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},E.doTickIdle=function(){var e,t,a=this.hls,n=this.levelLastLoaded,i=this.levels,s=this.media,u=a.config,h=a.nextLoadLevel;if(null!==n&&(s||!this.startFragRequested&&u.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&i&&i[h]){var f=i[h];this.level=a.nextLoadLevel=h;var p=f.details;if(!p||this.state===r.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==h)this.state=r.State.WAITING_LEVEL;else{var v=this.getMainFwdBufferInfo();if(null!==v&&!(v.len>=this.getMaxBufferLength(f.maxBitrate))){if(this._streamEnded(v,p)){var m={};return this.altAudio&&(m.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,m),void(this.state=r.State.ENDED)}this.backtrackFragment&&this.backtrackFragment.start>v.end&&(this.backtrackFragment=null);var g=this.backtrackFragment?this.backtrackFragment.start:v.end,y=this.getNextFragment(g,p);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn&&this.fragmentTracker.getState(y)!==l.FragmentState.OK){var b,_=(null!=(b=this.backtrackFragment)?b:y).sn-p.startSN,E=p.fragments[_-1];E&&y.cc===E.cc&&(y=E,this.fragmentTracker.removeFragment(E))}else this.backtrackFragment&&v.len&&(this.backtrackFragment=null);if(y&&this.fragmentTracker.getState(y)===l.FragmentState.OK&&this.nextLoadPosition>g){var T=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;s&&this.afterBufferFlushed(s,T,d.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,p)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,p,g):this.loadKey(y,p))}}}},E.loadFragment=function(t,a,n){var r,i=this.fragmentTracker.getState(t);this.fragCurrent=t,i===l.FragmentState.NOT_LOADED?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,a,n)):i===l.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(r=this.media)||void 0===r?void 0:r.buffered.length)&&this.fragmentTracker.removeAllFragments()},E.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,d.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},E.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,d.PlaylistLevelType.MAIN)},E.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},E.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},E.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var a,n=this.getAppendedFrag(t.currentTime);if(n&&n.start>1&&this.flushMainBuffer(0,n.start-1),!t.paused&&e){var r=e[this.hls.nextLoadLevel],i=this.fragLastKbps;a=i&&this.fragCurrent?this.fragCurrent.duration*r.maxBitrate/(1e3*i)+1:0}else a=0;var o=this.getBufferedFrag(t.currentTime+a);if(o){var s=this.followingBufferedFrag(o);if(s){this.abortCurrentFrag();var l=s.maxStartPTS?s.maxStartPTS:s.start,d=s.duration,c=Math.max(o.end,l+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,.5*d),.75*d));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},E.abortCurrentFrag=function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,null!=e&&e.loader&&e.loader.abort(),this.state){case r.State.KEY_LOADING:case r.State.FRAG_LOADING:case r.State.FRAG_LOADING_WAITING_RETRY:case r.State.PARSING:case r.State.PARSED:this.state=r.State.IDLE}this.nextLoadPosition=this.getLoadPosition()},E.flushMainBuffer=function(t,a){e.prototype.flushMainBuffer.call(this,t,a,this.altAudio?"video":null)},E.onMediaAttached=function(t,a){e.prototype.onMediaAttached.call(this,t,a);var n=a.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new f.default(this.config,n,this.fragmentTracker,this.hls)},E.onMediaDetaching=function(){var t=this.media;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},E.onMediaPlaying=function(){this.tick()},E.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;(0,n.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},E.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},E.onManifestParsed=function(e,t){var a,n=!1,r=!1;t.levels.forEach((function(e){(a=e.audioCodec)&&(-1!==a.indexOf("mp4a.40.2")&&(n=!0),-1!==a.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r&&!(0,i.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},E.onLevelLoading=function(e,t){var a=this.levels;if(a&&this.state===r.State.IDLE){var n=a[t.level];(!n.details||n.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(n.details))&&(this.state=r.State.WAITING_LEVEL)}},E.onLevelLoaded=function(e,t){var a,n=this.levels,i=t.level,s=t.details,l=s.totalduration;if(n){this.log("Level "+i+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+l);var d=this.fragCurrent;!d||this.state!==r.State.FRAG_LOADING&&this.state!==r.State.FRAG_LOADING_WAITING_RETRY||d.level!==t.level&&d.loader&&(this.state=r.State.IDLE,this.backtrackFragment=null,d.loader.abort());var c=n[i],u=0;if(s.live||null!==(a=c.details)&&void 0!==a&&a.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;u=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=i,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:s,level:i}),this.state===r.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=r.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,u),this.tick()}else this.warn("Levels were reset while loading level "+i)},E._handleFragmentLoadProgress=function(e){var t,a=e.frag,n=e.part,r=e.payload,i=this.levels;if(i){var o=i[a.level],s=o.details;if(s){var l=o.videoCodec,c=s.PTSKnown||!s.live,f=null===(t=a.initSegment)||void 0===t?void 0:t.data,p=this._getAudioCodec(o),v=this.transmuxer=this.transmuxer||new u.default(this.hls,d.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=n?n.index:-1,g=-1!==m,y=new h.ChunkMetadata(a.level,a.sn,a.stats.chunkCount,r.byteLength,m,g),b=this.initPTS[a.cc];v.push(r,f,p,l,a,n,s.totalduration,c,y,b)}else this.warn("Dropping fragment "+a.sn+" of level "+a.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+a.sn+" of level "+a.level+" will not be buffered")},E.onAudioTrackSwitching=function(e,t){var a=this.altAudio,n=!!t.url,r=t.id;if(!n){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;null!=i&&i.loader&&(this.log("Switching to main audio track, cancel main fragment load"),i.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;a&&s.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:r})}},E.onAudioTrackSwitched=function(e,t){var a=t.id,n=!!this.hls.audioTracks[a].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},E.onBufferCreated=function(e,t){var a,n,r=t.tracks,i=!1;for(var o in r){var s=r[o];if("main"===s.id){if(n=o,a=s,"video"===o){var l=r[o];l&&(this.videoBuffer=l.buffer)}}else i=!0}i&&a?(this.log("Alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=a.buffer):this.mediaBuffer=this.media},E.onFragBuffered=function(e,t){var a=t.frag,n=t.part;if(!a||a.type===d.PlaylistLevelType.MAIN){if(this.fragContextChanged(a))return this.warn("Fragment "+a.sn+(n?" p: "+n.index:"")+" of level "+a.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===r.State.PARSED&&(this.state=r.State.IDLE));var i=n?n.stats:a.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==a.sn&&(this.fragPrevious=a),this.fragBufferedComplete(a,n)}},E.onError=function(e,t){switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(d.PlaylistLevelType.MAIN,t);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==r.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=r.State.ERROR):t.levelRetry||this.state!==r.State.WAITING_LEVEL||(this.state=r.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===r.State.PARSING||this.state===r.State.PARSED)){var a=!0,n=this.getFwdBufferInfo(this.media,d.PlaylistLevelType.MAIN);n&&n.len>.5&&(a=!this.reduceMaxBufferLength(n.len)),a&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},E.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!s.BufferHelper.getBuffered(e).length){var a=this.state!==r.State.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,a)}this.lastCurrentTime=e.currentTime}},E.onFragLoadEmergencyAborted=function(){this.state=r.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},E.onBufferFlushed=function(e,t){var a=t.type;if(a!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var n=(a===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,a,d.PlaylistLevelType.MAIN)}},E.onLevelsUpdated=function(e,t){this.levels=t.levels},E.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},E.seekToStartPos=function(){var e=this.media;if(e){var t=e.currentTime,a=this.startPosition;if(a>=0&&t<a){if(e.seeking)return void this.log("could not seek to "+a+", already seeking at "+t);var n=s.BufferHelper.getBuffered(e),r=(n.length?n.start(0):0)-a;r>0&&(r<this.config.maxBufferHole||r<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+r+" to match buffer start"),a+=r,this.startPosition=a),this.log("seek to target start position "+a+" from current time "+t),e.currentTime=a}}},E._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},E._loadBitrateTestFrag=function(e){var t=this;e.bitrateTest=!0,this._doFragLoad(e).then((function(a){var n=t.hls;if(a&&!n.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=r.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var i=e.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),n.trigger(o.Events.FRAG_LOADED,a),e.bitrateTest=!1}}))},E._handleTransmuxComplete=function(e){var t,a="main",i=this.hls,s=e.remuxResult,l=e.chunkMeta,d=this.getCurrentContext(l);if(!d)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(l.level);var u=d.frag,h=d.part,f=d.level,p=s.video,v=s.text,m=s.id3,g=s.initSegment,y=f.details,b=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(u)){if(this.state=r.State.PARSING,g){g.tracks&&(this._bufferInitSegment(f,g.tracks,u,l),i.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:u,id:a,tracks:g.tracks}));var _=g.initPTS,E=g.timescale;(0,n.isFiniteNumber)(_)&&(this.initPTS[u.cc]=_,i.trigger(o.Events.INIT_PTS_FOUND,{frag:u,id:a,initPTS:_,timescale:E}))}if(p&&!1!==s.independent){if(y){var T=p.startPTS,w=p.endPTS,S=p.startDTS,x=p.endDTS;if(h)h.elementaryStreams[p.type]={startPTS:T,endPTS:w,startDTS:S,endDTS:x};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){var k=this.getMainFwdBufferInfo();if((k?k.end:this.getLoadPosition())+this.config.maxBufferHole<(p.firstKeyFramePTS?p.firstKeyFramePTS:T)-this.config.maxBufferHole)return void this.backtrack(u);u.setElementaryStreamInfo(p.type,u.start,w,u.start,x,!0)}u.setElementaryStreamInfo(p.type,T,w,S,x),this.backtrackFragment&&(this.backtrackFragment=u),this.bufferFragmentData(p,u,h,l)}}else if(!1===s.independent)return void this.backtrack(u);if(b){var A=b.startPTS,L=b.endPTS,D=b.startDTS,C=b.endDTS;h&&(h.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:A,endPTS:L,startDTS:D,endDTS:C}),u.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,A,L,D,C),this.bufferFragmentData(b,u,h,l)}if(y&&null!=m&&null!==(t=m.samples)&&void 0!==t&&t.length){var I={id:a,frag:u,details:y,samples:m.samples};i.trigger(o.Events.FRAG_PARSING_METADATA,I)}if(y&&v){var R={id:a,frag:u,details:y,samples:v.samples};i.trigger(o.Events.FRAG_PARSING_USERDATA,R)}}},E._bufferInitSegment=function(e,t,a,n){var i=this;if(this.state===r.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,l=t.video,d=t.audiovideo;if(s){var c=e.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===u.indexOf("firefox")&&(c="mp4a.40.5")),-1!==u.indexOf("android")&&"audio/mpeg"!==s.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),s.levelCodec=c,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}l&&(l.levelCodec=e.videoCodec,l.id="main",this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+l.codec+"]")),d&&this.log("Init audiovideo buffer, container:"+d.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+d.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var r=t[e].initSegment;null!=r&&r.byteLength&&i.hls.trigger(o.Events.BUFFER_APPENDING,{type:e,data:r,frag:a,part:null,chunkMeta:n,parent:a.type})})),this.tick()}},E.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,d.PlaylistLevelType.MAIN)},E.backtrack=function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=r.State.IDLE},E.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var a=e.currentTime;if(s.BufferHelper.isBuffered(e,a)?t=this.getAppendedFrag(a):s.BufferHelper.isBuffered(e,a+.1)&&(t=this.getAppendedFrag(a+.1)),t){this.backtrackFragment=null;var n=this.fragPlaying,r=t.level;n&&t.sn===n.sn&&n.level===r&&t.urlId===n.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:t}),n&&n.level===r||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:r}),this.fragPlaying=t)}}},y=g,(b=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,a=this.currentFrag;if(a&&(0,n.isFiniteNumber)(t)&&(0,n.isFiniteNumber)(a.programDateTime)){var r=a.programDateTime+1e3*(t-a.start);return new Date(r)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&v(y.prototype,b),_&&v(y,_),Object.defineProperty(y,"prototype",{writable:!1}),g}(r.default)},"./src/controller/subtitle-stream-controller.ts":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.ts ***!
  \******************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{SubtitleStreamController:()=>p});var n=a(/*! ../events */"./src/events.ts"),r=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),i=a(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),o=a(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),s=a(/*! ./level-helper */"./src/controller/level-helper.ts"),l=a(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),d=a(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),c=a(/*! ../types/loader */"./src/types/loader.ts"),u=a(/*! ../types/level */"./src/types/level.ts");function h(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p=function(e){var t,a;function p(t,a){var n;return(n=e.call(this,t,a,"[subtitle-stream-controller]")||this).levels=[],n.currentTrackId=-1,n.tracksBuffered=[],n.mainDetails=null,n._registerListeners(),n}a=e,(t=p).prototype=Object.create(a.prototype),t.prototype.constructor=t,f(t,a);var m,g,y,b=p.prototype;return b.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},b._registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(n.Events.ERROR,this.onError,this),e.on(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(n.Events.FRAG_BUFFERED,this.onFragBuffered,this)},b._unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(n.Events.ERROR,this.onError,this),e.off(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(n.Events.FRAG_BUFFERED,this.onFragBuffered,this)},b.startLoad=function(e){this.stopLoad(),this.state=d.State.IDLE,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},b.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},b.onLevelLoaded=function(e,t){this.mainDetails=t.details},b.onSubtitleFragProcessed=function(e,t){var a=t.frag,n=t.success;if(this.fragPrevious=a,this.state=d.State.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var i,o=a.start,s=0;s<r.length;s++)if(o>=r[s].start&&o<=r[s].end){i=r[s];break}var l=a.start+a.duration;i?i.end=l:(i={start:o,end:l},r.push(i)),this.fragmentTracker.fragBuffered(a)}}},b.onBufferFlushing=function(e,t){var a=t.startOffset,n=t.endOffset;if(0===a&&n!==Number.POSITIVE_INFINITY){var r=this.currentTrackId,i=this.levels;if(!i.length||!i[r]||!i[r].details)return;var o=n-i[r].details.targetduration;if(o<=0)return;t.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=o)e.shift();else{if(!(e[t].start<o))break;e[t].start=o,t++}})),this.fragmentTracker.removeFragmentsInRange(a,o,c.PlaylistLevelType.SUBTITLE)}},b.onFragBuffered=function(e,t){var a;this.loadedmetadata||t.frag.type!==c.PlaylistLevelType.MAIN||null!==(a=this.media)&&void 0!==a&&a.buffered.length&&(this.loadedmetadata=!0)},b.onError=function(e,t){var a,n=t.frag;n&&n.type===c.PlaylistLevelType.SUBTITLE&&(null!==(a=this.fragCurrent)&&void 0!==a&&a.loader&&this.fragCurrent.loader.abort(),this.state=d.State.IDLE)},b.onSubtitleTracksUpdated=function(e,t){var a=this,n=t.subtitleTracks;this.tracksBuffered=[],this.levels=n.map((function(e){return new u.Level(e)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(e){a.tracksBuffered[e.id]=[]})),this.mediaBuffer=null},b.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var a=this.levels[this.currentTrackId];null!=a&&a.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,a&&this.setInterval(500)}else this.clearInterval()},b.onSubtitleTrackLoaded=function(e,t){var a,n=t.details,r=t.id,l=this.currentTrackId,c=this.levels;if(c.length){var u=c[l];if(!(r>=c.length||r!==l)&&u){this.mediaBuffer=this.mediaBufferTimeRanges;var h=0;if(n.live||null!==(a=u.details)&&void 0!==a&&a.live){var f=this.mainDetails;if(n.deltaUpdateFailed||!f)return;var p=f.fragments[0];u.details?0===(h=this.alignPlaylists(n,u.details))&&p&&(h=p.start,(0,s.addSliding)(n,h)):n.hasProgramDateTime&&f.hasProgramDateTime?((0,o.alignMediaPlaylistByPDT)(n,f),h=n.fragments[0].start):p&&(h=p.start,(0,s.addSliding)(n,h))}u.details=n,this.levelLastLoaded=r,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(u.details,h),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===d.State.IDLE&&((0,i.findFragmentByPTS)(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),u.details=void 0))}}},b._handleFragmentLoadComplete=function(e){var t=e.frag,a=e.payload,r=t.decryptdata,i=this.hls;if(!this.fragContextChanged(t)&&a&&a.byteLength>0&&r&&r.key&&r.iv&&"AES-128"===r.method){var o=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(a),r.key.buffer,r.iv.buffer).then((function(e){var a=performance.now();i.trigger(n.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:o,tdecrypt:a}})}))}},b.doTick=function(){if(this.media){if(this.state===d.State.IDLE){var e=this.currentTrackId,t=this.levels;if(!t.length||!t[e]||!t[e].details)return;var a=t[e].details,n=a.targetduration,o=this.config,s=this.getLoadPosition(),u=r.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s-n,o.maxBufferHole),h=u.end,f=u.len,p=this.getFwdBufferInfo(this.media,c.PlaylistLevelType.MAIN);if(f>this.getMaxBufferLength(null==p?void 0:p.len)+n)return;console.assert(a,"Subtitle track details are defined on idle subtitle stream controller tick");var v,m=a.fragments,g=m.length,y=a.edge,b=this.fragPrevious;if(h<y){var _=o.maxFragLookUpTolerance;!(v=(0,i.findFragmentByPTS)(b,m,Math.max(m[0].start,h),_))&&b&&b.start<m[0].start&&(v=m[0])}else v=m[g-1];if(!(v=this.mapToInitFragWhenRequired(v)))return;if(this.fragmentTracker.getState(v)!==l.FragmentState.NOT_LOADED)return;v.encrypted?this.loadKey(v,a):this.loadFragment(v,a,h)}}else this.state=d.State.IDLE},b.getMaxBufferLength=function(t){var a=e.prototype.getMaxBufferLength.call(this);return t?Math.max(a,t):a},b.loadFragment=function(t,a,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,a,n))},m=p,(g=[{key:"mediaBufferTimeRanges",get:function(){return new v(this.tracksBuffered[this.currentTrackId]||[])}}])&&h(m.prototype,g),y&&h(m,y),Object.defineProperty(m,"prototype",{writable:!1}),p}(d.default),v=function(e){this.buffered=void 0;var t=function(t,a,n){if((a>>>=0)>n-1)throw new DOMException("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+a+") is greater than the maximum bound ("+n+")");return e[a][t]};this.buffered={get length(){return e.length},end:function(a){return t("end",a,e.length)},start:function(a){return t("start",a,e.length)}}}},"./src/controller/subtitle-track-controller.ts":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.ts ***!
  \*****************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(/*! ../events */"./src/events.ts"),r=a(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),i=a(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),o=a(/*! ../types/loader */"./src/types/loader.ts");function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];"subtitles"===n.kind&&n.label&&t.push(e[a])}return t}const c=function(e){var t,a;function i(t){var a;return(a=e.call(this,t,"[subtitle-track-controller]")||this).media=null,a.tracks=[],a.groupId=null,a.tracksInGroup=[],a.trackId=-1,a.selectDefaultTrack=!0,a.queuedDefaultTrack=-1,a.trackChangeListener=function(){return a.onTextTracksChanged()},a.asyncPollTrackChange=function(){return a.pollTrackChange(0)},a.useTextTrackPolling=!1,a.subtitlePollingInterval=-1,a._subtitleDisplay=!0,a.registerListeners(),a}a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,l(t,a);var c,u,h,f=i.prototype;return f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},f.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(n.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(n.Events.ERROR,this.onError,this)},f.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},f.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},f.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),d(this.media.textTracks).forEach((function(e){(0,r.clearCurrentCues)(e)})),this.subtitleTrack=-1,this.media=null)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},f.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},f.onSubtitleTrackLoaded=function(e,t){var a=t.id,n=t.details,r=this.trackId,i=this.tracksInGroup[r];if(i){var o=i.details;i.details=t.details,this.log("subtitle track "+a+" loaded ["+n.startSN+"-"+n.endSN+"]"),a===this.trackId&&(this.retryCount=0,this.playlistLoaded(a,t,o))}else this.warn("Invalid subtitle track id "+a)},f.onLevelLoading=function(e,t){this.switchLevel(t.level)},f.onLevelSwitching=function(e,t){this.switchLevel(t.level)},f.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var a=t.textGroupIds[t.urlId];if(this.groupId!==a){var r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,i=this.tracks.filter((function(e){return!a||e.groupId===a}));this.tracksInGroup=i;var o=this.findTrackId(null==r?void 0:r.name)||this.findTrackId();this.groupId=a;var s={subtitleTracks:i};this.log("Updating subtitle tracks, "+i.length+' track(s) found in "'+a+'" group-id'),this.hls.trigger(n.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==o&&this.setSubtitleTrack(o,r)}}},f.findTrackId=function(e){for(var t=this.tracksInGroup,a=0;a<t.length;a++){var n=t[a];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},f.onError=function(t,a){e.prototype.onError.call(this,t,a),!a.fatal&&a.context&&a.context.type===o.PlaylistContextType.SUBTITLE_TRACK&&a.context.id===this.trackId&&a.context.groupId===this.groupId&&this.retryLoadingOrFail(a)},f.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var a=t.id,r=t.groupId,i=t.url;if(e)try{i=e.addDirectives(i)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Loading subtitle playlist for id "+a),this.hls.trigger(n.Events.SUBTITLE_TRACK_LOADING,{url:i,id:a,groupId:r,deliveryDirectives:e||null})}},f.toggleTrackModes=function(e){var t=this,a=this.media,n=this.trackId;if(a){var r=d(a.textTracks),i=r.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(r).forEach((function(e){e.mode="disabled"}));else{var o=i[n];o&&(o.mode="disabled")}var s=i[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}},f.setSubtitleTrack=function(e,t){var a,r=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(a=r[e])&&void 0!==a&&a.details)||e<-1||e>=r.length)){this.clearTimer();var i=r[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,i){var o=i.id,s=i.groupId,l=void 0===s?"":s,d=i.name,c=i.type,u=i.url;this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:o,groupId:l,name:d,type:c,url:u});var h=this.switchParams(i.url,null==t?void 0:t.details);this.loadPlaylist(h)}else this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},f.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=d(this.media.textTracks),a=0;a<t.length;a++)if("hidden"===t[a].mode)e=a;else if("showing"===t[a].mode){e=a;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},c=i,(u=[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}])&&s(c.prototype,u),h&&s(c,h),Object.defineProperty(c,"prototype",{writable:!1}),i}(i.default)},"./src/controller/timeline-controller.ts":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.ts ***!
  \***********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{TimelineController:()=>f});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.ts"),o=a(/*! ../utils/output-filter */"./src/utils/output-filter.ts"),s=a(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.ts"),l=a(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),d=a(/*! ../utils/imsc1-ttml-parser */"./src/utils/imsc1-ttml-parser.ts"),c=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),u=a(/*! ../types/loader */"./src/types/loader.ts"),h=a(/*! ../utils/logger */"./src/utils/logger.ts"),f=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new o.default(this,"textTrack1"),a=new o.default(this,"textTrack2"),n=new o.default(this,"textTrack3"),s=new o.default(this,"textTrack4");this.cea608Parser1=new i.default(1,t,a),this.cea608Parser2=new i.default(3,n,s)}e.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(r.Events.FRAG_LOADING,this.onFragLoading,this),e.on(r.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(r.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(r.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(r.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(r.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(r.Events.FRAG_LOADING,this.onFragLoading,this),e.off(r.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(r.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(r.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(r.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(r.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,a,n,i){for(var o,s,l,d,c=!1,u=i.length;u--;){var h=i[u],f=(o=h[0],s=h[1],l=t,d=a,Math.min(s,d)-Math.max(o,l));if(f>=0&&(h[0]=Math.min(h[0],t),h[1]=Math.max(h[1],a),c=!0,f/(a-t)>.5))return}if(c||i.push([t,a]),this.config.renderTextTracksNatively){var p=this.captionsTracks[e];this.Cues.newCue(p,t,a,n)}else{var v=this.Cues.newCue(null,t,a,n);this.hls.trigger(r.Events.CUES_PARSED,{type:"captions",cues:v,track:e})}},t.onInitPtsFound=function(e,t){var a=this,n=t.frag,i=t.id,o=t.initPTS,s=t.timescale,l=this.unparsedVttFrags;"main"===i&&(this.initPTS[n.cc]=o,this.timescale[n.cc]=s),l.length&&(this.unparsedVttFrags=[],l.forEach((function(e){a.onFragLoaded(r.Events.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var a=0;a<t.textTracks.length;a++){var n=t.textTracks[a];if(n[e])return n}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,a=this.captionsTracks,n=this.media,r=t[e],i=r.label,o=r.languageCode,s=this.getExistingTrack(e);if(s)a[e]=s,(0,l.clearCurrentCues)(a[e]),(0,l.sendAddTrackEvent)(a[e],n);else{var d=this.createTextTrack("captions",i,o);d&&(d[e]=!0,a[e]=d)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var a={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=a,this.hls.trigger(r.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[a]})}}},t.createTextTrack=function(e,t,a){var n=this.media;if(n)return n.addTextTrack(e,t,a)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){(0,l.clearCurrentCues)(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var a=0;a<t.length;a++)(0,l.clearCurrentCues)(t[a])}},t.onSubtitleTracksUpdated=function(e,t){var a=this;this.textTracks=[];var n=t.subtitleTracks||[],i=n.some((function(e){return e.textCodec===d.IMSC1_CODEC}));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){var o=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=n||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,t){var n;if(t<s.length){for(var r=null,i=0;i<s.length;i++)if(p(s[i],e)){r=s[i];break}r&&(n=r)}if(n)(0,l.clearCurrentCues)(n);else{var o=a._captionsOrSubtitlesFromCharacteristics(e);(n=a.createTextTrack(o,e.name,e.lang))&&(n.mode="disabled")}n&&(n.groupId=e.groupId,a.textTracks.push(n))}))}else if(!o&&this.tracks&&this.tracks.length){var c=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(r.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:c})}}},t._captionsOrSubtitlesFromCharacteristics=function(e){var t;if(null!==(t=e.attrs)&&void 0!==t&&t.CHARACTERISTICS){var a=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(a&&n)return"captions"}return"subtitles"},t.onManifestLoaded=function(e,t){var a=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var n="textTrack"+t[1],r=a.captionsProperties[n];r&&(r.label=e.name,e.lang&&(r.languageCode=e.lang),r.media=e)}}))},t.closedCaptionsForLevel=function(e){var t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]},t.onFragLoading=function(e,t){var a=this.cea608Parser1,n=this.cea608Parser2,r=this.lastSn,i=this.lastPartIndex;if(this.enabled&&a&&n&&t.frag.type===u.PlaylistLevelType.MAIN){var o,s,l=t.frag.sn,d=null!=(o=null==t||null===(s=t.part)||void 0===s?void 0:s.index)?o:-1;l===r+1||l===r&&d===i+1||(a.reset(),n.reset()),this.lastSn=l,this.lastPartIndex=d}},t.onFragLoaded=function(e,t){var a=t.frag,i=t.payload,o=this.initPTS,s=this.unparsedVttFrags;if(a.type===u.PlaylistLevelType.SUBTITLE)if(i.byteLength){if(!(0,n.isFiniteNumber)(o[a.cc]))return s.push(t),void(o.length&&this.hls.trigger(r.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a,error:new Error("Missing initial subtitle PTS")}));var l=a.decryptdata,c="stats"in t;if(null==l||null==l.key||"AES-128"!==l.method||c){var h=this.tracks[a.level],f=this.vttCCs;f[a.cc]||(f[a.cc]={start:a.start,prevCC:this.prevCC,new:!0},this.prevCC=a.cc),h&&h.textCodec===d.IMSC1_CODEC?this._parseIMSC1(a,i):this._parseVTTs(a,i,f)}}else this.hls.trigger(r.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var a=this,n=this.hls;(0,d.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(t){a._appendCues(t,e.level),n.trigger(r.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){h.logger.log("Failed to parse IMSC1: "+t),n.trigger(r.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e,t,a){var n,i=this,o=this.hls,l=null!==(n=e.initSegment)&&void 0!==n&&n.data?(0,c.appendUint8Array)(e.initSegment.data,new Uint8Array(t)):t;(0,s.parseWebVTT)(l,this.initPTS[e.cc],this.timescale[e.cc],a,e.cc,e.start,(function(t){i._appendCues(t,e.level),o.trigger(r.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(a){i._fallbackToIMSC1(e,t),h.logger.log("Failed to parse VTT cue: "+a),o.trigger(r.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:a})}))},t._fallbackToIMSC1=function(e,t){var a=this,n=this.tracks[e.level];n.textCodec||(0,d.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(){n.textCodec=d.IMSC1_CODEC,a._parseIMSC1(e,t)}),(function(){n.textCodec="wvtt"}))},t._appendCues=function(e,t){var a=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[t];if(!n||"disabled"===n.mode)return;e.forEach((function(e){return(0,l.addCueToTrack)(n,e)}))}else{var i=this.tracks[t];if(!i)return;var o=i.default?"default":"subtitles"+t;a.trigger(r.Events.CUES_PARSED,{type:"subtitles",cues:e,track:o})}},t.onFragDecrypted=function(e,t){var a=t.frag;if(a.type===u.PlaylistLevelType.SUBTITLE){if(!(0,n.isFiniteNumber)(this.initPTS[a.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(r.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var a=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&a&&n){var r=t.frag,i=t.samples;if(r.type!==u.PlaylistLevelType.MAIN||"NONE"!==this.closedCaptionsForLevel(r))for(var o=0;o<i.length;o++){var s=i[o].bytes;if(s){var l=this.extractCea608Data(s);a.addData(i[o].pts,l[0]),n.addData(i[o].pts,l[1])}}}},t.onBufferFlushing=function(e,t){var a=t.startOffset,n=t.endOffset,r=t.endOffsetSubtitles,i=t.type,o=this.media;if(o&&!(o.currentTime<n)){if(!i||"video"===i){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return(0,l.removeCuesInRange)(s[e],a,n)}))}if(this.config.renderTextTracksNatively&&0===a&&void 0!==r){var d=this.textTracks;Object.keys(d).forEach((function(e){return(0,l.removeCuesInRange)(d[e],a,r)}))}}},t.extractCea608Data=function(e){for(var t=[[],[]],a=31&e[0],n=2,r=0;r<a;r++){var i=e[n++],o=127&e[n++],s=127&e[n++];if((0!==o||0!==s)&&0!=(4&i)){var l=3&i;0!==l&&1!==l||(t[l].push(o),t[l].push(s))}}return t},e}();function p(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}},"./src/crypt/aes-crypto.ts":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,removePadding:()=>r});var n=a(/*! ../utils/typed-array */"./src/utils/typed-array.ts");function r(e){var t=e.byteLength,a=t&&new DataView(e.buffer).getUint8(t-1);return a?(0,n.sliceUint8)(e,0,t-a):e}var i=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),a=new Uint32Array(4),n=0;n<4;n++)a[n]=t.getUint32(4*n);return a},t.initTable=function(){var e=this.sBox,t=this.invSBox,a=this.subMix,n=a[0],r=a[1],i=a[2],o=a[3],s=this.invSubMix,l=s[0],d=s[1],c=s[2],u=s[3],h=new Uint32Array(256),f=0,p=0,v=0;for(v=0;v<256;v++)h[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,e[f]=m,t[m]=f;var g=h[f],y=h[g],b=h[y],_=257*h[m]^16843008*m;n[f]=_<<24|_>>>8,r[f]=_<<16|_>>>16,i[f]=_<<8|_>>>24,o[f]=_,_=16843009*b^65537*y^257*g^16843008*f,l[m]=_<<24|_>>>8,d[m]=_<<16|_>>>16,c[m]=_<<8|_>>>24,u[m]=_,f?(f=g^h[h[h[b^g]]],p^=h[h[p]]):f=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),a=!0,n=0;n<t.length&&a;)a=t[n]===this.key[n],n++;if(!a){this.key=t;var r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var i,o,s,l,d=this.ksRows=4*(r+6+1),c=this.keySchedule=new Uint32Array(d),u=this.invKeySchedule=new Uint32Array(d),h=this.sBox,f=this.rcon,p=this.invSubMix,v=p[0],m=p[1],g=p[2],y=p[3];for(i=0;i<d;i++)i<r?s=c[i]=t[i]:(l=s,i%r==0?(l=h[(l=l<<8|l>>>24)>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l],l^=f[i/r|0]<<24):r>6&&i%r==4&&(l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l]),c[i]=s=(c[i-r]^l)>>>0);for(o=0;o<d;o++)i=d-o,l=3&o?c[i]:c[i-4],u[o]=o<4||i<=4?l:v[h[l>>>24]]^m[h[l>>>16&255]]^g[h[l>>>8&255]]^y[h[255&l]],u[o]=u[o]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,a){for(var n,r,i,o,s,l,d,c,u,h,f,p,v,m,g=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,_=this.invSubMix,E=_[0],T=_[1],w=_[2],S=_[3],x=this.uint8ArrayToUint32Array_(a),k=x[0],A=x[1],L=x[2],D=x[3],C=new Int32Array(e),I=new Int32Array(C.length),R=this.networkToHostOrderSwap;t<C.length;){for(u=R(C[t]),h=R(C[t+1]),f=R(C[t+2]),p=R(C[t+3]),s=u^y[0],l=p^y[1],d=f^y[2],c=h^y[3],v=4,m=1;m<g;m++)n=E[s>>>24]^T[l>>16&255]^w[d>>8&255]^S[255&c]^y[v],r=E[l>>>24]^T[d>>16&255]^w[c>>8&255]^S[255&s]^y[v+1],i=E[d>>>24]^T[c>>16&255]^w[s>>8&255]^S[255&l]^y[v+2],o=E[c>>>24]^T[s>>16&255]^w[l>>8&255]^S[255&d]^y[v+3],s=n,l=r,d=i,c=o,v+=4;n=b[s>>>24]<<24^b[l>>16&255]<<16^b[d>>8&255]<<8^b[255&c]^y[v],r=b[l>>>24]<<24^b[d>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[v+1],i=b[d>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^y[v+2],o=b[c>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&d]^y[v+3],I[t]=R(n^k),I[t+1]=R(o^A),I[t+2]=R(i^L),I[t+3]=R(r^D),k=u,A=h,L=f,D=p,t+=4}return I.buffer},e}()},"./src/crypt/decrypter.ts":
/*!********************************!*\
  !*** ./src/crypt/decrypter.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(/*! ./aes-crypto */"./src/crypt/aes-crypto.ts"),r=a(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.ts"),i=a(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=a(/*! ../utils/typed-array */"./src/utils/typed-array.ts"),d=function(){function e(e,t,a){var n=(void 0===a?{}:a).removePKCS7Padding,r=void 0===n||n;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=r,r)try{var i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(e){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?(0,i.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,a,n){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,a);var r=this.flush();r&&n(r.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,a).then(n)},t.softwareDecrypt=function(e,t,a){var n=this.currentIV,r=this.currentResult,o=this.remainderData;this.logOnce("JS AES decrypt"),o&&(e=(0,s.appendUint8Array)(o,e),this.remainderData=null);var d=this.getValidChunk(e);if(!d.length)return null;n&&(a=n);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new i.default),c.expandKey(t);var u=r;return this.currentResult=c.decrypt(d.buffer,0,a),this.currentIV=(0,l.sliceUint8)(d,-16).buffer,u||null},t.webCryptoDecrypt=function(e,t,a){var i=this,o=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new r.default(o,t)),this.fastAesKey.expandKey().then((function(t){return o?new n.default(o,a).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(n){return i.onWebCryptoError(n,e,t,a)}))},t.onWebCryptoError=function(e,t,a,n){return o.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,a,n)},t.getValidChunk=function(e){var t=e,a=e.length-e.length%16;return a!==e.length&&(t=(0,l.sliceUint8)(e,0,a),this.remainderData=(0,l.sliceUint8)(e,a)),t},t.logOnce=function(e){this.logEnabled&&(o.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.ts ***!
  \***********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts"),r=a(/*! ./adts */"./src/demux/adts.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! ../demux/id3 */"./src/demux/id3.ts");function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}const l=function(e){var t,a;function n(t,a){var n;return(n=e.call(this)||this).observer=void 0,n.config=void 0,n.observer=t,n.config=a,n}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,s(t,a);var l=n.prototype;return l.resetInitSegment=function(t,a,n,r){e.prototype.resetInitSegment.call(this,t,a,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:a,duration:r,inputTimeScale:9e4,dropped:0}},n.probe=function(e){if(!e)return!1;for(var t=(o.getID3Data(e,0)||[]).length,a=e.length;t<a;t++)if(r.probe(e,t))return i.logger.log("ADTS sync word found !"),!0;return!1},l.canParse=function(e,t){return r.canParse(e,t)},l.appendFrame=function(e,t,a){r.initTrackConfig(e,this.observer,t,a,e.manifestCodec);var n=r.appendFrame(e,t,a,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n},n}(n.default)},"./src/demux/adts.ts":
/*!***************************!*\
  !*** ./src/demux/adts.ts ***!
  \***************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{appendFrame:()=>g,canGetFrameLength:()=>c,canParse:()=>h,getAudioConfig:()=>o,getFrameDuration:()=>v,getFullFrameLength:()=>d,getHeaderLength:()=>l,initTrackConfig:()=>p,isHeader:()=>u,isHeaderPattern:()=>s,parseFrameHeader:()=>m,probe:()=>f});var n=a(/*! ../utils/logger */"./src/utils/logger.ts"),r=a(/*! ../errors */"./src/errors.ts"),i=a(/*! ../events */"./src/events.ts");function o(e,t,a,o){var s,l,d,c,u=navigator.userAgent.toLowerCase(),h=o,f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[a+2])>>>6);var p=(60&t[a+2])>>>2;if(!(p>f.length-1))return d=(1&t[a+2])<<2,d|=(192&t[a+3])>>>6,n.logger.log("manifest codec:"+o+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(u)?p>=6?(s=5,c=new Array(4),l=p-3):(s=2,c=new Array(2),l=p):-1!==u.indexOf("android")?(s=2,c=new Array(2),l=p):(s=5,c=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&p>=6?l=p-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(p>=6&&1===d||/vivaldi/i.test(u))||!o&&1===d)&&(s=2,c=new Array(2)),l=p)),c[0]=s<<3,c[0]|=(14&p)>>1,c[1]|=(1&p)<<7,c[1]|=d<<3,5===s&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:f[p],channelCount:d,codec:"mp4a.40."+s,manifestCodec:h};e.trigger(i.Events.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function d(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return t+5<e.length}function u(e,t){return t+1<e.length&&s(e,t)}function h(e,t){return c(e,t)&&s(e,t)&&d(e,t)<=e.length-t}function f(e,t){if(u(e,t)){var a=l(e,t);if(t+a>=e.length)return!1;var n=d(e,t);if(n<=a)return!1;var r=t+n;return r===e.length||u(e,r)}return!1}function p(e,t,a,r,i){if(!e.samplerate){var s=o(t,a,r,i);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,n.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function v(e){return 9216e4/e}function m(e,t){var a=l(e,t);if(t+a<=e.length){var n=d(e,t)-a;if(n>0)return{headerLength:a,frameLength:n}}}function g(e,t,a,n,r){var i,o=n+r*v(e.samplerate),s=m(t,a);if(s){var l=s.frameLength,d=s.headerLength,c=d+l,u=Math.max(0,a+c-t.length);u?(i=new Uint8Array(c-d)).set(t.subarray(a+d,t.length),0):i=t.subarray(a+d,a+c);var h={unit:i,pts:o};return u||e.samples.push(h),{sample:h,length:c,missing:u}}var f=t.length-a;return(i=new Uint8Array(f)).set(t.subarray(a,t.length),0),{sample:{unit:i,pts:o},length:f,missing:-1}}},"./src/demux/base-audio-demuxer.ts":
/*!*****************************************!*\
  !*** ./src/demux/base-audio-demuxer.ts ***!
  \*****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,initPTSFn:()=>c});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../demux/id3 */"./src/demux/id3.ts"),i=a(/*! ../types/demuxer */"./src/types/demuxer.ts"),o=a(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts"),s=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=a(/*! ../utils/typed-array */"./src/utils/typed-array.ts"),d=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,a,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(e){this.initPTS=e,this.resetContiguity()},t.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,a){},t.demux=function(e,t){this.cachedData&&(e=(0,s.appendUint8Array)(this.cachedData,e),this.cachedData=null);var a,d=r.getID3Data(e,0),u=d?d.length:0,h=this._audioTrack,f=this._id3Track,p=d?r.getTimeStamp(d):void 0,v=e.length;for((null===this.basePTS||0===this.frameIndex&&(0,n.isFiniteNumber)(p))&&(this.basePTS=c(p,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),d&&d.length>0&&f.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:d,type:i.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});u<v;){if(this.canParse(e,u)){var m=this.appendFrame(h,e,u);m?(this.frameIndex++,this.lastPTS=m.sample.pts,a=u+=m.length):u=v}else r.canParse(e,u)?(d=r.getID3Data(e,u),f.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:d,type:i.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),a=u+=d.length):u++;if(u===v&&a!==v){var g=(0,l.sliceUint8)(e,a);this.cachedData?this.cachedData=(0,s.appendUint8Array)(this.cachedData,g):this.cachedData=g}}return{audioTrack:h,videoTrack:(0,o.dummyTrack)(),id3Track:f,textTrack:(0,o.dummyTrack)()}},t.demuxSampleAes=function(e,t,a){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:(0,o.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,o.dummyTrack)()}},t.destroy=function(){},e}(),c=function(e,t,a){return(0,n.isFiniteNumber)(e)?90*e:9e4*t+(a||0)};const u=d},"./src/demux/chunk-cache.ts":
/*!**********************************!*\
  !*** ./src/demux/chunk-cache.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,a=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var a=new Uint8Array(t),n=0,r=0;r<e.length;r++){var i=e[r];a.set(i,n),n+=i.length}return a}(t,a),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":
/*!******************************************!*\
  !*** ./src/demux/dummy-demuxed-track.ts ***!
  \******************************************/(e,t,a)=>{"use strict";function n(e,t){return void 0===e&&(e=""),void 0===t&&(t=9e4),{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}a.r(t),a.d(t,{dummyTrack:()=>n})},"./src/demux/exp-golomb.ts":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(/*! ../utils/logger */"./src/utils/logger.ts");const r=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,a=e.byteLength-t,n=new Uint8Array(4),r=Math.min(4,t);if(0===r)throw new Error("no bytes available");n.set(e.subarray(a,a+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),a=this.word>>>32-t;return e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?a<<t|this.readBits(t):a},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,a=8,n=0;n<e;n++)0!==a&&(a=(t+this.readEG()+256)%256),t=0===a?t:a},t.readSPS=function(){var e,t,a,n=0,r=0,i=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),d=this.readUEG.bind(this),c=this.readBoolean.bind(this),u=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(l(5),u(3),s(),f(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var m=d();if(3===m&&u(1),f(),f(),u(1),c())for(t=3!==m?8:12,a=0;a<t;a++)c()&&p(a<6?16:64)}f();var g=d();if(0===g)d();else if(1===g)for(u(1),h(),h(),e=d(),a=0;a<e;a++)h();f(),u(1);var y=d(),b=d(),_=l(1);0===_&&u(1),u(1),c()&&(n=d(),r=d(),i=d(),o=d());var E=[1,1];if(c()&&c())switch(s()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*n-2*r),height:(2-_)*(b+1)*16-(_?2:4)*(i+o),pixelRatio:E}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}()},"./src/demux/id3.ts":
/*!**************************!*\
  !*** ./src/demux/id3.ts ***!
  \**************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{canParse:()=>l,decodeFrame:()=>f,getID3Data:()=>o,getID3Frames:()=>h,getTimeStamp:()=>d,isFooter:()=>i,isHeader:()=>r,isTimeStampFrame:()=>c,testables:()=>b,utf8ArrayToStr:()=>y});var n,r=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},i=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){for(var a=t,n=0;r(e,t);)n+=10,n+=s(e,t+6),i(e,t+10)&&(n+=10),t+=n;if(n>0)return e.subarray(a,a+n)},s=function(e,t){var a=0;return a=(127&e[t])<<21,a|=(127&e[t+1])<<14,a|=(127&e[t+2])<<7,a|=127&e[t+3]},l=function(e,t){return r(e,t)&&s(e,t+6)+10<=e.length-t},d=function(e){for(var t=h(e),a=0;a<t.length;a++){var n=t[a];if(c(n))return g(n)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},u=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),a=s(e,4);return{type:t,size:a,data:e.subarray(10,10+a)}},h=function(e){for(var t=0,a=[];r(e,t);){for(var n=s(e,t+6),o=(t+=10)+n;t+8<o;){var l=u(e.subarray(t)),d=f(l);d&&a.push(d),t+=l.size+10}i(e,t)&&(t+=10)}return a},f=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?m(e):v(e)},p=function(e){if(!(e.size<2)){var t=y(e.data,!0),a=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:a.buffer}}},v=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,a=y(e.data.subarray(t),!0);t+=a.length+1;var n=y(e.data.subarray(t));return{key:e.type,info:a,data:n}}var r=y(e.data.subarray(1));return{key:e.type,data:r}}},m=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,a=y(e.data.subarray(t),!0);t+=a.length+1;var n=y(e.data.subarray(t));return{key:e.type,info:a,data:n}}var r=y(e.data);return{key:e.type,data:r}},g=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),a=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,a&&(n+=47721858.84),Math.round(n)}},y=function(e,t){void 0===t&&(t=!1);var a=_();if(a){var n=a.decode(e);if(t){var r=n.indexOf("\0");return-1!==r?n.substring(0,r):n}return n.replace(/\0/g,"")}for(var i,o,s,l=e.length,d="",c=0;c<l;){if(0===(i=e[c++])&&t)return d;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:d+=String.fromCharCode(i);break;case 12:case 13:o=e[c++],d+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=e[c++],s=e[c++],d+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&s)<<0)}}return d},b={decodeTextFrame:v};function _(){return n||void 0===self.TextDecoder||(n=new self.TextDecoder("utf-8")),n}},"./src/demux/mp3demuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts"),r=a(/*! ../demux/id3 */"./src/demux/id3.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! ./mpegaudio */"./src/demux/mpegaudio.ts");function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l=function(e){var t,a;function n(){return e.apply(this,arguments)||this}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,s(t,a);var l=n.prototype;return l.resetInitSegment=function(t,a,n,r){e.prototype.resetInitSegment.call(this,t,a,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:a,duration:r,inputTimeScale:9e4,dropped:0}},n.probe=function(e){if(!e)return!1;for(var t=(r.getID3Data(e,0)||[]).length,a=e.length;t<a;t++)if(o.probe(e,t))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},l.canParse=function(e,t){return o.canParse(e,t)},l.appendFrame=function(e,t,a){if(null!==this.basePTS)return o.appendFrame(e,t,a,this.basePTS,this.frameIndex)},n}(n.default);const d=l},"./src/demux/mp4demuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../types/demuxer */"./src/types/demuxer.ts"),i=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),o=a(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts"),s=/\/emsg[-/]ID3/i;const l=function(){function e(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(e,t,a,n){var r=(0,i.parseInitSegment)(e),s=this.videoTrack=(0,o.dummyTrack)("video",1),l=this.audioTrack=(0,o.dummyTrack)("audio",1),d=this.txtTrack=(0,o.dummyTrack)("text",1);if(this.id3Track=(0,o.dummyTrack)("id3",1),this.timeOffset=0,r.video){var c=r.video,u=c.id,h=c.timescale,f=c.codec;s.id=u,s.timescale=d.timescale=h,s.codec=f}if(r.audio){var p=r.audio,v=p.id,m=p.timescale,g=p.codec;l.id=v,l.timescale=m,l.codec=g}d.id=i.RemuxerTrackIdConfig.text,s.sampleDuration=0,s.duration=l.duration=n},t.resetContiguity=function(){},e.probe=function(e){return e=e.length>16384?e.subarray(0,16384):e,(0,i.findBox)(e,["moof"]).length>0},t.demux=function(e,t){this.timeOffset=t;var a=e,n=this.videoTrack,r=this.txtTrack;if(this.config.progressive){this.remainderData&&(a=(0,i.appendUint8Array)(this.remainderData,e));var o=(0,i.segmentValidRange)(a);this.remainderData=o.remainder,n.samples=o.valid||new Uint8Array}else n.samples=a;var s=this.extractID3Track(n,t);return r.samples=(0,i.parseSamples)(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},t.flush=function(){var e=this.timeOffset,t=this.videoTrack,a=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var n=this.extractID3Track(t,this.timeOffset);return a.samples=(0,i.parseSamples)(e,t),{videoTrack:t,audioTrack:(0,o.dummyTrack)(),id3Track:n,textTrack:(0,o.dummyTrack)()}},t.extractID3Track=function(e,t){var a=this.id3Track;if(e.samples.length){var o=(0,i.findBox)(e.samples,["emsg"]);o&&o.forEach((function(e){var o=(0,i.parseEmsg)(e);if(s.test(o.schemeIdUri)){var l=(0,n.isFiniteNumber)(o.presentationTime)?o.presentationTime/o.timeScale:t+o.presentationTimeDelta/o.timeScale,d=4294967295===o.eventDuration?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;d<=.001&&(d=Number.POSITIVE_INFINITY);var c=o.payload;a.samples.push({data:c,len:c.byteLength,dts:l,pts:l,type:r.MetadataSchema.emsg,duration:d})}}))}return a},t.demuxSampleAes=function(e,t,a){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}()},"./src/demux/mpegaudio.ts":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{appendFrame:()=>l,canParse:()=>h,isHeader:()=>u,isHeaderPattern:()=>c,parseHeader:()=>d,probe:()=>f});var n=null,r=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function l(e,t,a,n,r){if(!(a+24>t.length)){var i=d(t,a);if(i&&a+i.frameLength<=t.length){var o=n+r*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:t.subarray(a,a+i.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=i.channelCount,e.samplerate=i.sampleRate,e.samples.push(s),{sample:s,length:i.frameLength,missing:0}}}}function d(e,t){var a=e[t+1]>>3&3,l=e[t+1]>>1&3,d=e[t+2]>>4&15,c=e[t+2]>>2&3;if(1!==a&&0!==d&&15!==d&&3!==c){var u=e[t+2]>>1&1,h=e[t+3]>>6,f=1e3*r[14*(3===a?3-l:3===l?3:4)+d-1],p=i[3*(3===a?0:2===a?1:2)+c],v=3===h?1:2,m=o[a][l],g=s[l],y=8*m*g,b=Math.floor(m*f/p+u)*g;if(null===n){var _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);n=_?parseInt(_[1]):0}return!!n&&n<=87&&2===l&&f>=224e3&&0===h&&(e[t+3]=128|e[t+3]),{sampleRate:p,channelCount:v,frameLength:b,samplesPerFrame:y}}}function c(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function u(e,t){return t+1<e.length&&c(e,t)}function h(e,t){return c(e,t)&&4<=e.length-t}function f(e,t){if(t+1<e.length&&c(e,t)){var a=d(e,t),n=4;null!=a&&a.frameLength&&(n=a.frameLength);var r=t+n;return r===e.length||u(e,r)}return!1}},"./src/demux/sample-aes.ts":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),r=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");const i=function(){function e(e,t,a){this.keyData=void 0,this.decrypter=void 0,this.keyData=a,this.decrypter=new n.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,a,n){var r=e[t].unit;if(!(r.length<=16)){var i=r.subarray(16,r.length-r.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),s=this;this.decryptBuffer(o,(function(i){var o=new Uint8Array(i);r.set(o,16),n||s.decryptAacSamples(e,t+1,a)}))}},t.decryptAacSamples=function(e,t,a){for(;;t++){if(t>=e.length)return void a();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,a,n),!n)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,a=new Int8Array(t),n=0,r=32;r<e.length-16;r+=160,n+=16)a.set(e.subarray(r,r+16),n);return a},t.getAvcDecryptedUnit=function(e,t){for(var a=new Uint8Array(t),n=0,r=32;r<e.length-16;r+=160,n+=16)e.set(a.subarray(n,n+16),r);return e},t.decryptAvcSample=function(e,t,a,n,i,o){var s=(0,r.discardEPB)(i.data),l=this.getAvcEncryptedData(s),d=this;this.decryptBuffer(l.buffer,(function(r){i.data=d.getAvcDecryptedUnit(s,r),o||d.decryptAvcSamples(e,t,a+1,n)}))},t.decryptAvcSamples=function(e,t,a,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,a=0){if(t>=e.length)return void n();for(var r=e[t].units;!(a>=r.length);a++){var i=r[a];if(!(i.data.length<=48||1!==i.type&&5!==i.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,a,n,i,o),!o)return}}}},e}()},"./src/demux/transmuxer-interface.ts":
/*!*******************************************!*\
  !*** ./src/demux/transmuxer-interface.ts ***!
  \*******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var n=a(/*! ./webworkify-webpack */"./src/demux/webworkify-webpack.js"),r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ../errors */"./src/errors.ts"),l=a(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts"),d=a(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),c=(0,l.getMediaSource)()||{isTypeSupported:function(){return!1}},u=function(){function e(e,t,a,l){var u=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var h=e.config;this.hls=e,this.id=t,this.useWorker=!!h.enableWorker,this.onTransmuxComplete=a,this.onFlush=l;var f=function(e,t){(t=t||{}).frag=u.frag,t.id=u.id,u.hls.trigger(e,t)};this.observer=new d.EventEmitter,this.observer.on(r.Events.FRAG_DECRYPTED,f),this.observer.on(r.Events.ERROR,f);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},v=navigator.vendor;if(this.useWorker&&"undefined"!=typeof Worker){var m;o.logger.log("demuxing in webworker");try{m=this.worker=(0,n.default)(/*! ../demux/transmuxer-worker.ts */"./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(e){u.useWorker=!1,o.logger.warn("Exception in webworker, fallback to inline"),u.hls.trigger(r.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(e.message+"  ("+e.filename+":"+e.lineno+")")})},m.postMessage({cmd:"init",typeSupported:p,vendor:v,id:t,config:JSON.stringify(h)})}catch(e){o.logger.warn("Error in worker:",e),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new i.default(this.observer,p,h,v,t),this.worker=null}}else this.transmuxer=new i.default(this.observer,p,h,v,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null,this.onwmsg=void 0;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var a=this.observer;a&&a.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},t.push=function(e,t,a,n,r,s,l,d,c,u){var h,f,p=this;c.transmuxing.start=self.performance.now();var v=this.transmuxer,m=this.worker,g=s?s.start:r.start,y=r.decryptdata,b=this.frag,_=!(b&&r.cc===b.cc),E=!(b&&c.level===b.level),T=b?c.sn-b.sn:-1,w=this.part?c.part-this.part.index:-1,S=0===T&&c.id>1&&c.id===(null==b?void 0:b.stats.chunkCount),x=!E&&(1===T||0===T&&(1===w||S&&w<=0)),k=self.performance.now();(E||T||0===r.stats.parsing.start)&&(r.stats.parsing.start=k),!s||!w&&x||(s.stats.parsing.start=k);var A=!(b&&(null===(h=r.initSegment)||void 0===h?void 0:h.url)===(null===(f=b.initSegment)||void 0===f?void 0:f.url)),L=new i.TransmuxState(_,x,d,E,g,A);if(!x||_||A){o.logger.log("[transmuxer-interface, "+r.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+_+"\n        trackSwitch: "+E+"\n        contiguous: "+x+"\n        accurateTimeOffset: "+d+"\n        timeOffset: "+g+"\n        initSegmentChange: "+A);var D=new i.TransmuxConfig(a,n,t,l,u);this.configureTransmuxer(D)}if(this.frag=r,this.part=s,m)m.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:c,state:L},e instanceof ArrayBuffer?[e]:[]);else if(v){var C=v.push(e,y,c,L);(0,i.isPromise)(C)?C.then((function(e){p.handleTransmuxComplete(e)})):this.handleTransmuxComplete(C)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var a=this.transmuxer,n=this.worker;if(n)n.postMessage({cmd:"flush",chunkMeta:e});else if(a){var r=a.flush(e);(0,i.isPromise)(r)?r.then((function(a){t.handleFlushResult(a,e)})):this.handleFlushResult(r,e)}},t.handleFlushResult=function(e,t){var a=this;e.forEach((function(e){a.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,a=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":o.logger[t.data.logType]&&o.logger[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,a.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,a=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):a&&a.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":
/*!****************************************!*\
  !*** ./src/demux/transmuxer-worker.ts ***!
  \****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts"),r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");function s(e){var t=new o.EventEmitter,a=function(t,a){e.postMessage({event:t,data:a})};t.on(r.Events.FRAG_DECRYPTED,a),t.on(r.Events.ERROR,a),e.addEventListener("message",(function(r){var o=r.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.transmuxer=new n.default(t,o.typeSupported,s,o.vendor,o.id),(0,i.enableLogs)(s.debug,o.id),function(){var e=function(e){i.logger[e]=function(t){a("workerLog",{logType:e,message:t})}};for(var t in i.logger)e(t)}(),a("init",null);break;case"configure":e.transmuxer.configure(o.config);break;case"demux":var d=e.transmuxer.push(o.data,o.decryptdata,o.chunkMeta,o.state);(0,n.isPromise)(d)?d.then((function(t){l(e,t)})):l(e,d);break;case"flush":var u=o.chunkMeta,h=e.transmuxer.flush(u);(0,n.isPromise)(h)?h.then((function(t){c(e,t,u)})):c(e,h,u)}}))}function l(e,t){if(!((a=t.remuxResult).audio||a.video||a.text||a.id3||a.initSegment))return!1;var a,n=[],r=t.remuxResult,i=r.audio,o=r.video;return i&&d(n,i),o&&d(n,o),e.postMessage({event:"transmuxComplete",data:t},n),!0}function d(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function c(e,t,a){t.reduce((function(t,a){return l(e,a)||t}),!1)||e.postMessage({event:"transmuxComplete",data:t[0]}),e.postMessage({event:"flush",data:a})}},"./src/demux/transmuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/transmuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{TransmuxConfig:()=>y,TransmuxState:()=>b,default:()=>v,isPromise:()=>g});var n,r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../errors */"./src/errors.ts"),o=a(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),s=a(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.ts"),l=a(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.ts"),d=a(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.ts"),c=a(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.ts"),u=a(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts"),h=a(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.ts"),f=a(/*! ../utils/logger */"./src/utils/logger.ts");try{n=self.performance.now.bind(self.performance)}catch(e){f.logger.debug("Unable to use Performance API on this environment"),n=self.Date.now}var p=[{demux:d.default,remux:u.default},{demux:l.default,remux:h.default},{demux:s.default,remux:u.default},{demux:c.default,remux:u.default}],v=function(){function e(e,t,a,n,r){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=a,this.vendor=n,this.id=r}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,a,r){var i=this,o=a.transmuxing;o.executeStart=n();var s=new Uint8Array(e),l=this.config,d=this.currentTransmuxState,c=this.transmuxConfig;r&&(this.currentTransmuxState=r);var u=r||d,h=u.contiguous,f=u.discontinuity,p=u.trackSwitch,v=u.accurateTimeOffset,g=u.timeOffset,y=u.initSegmentChange,b=c.audioCodec,_=c.videoCodec,E=c.defaultInitPts,T=c.duration,w=c.initSegmentData;(f||p||y)&&this.resetInitSegment(w,b,_,T),(f||y)&&this.resetInitialTimestamp(E),h||this.resetContiguity();var S=function(e,t){var a=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(a=t),a}(s,t);if(S&&"AES-128"===S.method){var x=this.getDecrypter();if(!l.enableSoftwareAES)return this.decryptionPromise=x.webCryptoDecrypt(s,S.key.buffer,S.iv.buffer).then((function(e){var t=i.push(e,null,a);return i.decryptionPromise=null,t})),this.decryptionPromise;var k=x.softwareDecrypt(s,S.key.buffer,S.iv.buffer);if(!k)return o.executeEnd=n(),m(a);s=new Uint8Array(k)}this.needsProbing(s,f,p)&&this.configureTransmuxer(s,c);var A=this.transmux(s,S,g,v,a),L=this.currentTransmuxState;return L.contiguous=!0,L.discontinuity=!1,L.trackSwitch=!1,o.executeEnd=n(),A},t.flush=function(e){var t=this,a=e.transmuxing;a.executeStart=n();var o=this.decrypter,s=this.currentTransmuxState,l=this.decryptionPromise;if(l)return l.then((function(){return t.flush(e)}));var d=[],c=s.timeOffset;if(o){var u=o.flush();u&&d.push(this.push(u,null,e))}var h=this.demuxer,f=this.remuxer;if(!h||!f)return this.observer.emit(r.Events.ERROR,r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),a.executeEnd=n(),[m(e)];var p=h.flush(c);return g(p)?p.then((function(a){return t.flushRemux(d,a,e),d})):(this.flushRemux(d,p,e),d)},t.flushRemux=function(e,t,a){var r=t.audioTrack,i=t.videoTrack,o=t.id3Track,s=t.textTrack,l=this.currentTransmuxState,d=l.accurateTimeOffset,c=l.timeOffset;f.logger.log("[transmuxer.ts]: Flushed fragment "+a.sn+(a.part>-1?" p: "+a.part:"")+" of level "+a.level);var u=this.remuxer.remux(r,i,o,s,c,d,!0,this.id);e.push({remuxResult:u,chunkMeta:a}),a.transmuxing.executeEnd=n()},t.resetInitialTimestamp=function(e){var t=this.demuxer,a=this.remuxer;t&&a&&(t.resetTimeStamp(e),a.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,a,n){var r=this.demuxer,i=this.remuxer;r&&i&&(r.resetInitSegment(e,t,a,n),i.resetInitSegment(e,t,a))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,a,n,r){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,a,n,r):this.transmuxUnencrypted(e,a,n,r)},t.transmuxUnencrypted=function(e,t,a,n){var r=this.demuxer.demux(e,t,!1,!this.config.progressive),i=r.audioTrack,o=r.videoTrack,s=r.id3Track,l=r.textTrack;return{remuxResult:this.remuxer.remux(i,o,s,l,t,a,!1,this.id),chunkMeta:n}},t.transmuxSampleAes=function(e,t,a,n,r){var i=this;return this.demuxer.demuxSampleAes(e,t,a).then((function(e){return{remuxResult:i.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,a,n,!1,i.id),chunkMeta:r}}))},t.configureTransmuxer=function(e,t){for(var a,n=this.config,r=this.observer,i=this.typeSupported,o=this.vendor,s=t.audioCodec,d=t.defaultInitPts,c=t.duration,u=t.initSegmentData,v=t.videoCodec,m=0,g=p.length;m<g;m++)if(p[m].demux.probe(e)){a=p[m];break}a||(f.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),a={demux:l.default,remux:h.default});var y=this.demuxer,b=this.remuxer,_=a.remux,E=a.demux;b&&b instanceof _||(this.remuxer=new _(r,n,i,o)),y&&y instanceof E||(this.demuxer=new E(r,n,i),this.probe=E.probe),this.resetInitSegment(u,s,v,c),this.resetInitialTimestamp(d)},t.needsProbing=function(e,t,a){return!this.demuxer||!this.remuxer||t||a},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new o.default(this.observer,this.config)),e},e}(),m=function(e){return{remuxResult:{},chunkMeta:e}};function g(e){return"then"in e&&e.then instanceof Function}var y=function(e,t,a,n,r){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=a,this.duration=n,this.defaultInitPts=r},b=function(e,t,a,n,r,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=a,this.trackSwitch=n,this.timeOffset=r,this.initSegmentChange=i}},"./src/demux/tsdemuxer.ts":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(/*! ./adts */"./src/demux/adts.ts"),r=a(/*! ./mpegaudio */"./src/demux/mpegaudio.ts"),i=a(/*! ./exp-golomb */"./src/demux/exp-golomb.ts"),o=a(/*! ./sample-aes */"./src/demux/sample-aes.ts"),s=a(/*! ../events */"./src/events.ts"),l=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),d=a(/*! ../utils/logger */"./src/utils/logger.ts"),c=a(/*! ../errors */"./src/errors.ts"),u=a(/*! ../types/demuxer */"./src/types/demuxer.ts");function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(this,arguments)}var f=188;function p(e,t,a,n){return{key:e,frame:!1,pts:t,dts:a,units:[],debug:n,length:0}}function v(e,t){return(31&e[t+10])<<8|e[t+11]}function m(e,t,a,n){var r={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},i=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){var o=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!n){d.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===r.audio&&(r.audio=o);break;case 21:-1===r.id3&&(r.id3=o);break;case 219:if(!n){d.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===r.avc&&(r.avc=o);break;case 3:case 4:!0!==a.mpeg&&!0!==a.mp3?d.logger.log("MPEG audio found, not supported in this browser"):-1===r.audio&&(r.audio=o,r.segmentCodec="mp3");break;case 36:d.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return r}function g(e){var t,a,n,r,i,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((a=(t[4]<<8)+t[5])&&a>e.size-6)return null;var c=t[7];192&c&&(r=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&c?r-(i=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(d.logger.warn(Math.round((r-i)/9e4)+"s delta between PTS and DTS, align them"),r=i):i=r);var u=(n=t[8])+9;if(e.size<=u)return null;e.size-=u;for(var h=new Uint8Array(e.size),f=0,p=s.length;f<p;f++){var v=(t=s[f]).byteLength;if(u){if(u>v){u-=v;continue}t=t.subarray(u),v-=u,u=0}h.set(t,o),o+=v}return a&&(a-=n+3),{data:h,pts:r,dts:i,len:a}}return null}function y(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var a=t.samples,n=a.length;if(!n)return void t.dropped++;var r=a[n-1];e.pts=r.pts,e.dts=r.dts}t.samples.push(e)}e.debug.length&&d.logger.log(e.pts+"/"+e.dts+":"+e.debug)}const b=function(){function e(e,t,a){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=a}e.probe=function(t){var a=e.syncOffset(t);return a>0&&d.logger.warn("MPEG2-TS detected but first sync word found @ offset "+a),-1!==a},e.syncOffset=function(e){for(var t=Math.min(940,e.length-376)+1,a=0;a<t;){if(71===e[a]&&71===e[a+f])return a;a++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:l.RemuxerTrackIdConfig[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,a,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",r),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=a,this.videoCodec=n,this._duration=r},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,a=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),a&&(a.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},t.demux=function(t,a,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1),n||(this.sampleAes=null);var o=this._avcTrack,u=this._audioTrack,h=this._id3Track,p=this._txtTrack,y=o.pid,b=o.pesData,_=u.pid,E=h.pid,T=u.pesData,w=h.pesData,S=null,x=this.pmtParsed,k=this._pmtId,A=t.length;if(this.remainderData&&(A=(t=(0,l.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),A<f&&!r)return this.remainderData=t,{audioTrack:u,videoTrack:o,id3Track:h,textTrack:p};var L=Math.max(0,e.syncOffset(t));(A-=(A-L)%f)<t.byteLength&&!r&&(this.remainderData=new Uint8Array(t.buffer,A,t.buffer.byteLength-A));for(var D=0,C=L;C<A;C+=f)if(71===t[C]){var I=!!(64&t[C+1]),R=((31&t[C+1])<<8)+t[C+2],O=void 0;if((48&t[C+3])>>4>1){if((O=C+5+t[C+4])===C+f)continue}else O=C+4;switch(R){case y:I&&(b&&(i=g(b))&&this.parseAVCPES(o,p,i,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(O,C+f)),b.size+=C+f-O);break;case _:if(I){if(T&&(i=g(T)))switch(u.segmentCodec){case"aac":this.parseAACPES(u,i);break;case"mp3":this.parseMPEGPES(u,i)}T={data:[],size:0}}T&&(T.data.push(t.subarray(O,C+f)),T.size+=C+f-O);break;case E:I&&(w&&(i=g(w))&&this.parseID3PES(h,i),w={data:[],size:0}),w&&(w.data.push(t.subarray(O,C+f)),w.size+=C+f-O);break;case 0:I&&(O+=t[O]+1),k=this._pmtId=v(t,O);break;case k:I&&(O+=t[O]+1);var P=m(t,O,this.typeSupported,n);(y=P.avc)>0&&(o.pid=y),(_=P.audio)>0&&(u.pid=_,u.segmentCodec=P.segmentCodec),(E=P.id3)>0&&(h.pid=E),null===S||x||(d.logger.log("unknown PID '"+S+"' in TS found"),S=null,C=L-188),x=this.pmtParsed=!0;break;case 17:case 8191:break;default:S=R}}else D++;D>0&&this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+D+" TS packet/s that do not start with 0x47"}),o.pesData=b,u.pesData=T,h.pesData=w;var M={audioTrack:u,videoTrack:o,id3Track:h,textTrack:p};return r&&this.extractRemainingSamples(M),M},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,a=e.audioTrack,n=e.videoTrack,r=e.id3Track,i=e.textTrack,o=n.pesData,s=a.pesData,l=r.pesData;if(o&&(t=g(o))?(this.parseAVCPES(n,i,t,!0),n.pesData=null):n.pesData=o,s&&(t=g(s))){switch(a.segmentCodec){case"aac":this.parseAACPES(a,t);break;case"mp3":this.parseMPEGPES(a,t)}a.pesData=null}else null!=s&&s.size&&d.logger.log("last AAC PES packet truncated,might overlap between fragments"),a.pesData=s;l&&(t=g(l))?(this.parseID3PES(r,t),r.pesData=null):r.pesData=l},t.demuxSampleAes=function(e,t,a){var n=this.demux(e,a,!0,!this.config.progressive),r=this.sampleAes=new o.default(this.observer,this.config,t);return this.decrypt(n,r)},t.decrypt=function(e,t){return new Promise((function(a){var n=e.audioTrack,r=e.videoTrack;n.samples&&"aac"===n.segmentCodec?t.decryptAacSamples(n.samples,0,(function(){r.samples?t.decryptAvcSamples(r.samples,0,0,(function(){a(e)})):a(e)})):r.samples&&t.decryptAvcSamples(r.samples,0,0,(function(){a(e)}))}))},t.destroy=function(){this._duration=0},t.parseAVCPES=function(e,t,a,n){var r,o=this,s=this.parseAVCNALu(e,a.data),d=this.avcSample,c=!1;a.data=null,d&&s.length&&!e.audFound&&(y(d,e),d=this.avcSample=p(!1,a.pts,a.dts,"")),s.forEach((function(n){switch(n.type){case 1:r=!0,d||(d=o.avcSample=p(!0,a.pts,a.dts,"")),d.frame=!0;var s=n.data;if(c&&s.length>4){var u=new i.default(s).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(d.key=!0)}break;case 5:r=!0,d||(d=o.avcSample=p(!0,a.pts,a.dts,"")),d.key=!0,d.frame=!0;break;case 6:r=!0,(0,l.parseSEIMessageFromNALu)(n.data,1,a.pts,t.samples);break;case 7:if(r=!0,c=!0,!e.sps){var h=new i.default(n.data).readSPS();e.width=h.width,e.height=h.height,e.pixelRatio=h.pixelRatio,e.sps=[n.data],e.duration=o._duration;for(var f=n.data.subarray(1,4),v="avc1.",m=0;m<3;m++){var g=f[m].toString(16);g.length<2&&(g="0"+g),v+=g}e.codec=v}break;case 8:r=!0,e.pps||(e.pps=[n.data]);break;case 9:r=!1,e.audFound=!0,d&&y(d,e),d=o.avcSample=p(!1,a.pts,a.dts,"");break;case 12:r=!0;break;default:r=!1,d&&(d.debug+="unknown NAL "+n.type+" ")}d&&r&&d.units.push(n)})),n&&d&&(y(d,e),this.avcSample=null)},t.getLastNalUnit=function(e){var t,a,n=this.avcSample;if(n&&0!==n.units.length||(n=e[e.length-1]),null!==(t=n)&&void 0!==t&&t.units){var r=n.units;a=r[r.length-1]}return a},t.parseAVCNALu=function(e,t){var a,n,r=t.byteLength,i=e.naluState||0,o=i,s=[],l=0,d=-1,c=0;for(-1===i&&(d=0,c=31&t[0],i=0,l=1);l<r;)if(a=t[l++],i)if(1!==i)if(a)if(1===a){if(d>=0){var u={data:t.subarray(d,l-i-1),type:c};s.push(u)}else{var h=this.getLastNalUnit(e.samples);if(h&&(o&&l<=4-o&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-o)),(n=l-i-1)>0)){var f=new Uint8Array(h.data.byteLength+n);f.set(h.data,0),f.set(t.subarray(0,n),h.data.byteLength),h.data=f,h.state=0}}l<r?(d=l,c=31&t[l],i=0):i=-1}else i=0;else i=3;else i=a?0:2;else i=a?0:1;if(d>=0&&i>=0){var p={data:t.subarray(d,r),type:c,state:i};s.push(p)}if(0===s.length){var v=this.getLastNalUnit(e.samples);if(v){var m=new Uint8Array(v.data.byteLength+t.byteLength);m.set(v.data,0),m.set(t,v.data.byteLength),v.data=m}}return e.naluState=i,s},t.parseAACPES=function(e,t){var a,r,i,o,l,u=0,h=this.aacOverFlow,f=t.data;if(h){this.aacOverFlow=null;var p=h.missing,v=h.sample.unit.byteLength;if(-1===p){var m=new Uint8Array(v+f.byteLength);m.set(h.sample.unit,0),m.set(f,v),f=m}else{var g=v-p;h.sample.unit.set(f.subarray(0,p),g),e.samples.push(h.sample),u=h.missing}}for(a=u,r=f.length;a<r-1&&!n.isHeader(f,a);a++);if(a===u||(a<r-1?(i="AAC PES did not start with ADTS header,offset:"+a,o=!1):(i="no ADTS header found in AAC PES",o=!0),d.logger.warn("parsing error:"+i),this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:o,reason:i}),!o)){if(n.initTrackConfig(e,this.observer,f,a,this.audioCodec),void 0!==t.pts)l=t.pts;else{if(!h)return void d.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var y=n.getFrameDuration(e.samplerate);l=h.sample.pts+y}for(var b,_=0;a<r;){if(a+=(b=n.appendFrame(e,f,a,l,_)).length,b.missing){this.aacOverFlow=b;break}for(_++;a<r-1&&!n.isHeader(f,a);a++);}}},t.parseMPEGPES=function(e,t){var a=t.data,n=a.length,i=0,o=0,s=t.pts;if(void 0!==s)for(;o<n;)if(r.isHeader(a,o)){var l=r.appendFrame(e,a,o,s,i);if(!l)break;o+=l.length,i++}else o++;else d.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e,t){if(void 0!==t.pts){var a=h({},t,{type:this._avcTrack?u.MetadataSchema.emsg:u.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(a)}else d.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}()},"./src/demux/webworkify-webpack.js":
/*!*****************************************!*\
  !*** ./src/demux/webworkify-webpack.js ***!
  \*****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=function(){var e=ENTRY_MODULE,t={},a=function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports};a.m=e,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=a(ENTRY_MODULE);return n.default||n}.toString().split("ENTRY_MODULE"),r="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+r+").*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,n){var s={};s[n]=[];var l=t.toString().replace(/^"[^"]+"/,"function"),d=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||l.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!d)return s;for(var c,u=d[1],h=new RegExp("(\\\\n|\\W)"+o(u)+i,"g");c=h.exec(l);)"dll-reference"!==c[3]&&s[n].push(c[3]);for(h=new RegExp("\\("+o(u)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+i,"g");c=h.exec(l);)e[c[2]]||(s[n].push(c[1]),e[c[2]]=a(c[1]).m),s[c[2]]=s[c[2]]||[],s[c[2]].push(c[4]);for(var f,p=Object.keys(s),v=0;v<p.length;v++)for(var m=0;m<s[p[v]].length;m++)f=s[p[v]][m],isNaN(1*f)||(s[p[v]][m]=1*s[p[v]][m]);return s}function l(e){return Object.keys(e).reduce((function(t,a){return t||e[a].length>0}),!1)}function d(e,t,a,r){var i=e[r].map((function(e){return'"'+e+'": '+t[r][e].toString().replace(/^"[^"]+"/,"function")})).join(",");return n[0]+"{"+i+"}"+n[1]+'"'+a+'"'+n[2]}function c(e,t){t=t||{};var n={main:a.m},r=t.all?{main:Object.keys(n.main)}:function(e,t){for(var a={main:[t]},n={main:[]},r={main:{}};l(a);)for(var i=Object.keys(a),o=0;o<i.length;o++){var d=i[o],c=a[d].pop();if(r[d]=r[d]||{},!r[d][c]&&e[d][c]){r[d][c]=!0,n[d]=n[d]||[],n[d].push(c);for(var u=s(e,e[d][c],d),h=Object.keys(u),f=0;f<h.length;f++)a[h[f]]=a[h[f]]||[],a[h[f]]=a[h[f]].concat(u[h[f]])}}return n}(n,e),i="";Object.keys(r).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;r[e][t];)t++;r[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",i=i+"var "+e+" = ("+d(r,n,t,modules)+")();\n"})),i=i+"new (("+d(r,n,e,"main")+")())(self);";var o=new window.Blob([i],{type:"text/javascript"}),c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(o),u=new window.Worker(c);return u.objectURL=c,u}},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/(e,t,a)=>{"use strict";var n,r;a.r(t),a.d(t,{ErrorDetails:()=>r,ErrorTypes:()=>n}),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(n||(n={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(r||(r={}))},"./src/events.ts":
/*!***********************!*\
  !*** ./src/events.ts ***!
  \***********************/(e,t,a)=>{"use strict";var n;a.r(t),a.d(t,{Events:()=>n}),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(n||(n={}))},"./src/hls.ts":
/*!********************!*\
  !*** ./src/hls.ts ***!
  \********************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),r=a(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.ts"),i=a(/*! ./loader/key-loader */"./src/loader/key-loader.ts"),o=a(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.ts"),s=a(/*! ./controller/latency-controller */"./src/controller/latency-controller.ts"),l=a(/*! ./controller/level-controller */"./src/controller/level-controller.ts"),d=a(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.ts"),c=a(/*! ./controller/stream-controller */"./src/controller/stream-controller.ts"),u=a(/*! ./is-supported */"./src/is-supported.ts"),h=a(/*! ./utils/logger */"./src/utils/logger.ts"),f=a(/*! ./config */"./src/config.ts"),p=a(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),v=a(/*! ./events */"./src/events.ts"),m=a(/*! ./errors */"./src/errors.ts");function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var a=this.config=(0,f.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,(0,h.enableLogs)(a.debug,"Hls instance"),this._autoLevelCapping=-1,a.progressive&&(0,f.enableStreamingMode)(a);var n=a.abrController,u=a.bufferController,v=a.capLevelController,m=a.fpsController,g=this.abrController=new n(this),y=this.bufferController=new u(this),b=this.capLevelController=new v(this),_=new m(this),E=new r.default(this),T=new i.default(this),w=new o.default(this),S=this.levelController=new l.default(this),x=new d.FragmentTracker(this),k=this.streamController=new c.default(this,x);b.setStreamController(k),_.setStreamController(k);var A=[E,T,S,k];this.networkControllers=A;var L=[g,y,b,_,w,x];this.audioTrackController=this.createController(a.audioTrackController,null,A),this.createController(a.audioStreamController,x,A),this.subtitleTrackController=this.createController(a.subtitleTrackController,null,A),this.createController(a.subtitleStreamController,x,A),this.createController(a.timelineController,null,L),this.emeController=this.createController(a.emeController,null,L),this.cmcdController=this.createController(a.cmcdController,null,L),this.latencyController=this.createController(s.default,null,L),this.coreComponents=L}e.isSupported=function(){return(0,u.isSupported)()};var t,a,y,b=e.prototype;return b.createController=function(e,t,a){if(e){var n=t?new e(this,t):new e(this);return a&&a.push(n),n}return null},b.on=function(e,t,a){void 0===a&&(a=this),this._emitter.on(e,t,a)},b.once=function(e,t,a){void 0===a&&(a=this),this._emitter.once(e,t,a)},b.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},b.off=function(e,t,a,n){void 0===a&&(a=this),this._emitter.off(e,t,a,n)},b.listeners=function(e){return this._emitter.listeners(e)},b.emit=function(e,t,a){return this._emitter.emit(e,t,a)},b.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){h.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(v.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},b.listenerCount=function(e){return this._emitter.listenerCount(e)},b.destroy=function(){h.logger.log("destroy"),this.trigger(v.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},b.attachMedia=function(e){h.logger.log("attachMedia"),this._media=e,this.trigger(v.Events.MEDIA_ATTACHING,{media:e})},b.detachMedia=function(){h.logger.log("detachMedia"),this.trigger(v.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(e){this.stopLoad();var t=this.media,a=this.url,r=this.url=n.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});h.logger.log("loadSource:"+r),t&&a&&a!==r&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(v.Events.MANIFEST_LOADING,{url:e})},b.startLoad=function(e){void 0===e&&(e=-1),h.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},b.stopLoad=function(){h.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},b.swapAudioCodec=function(){h.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){h.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},b.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,y=[{key:"version",get:function(){return"1.2.9"}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:f.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}],(a=[{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){h.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){h.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){h.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){h.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){h.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(h.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var a=e.length,n=0;n<a;n++)if(e[n].maxBitrate>=t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&g(t.prototype,a),y&&g(t,y),Object.defineProperty(t,"prototype",{writable:!1}),e}();y.defaultConfig=void 0},"./src/is-supported.ts":
/*!*****************************!*\
  !*** ./src/is-supported.ts ***!
  \*****************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{changeTypeSupported:()=>o,isSupported:()=>i});var n=a(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.ts");function r(){return self.SourceBuffer||self.WebKitSourceBuffer}function i(){var e=(0,n.getMediaSource)();if(!e)return!1;var t=r(),a=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!a&&!!i}function o(){var e,t=r();return"function"==typeof(null==t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/date-range.ts":
/*!**********************************!*\
  !*** ./src/loader/date-range.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{DateRange:()=>d,DateRangeAttribute:()=>n});var n,r=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../utils/attr-list */"./src/utils/attr-list.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(this,arguments)}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.ID="ID",e.CLASS="CLASS",e.START_DATE="START-DATE",e.DURATION="DURATION",e.END_DATE="END-DATE",e.END_ON_NEXT="END-ON-NEXT",e.PLANNED_DURATION="PLANNED-DURATION",e.SCTE35_OUT="SCTE35-OUT",e.SCTE35_IN="SCTE35-IN"}(n||(n={}));var d=function(){function e(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){var a=t.attr;for(var l in a)if(Object.prototype.hasOwnProperty.call(e,l)&&e[l]!==a[l]){o.logger.warn('DATERANGE tag attribute: "'+l+'" does not match for tags with ID: "'+e.ID+'"'),this._badValueForSameId=l;break}e=s(new i.AttrList({}),a,e)}if(this.attr=e,this._startDate=new Date(e[n.START_DATE]),n.END_DATE in this.attr){var d=new Date(this.attr[n.END_DATE]);(0,r.isFiniteNumber)(d.getTime())&&(this._endDate=d)}}var t,a,d;return t=e,(a=[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if(n.DURATION in this.attr){var e=this.attr.decimalFloatingPoint(n.DURATION);if((0,r.isFiniteNumber)(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return n.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(n.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(n.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,r.isFiniteNumber)(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}])&&l(t.prototype,a),d&&l(t,d),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/fragment-loader.ts":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.ts ***!
  \***************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{LoadError:()=>f,default:()=>u});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../errors */"./src/errors.ts");function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},i(e)}function o(e,t,a){return o=s()?Reflect.construct.bind():function(e,t,a){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return a&&l(r,a.prototype),r},o.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var c=Math.pow(2,17),u=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var a=this,n=e.url;if(!n)return Promise.reject(new f({type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(n?"part list":"url")));this.abort();var i=this.config,o=i.fLoader,s=i.loader;return new Promise((function(n,l){a.loader&&a.loader.destroy();var d=a.loader=e.loader=o?new o(i):new s(i),u=h(e),p={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===e.sn?1/0:c};e.stats=d.stats,d.load(u,p,{onSuccess:function(t,r,i,o){a.resetLoader(e,d),n({frag:e,part:null,payload:t.data,networkDetails:o})},onError:function(t,n,i){a.resetLoader(e,d),l(new f({type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:i}))},onAbort:function(t,n,i){a.resetLoader(e,d),l(new f({type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:i}))},onTimeout:function(t,n,i){a.resetLoader(e,d),l(new f({type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:i}))},onProgress:function(a,n,r,i){t&&t({frag:e,part:null,payload:r,networkDetails:i})}})}))},t.loadPart=function(e,t,a){var n=this;this.abort();var i=this.config,o=i.fLoader,s=i.loader;return new Promise((function(l,d){n.loader&&n.loader.destroy();var u=n.loader=e.loader=o?new o(i):new s(i),p=h(e,t),v={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:c};t.stats=u.stats,u.load(p,v,{onSuccess:function(r,i,o,s){n.resetLoader(e,u),n.updateStatsFromPart(e,t);var d={frag:e,part:t,payload:r.data,networkDetails:s};a(d),l(d)},onError:function(a,i,o){n.resetLoader(e,u),d(new f({type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:a,networkDetails:o}))},onAbort:function(a,i,o){e.stats.aborted=t.stats.aborted,n.resetLoader(e,u),d(new f({type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:o}))},onTimeout:function(a,i,o){n.resetLoader(e,u),d(new f({type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:o}))}})}))},t.updateStatsFromPart=function(e,t){var a=e.stats,n=t.stats,r=n.total;if(a.loaded+=n.loaded,r){var i=Math.round(e.duration/t.duration),o=Math.min(Math.round(a.loaded/r),i),s=(i-o)*Math.round(a.loaded/o);a.total=a.loaded+s}else a.total=Math.max(a.loaded,a.total);var l=a.loading,d=n.loading;l.start?l.first+=d.first-d.start:(l.start=d.start,l.first=d.first),l.end=d.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function h(e,t){void 0===t&&(t=null);var a=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:a.url,headers:{},rangeStart:0,rangeEnd:0},i=a.byteRangeStartOffset,o=a.byteRangeEndOffset;return(0,n.isFiniteNumber)(i)&&(0,n.isFiniteNumber)(o)&&(r.rangeStart=i,r.rangeEnd=o),r}var f=function(e){var t,a;function n(t){for(var a,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(a=e.call.apply(e,[this].concat(r))||this).data=void 0,a.data=t,a}return a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,l(t,a),n}(i(Error))},"./src/loader/fragment.ts":
/*!********************************!*\
  !*** ./src/loader/fragment.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{BaseSegment:()=>f,ElementaryStreamTypes:()=>n,Fragment:()=>p,Part:()=>v});var n,r=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ./level-key */"./src/loader/level-key.ts"),l=a(/*! ./load-stats */"./src/loader/load-stats.ts");function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,a){return t&&u(e.prototype,t),a&&u(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(n||(n={}));var f=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[n.AUDIO]=null,t[n.VIDEO]=null,t[n.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var a=e.split("@",2),n=[];1===a.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(a[1]),n[1]=parseInt(a[0])+n[0],this._byteRange=n},h(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,i.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),p=function(e){function t(t,a){var n;return(n=e.call(this,a)||this)._decryptdata=null,n.rawProgramDateTime=null,n.programDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkey=void 0,n.type=void 0,n.loader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.appendedPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.stats=new l.LoadStats,n.urlId=0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.type=t,n}d(t,e);var a=t.prototype;return a.createInitializationVector=function(e){for(var t=new Uint8Array(16),a=12;a<16;a++)t[a]=e>>8*(15-a)&255;return t},a.setDecryptDataFromLevelKey=function(e,t){var a=e;return"AES-128"===(null==e?void 0:e.method)&&e.uri&&!e.iv&&((a=s.LevelKey.fromURI(e.uri)).method=e.method,a.iv=this.createInitializationVector(t),a.keyFormat="identity"),a},a.setElementaryStreamInfo=function(e,t,a,n,r,i){void 0===i&&(i=!1);var o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,a),s.startDTS=Math.min(s.startDTS,n),s.endDTS=Math.max(s.endDTS,r)):o[e]={startPTS:t,endPTS:a,startDTS:n,endDTS:r,partial:i}},a.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[n.AUDIO]=null,e[n.VIDEO]=null,e[n.AUDIOVIDEO]=null},h(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&o.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!(0,r.isFiniteNumber)(this.programDateTime))return null;var e=(0,r.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(f),v=function(e){function t(t,a,n,r,i){var o;(o=e.call(this,n)||this).fragOffset=0,o.duration=0,o.gap=!1,o.independent=!1,o.relurl=void 0,o.fragment=void 0,o.index=void 0,o.stats=new l.LoadStats,o.duration=t.decimalFloatingPoint("DURATION"),o.gap=t.bool("GAP"),o.independent=t.bool("INDEPENDENT"),o.relurl=t.enumeratedString("URI"),o.fragment=a,o.index=r;var s=t.enumeratedString("BYTERANGE");return s&&o.setByteRange(s,i),i&&(o.fragOffset=i.fragOffset+i.duration),o}return d(t,e),h(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(f)},"./src/loader/key-loader.ts":
/*!**********************************!*\
  !*** ./src/loader/key-loader.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(/*! ../events */"./src/events.ts"),r=a(/*! ../errors */"./src/errors.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this.registerListeners()}var t=e.prototype;return t.startLoad=function(e){},t.stopLoad=function(){this.destroyInternalLoaders()},t.registerListeners=function(){this.hls.on(n.Events.KEY_LOADING,this.onKeyLoading,this)},t.unregisterListeners=function(){this.hls.off(n.Events.KEY_LOADING,this.onKeyLoading)},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onKeyLoading=function(e,t){var a=t.frag,r=a.type,o=this.loaders[r];if(a.decryptdata){var s=a.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;if(o&&(i.logger.warn("abort previous key loader for type:"+r),o.abort()),!s)return void i.logger.warn("key uri is falsy");var d=l.loader,c=a.loader=this.loaders[r]=new d(l);this.decrypturl=s,this.decryptkey=null;var u={url:s,frag:a,responseType:"arraybuffer"},h={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:0},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(u,h,f)}else this.decryptkey&&(a.decryptdata.key=this.decryptkey,this.hls.trigger(n.Events.KEY_LOADED,{frag:a}))}else i.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,a){var r=a.frag;r.decryptdata?(this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=null,delete this.loaders[r.type],this.hls.trigger(n.Events.KEY_LOADED,{frag:r})):i.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var a=t.frag,i=a.loader;i&&i.abort(),delete this.loaders[a.type],this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:a,response:e})},t.loadtimeout=function(e,t){var a=t.frag,i=a.loader;i&&i.abort(),delete this.loaders[a.type],this.hls.trigger(n.Events.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:a})},e}()},"./src/loader/level-details.ts":
/*!*************************************!*\
  !*** ./src/loader/level-details.ts ***!
  \*************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{LevelDetails:()=>i});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts");function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.dateRanges={},this.url=e}var t,a,i;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,a=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!a||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&a>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},t=e,(a=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&(0,n.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&r(t.prototype,a),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/level-key.ts":
/*!*********************************!*\
  !*** ./src/loader/level-key.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{LevelKey:()=>i});var n=a(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js");function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?(0,n.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t,a,i;return e.fromURL=function(t,a){return new e(t,a)},e.fromURI=function(t){return new e(t)},t=e,(a=[{key:"uri",get:function(){return this._uri}}])&&r(t.prototype,a),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/load-stats.ts":
/*!**********************************!*\
  !*** ./src/loader/load-stats.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{LoadStats:()=>n});var n=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.ts ***!
  \***********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=a(/*! ./date-range */"./src/loader/date-range.ts"),o=a(/*! ./fragment */"./src/loader/fragment.ts"),s=a(/*! ./level-details */"./src/loader/level-details.ts"),l=a(/*! ./level-key */"./src/loader/level-key.ts"),d=a(/*! ../utils/attr-list */"./src/utils/attr-list.ts"),c=a(/*! ../utils/logger */"./src/utils/logger.ts"),u=a(/*! ../utils/codecs */"./src/utils/codecs.ts"),h=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),v=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),m=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function e(){}return e.findGroup=function(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var a=t.shift()+".";return a+=parseInt(t.shift()).toString(16),a+=("000"+parseInt(t.shift()).toString(16)).slice(-4)}return e},e.resolve=function(e,t){return r.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,a){var n,r=[],i=[],o={},s=!1;for(h.lastIndex=0;null!=(n=h.exec(t));)if(n[1]){var l,c=new d.AttrList(n[1]),u={attrs:c,bitrate:c.decimalInteger("AVERAGE-BANDWIDTH")||c.decimalInteger("BANDWIDTH"),name:c.NAME,url:e.resolve(n[2],a)},f=c.decimalResolution("RESOLUTION");f&&(u.width=f.width,u.height=f.height),y((c.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=e.convertAVC1ToAVCOTI(u.videoCodec)),null!==(l=u.unknownCodecs)&&void 0!==l&&l.length||i.push(u),r.push(u)}else if(n[3]){var p=new d.AttrList(n[3]);p["DATA-ID"]&&(s=!0,o[p["DATA-ID"]]=p)}return{levels:i.length>0&&i.length<r.length?i:r,sessionData:s?o:null}},e.parseMasterPlaylistMedia=function(t,a,n,r){var i;void 0===r&&(r=[]);var o=[],s=0;for(f.lastIndex=0;null!==(i=f.exec(t));){var l=new d.AttrList(i[1]);if(l.TYPE===n){var c={attrs:l,bitrate:0,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:n,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?e.resolve(l.URI,a):""};if(r.length){var u=e.findGroup(r,c.groupId)||r[0];b(c,u,"audioCodec"),b(c,u,"textCodec")}o.push(c)}}return o},e.parseLevelPlaylist=function(e,t,a,u,h){var f,g,y,b=new s.LevelDetails(t),T=b.fragments,w=null,S=0,x=0,k=0,A=0,L=null,D=new o.Fragment(u,t),C=-1,I=!1;for(p.lastIndex=0,b.m3u8=e;null!==(f=p.exec(e));){I&&(I=!1,(D=new o.Fragment(u,t)).start=k,D.sn=S,D.cc=A,D.level=a,w&&(D.initSegment=w,D.rawProgramDateTime=w.rawProgramDateTime,w.rawProgramDateTime=null));var R=f[1];if(R){D.duration=parseFloat(R);var O=(" "+f[2]).slice(1);D.title=O||null,D.tagList.push(O?["INF",R,O]:["INF",R])}else if(f[3])(0,n.isFiniteNumber)(D.duration)&&(D.start=k,y&&(D.levelkey=y),D.sn=S,D.level=a,D.cc=A,D.urlId=h,T.push(D),D.relurl=(" "+f[3]).slice(1),_(D,L),L=D,k+=D.duration,S++,x=0,I=!0);else if(f[4]){var P=(" "+f[4]).slice(1);L?D.setByteRange(P,L):D.setByteRange(P)}else if(f[5])D.rawProgramDateTime=(" "+f[5]).slice(1),D.tagList.push(["PROGRAM-DATE-TIME",D.rawProgramDateTime]),-1===C&&(C=T.length);else{if(!(f=f[0].match(v))){c.logger.warn("No matches on slow regex match for level playlist!");continue}for(g=1;g<f.length&&void 0===f[g];g++);var M=(" "+f[g]).slice(1),N=(" "+f[g+1]).slice(1),B=f[g+2]?(" "+f[g+2]).slice(1):"";switch(M){case"PLAYLIST-TYPE":b.type=N.toUpperCase();break;case"MEDIA-SEQUENCE":S=b.startSN=parseInt(N);break;case"SKIP":var F=new d.AttrList(N),U=F.decimalInteger("SKIPPED-SEGMENTS");if((0,n.isFiniteNumber)(U)){b.skippedSegments=U;for(var j=U;j--;)T.unshift(null);S+=U}var z=F.enumeratedString("RECENTLY-REMOVED-DATERANGES");z&&(b.recentlyRemovedDateranges=z.split("\t"));break;case"TARGETDURATION":b.targetduration=parseFloat(N);break;case"VERSION":b.version=parseInt(N);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"#":(N||B)&&D.tagList.push(B?[N,B]:[N]);break;case"DISCONTINUITY":A++,D.tagList.push(["DIS"]);break;case"GAP":D.tagList.push([M]);break;case"BITRATE":D.tagList.push([M,N]);break;case"DATERANGE":var V=new d.AttrList(N),G=new i.DateRange(V,b.dateRanges[V.ID]);G.isValid||b.skippedSegments?b.dateRanges[G.id]=G:c.logger.warn('Ignoring invalid DATERANGE tag: "'+N+'"'),D.tagList.push(["EXT-X-DATERANGE",N]);break;case"DISCONTINUITY-SEQUENCE":A=parseInt(N);break;case"KEY":var H,q=new d.AttrList(N),K=q.enumeratedString("METHOD"),Y=q.URI,W=q.hexadecimalInteger("IV"),X=q.enumeratedString("KEYFORMATVERSIONS"),Z=q.enumeratedString("KEYID"),Q=null!=(H=q.enumeratedString("KEYFORMAT"))?H:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Q)>-1){c.logger.warn("Keyformat "+Q+" is not supported from the manifest");continue}if("identity"!==Q)continue;K&&(y=l.LevelKey.fromURL(t,Y),Y&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(K)>=0&&(y.method=K,y.keyFormat=Q,Z&&(y.keyID=Z),X&&(y.keyFormatVersions=X),y.iv=W));break;case"START":var J=new d.AttrList(N).decimalFloatingPoint("TIME-OFFSET");(0,n.isFiniteNumber)(J)&&(b.startTimeOffset=J);break;case"MAP":var $=new d.AttrList(N);if(D.duration){var ee=new o.Fragment(u,t);E(ee,$,a,y),w=ee,D.initSegment=w,w.rawProgramDateTime&&!D.rawProgramDateTime&&(D.rawProgramDateTime=w.rawProgramDateTime)}else E(D,$,a,y),w=D,I=!0;break;case"SERVER-CONTROL":var te=new d.AttrList(N);b.canBlockReload=te.bool("CAN-BLOCK-RELOAD"),b.canSkipUntil=te.optionalFloat("CAN-SKIP-UNTIL",0),b.canSkipDateRanges=b.canSkipUntil>0&&te.bool("CAN-SKIP-DATERANGES"),b.partHoldBack=te.optionalFloat("PART-HOLD-BACK",0),b.holdBack=te.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var ae=new d.AttrList(N);b.partTarget=ae.decimalFloatingPoint("PART-TARGET");break;case"PART":var ne=b.partList;ne||(ne=b.partList=[]);var re=x>0?ne[ne.length-1]:void 0,ie=x++,oe=new o.Part(new d.AttrList(N),D,t,ie,re);ne.push(oe),D.duration+=oe.duration;break;case"PRELOAD-HINT":var se=new d.AttrList(N);b.preloadHint=se;break;case"RENDITION-REPORT":var le=new d.AttrList(N);b.renditionReports=b.renditionReports||[],b.renditionReports.push(le);break;default:c.logger.warn("line parsed but not handled: "+f)}}}L&&!L.relurl?(T.pop(),k-=L.duration,b.partList&&(b.fragmentHint=L)):b.partList&&(_(D,L),D.cc=A,b.fragmentHint=D);var de=T.length,ce=T[0],ue=T[de-1];if((k+=b.skippedSegments*b.targetduration)>0&&de&&ue){b.averagetargetduration=k/de;var he=ue.sn;b.endSN="initSegment"!==he?he:0,ce&&(b.startCC=ce.cc,ce.initSegment||b.fragments.every((function(e){return e.relurl&&(t=e.relurl,m.test(null!=(a=null===(n=r.parseURL(t))||void 0===n?void 0:n.path)?a:""));var t,a,n}))&&(c.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(D=new o.Fragment(u,t)).relurl=ue.relurl,D.level=a,D.sn="initSegment",ce.initSegment=D,b.needSidxRanges=!0))}else b.endSN=0,b.startCC=0;return b.fragmentHint&&(k+=b.fragmentHint.duration),b.totalduration=k,b.endCC=A,C>0&&function(e,t){for(var a=e[t],n=t;n--;){var r=e[n];if(!r)return;r.programDateTime=a.programDateTime-1e3*r.duration,a=r}}(T,C),b},e}();function y(e,t){["video","audio","text"].forEach((function(a){var n=e.filter((function(e){return(0,u.isCodecType)(e,a)}));if(n.length){var r=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[a+"Codec"]=r.length>0?r[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}function b(e,t,a){var n=t[a];n&&(e[a]=n)}function _(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),(0,n.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function E(e,t,a,n){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=a,e.sn="initSegment",n&&(e.levelkey=n),e.initSegment=null}},"./src/loader/playlist-loader.ts":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.ts ***!
  \***************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../events */"./src/events.ts"),i=a(/*! ../errors */"./src/errors.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=a(/*! ./m3u8-parser */"./src/loader/m3u8-parser.ts"),d=a(/*! ../types/loader */"./src/types/loader.ts"),c=a(/*! ../utils/attr-list */"./src/utils/attr-list.ts");function u(e,t){var a=e.url;return void 0!==a&&0!==a.indexOf("data:")||(a=t.url),a}const h=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.startLoad=function(e){},t.stopLoad=function(){this.destroyInternalLoaders()},t.registerListeners=function(){var e=this.hls;e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(r.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(r.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,a=t.pLoader,n=t.loader,r=new(a||n)(t);return e.loader=r,this.loaders[e.type]=r,r},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var a=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:d.PlaylistContextType.MANIFEST,url:a,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var a=t.id,n=t.level,r=t.url,i=t.deliveryDirectives;this.load({id:a,groupId:null,level:n,responseType:"text",type:d.PlaylistContextType.LEVEL,url:r,deliveryDirectives:i})},t.onAudioTrackLoading=function(e,t){var a=t.id,n=t.groupId,r=t.url,i=t.deliveryDirectives;this.load({id:a,groupId:n,level:null,responseType:"text",type:d.PlaylistContextType.AUDIO_TRACK,url:r,deliveryDirectives:i})},t.onSubtitleTrackLoading=function(e,t){var a=t.id,n=t.groupId,r=t.url,i=t.deliveryDirectives;this.load({id:a,groupId:n,level:null,responseType:"text",type:d.PlaylistContextType.SUBTITLE_TRACK,url:r,deliveryDirectives:i})},t.load=function(e){var t,a,n,r,i,s,l=this.hls.config,c=this.getInternalLoader(e);if(c){var u=c.context;if(u&&u.url===e.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),c.abort()}switch(e.type){case d.PlaylistContextType.MANIFEST:a=l.manifestLoadingMaxRetry,n=l.manifestLoadingTimeOut,r=l.manifestLoadingRetryDelay,i=l.manifestLoadingMaxRetryTimeout;break;case d.PlaylistContextType.LEVEL:case d.PlaylistContextType.AUDIO_TRACK:case d.PlaylistContextType.SUBTITLE_TRACK:a=0,n=l.levelLoadingTimeOut;break;default:a=l.levelLoadingMaxRetry,n=l.levelLoadingTimeOut,r=l.levelLoadingRetryDelay,i=l.levelLoadingMaxRetryTimeout}if(c=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===d.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===d.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===d.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var h=s.partTarget,f=s.targetduration;h&&f&&(n=Math.min(1e3*Math.max(3*h,.8*f),n))}var p={timeout:n,maxRetry:a,retryDelay:r,maxRetryDelay:i,highWaterMark:0},v={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(e,p,v)},t.loadsuccess=function(e,t,a,n){if(void 0===n&&(n=null),a.isSidxRequest)return this.handleSidxRequest(e,a),void this.handlePlaylistLoaded(e,t,a,n);this.resetInternalLoader(a.type);var r=e.data;0===r.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,a,n):this.handleMasterPlaylist(e,t,a,n)):this.handleManifestParsingError(e,a,"no EXTM3U delimiter",n)},t.loaderror=function(e,t,a){void 0===a&&(a=null),this.handleNetworkError(t,a,!1,e)},t.loadtimeout=function(e,t,a){void 0===a&&(a=null),this.handleNetworkError(t,a,!0)},t.handleMasterPlaylist=function(e,t,a,n){var i=this.hls,s=e.data,d=u(e,a),h=l.default.parseMasterPlaylist(s,d),f=h.levels,p=h.sessionData;if(f.length){var v=f.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),m=f.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),g=l.default.parseMasterPlaylistMedia(s,d,"AUDIO",v),y=l.default.parseMasterPlaylistMedia(s,d,"SUBTITLES",m),b=l.default.parseMasterPlaylistMedia(s,d,"CLOSED-CAPTIONS");g.length&&(g.some((function(e){return!e.url}))||!f[0].audioCodec||f[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),i.trigger(r.Events.MANIFEST_LOADED,{levels:f,audioTracks:g,subtitles:y,captions:b,url:d,stats:t,networkDetails:n,sessionData:p})}else this.handleManifestParsingError(e,a,"no level found in manifest",n)},t.handleTrackOrLevelPlaylist=function(e,t,a,o){var s=this.hls,h=a.id,f=a.level,p=a.type,v=u(e,a),m=(0,n.isFiniteNumber)(h)?h:0,g=(0,n.isFiniteNumber)(f)?f:m,y=function(e){switch(e.type){case d.PlaylistContextType.AUDIO_TRACK:return d.PlaylistLevelType.AUDIO;case d.PlaylistContextType.SUBTITLE_TRACK:return d.PlaylistLevelType.SUBTITLE;default:return d.PlaylistLevelType.MAIN}}(a),b=l.default.parseLevelPlaylist(e.data,v,g,y,m);if(b.fragments.length){if(p===d.PlaylistContextType.MANIFEST){var _={attrs:new c.AttrList({}),bitrate:0,details:b,name:"",url:v};s.trigger(r.Events.MANIFEST_LOADED,{levels:[_],audioTracks:[],url:v,stats:t,networkDetails:o,sessionData:null})}if(t.parsing.end=performance.now(),b.needSidxRanges){var E,T=null===(E=b.fragments[0].initSegment)||void 0===E?void 0:E.url;this.load({url:T,isSidxRequest:!0,type:p,level:f,levelDetails:b,id:h,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else a.levelDetails=b,this.handlePlaylistLoaded(e,t,a,o)}else s.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:v,reason:"no fragments found in level",level:"number"==typeof a.level?a.level:void 0})},t.handleSidxRequest=function(e,t){var a=new Uint8Array(e.data),n=(0,s.findBox)(a,["sidx"])[0];if(n){var r=(0,s.parseSegmentIndex)(n);if(r){var i=r.references,o=t.levelDetails;i.forEach((function(e,t){var n=e.info,r=o.fragments[t];if(0===r.byteRange.length&&r.setByteRange(String(1+n.end-n.start)+"@"+String(n.start)),r.initSegment){var i=(0,s.findBox)(a,["moov"])[0],l=i?i.length:null;r.initSegment.setByteRange(String(l)+"@0")}}))}}},t.handleManifestParsingError=function(e,t,a,n){this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===d.PlaylistContextType.MANIFEST,url:e.url,reason:a,response:e,context:t,networkDetails:n})},t.handleNetworkError=function(e,t,a,n){void 0===a&&(a=!1),o.logger.warn("[playlist-loader]: A network "+(a?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=i.ErrorDetails.UNKNOWN,l=!1,c=this.getInternalLoader(e);switch(e.type){case d.PlaylistContextType.MANIFEST:s=a?i.ErrorDetails.MANIFEST_LOAD_TIMEOUT:i.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case d.PlaylistContextType.LEVEL:s=a?i.ErrorDetails.LEVEL_LOAD_TIMEOUT:i.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case d.PlaylistContextType.AUDIO_TRACK:s=a?i.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case d.PlaylistContextType.SUBTITLE_TRACK:s=a?i.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:i.ErrorDetails.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(e.type);var u={type:i.ErrorTypes.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:c,context:e,networkDetails:t};n&&(u.response=n),this.hls.trigger(r.Events.ERROR,u)},t.handlePlaylistLoaded=function(e,t,a,n){var i=a.type,o=a.level,s=a.id,l=a.groupId,c=a.loader,u=a.levelDetails,h=a.deliveryDirectives;if(null!=u&&u.targetduration){if(c)switch(u.live&&(c.getCacheAge&&(u.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(u.ageHeader)||(u.ageHeader=0)),i){case d.PlaylistContextType.MANIFEST:case d.PlaylistContextType.LEVEL:this.hls.trigger(r.Events.LEVEL_LOADED,{details:u,level:o||0,id:s||0,stats:t,networkDetails:n,deliveryDirectives:h});break;case d.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(r.Events.AUDIO_TRACK_LOADED,{details:u,id:s||0,groupId:l||"",stats:t,networkDetails:n,deliveryDirectives:h});break;case d.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADED,{details:u,id:s||0,groupId:l||"",stats:t,networkDetails:n,deliveryDirectives:h})}}else this.handleManifestParsingError(e,a,"invalid target duration",n)},e}()},"./src/polyfills/number.ts":
/*!*********************************!*\
  !*** ./src/polyfills/number.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_SAFE_INTEGER:()=>r,isFiniteNumber:()=>n});var n=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},r=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}()},"./src/remux/mp4-generator.ts":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=Math.pow(2,32)-1,r=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var a=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:a,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=i,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,r))},e.box=function(e){for(var t=8,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];for(var i=n.length,o=i;i--;)t+=n[i].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),i=0,t=8;i<o;i++)s.set(n[i],t),t+=n[i].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,a){a*=t;var r=Math.floor(a/(n+1)),i=Math.floor(a%(n+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,a,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,a))},e.moov=function(t){for(var a=t.length,n=[];a--;)n[a]=e.trak(t[a]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var a=t.length,n=[];a--;)n[a]=e.trex(t[a]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,a){a*=t;var r=Math.floor(a/(n+1)),i=Math.floor(a%(n+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var a,n,r=t.samples||[],i=new Uint8Array(4+r.length);for(a=0;a<r.length;a++)n=r[a].flags,i[a+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,i)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var a,n,r,i=[],o=[];for(a=0;a<t.sps.length;a++)r=(n=t.sps[a]).byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));for(a=0;a<t.pps.length;a++)r=(n=t.pps[a]).byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),l=t.width,d=t.height,c=t.pixelRatio[0],u=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,d>>8&255,255&d,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var a=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,a>>8&255,255&a,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var a=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,a>>8&255,255&a,0,0]))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var a=t.id,r=t.duration*t.timescale,i=t.width,o=t.height,s=Math.floor(r/(n+1)),l=Math.floor(r%(n+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,a>>24&255,a>>16&255,a>>8&255,255&a,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,a){var r=e.sdtp(t),i=t.id,o=Math.floor(a/(n+1)),s=Math.floor(a%(n+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,r.length+16+20+8+16+8+8),r)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var a=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,a){var n,r,i,o,s,l,d=t.samples||[],c=d.length,u=12+16*c,h=new Uint8Array(u);for(a+=8+u,h.set(["video"===t.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,a>>>24&255,a>>>16&255,a>>>8&255,255&a],0),n=0;n<c;n++)i=(r=d[n]).duration,o=r.size,s=r.flags,l=r.cts,h.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,h)},e.initSegment=function(t){e.types||e.init();var a=e.moov(t),n=new Uint8Array(e.FTYP.byteLength+a.byteLength);return n.set(e.FTYP),n.set(a,e.FTYP.byteLength),n},e}();r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0;const i=r},"./src/remux/mp4-remuxer.ts":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p,flushTextTrackMetadataCueSamples:()=>m,flushTextTrackUserdataCueSamples:()=>g,normalizePts:()=>v});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ./aac-helper */"./src/remux/aac-helper.ts"),i=a(/*! ./mp4-generator */"./src/remux/mp4-generator.ts"),o=a(/*! ../events */"./src/events.ts"),s=a(/*! ../errors */"./src/errors.ts"),l=a(/*! ../utils/logger */"./src/utils/logger.ts"),d=a(/*! ../types/loader */"./src/types/loader.ts"),c=a(/*! ../utils/timescale-conversion */"./src/utils/timescale-conversion.ts");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}var h=null,f=null,p=function(){function e(e,t,a,n){if(void 0===n&&(n=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=a,this.ISGenerated=!1,null===h){var r=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);h=r?parseInt(r[1]):0}if(null===f){var i=navigator.userAgent.match(/Safari\/(\d+)/i);f=i?parseInt(i[1]):0}}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,a=e.reduce((function(e,a){var n=a.pts-e;return n<-4294967296?(t=!0,v(e,a.pts)):n>0?e:a.pts}),e[0].pts);return t&&l.logger.debug("PTS rollover detected"),a},t.remux=function(e,t,a,n,r,i,o,s){var c,u,h,f,p,y,b=r,_=r,E=e.pid>-1,T=t.pid>-1,w=t.samples.length,S=e.samples.length>0,x=o&&w>0||w>1;if((!E||S)&&(!T||x)||this.ISGenerated||o){this.ISGenerated||(h=this.generateIS(e,t,r));var k,A=this.isVideoContiguous,L=-1;if(x&&(L=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!A&&this.config.forceKeyFrameOnDiscontinuity))if(y=!0,L>0){l.logger.warn("[mp4-remuxer]: Dropped "+L+" out of "+w+" video samples due to a missing keyframe");var D=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(L),t.dropped+=L,k=_+=(t.samples[0].pts-D)/t.inputTimeScale}else-1===L&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+w+" video samples"),y=!1);if(this.ISGenerated){if(S&&x){var C=this.getVideoStartPts(t.samples),I=(v(e.samples[0].pts,C)-C)/t.inputTimeScale;b+=Math.max(0,I),_+=Math.max(0,-I)}if(S){if(e.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(e,t,r)),u=this.remuxAudio(e,b,this.isAudioContiguous,i,T||x||s===d.PlaylistLevelType.AUDIO?_:void 0),x){var R=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(e,t,r)),c=this.remuxVideo(t,_,A,R)}}else x&&(c=this.remuxVideo(t,_,A,0));c&&(c.firstKeyFrame=L,c.independent=-1!==L,c.firstKeyFramePTS=k)}}return this.ISGenerated&&(a.samples.length&&(p=m(a,r,this._initPTS,this._initDTS)),n.samples.length&&(f=g(n,r,this._initPTS))),{audio:u,video:c,initSegment:h,independent:y,text:f,id3:p}},t.generateIS=function(e,t,a){var r,o,s,l=e.samples,d=t.samples,c=this.typeSupported,u={},h=!(0,n.isFiniteNumber)(this._initPTS),f="audio/mp4";if(h&&(r=o=1/0),e.config&&l.length&&(e.timescale=e.samplerate,"mp3"===e.segmentCodec&&(c.mpeg?(f="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),u.audio={id:"audio",container:f,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&c.mpeg?new Uint8Array(0):i.default.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(s=e.inputTimeScale,r=o=l[0].pts-Math.round(s*a))),t.sps&&t.pps&&d.length&&(t.timescale=t.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:i.default.initSegment([t]),metadata:{width:t.width,height:t.height}},h)){s=t.inputTimeScale;var p=this.getVideoStartPts(d),m=Math.round(s*a);o=Math.min(o,v(d[0].dts,p)-m),r=Math.min(r,p-m)}if(Object.keys(u).length)return this.ISGenerated=!0,h&&(this._initPTS=r,this._initDTS=o),{tracks:u,initPTS:r,timescale:s}},t.remuxVideo=function(e,t,a,n){var r,d,p=e.inputTimeScale,m=e.samples,g=[],b=m.length,_=this._initPTS,E=this.nextAvcDts,T=8,w=this.videoSampleDuration,S=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,k=!1;a&&null!==E||(E=t*p-(m[0].pts-v(m[0].dts,m[0].pts)));for(var A=0;A<b;A++){var L=m[A];L.pts=v(L.pts-_,E),L.dts=v(L.dts-_,E),L.dts<m[A>0?A-1:A].dts&&(k=!0)}k&&m.sort((function(e,t){var a=e.dts-t.dts,n=e.pts-t.pts;return a||n})),r=m[0].dts;var D=(d=m[m.length-1].dts)-r,C=D?Math.round(D/(b-1)):w||e.inputTimeScale/30;if(a){var I=r-E,R=I>C,O=I<-1;if((R||O)&&(R?l.logger.warn("AVC: "+(0,c.toMsFromMpegTsClock)(I,!0)+" ms ("+I+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+(0,c.toMsFromMpegTsClock)(-I,!0)+" ms ("+I+"dts) overlapping between fragments detected"),!O||E>m[0].pts)){r=E;var P=m[0].pts-I;m[0].dts=r,m[0].pts=P,l.logger.log("Video: First PTS/DTS adjusted: "+(0,c.toMsFromMpegTsClock)(P,!0)+"/"+(0,c.toMsFromMpegTsClock)(r,!0)+", delta: "+(0,c.toMsFromMpegTsClock)(I,!0)+" ms")}}r=Math.max(0,r);for(var M=0,N=0,B=0;B<b;B++){for(var F=m[B],U=F.units,j=U.length,z=0,V=0;V<j;V++)z+=U[V].data.length;N+=z,M+=j,F.length=z,F.dts=Math.max(F.dts,r),S=Math.min(F.pts,S),x=Math.max(F.pts,x)}d=m[b-1].dts;var G,H=N+4*M+8;try{G=new Uint8Array(H)}catch(e){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating video mdat "+H})}var q=new DataView(G.buffer);q.setUint32(0,H),G.set(i.default.types.mdat,4);for(var K=!1,Y=Number.POSITIVE_INFINITY,W=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,Z=Number.NEGATIVE_INFINITY,Q=0;Q<b;Q++){for(var J=m[Q],$=J.units,ee=0,te=0,ae=$.length;te<ae;te++){var ne=$[te],re=ne.data,ie=ne.data.byteLength;q.setUint32(T,ie),T+=4,G.set(re,T),T+=ie,ee+=4+ie}var oe=void 0;if(Q<b-1)w=m[Q+1].dts-J.dts,oe=m[Q+1].pts-J.pts;else{var se=this.config,le=Q>0?J.dts-m[Q-1].dts:C;if(oe=Q>0?J.pts-m[Q-1].pts:C,se.stretchShortVideoTrack&&null!==this.nextAudioPts){var de=Math.floor(se.maxBufferHole*p),ce=(n?S+n*p:this.nextAudioPts)-J.pts;ce>de?((w=ce-le)<0?w=le:K=!0,l.logger.log("[mp4-remuxer]: It is approximately "+ce/90+" ms to the next segment; using duration "+w/90+" ms for the last video frame.")):w=le}else w=le}var ue=Math.round(J.pts-J.dts);Y=Math.min(Y,w),X=Math.max(X,w),W=Math.min(W,oe),Z=Math.max(Z,oe),g.push(new y(J.key,w,ee,ue))}if(g.length)if(h){if(h<70){var he=g[0].flags;he.dependsOn=2,he.isNonSync=0}}else if(f&&Z-W<X-Y&&C/X<.025&&0===g[0].cts){l.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var fe=r,pe=0,ve=g.length;pe<ve;pe++){var me=fe+g[pe].duration,ge=fe+g[pe].cts;if(pe<ve-1){var ye=me+g[pe+1].cts;g[pe].duration=ye-ge}else g[pe].duration=pe?g[pe-1].duration:C;g[pe].cts=0,fe=me}}console.assert(null!==w,"mp4SampleDuration must be computed"),w=K||!w?C:w,this.nextAvcDts=E=d+w,this.videoSampleDuration=w,this.isVideoContiguous=!0;var be={data1:i.default.moof(e.sequenceNumber++,r,u({},e,{samples:g})),data2:G,startPTS:S/p,endPTS:(x+w)/p,startDTS:r/p,endDTS:E/p,type:"video",hasAudio:!1,hasVideo:!0,nb:g.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(G.length,"MDAT length must not be zero"),be},t.remuxAudio=function(e,t,a,n,d){var c=e.inputTimeScale,h=c/(e.samplerate?e.samplerate:c),f="aac"===e.segmentCodec?1024:1152,p=f*h,m=this._initPTS,g="mp3"===e.segmentCodec&&this.typeSupported.mpeg,b=[],_=void 0!==d,E=e.samples,T=g?0:8,w=this.nextAudioPts||-1,S=t*c;if(this.isAudioContiguous=a=a||E.length&&w>0&&(n&&Math.abs(S-w)<9e3||Math.abs(v(E[0].pts-m,S)-w)<20*p),E.forEach((function(e){e.pts=v(e.pts-m,S)})),!a||w<0){if(E=E.filter((function(e){return e.pts>=0})),!E.length)return;w=0===d?0:n&&!_?Math.max(0,S):E[0].pts}if("aac"===e.segmentCodec)for(var x=this.config.maxAudioFramesDrift,k=0,A=w;k<E.length;k++){var L=E[k],D=L.pts,C=D-A,I=Math.abs(1e3*C/c);if(C<=-x*p&&_)0===k&&(l.logger.warn("Audio frame @ "+(D/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*C/c)+" ms."),this.nextAudioPts=w=A=D);else if(C>=x*p&&I<1e4&&_){var R=Math.round(C/p);(A=D-R*p)<0&&(R--,A+=p),0===k&&(this.nextAudioPts=w=A),l.logger.warn("[mp4-remuxer]: Injecting "+R+" audio frame @ "+(A/c).toFixed(3)+"s due to "+Math.round(1e3*C/c)+" ms gap.");for(var O=0;O<R;O++){var P=Math.max(A,0),M=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);M||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),M=L.unit.subarray()),E.splice(k,0,{unit:M,pts:P}),A+=p,k++}}L.pts=A,A+=p}for(var N,B=null,F=null,U=0,j=E.length;j--;)U+=E[j].unit.byteLength;for(var z=0,V=E.length;z<V;z++){var G=E[z],H=G.unit,q=G.pts;if(null!==F)b[z-1].duration=Math.round((q-F)/h);else{if(a&&"aac"===e.segmentCodec&&(q=w),B=q,!(U>0))return;U+=T;try{N=new Uint8Array(U)}catch(e){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating audio mdat "+U})}g||(new DataView(N.buffer).setUint32(0,U),N.set(i.default.types.mdat,4))}N.set(H,T);var K=H.byteLength;T+=K,b.push(new y(!0,f,K,0)),F=q}var Y=b.length;if(Y){var W=b[b.length-1];this.nextAudioPts=w=F+h*W.duration;var X=g?new Uint8Array(0):i.default.moof(e.sequenceNumber++,B/h,u({},e,{samples:b}));e.samples=[];var Z=B/c,Q=w/c,J={data1:X,data2:N,startPTS:Z,endPTS:Q,startDTS:Z,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.isAudioContiguous=!0,console.assert(N.length,"MDAT length must not be zero"),J}},t.remuxEmptyAudio=function(e,t,a,n){var i=e.inputTimeScale,o=i/(e.samplerate?e.samplerate:i),s=this.nextAudioPts,d=(null!==s?s:n.startDTS*i)+this._initDTS,c=n.endDTS*i+this._initDTS,u=1024*o,h=Math.ceil((c-d)/u),f=r.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),f){for(var p=[],v=0;v<h;v++){var m=d+v*u;p.push({unit:f,pts:m,dts:m})}return e.samples=p,this.remuxAudio(e,t,a,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e}();function v(e,t){var a;if(null===t)return e;for(a=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=a;return e}function m(e,t,a,n){var r=e.samples.length;if(r){for(var i=e.inputTimeScale,o=0;o<r;o++){var s=e.samples[o];s.pts=v(s.pts-a,t*i)/i,s.dts=v(s.dts-n,t*i)/i}var l=e.samples;return e.samples=[],{samples:l}}}function g(e,t,a){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=0;i<n;i++){var o=e.samples[i];o.pts=v(o.pts-a,t*r)/r}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var y=function(e,t,a,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=a,this.cts=n,this.flags=new b(e)},b=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ./mp4-remuxer */"./src/remux/mp4-remuxer.ts"),i=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),o=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),s=a(/*! ../utils/logger */"./src/utils/logger.ts");function l(e,t){var a=null==e?void 0:e.codec;return a&&a.length>4?a:"hvc1"===a||"hev1"===a?"hvc1.1.c.L120.90":"av01"===a?"av01.0.04M.08":"avc1"===a||t===o.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const d=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndTime=null},t.resetNextTimestamp=function(){this.lastEndTime=null},t.resetInitSegment=function(e,t,a){this.audioCodec=t,this.videoCodec=a,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,a=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=(0,i.parseInitSegment)(e);t||(t=l(n.audio,o.ElementaryStreamTypes.AUDIO)),a||(a=l(n.video,o.ElementaryStreamTypes.VIDEO));var r={};n.audio&&n.video?r.audiovideo={container:"video/mp4",codec:t+","+a,initSegment:e,id:"main"}:n.audio?r.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?r.video={container:"video/mp4",codec:a,initSegment:e,id:"main"}:s.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=r},t.remux=function(e,t,a,o,l){var d,c=this.initPTS,u=this.lastEndTime,h={audio:void 0,video:void 0,text:o,id3:a,initSegment:void 0};(0,n.isFiniteNumber)(u)||(u=this.lastEndTime=l||0);var f=t.samples;if(!f||!f.length)return h;var p={initPTS:void 0,timescale:1},v=this.initData;if(v&&v.length||(this.generateInitSegment(f),v=this.initData),!v||!v.length)return s.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);var m=(0,i.getStartDTS)(v,f);(0,n.isFiniteNumber)(c)||(this.initPTS=p.initPTS=c=m-l);var g=(0,i.getDuration)(f,v),y=e?m-c:u,b=y+g;(0,i.offsetStartDTS)(v,f,c),g>0?this.lastEndTime=b:(s.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var _=!!v.audio,E=!!v.video,T="";_&&(T+="audio"),E&&(T+="video");var w={data1:f,startPTS:y,startDTS:y,endPTS:b,endDTS:b,type:T,hasAudio:_,hasVideo:E,nb:1,dropped:0};h.audio="audio"===w.type?w:void 0,h.video="audio"!==w.type?w:void 0,h.initSegment=p;var S=null!=(d=this.initPTS)?d:0;return h.id3=(0,r.flushTextTrackMetadataCueSamples)(a,l,S,S),o.samples.length&&(h.text=(0,r.flushTextTrackUserdataCueSamples)(o,l,S)),h},e}()},"./src/task-loop.ts":
/*!**************************!*\
  !*** ./src/task-loop.ts ***!
  \**************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/cmcd.ts":
/*!***************************!*\
  !*** ./src/types/cmcd.ts ***!
  \***************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{CMCDObjectType:()=>n,CMCDStreamType:()=>i,CMCDStreamingFormat:()=>r,CMCDVersion:()=>o});var n,r,i,o=1;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(n||(n={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(r||(r={})),function(e){e.VOD="v",e.LIVE="l"}(i||(i={}))},"./src/types/demuxer.ts":
/*!******************************!*\
  !*** ./src/types/demuxer.ts ***!
  \******************************/(e,t,a)=>{"use strict";var n;a.r(t),a.d(t,{MetadataSchema:()=>n}),function(e){e.audioId3="org.id3",e.dateRange="com.apple.quicktime.HLS",e.emsg="https://aomedia.org/emsg/ID3"}(n||(n={}))},"./src/types/level.ts":
/*!****************************!*\
  !*** ./src/types/level.ts ***!
  \****************************/(e,t,a)=>{"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r;function i(e,t){var a=e.canSkipUntil,n=e.canSkipDateRanges,i=e.endSN;return a&&(void 0!==t?t-i:0)<a?n?r.v2:r.Yes:r.No}a.r(t),a.d(t,{HlsSkip:()=>r,HlsUrlParameters:()=>o,Level:()=>s,getSkipValue:()=>i}),function(e){e.No="",e.Yes="YES",e.v2="v2"}(r||(r={}));var o=function(){function e(e,t,a){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=a}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),s=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t,a,r;return t=e,(a=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&n(t.prototype,a),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/types/loader.ts":
/*!*****************************!*\
  !*** ./src/types/loader.ts ***!
  \*****************************/(e,t,a)=>{"use strict";var n,r;a.r(t),a.d(t,{PlaylistContextType:()=>n,PlaylistLevelType:()=>r}),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(n||(n={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(r||(r={}))},"./src/types/transmuxer.ts":
/*!*********************************!*\
  !*** ./src/types/transmuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{ChunkMetadata:()=>n});var n=function(e,t,a,n,r,i){void 0===n&&(n=0),void 0===r&&(r=-1),void 0===i&&(i=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=a,this.size=n,this.part=r,this.partial=i}},"./src/utils/attr-list.ts":
/*!********************************!*\
  !*** ./src/utils/attr-list.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{AttrList:()=>i});var n=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function e(t){for(var a in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(a)&&(this[a]=t[a])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var a=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)a[n]=parseInt(t.slice(2*n,2*n+2),16);return a}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var a=this[e];return a?parseFloat(a):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=n.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,a={};for(r.lastIndex=0;null!==(t=r.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),a[t[1]]=n}return a},e}()},"./src/utils/binary-search.ts":
/*!************************************!*\
  !*** ./src/utils/binary-search.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={search:function(e,t){for(var a=0,n=e.length-1,r=null,i=null;a<=n;){var o=t(i=e[r=(a+n)/2|0]);if(o>0)a=r+1;else{if(!(o<0))return i;n=r-1}}return null}}},"./src/utils/buffer-helper.ts":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{BufferHelper:()=>i});var n=a(/*! ./logger */"./src/utils/logger.ts"),r={length:0,start:function(){return 0},end:function(){return 0}},i=function(){function e(){}return e.isBuffered=function(t,a){try{if(t)for(var n=e.getBuffered(t),r=0;r<n.length;r++)if(a>=n.start(r)&&a<=n.end(r))return!0}catch(e){}return!1},e.bufferInfo=function(t,a,n){try{if(t){var r,i=e.getBuffered(t),o=[];for(r=0;r<i.length;r++)o.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(o,a,n)}}catch(e){}return{len:0,start:a,end:a,nextStart:void 0}},e.bufferedInfo=function(e,t,a){t=Math.max(0,t),e.sort((function(e,t){var a=e.start-t.start;return a||t.end-e.end}));var n=[];if(a)for(var r=0;r<e.length;r++){var i=n.length;if(i){var o=n[i-1].end;e[r].start-o<a?e[r].end>o&&(n[i-1].end=e[r].end):n.push(e[r])}else n.push(e[r])}else n=e;for(var s,l=0,d=t,c=t,u=0;u<n.length;u++){var h=n[u].start,f=n[u].end;if(t+a>=h&&t<f)d=h,l=(c=f)-t;else if(t+a<h){s=h;break}}return{len:l,start:d||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(e){return n.logger.log("failed to get media.buffered",e),r}},e}()},"./src/utils/cea-608-parser.ts":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.ts ***!
  \*************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{CaptionScreen:()=>b,Row:()=>y,default:()=>w});var n,r=a(/*! ../utils/logger */"./src/utils/logger.ts"),i={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return i.hasOwnProperty(e)&&(t=i[e]),String.fromCharCode(t)},s=15,l=100,d={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(n||(n={}));var p=function(){function e(){this.time=null,this.verboseLevel=n.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&r.logger.log(this.time+" ["+e+"] "+t)},e}(),v=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].toString(16));return t},m=function(){function e(e,t,a,n,r){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=a||!1,this.background=n||"black",this.flash=r||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],a=0;a<t.length;a++){var n=t[a];e.hasOwnProperty(n)&&(this[n]=e[n])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),g=function(){function e(e,t,a,n,r,i){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new m(t,a,n,r,i)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),y=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<l;t++)this.chars.push(new g);this.logger=e,this.pos=0,this.currPenState=new m}var t=e.prototype;return t.equals=function(e){for(var t=!0,a=0;a<l;a++)if(!this.chars[a].equals(e.chars[a])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<l;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<l;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(n.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(this.logger.log(n.DEBUG,"Too large cursor position "+this.pos),this.pos=l)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var a=this.pos+1;a<t+1;a++)this.chars[a].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=o(e);this.pos>=l?this.logger.log(n.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<l;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,a=0;a<l;a++){var n=this.chars[a].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),b=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<s;t++)this.rows.push(new y(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<s;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,a=0;a<s;a++)if(!this.rows[a].equals(e.rows[a])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<s;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<s;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(n.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(n.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var a=0;a<s;a++)this.rows[a].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[r].cueStartTime,l=this.logger.time;if(o&&null!==l&&o<l)for(var d=0;d<this.nrRollUpRows;d++)this.rows[t-this.nrRollUpRows+d+1].copy(i.rows[r+d])}}this.currRow=t;var c=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,h=Math.max(u-1,0);c.setCursor(e.indent),e.color=c.chars[h].penState.foreground}var f={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(f)},t.setBkgData=function(e){this.logger.log(n.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(n.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(n.INFO,"Rolling up")}else this.logger.log(n.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],a="",n=-1,r=0;r<s;r++){var i=this.rows[r].getTextString();i&&(n=r+1,e?t.push("Row "+n+": '"+i+"'"):t.push(i.trim()))}return t.length>0&&(a=e?"["+t.join(" | ")+"]":t.join("\n")),a},t.getTextAndFormat=function(){return this.rows},e}(),_=function(){function e(e,t,a){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new b(a),this.nonDisplayedMemory=new b(a),this.lastOutputScreen=new b(a),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=a}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(n.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var a=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(n.INFO,a+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(n.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(n.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(n.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(n.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(n.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(n.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(n.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(n.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(n.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(n.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(n.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(n.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(n.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(n.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(n.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var a=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][a]}this.logger.log(n.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}();function E(e,t,a){a.a=e,a.b=t}function T(e,t,a){return a.a===e&&a.b===t}const w=function(){function e(e,t,a){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new p;this.channels=[null,new _(e,t,n),new _(e+1,a,n)],this.cmdHistory={a:null,b:null},this.logger=n}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var a,r,i,o=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(r=127&t[s],i=127&t[s+1],0!==r||0!==i){if(this.logger.log(n.DATA,"["+v([t[s],t[s+1]])+"] -> ("+v([r,i])+")"),(a=this.parseCmd(r,i))||(a=this.parseMidrow(r,i)),a||(a=this.parsePAC(r,i)),a||(a=this.parseBackgroundAttributes(r,i)),!a&&(o=this.parseChars(r,i))){var l=this.currentChannel;l&&l>0?this.channels[l].insertChars(o):this.logger.log(n.WARNING,"No channel found yet. TEXT-MODE?")}a||o||this.logger.log(n.WARNING,"Couldn't parse cleaned data "+v([r,i])+" orig: "+v([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var a=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(T(e,t,a))return E(null,null,a),this.logger.log(n.DEBUG,"Repeated command ("+v([e,t])+") is dropped"),!0;var r=20===e||21===e||23===e?1:2,i=this.channels[r];return 20===e||21===e||28===e||29===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),E(e,t,a),this.currentChannel=r,!0},t.parseMidrow=function(e,t){var a=0;if((17===e||25===e)&&t>=32&&t<=47){if((a=17===e?1:2)!==this.currentChannel)return this.logger.log(n.ERROR,"Mismatch channel in midrow parsing"),!1;var r=this.channels[a];return!!r&&(r.ccMIDROW(t),this.logger.log(n.DEBUG,"MIDROW ("+v([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var a,n=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(T(e,t,n))return E(null,null,n),!0;var r=e<=23?1:2;a=t>=64&&t<=95?1===r?d[e]:u[e]:1===r?c[e]:h[e];var i=this.channels[r];return!!i&&(i.setPAC(this.interpretPAC(a,t)),E(e,t,n),this.currentChannel=r,!0)},t.interpretPAC=function(e,t){var a,n={color:null,italics:!1,indent:null,underline:!1,row:e};return a=t>95?t-96:t-64,n.underline=1==(1&a),a<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(a/2)]:a<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((a-16)/2),n},t.parseChars=function(e,t){var a,r,i=null,s=null;if(e>=25?(a=2,s=e-8):(a=1,s=e),s>=17&&s<=19?(r=17===s?t+80:18===s?t+112:t+144,this.logger.log(n.INFO,"Special char '"+o(r)+"' in channel "+a),i=[r]):e>=32&&e<=127&&(i=0===t?[e]:[e,t]),i){var l=v(i);this.logger.log(n.DEBUG,"Char codes =  "+l.join(",")),E(e,t,this.cmdHistory)}return i},t.parseBackgroundAttributes=function(e,t){var a;if(!((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47))return!1;var n={};16===e||24===e?(a=Math.floor((t-32)/2),n.background=f[a],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0));var r=e<=23?1:2;return this.channels[r].setBkgData(n),E(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var a=this.channels[t];a&&a.cueSplitAtTime(e)}},e}()},"./src/utils/codecs.ts":
/*!*****************************!*\
  !*** ./src/utils/codecs.ts ***!
  \*****************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{isCodecSupportedInMp4:()=>i,isCodecType:()=>r});var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function r(e,t){var a=n[t];return!!a&&!0===a[e.slice(0,4)]}function i(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.ts":
/*!***************************!*\
  !*** ./src/utils/cues.ts ***!
  \***************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(/*! ./vttparser */"./src/utils/vttparser.ts"),r=a(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts"),i=a(/*! ./texttrack-utils */"./src/utils/texttrack-utils.ts"),o=/\s/;const s={newCue:function(e,t,a,s){for(var l,d,c,u,h,f=[],p=self.VTTCue||self.TextTrackCue,v=0;v<s.rows.length;v++)if(c=!0,u=0,h="",!(l=s.rows[v]).isEmpty()){for(var m=0;m<l.chars.length;m++)o.test(l.chars[m].uchar)&&c?u++:(h+=l.chars[m].uchar,c=!1);l.cueStartTime=t,t===a&&(a+=1e-4),u>=16?u--:u++;var g=(0,n.fixLineBreaks)(h.trim()),y=(0,r.generateCueId)(t,a,g);e&&e.cues&&e.cues.getCueById(y)||((d=new p(t,a,g)).id=y,d.line=v+1,d.align="left",d.position=10+Math.min(80,10*Math.floor(8*u/32)),f.push(d))}return e&&f.length&&(f.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),f.forEach((function(t){return(0,i.addCueToTrack)(e,t)}))),f}}},"./src/utils/discontinuities.ts":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.ts ***!
  \**************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{adjustSlidingStart:()=>c,alignMediaPlaylistByPDT:()=>f,alignPDT:()=>h,alignStream:()=>u,findDiscontinuousReferenceFrag:()=>l,findFirstFragWithCC:()=>o,shouldAlignOnDiscontinuities:()=>s});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ./logger */"./src/utils/logger.ts"),i=a(/*! ../controller/level-helper */"./src/controller/level-helper.ts");function o(e,t){for(var a=null,n=0,r=e.length;n<r;n++){var i=e[n];if(i&&i.cc===t){a=i;break}}return a}function s(e,t,a){return!(!t.details||!(a.endCC>a.startCC||e&&e.cc<a.startCC))}function l(e,t,a){void 0===a&&(a=0);var n=e.fragments,i=t.fragments;if(i.length&&n.length){var s=o(n,i[0].cc);if(s&&(!s||s.startPTS))return s;r.logger.log("No frag in previous level to align on")}else r.logger.log("No fragments to align")}function d(e,t){if(e){var a=e.start+t;e.start=e.startPTS=a,e.endPTS=a+e.duration}}function c(e,t){for(var a=t.fragments,n=0,r=a.length;n<r;n++)d(a[n],e);t.fragmentHint&&d(t.fragmentHint,e),t.alignedSliding=!0}function u(e,t,a){t&&(function(e,t,a){if(s(e,a,t)){var i=l(a.details,t);i&&(0,n.isFiniteNumber)(i.start)&&(r.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),c(i.start,t))}}(e,a,t),!a.alignedSliding&&t.details&&h(a,t.details),a.alignedSliding||!t.details||a.skippedSegments||(0,i.adjustSliding)(t.details,a))}function h(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var a=t.fragments[0].programDateTime,i=e.fragments[0].programDateTime,o=(i-a)/1e3+t.fragments[0].start;o&&(0,n.isFiniteNumber)(o)&&(r.logger.log("Adjusting PTS using programDateTime delta "+(i-a)+"ms, sliding:"+o.toFixed(3)+" "+e.url+" "),c(o,e))}}function f(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var a=e.fragments,n=t.fragments;if(a.length&&n.length){var r=n[Math.round(n.length/2)-1],i=o(a,r.cc)||a[Math.round(a.length/2)-1],s=r.programDateTime,l=i.programDateTime;null!==s&&null!==l&&c((l-s)/1e3-(i.start-r.start),e)}}}},"./src/utils/ewma-bandwidth-estimator.ts":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.ts ***!
  \***********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(/*! ../utils/ewma */"./src/utils/ewma.ts");const r=function(){function e(e,t,a){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(e),this.fast_=new n.default(t)}var t=e.prototype;return t.update=function(e,t){var a=this.slow_,r=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new n.default(e,a.getEstimate(),a.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new n.default(t,r.getEstimate(),r.getTotalWeight()))},t.sample=function(e,t){var a=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/a;this.fast_.sample(a,n),this.slow_.sample(a,n)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}()},"./src/utils/ewma.ts":
/*!***************************!*\
  !*** ./src/utils/ewma.ts ***!
  \***************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=function(){function e(e,t,a){void 0===t&&(t=0),void 0===a&&(a=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=a}var t=e.prototype;return t.sample=function(e,t){var a=Math.pow(this.alpha_,e);this.estimate_=t*(1-a)+a*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}()},"./src/utils/fetch-loader.ts":
/*!***********************************!*\
  !*** ./src/utils/fetch-loader.ts ***!
  \***********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m,fetchSupported:()=>h});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../loader/load-stats */"./src/loader/load-stats.ts"),i=a(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts");function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},o(e)}function s(e,t,a){return s=l()?Reflect.construct.bind():function(e,t,a){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return a&&d(r,a.prototype),r},s.apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}function h(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var f=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||p,this.controller=new self.AbortController,this.stats=new r.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,a){var r=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var o=function(e,t){var a={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(u({},e.headers))};return e.rangeEnd&&a.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),a}(e,this.controller.signal),s=a.onProgress,l="arraybuffer"===e.responseType,d=l?"byteLength":"length";this.context=e,this.config=t,this.callbacks=a,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){r.abortInternal(),a.onTimeout(i,e,r.response)}),t.timeout),self.fetch(this.request).then((function(a){if(r.response=r.loader=a,!a.ok){var o=a.status,d=a.statusText;throw new v(d||"fetch, bad network response",o,a)}return i.loading.first=Math.max(self.performance.now(),i.loading.start),i.total=parseInt(a.headers.get("Content-Length")||"0"),s&&(0,n.isFiniteNumber)(t.highWaterMark)?r.loadProgressively(a,i,e,t.highWaterMark,s):l?a.arrayBuffer():a.text()})).then((function(o){var l=r.response;self.clearTimeout(r.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);var c=o[d];c&&(i.loaded=i.total=c);var u={url:l.url,data:o};s&&!(0,n.isFiniteNumber)(t.highWaterMark)&&s(i,e,o,l),a.onSuccess(u,i,e,l)})).catch((function(t){if(self.clearTimeout(r.requestTimeout),!i.aborted){var n=t&&t.code||0,o=t?t.message:null;a.onError({code:n,text:o},e,t?t.details:null)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,a,n,r){void 0===n&&(n=0);var o=new i.default,s=e.body.getReader();return function i(){return s.read().then((function(s){if(s.done)return o.dataLength&&r(t,a,o.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,d=l.length;return t.loaded+=d,d<n||o.dataLength?(o.push(l),o.dataLength>=n&&r(t,a,o.flush(),e)):r(t,a,l,e),i()})).catch((function(){return Promise.reject()}))}()},e}();function p(e,t){return new self.Request(e.url,t)}var v=function(e){var t,a;function n(t,a,n){var r;return(r=e.call(this,t)||this).code=void 0,r.details=void 0,r.code=a,r.details=n,r}return a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,d(t,a),n}(o(Error));const m=f},"./src/utils/imsc1-ttml-parser.ts":
/*!****************************************!*\
  !*** ./src/utils/imsc1-ttml-parser.ts ***!
  \****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{IMSC1_CODEC:()=>c,parseIMSC1:()=>p});var n=a(/*! ./mp4-tools */"./src/utils/mp4-tools.ts"),r=a(/*! ./vttparser */"./src/utils/vttparser.ts"),i=a(/*! ./vttcue */"./src/utils/vttcue.ts"),o=a(/*! ../demux/id3 */"./src/demux/id3.ts"),s=a(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts"),l=a(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}var c="stpp.ttml.im1t",u=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,h=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,f={left:"start",center:"center",right:"end",start:"start",end:"end"};function p(e,t,a,r,c){var u=(0,n.findBox)(new Uint8Array(e),["mdat"]);if(0!==u.length){var h=u.map((function(e){return(0,o.utf8ArrayToStr)(e)})),p=(0,s.toTimescaleFromScale)(t,1,a);try{h.forEach((function(e){return r(function(e,t){var a=(new DOMParser).parseFromString(e,"text/xml"),n=a.getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(r).reduce((function(e,t){return e[t]=n.getAttribute("ttp:"+t)||r[t],e}),{}),s="preserve"!==n.getAttribute("xml:space"),c=m(v(n,"styling","style")),u=m(v(n,"layout","region")),h=v(n,"body","[begin]");return[].map.call(h,(function(e){var a=g(e,s);if(!a||!e.hasAttribute("begin"))return null;var n=_(e.getAttribute("begin"),o),r=_(e.getAttribute("dur"),o),h=_(e.getAttribute("end"),o);if(null===n)throw b(e);if(null===h){if(null===r)throw b(e);h=n+r}var p=new i.default(n-t,h-t,a);p.id=(0,l.generateCueId)(p.startTime,p.endTime,p.text);var v=u[e.getAttribute("region")],m=c[e.getAttribute("style")];p.position=10,p.size=80;var E=function(e,t,a){var n="http://www.w3.org/ns/ttml#styling",r=null,i=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;return o&&a.hasOwnProperty(o)&&(r=a[o]),i.reduce((function(a,i){var o=y(t,n,i)||y(e,n,i)||y(r,n,i);return o&&(a[i]=o),a}),{})}(v,m,c),T=E.textAlign;if(T){var w=f[T];w&&(p.lineAlign=w),p.align=T}return d(p,E),p})).filter((function(e){return null!==e}))}(e,p))}))}catch(e){c(e)}}else c(new Error("Could not parse IMSC1 mdat"))}function v(e,t,a){var n=e.getElementsByTagName(t)[0];return n?[].slice.call(n.querySelectorAll(a)):[]}function m(e){return e.reduce((function(e,t){var a=t.getAttribute("xml:id");return a&&(e[a]=t),e}),{})}function g(e,t){return[].slice.call(e.childNodes).reduce((function(e,a,n){var r;return"br"===a.nodeName&&n?e+"\n":null!==(r=a.childNodes)&&void 0!==r&&r.length?g(a,t):t?e+a.textContent.trim().replace(/\s+/g," "):e+a.textContent}),"")}function y(e,t,a){return e&&e.hasAttributeNS(t,a)?e.getAttributeNS(t,a):null}function b(e){return new Error("Could not parse ttml timestamp "+e)}function _(e,t){if(!e)return null;var a=(0,r.parseTimeStamp)(e);return null===a&&(u.test(e)?a=function(e,t){var a=u.exec(e),n=(0|a[4])+(0|a[5])/t.subFrameRate;return 3600*(0|a[1])+60*(0|a[2])+(0|a[3])+n/t.frameRate}(e,t):h.test(e)&&(a=function(e,t){var a=h.exec(e),n=Number(a[1]);switch(a[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/t.frameRate;case"t":return n/t.tickRate}return n}(e,t))),a}},"./src/utils/logger.ts":
/*!*****************************!*\
  !*** ./src/utils/logger.ts ***!
  \*****************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{enableLogs:()=>s,logger:()=>l});var n=function(){},r={trace:n,debug:n,log:n,warn:n,info:n,error:n},i=r;function o(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):n}function s(e,t){if(self.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];a.forEach((function(t){i[t]=e[t]?e[t].bind(e):o(t)}))}(e,"debug","log","info","warn","error");try{i.log('Debug logs enabled for "'+t+'"')}catch(e){i=r}}else i=r}var l=r},"./src/utils/mediakeys-helper.ts":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.ts ***!
  \***************************************/(e,t,a)=>{"use strict";var n;a.r(t),a.d(t,{KeySystems:()=>n,requestMediaKeySystemAccess:()=>r}),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(n||(n={}));var r="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.ts ***!
  \*****************************************/(e,t,a)=>{"use strict";function n(){return self.MediaSource||self.WebKitMediaSource}a.r(t),a.d(t,{getMediaSource:()=>n})},"./src/utils/mp4-tools.ts":
/*!********************************!*\
  !*** ./src/utils/mp4-tools.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{RemuxerTrackIdConfig:()=>l,appendUint8Array:()=>T,bin2str:()=>d,computeRawDurationFromSamples:()=>b,discardEPB:()=>k,findBox:()=>p,getDuration:()=>y,getStartDTS:()=>g,offsetStartDTS:()=>_,parseEmsg:()=>A,parseInitSegment:()=>m,parseSEIMessageFromNALu:()=>x,parseSamples:()=>w,parseSegmentIndex:()=>v,readSint32:()=>h,readUint16:()=>c,readUint32:()=>u,segmentValidRange:()=>E,writeUint32:()=>f});var n=a(/*! ./typed-array */"./src/utils/typed-array.ts"),r=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),i=a(/*! ../demux/id3 */"./src/demux/id3.ts"),o=Math.pow(2,32)-1,s=[].push,l={video:1,audio:2,id3:3,text:4};function d(e){return String.fromCharCode.apply(null,e)}function c(e,t){var a=e[t]<<8|e[t+1];return a<0?65536+a:a}function u(e,t){var a=h(e,t);return a<0?4294967296+a:a}function h(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function f(e,t,a){e[t]=a>>24,e[t+1]=a>>16&255,e[t+2]=a>>8&255,e[t+3]=255&a}function p(e,t){var a=[];if(!t.length)return a;for(var n=e.byteLength,r=0;r<n;){var i=u(e,r),o=i>1?r+i:n;if(d(e.subarray(r+4,r+8))===t[0])if(1===t.length)a.push(e.subarray(r+8,o));else{var l=p(e.subarray(r+8,o),t.slice(1));l.length&&s.apply(a,l)}r=o}return a}function v(e){var t=[],a=e[0],n=8,r=u(e,n);n+=4,n+=0===a?8:16,n+=2;var i=e.length+0,o=c(e,n);n+=2;for(var s=0;s<o;s++){var l=n,d=u(e,l);l+=4;var h=2147483647&d;if(1==(2147483648&d)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var f=u(e,l);l+=4,t.push({referenceSize:h,subsegmentDuration:f,info:{duration:f/r,start:i,end:i+h-1}}),i+=h,n=l+=4}return{earliestPresentationTime:0,timescale:r,version:a,referencesCount:o,references:t}}function m(e){for(var t=[],a=p(e,["moov","trak"]),n=0;n<a.length;n++){var i=a[n],o=p(i,["tkhd"])[0];if(o){var s=o[0],l=0===s?12:20,c=u(o,l),h=p(i,["mdia","mdhd"])[0];if(h){var f=u(h,l=0===(s=h[0])?12:20),v=p(i,["mdia","hdlr"])[0];if(v){var m=d(v.subarray(8,12)),g={soun:r.ElementaryStreamTypes.AUDIO,vide:r.ElementaryStreamTypes.VIDEO}[m];if(g){var y=p(i,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=d(y.subarray(12,16))),t[c]={timescale:f,type:g},t[g]={timescale:f,id:c,codec:b}}}}}}return p(e,["moov","mvex","trex"]).forEach((function(e){var a=u(e,4),n=t[a];n&&(n.default={duration:u(e,12),flags:u(e,20)})})),t}function g(e,t){return p(t,["moof","traf"]).reduce((function(t,a){var n=p(a,["tfdt"])[0],r=n[0],i=p(a,["tfhd"]).reduce((function(t,a){var i=u(a,4),o=e[i];if(o){var s=u(n,4);1===r&&(s*=Math.pow(2,32),s+=u(n,8));var l=s/(o.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t}),null);return null!==i&&isFinite(i)&&(null===t||i<t)?i:t}),null)||0}function y(e,t){for(var a=0,n=0,i=0,o=p(e,["moof","traf"]),s=0;s<o.length;s++){var l=o[s],d=p(l,["tfhd"])[0],c=t[u(d,4)];if(c){var h=c.default,f=u(d,0)|(null==h?void 0:h.flags),m=null==h?void 0:h.duration;8&f&&(m=u(d,2&f?12:8));for(var g=c.timescale||9e4,y=p(l,["trun"]),_=0;_<y.length;_++)!(a=b(y[_]))&&m&&(a=m*u(y[_],4)),c.type===r.ElementaryStreamTypes.VIDEO?n+=a/g:c.type===r.ElementaryStreamTypes.AUDIO&&(i+=a/g)}}if(0===n&&0===i){for(var E=0,T=p(e,["sidx"]),w=0;w<T.length;w++){var S=v(T[w]);null!=S&&S.references&&(E+=S.references.reduce((function(e,t){return e+t.info.duration||0}),0))}return E}return n||i}function b(e){var t=u(e,0),a=8;1&t&&(a+=4),4&t&&(a+=4);for(var n=0,r=u(e,4),i=0;i<r;i++)256&t&&(n+=u(e,a),a+=4),512&t&&(a+=4),1024&t&&(a+=4),2048&t&&(a+=4);return n}function _(e,t,a){p(t,["moof","traf"]).forEach((function(t){p(t,["tfhd"]).forEach((function(n){var r=u(n,4),i=e[r];if(i){var s=i.timescale||9e4;p(t,["tfdt"]).forEach((function(e){var t=e[0],n=u(e,4);if(0===t)n-=a*s,f(e,4,n=Math.max(n,0));else{n*=Math.pow(2,32),n+=u(e,8),n-=a*s,n=Math.max(n,0);var r=Math.floor(n/(o+1)),i=Math.floor(n%(o+1));f(e,4,r),f(e,8,i)}}))}}))}))}function E(e){var t={valid:null,remainder:null},a=p(e,["moof"]);if(!a)return t;if(a.length<2)return t.remainder=e,t;var r=a[a.length-1];return t.valid=(0,n.sliceUint8)(e,0,r.byteOffset-8),t.remainder=(0,n.sliceUint8)(e,r.byteOffset-8),t}function T(e,t){var a=new Uint8Array(e.length+t.length);return a.set(e),a.set(t,e.length),a}function w(e,t){var a=[],n=t.samples,i=t.timescale,o=t.id,s=!1;return p(n,["moof"]).map((function(l){var d=l.byteOffset-8;p(l,["traf"]).map((function(l){var c=p(l,["tfdt"]).map((function(e){var t=e[0],a=u(e,4);return 1===t&&(a*=Math.pow(2,32),a+=u(e,8)),a/i}))[0];return void 0!==c&&(e=c),p(l,["tfhd"]).map((function(c){var f=u(c,4),v=16777215&u(c,0),m=0,g=0!=(16&v),y=0,b=0!=(32&v),_=8;f===o&&(0!=(1&v)&&(_+=8),0!=(2&v)&&(_+=4),0!=(8&v)&&(m=u(c,_),_+=4),g&&(y=u(c,_),_+=4),b&&(_+=4),"video"===t.type&&(s=function(e){if(!e)return!1;var t=e.indexOf("."),a=t<0?e:e.substring(0,t);return"hvc1"===a||"hev1"===a||"dvh1"===a||"dvhe"===a}(t.codec)),p(l,["trun"]).map((function(o){var l=o[0],c=16777215&u(o,0),f=0!=(1&c),p=0,v=0!=(4&c),g=0!=(256&c),b=0,_=0!=(512&c),E=0,T=0!=(1024&c),w=0!=(2048&c),k=0,A=u(o,4),L=8;f&&(p=u(o,L),L+=4),v&&(L+=4);for(var D=p+d,C=0;C<A;C++){if(g?(b=u(o,L),L+=4):b=m,_?(E=u(o,L),L+=4):E=y,T&&(L+=4),w&&(k=0===l?u(o,L):h(o,L),L+=4),t.type===r.ElementaryStreamTypes.VIDEO)for(var I=0;I<E;){var R=u(n,D);S(s,n[D+=4])&&x(n.subarray(D,D+R),s?2:1,e+k/i,a),D+=R,I+=R+4}e+=b/i}})))}))}))})),a}function S(e,t){if(e){var a=t>>1&63;return 39===a||40===a}return 6==(31&t)}function x(e,t,a,n){var r=k(e),o=0;o+=t;for(var s=0,l=0,d=!1,h=0;o<r.length;){s=0;do{if(o>=r.length)break;s+=h=r[o++]}while(255===h);l=0;do{if(o>=r.length)break;l+=h=r[o++]}while(255===h);var f=r.length-o;if(!d&&4===s&&o<r.length){if(d=!0,181===r[o++]){var p=c(r,o);if(o+=2,49===p){var v=u(r,o);if(o+=4,1195456820===v){var m=r[o++];if(3===m){var g=r[o++],y=64&g,b=y?2+3*(31&g):0,_=new Uint8Array(b);if(y){_[0]=g;for(var E=1;E<b;E++)_[E]=r[o++]}n.push({type:m,payloadType:s,pts:a,bytes:_})}}}}}else if(5===s&&l<f){if(d=!0,l>16){for(var T=[],w=0;w<16;w++){var S=r[o++].toString(16);T.push(1==S.length?"0"+S:S),3!==w&&5!==w&&7!==w&&9!==w||T.push("-")}for(var x=l-16,A=new Uint8Array(x),L=0;L<x;L++)A[L]=r[o++];n.push({payloadType:s,pts:a,uuid:T.join(""),userData:(0,i.utf8ArrayToStr)(A),userDataBytes:A})}}else if(l<f)o+=l;else if(l>f)break}}function k(e){for(var t=e.byteLength,a=[],n=1;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return e;var r=t-a.length,i=new Uint8Array(r),o=0;for(n=0;n<r;o++,n++)o===a[0]&&(o++,a.shift()),i[n]=e[o];return i}function A(e){var t=e[0],a="",n="",r=0,i=0,o=0,s=0,l=0,c=0;if(0===t){for(;"\0"!==d(e.subarray(c,c+1));)a+=d(e.subarray(c,c+1)),c+=1;for(a+=d(e.subarray(c,c+1)),c+=1;"\0"!==d(e.subarray(c,c+1));)n+=d(e.subarray(c,c+1)),c+=1;n+=d(e.subarray(c,c+1)),c+=1,r=u(e,12),i=u(e,16),s=u(e,20),l=u(e,24),c=28}else if(1===t){r=u(e,c+=4);var h=u(e,c+=4),f=u(e,c+=4);for(c+=4,o=Math.pow(2,32)*h+f,Number.isSafeInteger(o)||(o=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=u(e,c),l=u(e,c+=4),c+=4;"\0"!==d(e.subarray(c,c+1));)a+=d(e.subarray(c,c+1)),c+=1;for(a+=d(e.subarray(c,c+1)),c+=1;"\0"!==d(e.subarray(c,c+1));)n+=d(e.subarray(c,c+1)),c+=1;n+=d(e.subarray(c,c+1)),c+=1}return{schemeIdUri:a,value:n,timeScale:r,presentationTime:o,presentationTimeDelta:i,eventDuration:s,id:l,payload:e.subarray(c,e.byteLength)}}},"./src/utils/output-filter.ts":
/*!************************************!*\
  !*** ./src/utils/output-filter.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,a){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=a,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[],this.startTime=null},e}()},"./src/utils/texttrack-utils.ts":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.ts ***!
  \**************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{addCueToTrack:()=>i,clearCurrentCues:()=>o,getCuesInRange:()=>l,removeCuesInRange:()=>s,sendAddTrackEvent:()=>r});var n=a(/*! ./logger */"./src/utils/logger.ts");function r(e,t){var a;try{a=new Event("addtrack")}catch(e){(a=document.createEvent("Event")).initEvent("addtrack",!1,!1)}a.track=e,t.dispatchEvent(a)}function i(e,t){var a=e.mode;if("disabled"===a&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(a){n.logger.debug("[texttrack-utils]: "+a);var r=new self.TextTrackCue(t.startTime,t.endTime,t.text);r.id=t.id,e.addCue(r)}"disabled"===a&&(e.mode=a)}function o(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var a=e.cues.length;a--;)e.removeCue(e.cues[a]);"disabled"===t&&(e.mode=t)}function s(e,t,a,n){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var i=l(e.cues,t,a),o=0;o<i.length;o++)n&&!n(i[o])||e.removeCue(i[o]);"disabled"===r&&(e.mode=r)}function l(e,t,a){var n=[],r=function(e,t){if(t<e[0].startTime)return 0;var a=e.length-1;if(t>e[a].endTime)return-1;for(var n=0,r=a;n<=r;){var i=Math.floor((r+n)/2);if(t<e[i].startTime)r=i-1;else{if(!(t>e[i].startTime&&n<a))return i;n=i+1}}return e[n].startTime-t<t-e[r].startTime?n:r}(e,t);if(r>-1)for(var i=r,o=e.length;i<o;i++){var s=e[i];if(s.startTime>=t&&s.endTime<=a)n.push(s);else if(s.startTime>a)return n}return n}},"./src/utils/time-ranges.ts":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={toString:function(e){for(var t="",a=e.length,n=0;n<a;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":
/*!*******************************************!*\
  !*** ./src/utils/timescale-conversion.ts ***!
  \*******************************************/(e,t,a)=>{"use strict";function n(e,t,a,n){void 0===a&&(a=1),void 0===n&&(n=!1);var r=e*t*a;return n?Math.round(r):r}function r(e,t,a,r){return void 0===a&&(a=1),void 0===r&&(r=!1),n(e,t,1/a,r)}function i(e,t){return void 0===t&&(t=!1),n(e,1e3,1/9e4,t)}function o(e,t){return void 0===t&&(t=1),n(e,9e4,1/t)}a.r(t),a.d(t,{toMpegTsClockFromTimescale:()=>o,toMsFromMpegTsClock:()=>i,toTimescaleFromBase:()=>n,toTimescaleFromScale:()=>r})},"./src/utils/typed-array.ts":
/*!**********************************!*\
  !*** ./src/utils/typed-array.ts ***!
  \**********************************/(e,t,a)=>{"use strict";function n(e,t,a){return Uint8Array.prototype.slice?e.slice(t,a):new Uint8Array(Array.prototype.slice.call(e,t,a))}a.r(t),a.d(t,{sliceUint8:()=>n})},"./src/utils/vttcue.ts":
/*!*****************************!*\
  !*** ./src/utils/vttcue.ts ***!
  \*****************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function a(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var a=t.toLowerCase();return!!~e.indexOf(a)&&a}function n(e){return a(t,e)}function r(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)e[o]=i[o]}return e}function i(t,i,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var d="",c=!1,u=t,h=i,f=o,p=null,v="",m=!0,g="auto",y="start",b=50,_="middle",E=50,T="middle";Object.defineProperty(s,"id",r({},l,{get:function(){return d},set:function(e){d=""+e}})),Object.defineProperty(s,"pauseOnExit",r({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",r({},l,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},l,{get:function(){return v},set:function(t){var n=function(t){return a(e,t)}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");v=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},l,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},l,{get:function(){return g},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},l,{get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},l,{get:function(){return _},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},l,{get:function(){return T},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),s.displayState=void 0}return i.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},i}()},"./src/utils/vttparser.ts":
/*!********************************!*\
  !*** ./src/utils/vttparser.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{VTTParser:()=>h,fixLineBreaks:()=>u,parseTimeStamp:()=>i});var n=a(/*! ./vttcue */"./src/utils/vttcue.ts"),r=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function i(e){function t(e,t,a,n){return 3600*(0|e)+60*(0|t)+(0|a)+parseFloat(n||0)}var a=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return a?parseFloat(a[2])>59?t(a[2],a[3],0,a[4]):t(a[1],a[2],a[3],a[4]):null}var o=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,a){return a?this.has(e)?this.values[e]:t[a]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,a){for(var n=0;n<a.length;++n)if(t===a[n]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var a=parseFloat(t);if(a>=0&&a<=100)return this.set(e,a),!0}return!1},e}();function s(e,t,a,n){var r=n?e.split(n):[e];for(var i in r)if("string"==typeof r[i]){var o=r[i].split(a);2===o.length&&t(o[0],o[1])}}var l=new n.default(0,0,""),d="middle"===l.align?"middle":"center";function c(e,t,a){var n=e;function r(){var t=i(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=r(),c(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.slice(3),c(),t.endTime=r(),c(),function(e,t){var n=new o;s(e,(function(e,t){var r;switch(e){case"region":for(var i=a.length-1;i>=0;i--)if(a[i].id===t){n.set(e,a[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":r=t.split(","),n.integer(e,r[0]),n.percent(e,r[0])&&n.set("snapToLines",!1),n.alt(e,r[0],["auto"]),2===r.length&&n.alt("lineAlign",r[1],["start",d,"end"]);break;case"position":r=t.split(","),n.percent(e,r[0]),2===r.length&&n.alt("positionAlign",r[1],["start",d,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",d,"end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var r=n.get("line","auto");"auto"===r&&-1===l.line&&(r=-1),t.line=r,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",d);var i=n.get("position","auto");"auto"===i&&50===l.position&&(i="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=i}(e,t)}function u(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var h=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new r,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function a(){var e=t.buffer,a=0;for(e=u(e);a<e.length&&"\r"!==e[a]&&"\n"!==e[a];)++a;var n=e.slice(0,a);return"\r"===e[a]&&++a,"\n"===e[a]&&++a,t.buffer=e.slice(a),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(r=a()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:r=a(),t.state){case"HEADER":/:/.test(r)?s(r,(function(e,t){}),/:/):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new n.default(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{c(r,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==r.indexOf("--\x3e");if(!r||l&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID")}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{generateCueId:()=>u,parseWebVTT:()=>h});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ./vttparser */"./src/utils/vttparser.ts"),i=a(/*! ../demux/id3 */"./src/demux/id3.ts"),o=a(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts"),s=a(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,d=function(e,t,a){return void 0===a&&(a=0),e.slice(a,a+t.length)===t},c=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return(t>>>0).toString()};function u(e,t,a){return c(e.toString())+c(t.toString())+c(a)}function h(e,t,a,c,h,f,p,v){var m,g=new r.VTTParser,y=(0,i.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(l,"\n").split("\n"),b=[],_=(0,o.toMpegTsClockFromTimescale)(t,a),E="00:00.000",T=0,w=0,S=!0;g.oncue=function(e){var t=c[h],a=c.ccOffset,n=(T-_)/9e4;null!=t&&t.new&&(void 0!==w?a=c.ccOffset=t.start:function(e,t,a){var n=e[t],r=e[n.prevCC];if(!r||!r.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;null!==(i=r)&&void 0!==i&&i.new;){var i;e.ccOffset+=n.start-r.start,n.new=!1,r=e[(n=r).prevCC]}e.presentationOffset=a}(c,h,n)),n&&(a=n-c.presentationOffset);var r=e.endTime-e.startTime,i=(0,s.normalizePts)(9e4*(e.startTime+a-w),9e4*f)/9e4;e.startTime=Math.max(i,0),e.endTime=Math.max(i+r,0);var o=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(o)),e.id||(e.id=u(e.startTime,e.endTime,o)),e.endTime>0&&b.push(e)},g.onparsingerror=function(e){m=e},g.onflush=function(){m?v(m):p(b)},y.forEach((function(e){if(S){if(d(e,"X-TIMESTAMP-MAP=")){S=!1,e.slice(16).split(",").forEach((function(e){d(e,"LOCAL:")?E=e.slice(6):d(e,"MPEGTS:")&&(T=parseInt(e.slice(7)))}));try{w=function(e){var t=parseInt(e.slice(-3)),a=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!((0,n.isFiniteNumber)(t)&&(0,n.isFiniteNumber)(a)&&(0,n.isFiniteNumber)(r)&&(0,n.isFiniteNumber)(i)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*a,(t+=6e4*r)+36e5*i}(E)/1e3}catch(e){m=e}return}""===e&&(S=!1)}g.parse(e+"\n")})),g.flush()}},"./src/utils/xhr-loader.ts":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(/*! ../utils/logger */"./src/utils/logger.ts"),r=a(/*! ../loader/load-stats */"./src/loader/load-stats.ts"),i=/^age:\s*[\d.]+\s*$/m;const o=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new r.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,a){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=a,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var a=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(a,t.url)}catch(e){a.open("GET",t.url,!0),r(a,t.url)}a.readyState||a.open("GET",t.url,!0);var i=this.context.headers;if(i)for(var o in i)a.setRequestHeader(o,i[o])}catch(e){return void this.callbacks.onError({code:a.status,text:e.message},t,a)}t.rangeEnd&&a.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),a.onreadystatechange=this.readystatechange.bind(this),a.onprogress=this.loadprogress.bind(this),a.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),a.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,a=this.stats;if(e&&t){var r=t.readyState,i=this.config;if(!a.aborted&&r>=2)if(self.clearTimeout(this.requestTimeout),0===a.loading.first&&(a.loading.first=Math.max(self.performance.now(),a.loading.start)),4===r){t.onreadystatechange=null,t.onprogress=null;var o=t.status,s="arraybuffer"===t.responseType;if(o>=200&&o<300&&(s&&t.response||null!==t.responseText)){var l,d;if(a.loading.end=Math.max(self.performance.now(),a.loading.first),d=s?(l=t.response).byteLength:(l=t.responseText).length,a.loaded=a.total=d,!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(a,e,l,t),!this.callbacks)return;var u={url:t.responseURL,data:l};this.callbacks.onSuccess(u,a,e,t)}else a.retry>=i.maxRetry||o>=400&&o<499?(n.logger.error(o+" while loading "+e.url),this.callbacks.onError({code:o,text:t.statusText},e,t)):(n.logger.warn(o+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),a.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout)}},t.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&i.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}()},"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/e=>{"use strict";var t=Object.prototype.hasOwnProperty,a="~";function n(){}function r(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function i(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||e,o),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),s.prototype.eventNames=function(){var e,n,r=[];if(0===this._eventsCount)return r;for(n in e=this._events)t.call(e,n)&&r.push(a?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=a?a+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},s.prototype.listenerCount=function(e){var t=a?a+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,i,o){var s=a?a+e:e;if(!this._events[s])return!1;var l,d,c=this._events[s],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,i),!0;case 6:return c.fn.call(c.context,t,n,r,i,o),!0}for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];c.fn.apply(c.context,l)}else{var h,f=c.length;for(d=0;d<f;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),u){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,n);break;case 4:c[d].fn.call(c[d].context,t,n,r);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];c[d].fn.apply(c[d].context,l)}}return!0},s.prototype.on=function(e,t,a){return i(this,e,t,a,!1)},s.prototype.once=function(e,t,a){return i(this,e,t,a,!0)},s.prototype.removeListener=function(e,t,n,r){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,d=[],c=s.length;l<c;l++)(s[l].fn!==t||r&&!s[l].once||n&&s[l].context!==n)&&d.push(s[l]);d.length?this._events[i]=1===d.length?d[0]:d:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/function(e){var t,a,n,r,i;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,a=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,i={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=i.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=i.normalizePath(r.path),i.buildURLFromParts(r)}var o=i.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=i.normalizePath(o.path),i.buildURLFromParts(o)):t;var s=i.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=a.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var d={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(d.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,u=c.substring(0,c.lastIndexOf("/")+1)+o.path;d.path=i.normalizePath(u)}else d.path=s.path,o.params||(d.params=s.params,o.query||(d.query=s.query));return null===d.path&&(d.path=n.alwaysNormalize?i.normalizePath(o.path):o.path),i.buildURLFromParts(d)},parseURL:function(e){var a=t.exec(e);return a?{scheme:a[1]||"",netLoc:a[2]||"",path:a[3]||"",params:a[4]||"",query:a[5]||"",fragment:a[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=i}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=a("./src/hls.ts");return n=n.default})(),e.exports=t())},7356:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4226),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4226,(t=>{v=a(4226),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3257:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4692),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4692,(t=>{v=a(4692),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9533:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(336),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(336,(t=>{v=a(336),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4405:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2135),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2135,(t=>{v=a(2135),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},7637:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8721),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8721,(t=>{v=a(8721),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4432:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(735),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(735,(t=>{v=a(735),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9357:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2123),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2123,(t=>{v=a(2123),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},6177:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(5263),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(5263,(t=>{v=a(5263),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4480:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2386),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2386,(t=>{v=a(2386),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},7189:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(534),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(534,(t=>{v=a(534),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3479:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(7904),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(7904,(t=>{v=a(7904),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4976:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2748),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2748,(t=>{v=a(2748),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9789:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8909),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8909,(t=>{v=a(8909),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},6674:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8419),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8419,(t=>{v=a(8419),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3669:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2475),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2475,(t=>{v=a(2475),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8519:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(666),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(666,(t=>{v=a(666),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},1678:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1431),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1431,(t=>{v=a(1431),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9475:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(6266),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(6266,(t=>{v=a(6266),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},329:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3195),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3195,(t=>{v=a(3195),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4750:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(5537),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(5537,(t=>{v=a(5537),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8202:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3258),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3258,(t=>{v=a(3258),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2238:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4080),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4080,(t=>{v=a(4080),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9851:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8232),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8232,(t=>{v=a(8232),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2534:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(6030),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(6030,(t=>{v=a(6030),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4070:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(7457),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(7457,(t=>{v=a(7457),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},6322:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(9969),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(9969,(t=>{v=a(9969),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3045:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3421),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3421,(t=>{v=a(3421),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},5566:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2802),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2802,(t=>{v=a(2802),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3064:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3993),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3993,(t=>{v=a(3993),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3072:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(9473),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(9473,(t=>{v=a(9473),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2863:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(6959),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(6959,(t=>{v=a(6959),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3273:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1202),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1202,(t=>{v=a(1202),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9840:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2992),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2992,(t=>{v=a(2992),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8104:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(350),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(350,(t=>{v=a(350),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4632:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1975),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1975,(t=>{v=a(1975),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4344:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1880),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1880,(t=>{v=a(1880),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2143:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2113),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2113,(t=>{v=a(2113),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},6069:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3852),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3852,(t=>{v=a(3852),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8758:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8592),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8592,(t=>{v=a(8592),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},5109:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8581),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8581,(t=>{v=a(8581),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},232:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4788),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4788,(t=>{v=a(4788),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},7291:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2193),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2193,(t=>{v=a(2193),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3287:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8921),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8921,(t=>{v=a(8921),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8109:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4894),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4894,(t=>{v=a(4894),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},5619:(e,t,a)=>{"use strict";var n=a(3379),r=a.n(n),i=a(7795),o=a.n(i),s=a(569),l=a.n(s),d=a(3565),c=a.n(d),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2070),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=r()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2070,(t=>{v=a(2070),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3379:e=>{"use strict";var t=[];function a(e){for(var a=-1,n=0;n<t.length;n++)if(t[n].identifier===e){a=n;break}return a}function n(e,n){for(var i={},o=[],s=0;s<e.length;s++){var l=e[s],d=n.base?l[0]+n.base:l[0],c=i[d]||0,u="".concat(d," ").concat(c);i[d]=c+1;var h=a(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=r(f,n);n.byIndex=s,t.splice(s,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function r(e,t){var a=t.domAPI(t);a.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,r){var i=n(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=a(i[o]);t[s].references--}for(var l=n(e,r),d=0;d<i.length;d++){var c=a(i[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},569:e=>{"use strict";var t={};e.exports=function(e,a){var n=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(a)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,a)=>{"use strict";e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var n="";a.supports&&(n+="@supports (".concat(a.supports,") {")),a.media&&(n+="@media ".concat(a.media," {"));var r=void 0!==a.layer;r&&(n+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),n+=a.css,r&&(n+="}"),a.media&&(n+="}"),a.supports&&(n+="}");var i=a.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},3744:(e,t)=>{"use strict";t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}},3797:e=>{"use strict";e.exports="data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAFukAA0AAAAA2FAAAFtLAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cGh4GYACCShEICoOISIKwbQuDaAABNgIkA4NuBCAFhQ4HlFUbo6lVB3K3AwikSpsioop260Yi7Bcn5Zb9/3HpONzCVwWcBHkkAjU5ULNoJXYhKXDI2VHF3hC06X6AelxLkLUkaXc9w26Zzsf5QRmPcugfZZXl7bfbGdg28ic5ee37pXv76i9JoKuquhGly1Z1twxCYhEGmUFJhENiL54bf8PzbfN9BTz4nCr/KyDI4Ykogvq/3oDghSfgWXndCZVYdthh2ko7rJZZrcy1+e04t1qtc6lb7tRWu1qJtdZhtqt2xf+uZT82c6QKtCXABbrAlsHV8cROjLre8yXPHJjvnZYab7YgBQqCQMuJQ0cAkiZwkA1cjr4KdFD7V/qd0QiCbyV2EGwHjgIsKPwSz9PO96sLhEsin41giKNBMoHuzWk/Y1vtezOynSykHwksK7C/4XaRfZGu0jWwDNfPfCsPziuhLzb6AEfWFUI5xEwOHojHpJ3z/LDrxAWvgzk16SvdscB22qF5BOTEhVGaEeeG/thf+xtwk41DRUgHQOnOzNQcn6ACGpBBiktTzfaV1r+ZzD+voAzuA6kEpHVpKDUemEz18/f3QQ7fbaCQofTvTa1Mu2l2OScH7siZ2dpiFecUnalcxplISfbw/m90//+7gUY3wAW7SQ7MzggEuFoAHJ5AgrNLEBgcAHIpkGNqeMbbJrCzBXIdhpzd483JGpcZYzM/pWhDmSBReEGoXOFJmcJAQahQUaggMs56dW8pAcu8FF01mrX85VmtHIZDqoA6+7q7a60yze2iq9DIJSB4zFSeefzyJ3P+D36ldnseLkCaQsQILwMSCWN1rXuZ+3r+Xlb3bBUFBGkJmUlmUuAWesC/SWv5QwjD+i6+BREhQ7/DlbQe+XvdPAEIlvWIPMu4evviH6DzibQRbsaOv4oB9LkuwK826fGHbpXuuxyvgQW42tQjQMwx8BbyEu8QYslnyNKYw7M9ImAPk6wOOx3N+xnZXRdv7ps+PEpfiN90WtCPGkUBXXb/tx64n8TpuO5rh7CH5BvazhucjHe4xFj3Y9zIkVWJSJ67tP27zMxGzI0c6KMBJu+YUpGJmVciUQhlrMtSXEqNMcE4PhBCTB2RyYS5rC5GD4gLESqY1Egu0kCqZEbAhDwRQ4gMcxGW7BhgFQzEFwXhVoGOfpIcTYD1D9mMDEOoP2TEsgrYdCubDDkoXyLTDyExyp2AizYFRgkpdIPDRMRAH5V4yPg3YiKCHwGghnNJofQ7TaYvpXVrsgnd5nl2xuXrBvgTIFtSlWyagyfuoHwrsNb+jvY1Pd3cci+5magontCePEZi3MtjHlUfI+5pyrvkXDwWg1T7wPGKEbTT5Jku3oer9ALU9CPtd5R6bJqrU1LnFrrQdgZkUS84CeuQpojxmmn9eHbG3Gp219Hu0Z/U9BfCzDMWMuY8LXSWRkYAf/MJ+MVwtOLJVBjU+bn+l0Vq9Od42CcSzJzY2f5rtrdpb6Swbf1KFYwAmXckZZSCQzVeWQNDSaMSPcJZuZMjcSWT6fHrSOm0rRFtyCTnY+UQvD/CKlY7rj9NNGer7K9xlp08/fTHtjaKsSgKIjq7jMwHrLxLqk5suTwaQzfwBp/sgMdH4Hyk6riiE0KfXnVNdrJcHrhQhsP61kxkr+i6uyNmb2ciroFjMmGDaAP0CzbaobLsyzFMS81NhOZm6JI96B1b5eRF4uBK+EM7GjjHZlaTQ0kVzMZ3VqU5AguAxHeAHOBAWncYm6aqgGmu1uaFyYbJhvdrmCBQoL6Nco0aicymLvIu7naYn1RPOA7Q8hQLnKk0eX7e3dxEx26d5P+DtDqDWe1ugEda4L2t6vrMct3M+QIU3GLew5TiqlLXP77AK/f+qYoe7kpn4HW6J4p+K5bLNZeb+KSkaLcbVIcgNm8n91f7kywUrJnPiNUccu3+OovSuhuZzQAZFHE6zLBRHkXKowtn1aoYE/JAD7N/N1PkCz2QRlUTwc4KwKpnZdEa4zbOOY66Y1VLBBPefM7RoRAOEjhnpXYnksZ5izev7sr0yDdFkAgDqHU2nJE8KNLn4phmX9ues+Rst4gZTGuQh8je80qI0Jp+CDqpL4PIbKPEVaCw1SQNJvRzEN/7XK88Gq0VtALIddxCkyLGxufSxCd55hMs3c+8xn+gFTsCOjJK1DaXDCP7KuZGcKHid0cNI6Xd4z4viairROwNG85L83FzjJdZatAKz6yzRCl7ubxvvKxIDItpFZ5ZYm92XbTdvK9aXsYvuG0NEsizPmwQEXC8ggiCL3ALS7mSOwB4yN09zEcWB2OHSowee8eBtTB6A8SbkxnkZyBZXY3lJWKwqOLnAssl4i7qsq2eXEJQGamrW105z+M0MuL9kmMRAALeOT51RzqY1tuyTUo13bKB6X7GJJQyz15w4k6vkLD7707tn5EVaWf4GLu82/9gGtE8R5RhGhKBFFWc1Bi/TMO9sQ9iGMnh6XRE3f1eVY4v3MtX+X4trt561US7SnnGCGtncnGYv5oug8Bsy+eqAkNbbQy+c/E6h98lMohQSmKgcXH/jMduCtESvX9gSZAGsMI1+gGUDublg35qJ9Sy+8h/4j09T5kKcrzstorIZRrEJTl1gjtUvjty+97L51PR/2FZs7juKWpXoA2p8Kwvo+Rw3/H7YDf0mTCmVr0n/iP38Rzly5W4fpevl+7FSwJK4F/PLyeS58DQWV0jJhGCTBK2YNaJOcC+DAC/46Z1DdO58t0RkM2s1FoTfwzou9gn9S6EzXGEY7v4YTMv+Lh4Y/9jV8+AGW+pPStz8Z6RQh55zE2nXNpJ82NpzGADsYLsWe0jXiZgafcLreXS57ttT+Yjr9125dpDRRx7z7pKCqpUCMs19FAJimyAZ6wY0pu+5HTwJthhZj7PezjaVjGVLiIgim5CIS9Gg0Sl0hCR6qN0ulXXyaAEvr/C7ZQISJFqlkjKCPiDkVfq3O74MZYuvTI+mCW/BZXG4zUlzdKycwEmYzXcF3o+i/Z91u2xdwXrN8Xx5yVaB1OiZmHHyZPS18/qllpU4uXoKULsL6AMEOl2Gq4qBmVhoTmNgMOclX2AUokaFsHB6F0g+CE9Rn2ut4vfahrdYCxisGFjOw2njOl+u4gmkfGiVG/nuppZYYynlKt1j7pQ1QmhTK+NnvAZAHJBcu0oA0amcndOcy4Nt6YiGEgOs6kYO7EMspSQ24WaFnr4TduFkt/9XSxoOyHGsRuK3Zpe9ngh0dJaZF0/BUzvO+/pBBls3kRZmsDm3sCgTBPRXpXWZz1pq0lAU6XlXVq8wvN/msvRdTCPMeHVteWqLYpZqKMwLzxfOPe+UDPOYqku0zzWS61DLLRQP2M4sCQu8j/VptQXVx4MjEA0XEHXfX19/neef/Wh0Awl04tY06JpW4uOYoo4HB0YieRR91hKhF5lMfqZN6q8sPyAr/uC7oqGERgbCw5kYO3haFoUsTzJNENzc+FhVD04zsmkGPhYI8VQmr1snO/pq6ohfX9rxhYdVR1gaqpeLU4NQusFaSBLceLCzwObtm76i9drAF2QaLPAkRw50GMfcJAR+LZlFBvkDlQo5fjdhHoWyCPIz3n8cRL8d2HhFC+YKHmWe4g49E4cqjS7S8tb1KSPktsIffaY5jkDdMDtZk3MjMHGtRvM3YsrIr7G5NQISB0uyehSaRLMDQtgVPT46BSlzULF72FfBvaRx9WA6IAsSuv/DiuDYZ8r7kMjmfdrUpGnbPnSQrPFhDh8EkkDDWZ655INGAxy+SbGg5yAHwNCTa26zdjSF3QTSDskTJJZ2KUG91W7DAtPBabVruUvC/rk8ckGMMKY7vtmOMGEtuXmxJuSudD9VejC0DJbEhgu4L4ucKpd9UadXvergmhg792Bt52QJiKTPQ81b5Owxq8lkG4zBq4FSacf+3EDlUtOASWVpJV/vq8J2hjFoJz3ciW/EMannFO9uBXYkfB+YjJ6a+q5lecZPXqNnnOa1adpKKceQf4ktQn0tlbnA2CIiBCSioxT9kqFeOBBDF2/cqxpEZmqyD98r1XE/q+WvtfBAaJIyI61B81bR60+D6o+aywZubc9Vv8I6XFzQ+oDKlWONW6Xs8sT9eqNaYQ4p7kIVAag1SzcbD0cSzxJrsZGwlyD5cxLkHjWy4kvyJp1qKYs1m9pyC0CQMQo15DQzJk3BiibKIDyQbDjWv9zgpaoCX27gpUD2ZfD04kS8yG8kTd/nG1hPdTJgDyA3FyeD0lDxHEMSno+R46X7kix3pJEtrkvRpmg1Q0bE4hJ3s05TeMtJEslTPgowZTDrsFSz4SyF3apX0RujsMKUOEcELVBNLri98rCnC+KXyGrsx9vkogKbQGHElY7PCZDUrRhW+I0AQ34Rp03jlmOXMvL8Gqt8l1NUpIaGUDtQh4iLErTX5OPqlUwUH9M8UEAGlF/XDlssLXYzz4OS44tSmjdkLUaIVeQtXlXEmwxrU2WaXnHyUgy2o6stBJflwx/UJK54+EoDe8xJgBMoQTxbz8v6svtESgc+kWVdZZgKHJS6xQjwhsECVc6Mf9uEbf+WIEWRQxLWlN6WcQpwkXOPwNUg9FbCFv9U45YqWjxDkN2jsZy25VRP1eR8RX1doPWpBL5yoBFJfZUEyOCE5bUo4/X7UvUcjG2MCdy+QWY6OUH5NzUKWXNS7gtQ6w9LMlSZDU70/Uy6Oo6UYpitUeDxK5lhm7lHLBma6sf5tIeXx06nPCn63wEQxuuzslHHqPD4oChktLfcSKtTxHKYcLiFBERX0PioGJ5R2RfE5CQY5SlSE0HqrNouS+9cD8wuUvxfTiiiungpgdKubIoQbmnqo+6rc0gNToYs1EHNtbRrG3+8yLTcXXRbo1V/jjxSj55BLnRuT/jtgX2Enqd3wwACsAdJdWS4xEppsYGEishB3SahwAZysARp54O3sow6C0wVMcHMYqIKSrdw7KaxC7A1HDiUmTfvrJUv01Xceq36octNUyrMbalBFbRZCbHr8vqMwWbCY8FzrUkUIyEBYKFFqeW3StlAHYaB2AJVqdOjf6oXJ+NTA4JkE1RCeuqoP696rbNecCbJ9OI3DaAItnveMKUcexbIAHCVqxaZ1fo1pJlbtdbZrjVXASL2tRpuoARjLwDgGyLpAjRKgBoeJAtwypjBt/p51tZFYKgmi/M47bTQQAzsULrvwlbOjGI5axjxurQgoXkfb2TKuODlIba8XywxO0WLxYQSpwGRaoTk7M0MmWc+ioU93pDrSNxTRq/eStBSrOkE3SpfbCuMZFYNknyieWEI/9M84iJMiwKrUekx99VjWOT3HA3qWHKJsbhUJyCo/2aVvPfB9xhLjJ6vEZBm+/Yy2bkUJnS9f1zPQEaEnRhXMmNvHlF5Btw67A8OOTEULq/4PBlrcrn9BgWGPzRJ+Fo1NglP75k4mBoUODRQ2lS3sGP9dHep252H6WxYfYAT2V7gGayPkASWZWwWI2rnYGrBbwYb1oUY6pUn/k+xJVG5FIjiBCPmbGJ6iWLohOXcSkFzgZg2jDdBgfLuznW4yMqf/ajw75iflZfMo0UmTCiCjUldOnvGpCSixJluEmyf7w3teiSTxQxjh53l27xXWNmxm7HiXr5PkWqT8/dHnnm7My98CVLE3X51ply7n7Kb/E1rgYALZNmaEV/zo2ZR7jbD/qxVQJITmyoqMsqU3QLRObNtnLYRpxxJC+QDYB0xyyhTv1XUfIhOiawHbIBie4xkxI1/iuXf3aJCs4f9Tv8TmAph8XdUBvqedZnCQIBo5mVFvV0qaGTjvKMGXd6afn29uPh2GOH4dPOysxZb9bcququsxaYSDUq4Rq6zXV9O2H0aDqMMd5Gelmylt6SRPPjUkZtTDC3S/bX14IP6x9owJomxRy+RYZzeYHjtOIogWGG6scLJwmERxFuWprZNTCH6RVWuS2UzAjhQquvr08v1U3NASJ3zNLeFNm7l1ZFu87KqrOWTqN1aR1JRkhRVMtqyk8BKEqFKrSrn9baobfeiDFek6/39ltDb75N4HVDn6osKMphV0l/2jFjmw/xU7X27e3sefl2DYALS1kv0cNeudhKEBmrn9lTTqqzMVJvRYMZCZjDLO20r7jNcnMCmr+QSUyxnkJUWWYpsllX1RbOqqr/55EydZSDloueBHZdOCzt2hxTD0lPNuC0OUZbUFVWtP7VgR506A0aR7e0jK486CwJFPP9mPCebXn1IXdpyEL1m3PnW6RmKk0ZlrMuB6Gka842QTqUSCibAlynh3oSoVA5dpOYNlNcQxefV7gva7N0dYbuT9MZdymLNSmePZ7ohmfhWmZ9Wd66bKuu1GWyUOW1gCBSmq63Xy60kjp1NEfhU38bk5v6LAUvcajD52btF6krgjUc1ojmca8oTltTseoXX0hNvqIjwj6GeDfhVfyPpgoGZagTU43yCXFxQn0U007MMEPvxWssRBdiAgbophBaAazYDSMTmbVPo2RPX0OvUVubGRVpjbGSOvZAyXzXt+f/75shch2A4IL/cebfvfd4g4j01iKHOQ7V0Mvn2O+kk4jXx7boVf3kgxierl99k1SBuENIp0xtGHB3YQTBE6EgVt74/xc8Y4nK7ZDoWkxIE9LOtu4Q+H5xbJn6cx0DlCsFcN9yZljbUDhFHJBX+iLPn0NW3gun06xF1R0DYUnOxBLmCG/IIyy84J+j1R3DMSvPkoYnz4XLWjUc9VEtyZDkFKE0q+Ieauu6cpc9gV68xzYR9mUPHhdEhDET+wswpEc/poBjWAXC8fi/E/ipAeS6NEmLZLyYZosx6WFC2nRk0x8V6LOZ4w9Koo9sLMkBXiqRrAAwK+btntSqYaGWNOHd5A3eWWPApacp4noK8yxevZGAu4vqbl1gjmyix4qtXMejEjbCApNzFGaMwdbwm7ODB9Mi7NsAA5npDO7dfZS7bfHrhon7NpqqW3ubnOtnFL+eIyFJX+oNa5RFR46FgGULN0ql2GkVu4cGR28EFKSdFR9qa/gCRNjScl9n5WMmNC+zeGG/6yvHO5SUjynHGcyJ00mAiGuHomFgVl/z6Fbs5JV1b+4TnXkRG2Kv3eoid6wADosUQrOdVGWO03QITsk4DEPJe2aHqlMwdFCbR8k2Ykc3ctOOYgnvQNnnAmUjVm/Pfr4r9eAYwAiICEXOFsE1lxb7eiviyGcAh3w+NCumxngTol36KEuiOYrQ0RX6nQDQcNSQktmCy848QSAQzRtr9rBIRHHDm5UeKkHe1LwFuZioBe3itkUaMkWx0gzqHFBHW6qopWbV+YIsYodsdkiRZEBRkF8oahBU03kMjAyEjGvVNQ5MJ7W7l9U0xJvMpriuCho+RQMH3C6v11DMtMrWIYJeqDBZF0UnGu2lZST6U2qqiUVH668RKWExRjJbiO6nMIeU5RED5Kwntj7GRLTS5GcYbsuJuA4DwgCt+W+k49C/LnZlZQKNfCXfvbKkkRkLQAPT2dljdfdZkVs/7j376sGOzYV9bSW9K7JnmjrCmbLx83smJHiPm7c3Ig7y8M5jBKELPD4rPNYYGB0he5qZqLHutgOJLOLbfBqeAIPopvMBxCdu8rTo12RTUZKbPl6IysxUg4c90IorduiGmMm2TV3uHOzWL43dRusYJ1xZ/Vyq6LC9KkFnI+dIUVTueleJKm8qcJyxIjA4HHDBm1aNCAQewdTDyQHtjDRLgFhRG0aSbQAEynIS0mg1M9to1f7GW5VUbdYdo6c35EQte3HCG0h9iujrv1/Y4Rg08JpLVmfWdjDSfegXGKSxINsasoca752c+BKj7B4S695sAq/OaBbsmDG6zdg94N4/se030kRvmsl3YDq2WsNip9C0JjJgDKyonEzMg3pUGErE5jn5kzuhjK/+nPEAn8YnkOvFjcEcYf1h6X+IWUItPnz0/6pJGObzXoiPipRvO46smoWd+lH67qX/A0f8dtcrnW5XWzV42NHjdbePXWWZeSwBNOsYDCNhs1ltB1x0xnEEJ5foceCQDgJLPJAARGJseWdDIZKou1EGUguTGLB9SWI1UdaIJ7XhlDEmoyoh7CCHfwsFnfgojaad9UmUxCbkcGaXVstrs6NLZSoz9yoX4xKkes2ibfUiU5KcQCx8a5DDPDdDJLF/klbc5dUtPQL8q4j3CG0ITqCmAjUbVp5bUsBBDFpbxqc4CasYYlbxuPU04j0jsCFWQJVkXfWs9rWnGcRR7hCewJzr5CkikJzO6AAwkO65plLMZZag1SVQkkE1H2wBVj7NaHqZiiCigigZauTHKbL3bxa+8D8DBIvDj4mHGgjQGlLolcHbilvkqjEhhvFyW82yNclBpCfnKcfH2c3KK2CXq3lVBWlb9fYkf+t6rPQXg/d56aQncclOMMaJ2JIEacbOzLTphBEWKGqt64a1WRHn5z3CtxsicxQ2La+n2r5SWOzumrPBP3QC0IiHidadU9O7mfGmVlOCWkwjzwWvPyQ6hzlm2juP+E88xrdxgOG8AoEEdbEdMLQFhnpe+D4RkTXQR8DgTkQEI/500KVda6yq53W9TCiR/MxN0+muRUuUoCzhgtAGbGUWObRUp8bMvP+y9OgQia1pZGIvEcsgTyuhWnkrp8QHUp3QGZ13hf72HzUiyR8bUTHgu11L4jdyijrZhC1eatUiG/CW01fgTEp5AvMVOIWbzTgM0ucHVLVCEmCR2ZyKpCbKCVthWViyySDqbBYVWXVZpVp+LJdlZ5mKsLh9qJE+0tyKxZwgzus+XlHqHWncAr/rpxbLO/d5m4qLrH+aihUnDT00tx67XDw3FbYaYruZyNkgVoFU5wlMwVHkyO+Fm0iTE1Brg8mTbEkm0hyuqCJQaGOqemF0ThYXxckF8CLvEuGxAhU3+jEVpkx+zDSDcphnaEAqyaXrRapA1p6JGKR8sRwVM4yj1QTE/WIGSOXygAy9ZHYAp9Joz5rq9Piz64TSpIwtwVB/nJGifT4CqaAIeufeH9d3xvWtoqmAPaZqylvtt83xqAqtkTKmlEptwBPZ0+oFRN4tjybs1c+Bvq4olbuyqzXa793o5Eqhd0G0KIGdgfKmI8w9lCEN2nmoups2w5zrlFSUZZcDcwnvbIdjQIYVJhuCO1YaWpsTsTM2U6TgBx5GGQg1qJU3T9ycZZrZHXQ+QSEw4zHuQjve46QD2oXJsTHkXaYwpfOaGf6wJmseY2zbAmvxl72p6IvaPQNuR/xYNIDREeGCxwZHuLZpOo97IDBI6PPj2GOn60WavnzjnE5Lu7GgE1zuvAglA0nflc/qNiuvynUZycu/jPFNLtt6sLJyMqHJzcvKdJD7t3pWtLbEeV2kiM0icWb8GM0JzywNblynP2s/3wYJ6KVGuVaIvRyqmWAbvFi5xs40OETabnqkNtDjNYWToATBLIn35vN/t3VV5GqML7O1ug6tu1vqvSYfz9S2n0n6OnkXx1xAtzxqKCCiT/DMP9oL7/7yp4YtpmkTs+aWCR4nGu/HqZ8USIgizL40ksHAhjRdiAYPGo7z2L2d8AEcSa7twVGQhKBQ5Y5/3M2Git4ju4osXisHUEKtgm/T+0eul8jKjSY4jk+uqoAg89kwcnMWVqKxn5qgtmEUUVptfSe9G+MuQpMTiVq0xgKmPVFdxJsd4sMnJn9REbTN5hOmlSYVKaa4qwugLSPpJmwE322Etg2SyG9U1148ND5BBeTSOH9pkLU46XCM6V6dVThS57JUyQVy5Ur/g6dvH0vK9dzkqujjbaI2iGfx6hkJcffTqz5oRGG6zL2nEZLPFIjdggxqPFZwMZtj5hNVK131W+lxQNptaKScDoluuRVJy2UrZVY0qJQLyeHpSbMyrP/082McSw1q7QmakWuRwILWbk5jfk7LorePm2IWipCWwsHaNDSzihS+cVGvJeYy924oa68PKw2JqQYd4M3rPqkU7+CrZmFVuC5JMdo2LQrSpyqBIB49hSu5OAyCnGNYyU4zcbNSuj64TYDNt5lPcG1l8E3qItg4XjpH+mymtfjTpshnB+wzVtGveqUjrzXCnVmixABqwEJLbbUtA6Oz5ylIQBQsKuQC4ZZWLaczaUJhEUsQP44NcsQLjJftOIAp4f9X43yLyJyKE2PlaJYLdS/aHtdp59s85GYgLqvof91xS67XFXKrRShywtfbel0wOJFX0EXrrwks1DeDqnVh2Z9aKEfMWA1bQ/iVqWCcomLV8hR4qlxbQ5PpWqumzCg3R9g8QSX0ELZjnPPIOtcq0KJyb4R3VYW1UCcGY59NIKax8eHlIuVMaOmRV6AB6EOMxs8QJTr00NMnQQNvRbELpzQG2Sqau5IwXQp1nEaKBS05LAE0bhIQJsMDEhAkGi8ZwWwU+vBzYb5yStK0q41NR4Kn2rsQnRgPf9e8rvt6i9CObbEikxNvzlpate8SOzX/LKjuVUlvpSDPrlGUTlOg1WcjePxAi6Lbd+hCy82pfQjQDxVFEabXbBRq//obV+QoXSQ65k/1vS9KXOJ+d/TPOFcEHDn1XlLAsolHN/s/5KeCO0enB+aV5eDwiXxP7+lR0F1Jw6cicmalDp24wWPFBJYKrHL4WkgTduf6IzDChQuQvWy9+0DDVrgX1BtkdN07eUoc780YDIiXvBFbCt8xSauBKBllSGc7tCu9/Ai0Ity/dK2VuiLs8rk0PEcXLUsNHvw126f7eH12iDJdVeyvfIDh+PfQj4RDsLU09x3SwgUDLK1hFE+xwLKDKzqGusA72GQOiOZYcArYk2Oqp1XYmLJ4OTtcB1380TwSqKksB7bSlMjG73dkiC9YkcngXVN+/+P5xm1HqRxgF7PJfF1iarVSIaQLRXqsjuRaSOTg7yP40jnJ/LlCQWvCg/rypz/HaVx8159mvadpjfVprW3rr/+CoCAtabD8wPfVqiDtvXpzdng0WfSTskgAH1zmLau8djvSc9eqNvIjkLAU3xJY0VfGpP5ii6Esi6IkQql7jMX7pdc44UNqmmIq3dBvgYjYW6qwoTqRRAy+qbSsB9r7SJ17v6CAV8PQpXTNKniLEEIBGfzdGhk9XUf3DUj7NMOlByswoUahg2szv1XTtbxWiHURbdnEfMxFrWx+uhbGpZ3Ph3zE+jWTd49yJOzxUfKJwYXgVGPkTdgALOphiJIXoT0sauRUiGAZN0rETf1+2zvxM5KLkpc8pLDiBYc+FrFins2Ij4rP/LbMPW0MVUOXt7U5UNZ8sx5nJIxTqYDW9eR4xTvZbk4/9Dc4H4Ax3sRq1mNvARv2YVosQq8ssGwBmBKa64lGMRusPdwpD9gWlxwOydxEy2j5pAkP21nU06gHCAyEsRD8EpnSnsDKCJWbvBhZng1lGU4WkQwR7TACoVbmcWVGtdCqyCyqhKeLdRIx4QXNakPenFQDQVpMGx7KM74I/Q+LRJF6AvUYM0cPtCtMkUM5/EcKObjCmQWFFMrwYnd0bg4vZtmXCM86r9DOLcBd7FvmP6Un0L0sd1Tu0lkFpkEe0rqB8+YFKsPkPk3Too1HA3wVnZz64NS+h5MY0+Nt+BSRnflbYfeloCNgViG92a8/0CCSfl9D/0gxW2rW6WcC097KfmCwf7MEGZJbKXlJ5lHKaHDYG0QDaIip+ao8uozNnCWgDAlfQBQMCPcN9PIIAb4rGipCDGk88n3UF9EH2REsGulOYosMDObQa5Mwgc0b/qMaqhcu61AeVk4REDznd7jM0bJdfwhYrCY6vlFCup5RoMgq00H7DTBh1tGmuVxzo49dZW4sLpbLuGp/LBJTprQ3KH+pfz7XyitA8GCYPj3bvlQ9D01DNOdvo2rY03A3k+KlgjM+ePRsjnDA/smMKzXFhfvGDoiMHYXq1Bfe/oQFRztJzruywsS1otUhySelmlWJ1FmFPqI6jpEKTtaGGPPCWmNpSFTwhnl3TsOfCWvZNwHOb1pp2hlUNcKHUta3gcPtHBFh7tldCDTE1+o/FVjx8RqohhgVl7mqJj271q5tt7OSzH6F3UuHRtjAEaOfrBwXuVeOFZh6G7m8puZFeFq7h+zT+3bxLIN41Pzc3GfQofH44qV+zK1f+XypMxIaHcnHkoxPZNfvTZPehNUvV8aXMuh1qngezJObSjd4s8qEt90WN3KmcWr6DokJ7Ll39jcmDLtTnoIpbqCGaf48eGMgQQmMmiuglIOKqoW01S6LKDEokgJKESFeIpTkTz5s2LjBZtifPAefWGsKtjJTgleZXn6lBPQR1lYWOtQjcqICMOYcQURe7LrKf6dRsaVrPO7sozKSbpg/ili244HWnXw9wD22r96nMd7JP9Q1wvK1jv5Oh52cPb+6YmT3ahfP7lcZOkNLVIEOcY7CgROufN2XE2iCxxmJACue0TbnRBtAnF7hnRCTqTor0t/tirYzAwIjnpNjN/r2aTiNpyi0c9qQRzkygMZbvFmWEprxrGtfJfkBFffL/wCGm1K1z101syhspTd6sVPmnxCzRMQP5WZS7ImNfXCCykAZ1AnteN88Ol/ue5bYCIECdJkHxipHR+E+g6n/USPs8/xmZmV9fE1sbE18/WsLFDKUzV/PtwZ/bzvdbTRNinvEt6I3djEWXTKZbCkALukOm0yX+i7Kt4YmjaNM4I4tpJ34U1HRUVGHcZPVLWrbTFR5as6/efJFJSBb5tstfHcRKAnNlucNLwxIobsNy6VGL1oUVapqbAZXWqIWqUobQXPLlX+xBtAC053Ghb1rxCfgnqO8Wj9h8DzqQBkoSPA6kw2Ct/YkdiXuMhXLcxPgTifYillhgDJgq1VY4MsxWuATj2LTLrCruiixJcLmFlUD++A4DBwsx8c+pb5bQP0UjFMdyIt88T/3ptpHmkoji1SqosjSuxY8ZCib352feSOWHV++wn+niw75iA4c+v3tGOEeLXohKBVduB+7Kry6MMstik3Kuy68HnVIiM/eLeA9zaI9/aU548uDbtkSfdVGXKeWJIlVybURX5rJIp9DIl8q3Hd7KeoTnoeO6kTj8hxVqOOLbf2VP3TrgOJ6gFpzK7+9ero32w9pHfneXmyR7WFXMCxrMlvHsnvkGVmCqGcwPS06FJwSPJQy5JPicyhQma9Q5FcrjNxXbVRo1QTA6xUGAHBgAGGieDULASjkAmQGQwMyE+0odI2Mhhso+eMNhM56qd29t/Fe2IE64N5ySm5EjkKRE5FLKd+HCAU00IHuGZdTCLKrMlEQvvAGxNIjMIApyU3ywkLZ2+FCXEo5kuN/tujHBVnyTFloZmj2BQYrZCibfzRPl9oFCXaTiE+It4fZQG7zNtmMBUe7xOzo6KIFpHsPcEwb1P5/LpKq90qTpUl/HNreSfsjwgxTTL3oTxrJxBI6zBCa9VFolt8B+BUADQgD2gedvyd2IGYgds+E+JCPzntIN+St8zm0s8ISZtoObbBuwEpN2KgRC2Ympl4XBS/5cGGMhAIsa5pU9vu7iYcCFEcAakcBgi84YWgBHnMp7RIswhTW4/WIL39KgMtlhlutBMBvK69gGBnSUoZ+voRpZkoXVt5WwVQosOvkhtBQwwICJLRgfndqxlCALlsUm1AXF1eXEBFUkN1Y1uUmeZjYJlGE0y7SWyC83SZZk27BvODpfNTtFuuWGxriWk24hvDQNj6Eib1msxUGCICtVOFWW+weAIKEqZhzU6EvAmDtyR5vb5v0QmxPnrjADIQBu0TNJkzU1nN7AlfGEbgzBYyVjEmhb1TO7K8ZZ+68x7ePC50C4WK6+5MgaR/i9ZMXjPIHn5Gwx2bWvv3VrOrcvOyicNOPBCBq9rdX7bzcbDb1iC//Su2ure1GANLzE6c08oXwQjiyJmWU6hMhqBvnpx4EAEVZaEeyr5Qmdd6v2Cn5SJ97sqFhWWy3MLMacozTl9/xSPQJTo56i1xHQdEkryBfEUKSjiC9NFOURpWcJbzxVqXqL44XyuH8pVqy4oZBGJkcqaGbOL3u6qOEZqmWpl2av/eSvw12oPMw5ycb6kBtNW1ysX/yguAG84OBWsE8qSFA3zzqOA8fEGOEhWjFLNmnrLdVYjwrz4JZESbKQ5mIdSDz3sIybh1PoBAyfvK2IgAdRyAwVokww4wE3A0VdgPUb389rp04rSwe1nzr/GM5/Fg4QLiHZQBdQ8cUNEydxxTAiHGDrY9Deah+63lqKB7rn9YxAQl1bG/rgftPnvfcPQZqPJ971kCsi/gA232Ov7W7BJVo3vdZr5/cvaXRHlWKXv9Uyxqo+gcF0UlB1c8FgNDxCN4IJiSZR9ftQI/FOmEdxyYQCGkIoFhyoX9aYQdsRYHanYNKkCReUlg2L5sfA7KIA+kXA+PLsFBDVmipBT8eBjMexgT2hC1sF9w7jNZUaXhxEYB6Pp0++l/gf24n39kHVzy5KADgPICATQmHuz/3khjvPF/iywzb83OyrahaAI1ZcISFzCLHs5rZwcDW9jihIZyQRDEw0sQsHUtsXEB29DVT+hYEpgVlFvLMmSLM1WvMzCtsoQf9v0fMFF/YARy0yad+hyUKHCh6uFc6fdB123TkWw/TjoMWcDzt4VuR09tcD05L9z4sOgAKqzI1yxB0aYbmMxtfiiLLyrFKrEYg9dFJn+Zdz8UKAjMGkfGYPtHZHO7Usde5j93Dxo3GMit7DYMZcImU/MpZnmU3QFndDcAMcMTeJQnTGTcWbDT6bpKu3g2Xxy9HxJeFLly+MNSXznRSGTAOM5D/nwHnonfVFF0rMmWYi04WVfe3tSO2Hhs6j7TbuhH9cpgBgyapJ4AZ9S92VhddTTPHQvGpInNrYzfSbXsZnkelBwIU1x+mXPjN/JtLY59+hoLFcxw7ZUchxIxAqD1/lmXcOtvE93CKFo1E7R+fkAsO6HZX5ZCjPf9Whj0f3QpQOx2fxUcwiyp9DIsdw2bGLSizy5jhOpAfUauo71rPAa9iQAxaCEuvBT5x/m2ZgbItfNGZfHP4gnOktd1bktqSfxsUmA5/7O7OCO8QC3wiilZkrrjuneQd1slnh3uHe2HeW7yjvcK8wzRjBE44RnBebLOPq/FM+6YHA8UNPY73efwT2UAzpa/9kea8Jt6Fp7KZP6/53GxT8Vzi1zjTflybbmqgRf7j0Yfj0TPY51NV1zi7f8HXKOJ5VJ0x9PQnQs7icwKjjsqLV6zBf9nNuVY1ZcOsGMDmqfPwKBUggDoKzztC+8YNyHHYDIb1YZ4egDEYZ/59QHDgV8Gv7wje+XucLq/8dR+/Xg8MXupOc//T/T/vOFPw1CHKamyNaytnUznrbHgl+FPoLoyccv+fmiNHLYfce8LOxktYZHkAA5jkEUkEPnEnMILHvPKl35dXLEw+R7iwe9cZhFl8hIXwLSnAXLr38K+exUICYSHvzVta8URSODTLS/w5v23ptJaW2sGdlHDPZKJclr0QlTiBF0xUTSQG5jWfZFYxTzZHVSXPct8D/f7Lpzc2xisUVk4sCwBLhbF1nbVYSadeIYIZMK+GkHgPfYxq6qEVm7bt3GUq1q2AbaKo+k+yJm7HYhOwTAMesGCW0UNEX9TJUYu1I6HzuhfT6Ja3a3qazd2Tni0pO4QPYD0/pNW1J6/JbhQgPeDxLNWBOKgtsANu2Rbn2z5kt7Cbo1pkGGGjsp4Oiups6RxIHKlT5iDKC4yaa5mLPvgcUZjDID99Mjjrv6qTbuTPHol02bfTeDhlF+/9IRXlm40VADt1LojbpMg3bSrJ9V+XIsxa0PSv0C5PIv4noNRn0Xlk/qo4/cenJsMXSaGrZrTf5K82qu8rs+jG+1qblmGqqbGhPUDoTF9ZH1mjii2KL71rwUOG8h6s1K7xW7xd3o914REdidKW2CbsWIexigr/hzhsbdkn0U2NKsbccFY30r15y+bYUGD5Nm/pHkbbt2D2WLYtD/eEgEHDYnFpJb6iuVReJFMaIrPOW/CQoQx+P3/elVbF52Oxl4A2f81Vh45enPHkuO/xJ75OjKBjpe+A4ABBmxx0HAWYkeLeOqH+VYKZ8MoCyHHSKylOiut5s1D5lSbUrqQprHr1NdUXWlizZX2b17IzpDVRSWTOohkYwKCOfYEA1Fk7DEzcI4dyw3R0573NWwwGlTfqO+aJ1D6Akqy4t6hHOP5YbOZ/fuqfz4+f7b+9I2JXcI905eIf4Xd+fPIqqqlVxmqNXVpq3RiypLxNWh68OImd5AS6PebueXT/cUMoX14uXVYuX+FpY+gXvWUuXbE8vfID4KA0FKsKlcpCVfG0qlhZWKgsVk0Hzrw+EdbM2LTFaumeyBZlHY23YGQgAYGiUzZhZEajRcMNlNyzmpOycPE6TTppG7bNQYQCGo84QW5vY5HLGDZGgQLFBt8J4wgTJVAm0jvJNsMOeLYNAbvL+H3EVFETqXMrJ8GbUI/SCKhN2/RmY/l5gUtGaCJaPt2PFszANpzrbmRwaX70/POtHsH6RNKhISXgBhdw00TOcBRx5a4JXzxRhM9tE1dhjqFyCTUtIPYAlkF1RVFX3N0bvhnPpLcax0t8u5cQg+hzvtMAR0HeyljAA7FrBw98FB423md/ACrRVxMhTpbMXJXPA3MZjd3nNmCM4FihSKlmSUVAcYPebJ2cR/Hm66cxD9P8z2RBJgAxxa7Kf/6p6aQoFy+OIEFk8T7l9ojCGD+q6NeP/TpTuDiBY1g33nsqhUcwQsLSsyTOUYDN3G4XG7x1oeIqwRvnYYtQX7vwBmQeYC+7l7TD0Uzgb/BRp3ritvoTFB87bkNt7d0oYy+w9SBDru2DBLhLAGSFi7yagdi62+cDbIy+j47dp1MQ2E+PIvajNbH7Yridh8rj4Msm5xgxXppaqYQnKONH4JEmsPv4Rscf+owFjmDLuSi2VifXxkdLorVxYSla0bnoxVj5oKzAoEBChBKhjBNhNgyGlI/1osSC3rO6zb2bUBsXX9dhwYdWWu1AOPM7jeaipEc8OYL6RtuNByup1gFr2Z08I0sI2pPimn4cGx+xzOKzJssEMeG83oSOfTioBR9hkwljYg2NYRkfiSAerVGB60IatN3vOWW6r/wIPfntJu+GnsmiNFgEpxXFb2WD96aBG1/IvjgcpN8dgMW1v184wsPwZxKm6EpTnmpta4fr1xxoMQreJXhNSeKcQ23lGZ2DqywEQTlg63UA3DcfkwalgDsE2XkAwgAgn6Jk0vqgM4DMIBc+BFzsJ5/39Dvxo1ERqvJmo9H8gQvTQXAd7jLBngSBMDidQDwD6w+gjtT8NzN9g0yUlc0K9m1GwQUE0HJnhOUHD8y8nYcgAKlwJhozRc+2Ej82GmV7Q3YdLxwpuwqg8zYTXgl039jrIWjdR1havOJXk8i3JD2SS2TSNmpS3CO5SLZIl55PYaREFMobhExR2tttqK2q6uBBhFhC1bRnZ3fbDKyLWYGZyw39XScnHxCckoWQyIIDyS9hmkdlpQcNBuenh4M/LnZTbE/1uPB4lW9P7Y9YrvXE3sSevnv3YvgkmJRcRL0Z8wBFdWyPcLLzy/Jp9gC47zYz87xvuyO5fIDj6fB+fE8uv/fY2+HJGShPdmzvex7Si4GlCannSXQ5TpmZTjl6Cbc+pElrePU6iQINAxjCDTT++w8xV6K/m/K7/jEcA5KekY5keaVTBqTncqWU9Lsfm5iALGkM4xTbskC5sFVsWRS+0PLPDl/1ZVZ0hqgmdLzWMPqyRiLy4VkqAJbBF/B0A5wX28srS9aNLfNc1oXJbEl5XDlQ3f/A6ygOq8Bcxi2wdXUN8Ae6uwdNkrb4Oq9yF8ay+Zp5tL1rwz66EQbaDRzT5ixfjfdJyrq/zAIaw/xox6srZSLb93j2wPvKqx2PzAyawPzXOsrJP/DolKaZMik/1CFm6Vk6LAGDNHYPa/8+MzPvPArQC6yeuyf9wo6Jx9p+Ys85wur2RWEE6OcfEPutOCCmiY0ORi5dutcso5rPR8d/rA/gDT4x6e84b31v49kmiFL/LNS5kHiAiHWur1N9MwXDFnxPr9/vLb7kCnk4tUwJDcm43jddsAMAIH8qGIRTLU4eEG0czprOyfRJRj5SHcAKlJLKtvovtJ+9SvPZRnb16jPtF/VtlRJlAXZA9VEykumT3SspM6sUKKLbhrsjbSmguHY7XW7NurVgnLXrauBiOjfBxjJfwyjJhl2PKsUWm+ZWOCyY/QdAYmlVQss66B4DHlX0D59UHYeW7RmpBrwl+vK8P5GOBYeWvhe7+sajkLAzb1/83PnR/36e+8NsE47ws6Gd3lXbSxbk5/ObzVLfzLSmgxt4ZRObPwzhaBP1tCK+OjQtfHFwSp7hraS9mzqK2mylw2DsDaXdxehic6F6u/RQ4ig9LrILqPkFmqKNcv71OSBwwo7ZQcQ2wb1zPSgL7Zlz2FAbC5s5ptdd3ogy/idEtHCuImVR6cCZ4beXToUEnt66OPawcGlAtg7a7/dgJoBnSirG07DU+rDkes8qVm6q9jMpd3Nj+wrI89Qrfv4ovfHonGXHeP36xDc/rc1pXjae2D3kTX0jqZMlkSrN/29pQD+79SEtidPY0lFHccC0tYNKc2lR2ep0UW0zlhIpOvaVh69BT1s4RdpM3vrSV5ycBT5780HwzWHXid0nk53TUT305tWV/b8m/vPhBxd2pnt1/vZxilPcyt134hJ+AZVtRp+kDKcUdn1kadxrt2sfZHpkshu33V/gtUeXafj1n1PfOkBkPr1ILZTbevxE4vy8nUxYYQbnP2+ydRR2IF9s3yw2ghGb6OU5XHjUqr50K+X9TzKgqqS7/hpQ9cZfYBq111q6iYcpYf4VbwJ+dRvHmFtKGkuOrs51z31HmpWadcQw9hEY24KP0U+MXdKP3QCBV6ICk9QB5UOpzhZNYJAacbExgNeH1V1/BV/bl0mv1kA1l+oPBky+337ndGoJDaRCOLCoiyKxAo3H1MOK6m+YL06nNC+4veQ+d//ylIbNuhs/7zscUOgV4H5KihUXR1Xs+SWXmxuX/YBZZVtef7aWFd2uXOafa6pcVgkDlIE60PkyBjyPzKPzyPzqc/7VEe3RYpXODQYwffPyelsV80FcNjcXBD7lzMNkTyCqMlVKE6iMw/5A1/TGh1sfplb3L+7vbdtWtg3D0hyvJgfoMjvoKWcvBKodEP9UAabS9N23b6veyATbPsQ+eEcgm1M9fLg7PU0yXDNs3lmvYmAMF95pXjeS7RPF39DvPJ8Lmgz4sYbnJBxaSDIOCZ14NT8GTAaBACU9qkSlKomKTSgLAKnsJYuEGmFKFgTBDOoSKqBSoEw/rTB5ycJUFghMWBQbFVlSrDqWTP/6rdSIwKLsBQFt77lUN7h/7kZmRLeWZV0G/cocRWhIRoYMqKfwtxepo+riICdovROUKU4WLM/TP4UOMlAG/LpPMe6fLJUmG6RJyf5c79JseaZMlinPXoAb/NWL/jznG8gZUGdm1q2JL1ihD1dwPbYnkrOxolqwEUeglgGPikLyA5Kk0qQsC3Mo67FtXVRJpKq4SVVSompKKYBW3DzcwKHTWSbPck2UmmInFVYBZ1inFPrNyc/NJWPC7ZWbaCfDNhybngV1c/Mj+avSO8MffN0zvtzzwctFFJuVrUNXox2pfTWBskFnD6dNEDuwLcA1LEzRgonyUYD2oQAdSegZcef5YOFcES0aqhNF/8zyNaGFzGR5PvUGkhfY3OZ/odfSZwH3Bjddjr68KXa7IVEpPhYTc0ysNCRuL0QBMqplk4ENh0YRq+3Qli+ywpuwEsBOW9i0cF/GmGMvUUh3nkftFituJYyEiej9OQyzj9rHiA4zXN7lTYc2XXZw76uCHg/lX1tqg3jV0yTpux8+VM3JBO+swlZvE8jeqG7f3n1p9b168QEWkLQPr5EGci46Y7n1tADL+XZOd3XE/8H/u0Q354Hl8KvuloaL27Bt3GfGZz7hvGfPg5+TyXCfbXH9ugSUnbdFTlIS1eDppRf92nYWRLhHgNfvC2fBQhpZ6iRiPT966XmyI/DF8OzwC0UvAACARQdfvbUbBaifgEznKG0MvTTIOThNEp5kS+HQvTzi1UEfC/z/kqoDKJRuCILAyAuEheDo2lGmJ8KC3hHYAfOp89r7bCofZsC9Y9CLGvR2rwUti1kBvSvwczCJ5OQkNro/otCQ8wiNInDK4jTOEzjOn1ex7vHLa0Gub9i0kMwq5zSyAQAA2hbC0G7IjvA7z/8QAqyIxJ0aSNabCZZ4kIXTYQmnDr3mvNTpINlv3i5OrjgUXfRoUmS98Gml361HhQsCKBBEcvL+TdWbGJSz1otouMEQTP9OhOXImXc4LvxrcfLiv4RYuDynQZo2vnTp8DAue58LsMrK+fB5xnuzAPwRRjhjXHnZr+5EvpHFKGJCj4RqFBrZobzAJn1jIJ/0u2Le/5L3n/xZHvIn789WvCdIvkq2Sh6CU2SsxEMAjhPW4o7hSSbBAkC8HCfGsaQBcVrEuC29h1EBjFMBYsK6VDt1KJD5gpUWGMDYFP6e626HLZQn3BkjTIQRM0WiDC8ji5Tt4JcZYf11+YCRQDMEPlLcNSGsFAFmgVzTiTSOKDIx/A81x7GJvomPXDG6rEm0XPVbYcKBM9n5LLmROV6zUpT19d+uGdAjLIGHubchZX5lnHbEcs21f+VLvw5OhV8FkmRNBW5+QezqLygd05ueB0z99wn9kwanng2BuftrqS92BHQ9C/w7KEUXXRFIjmcck20pdBN+XJctFjk1JYniWc+cvt190/7pL9xYhYtYLA7KBQH+Yv/AIFGQXOwnXMvyhPnnO4d2KWRiWQBY8nVZKULfHInQRGsi5k/9mOiY9Xl8c3i0UsIPvJhzCfGW+koRnqfQa01jkHJVxCplEGhP/YvkJOyWbKys7BKZOGtggAU/yDaIqirFGwXdzgWNjPsvzbLI2IguRu4+NY29PIwHevXuGeBil2YH8HP1A9nhyf+sinEj8WqjlcroWp7J+kXHLs4uN+e/idZW3FIUUQvO8g0QPYKDixdWG+vrvBt49VlZdT61PjUsv5odkmnIOsHgxRdkZA4MsDaIuhK4fmFVKioV9z9y4I9FGC8BewRluP79dZZoZc24kSnPZ2WfOZBQ+JtquahJRuccFyEVfhWcDr+XK/tdr1mQdk6ZX1lFiUuQnxtINTttmu6gXPG49gn9k//e9aTszw3c8BPyrCtghwtLHCQWi10UsdxfPrXf3P2t0zNWvCipyUkkzq77WOhWuEV2jBFPDqyI1qUsDZAEyMQyxa6hzvN82JO1VugnlgeJggL9xf5A6Jy6IDs0M0SWIc8s+U+mBOD+vEz1b4k8U5aRGZIdWoIZkqVJkozVGbNcCU/8MCNz9R/JUsOYfzLI8B+wav4z94cbQmJoCl1Y3oKUfyYWlAwe00YnO9LKf7XHBk/bTfyjnUG2v3GTuzm2y7c7wvVvtoPeYOseCjqVt8PGtbu1YzjCRHHGwUesnnPcc+yebw8ycJ3qyHlrPNkWi7fqb0y2FQ+wzNyq587wrP7SZCjUPtkfKK56/Y39ze3lHq5G7G+M0845rRXTaZ/vLKWVre/OUFjlvOFnKPiPRt/Sscd+vTfuO3YIClBW7257xxZG+elVE6cBAKcnVp1OmcEncPtMQjz2ELk8MXncPDqxZMnEqHk8OXF5ZBKvje81w28nsJIeNGOTXl0f4mVgywjNjrKhSNkD5WOvH3Bu75GF6bfFSAQIuXD0CHxc5Q87psbGEJZn0zqoXZNNHMUQqEPuZ2VNJUxlxf928zbhfBxs//XDgmFaHG2YH31EZd6sEQtuMqnnKmAG1bEqMR4rlYH9TnDWxpWw2l6bYOZc3vZdu+jgZE9z82XZT05Ph9rFlmDJn15kkyx2HbJxSUkbZx6+4H7VshEQH9wkbn5gjvtSHPuzs/I2UTvGsafSvz/cwFEZvlm84cf58PmcHEeY49l/AbqFORRMhIlabx1Tu7VZ25xz7JbVNXHZOKDOVseYdfIysg7+bsgxQu/5U9CPnnqvyaDPL3+4VF3l6uz+zA0UrvTR8+GrMVepfD2fepVPgVZkhFQyxqKKzFXjjAaISAp2LVVXFQyeVPdKQCdgHzQkS/9c5K/eqzN1kxpmMXv06MRofF18XO1KC/5T+c/ln+auEfsmCWL4MaW+fuzmchfY3RjHjxOofSXlqz/aUCPsOpf17/H86HqB8Iy58CCxU1FK3WdQxs6vXnbtFbASWcK9/L1Cllr/UeuB6uZZ48HKJbKv60b6Lpt8EjMT92eoM9Xwv+3X2w/6ro1Z+0OtJS7Rd59vfGkHmFg4zOPkXTuBfxyNp7WUTZSltQTpP8ZPOMUnycU6aVq+1+z58iVpkhSHvqmXXdZ+/DgrY/fWDYJlXbm/QB5Intq9OevpM50hCHi+IeXZd/casnOyt40C2qsilJD2A+gafZb3d7jALMC/885qxYjuoFCNIUBuljuIHkH9Q+JR37gKqFIU8+OroKlkceXo0WuCKFYYKz6qRxrEUsLfwwohVj5ihYjmv2rizmVkRez57jnqHDU+XvC+7yh/RDAsuMAf9T0vUMVrjzgzv46f7z7nLj86e81RPXHXvS4Kl72uFx9/UbvIb+f5nNIlkfe4qjoNWVnxLnvInedVrm9TonWLtfEpWdGUt4HiaghO4D18DMf9SMOtM8M2rWPWUSvXDs/D3/YoNQTTpRImU4CijBaLxR+zwoSOikiAiuWx56AbxqW+dWX/riwT+yZz4wRxBjeYvHY1W3/DMWECjJvg67egbEey6H4vpJvYo3YyCSQjkhGBsFYZcem4de1OMTOWKX6nv2uniJnIlNSV2fKu5R/Kch0/uur7mqAIXazue12iTvX+zaU3xfmqVaoSmbahJFawX5CwBEiLBpjVwmrmo98kUEzpA6T8iMAHQimEYhjOxx12DCtGX2wecSbU2RLhjYRVUWPoIUTmd5YZr+4+zHdUXA3FV/F9qhIarHiSxROihIgS0gwqOQuAJXicN24ZgXMGDvZl3hxgJyw4zz2n8VIkzMDHgnfCaGvsYPi559wxwDiwMlDfjGeqStROzZeCR+ud2zTvc8l3A+culOjFDCbtQMk4iMwJsVisQYbZXgTNaWMj3nzI6xPfW1UXLJsQ9gogRvOiMi7luMMg+KdGY37McuQheok9qgXlknPHwtAy6Cj4960EfSIXGF9KWBKMCP1V63Lx1SZwOHizhvED/FUxYKzKS4/NhIzzxhVXLdRDZslPmxztbfi87GwbasvO6T6c9jebqk5VbEUmkjmO44BRk/g6nMCaCtCdv+T/9gIUTv5tWlirxtq8bFu6tbDqS9XXaktaxFcRsmear6jRaesgLTIwzUIz02CoL42GqctHg3xdayJ2+4eTKRoASJq3rvxM4ybWQQSzLpFL+//f91UkAFTGyQ4WGUopzfBXHnP+/bQdig9JDP9eaR2+aYTIoTOEGQ9IKszD4QQOvfdzB2P4qQd/qGq9ym1gmwbTBfM9LqfPO368S+fYr/ZLC5MC+kHoNIAgoRFyN6yWG1zcD7CA8e7B1kzZHYPbvJYNlNWX3n1+NuQOJDEpWheHmxX6mntpl/aUf5u5QKEV6/CFrOtRGnGSooiURi6dE33zldCpecDhvlgb6gr7fqetqdXsnz/VJ09poSYmDXyrgOBQZQ+IzKkiCAJHQWAvBlYwsxweGcEe1EJYULCit75M5RCYLdsT9E0Huvelpb44BGv3eN2q5R/0t+vj/OdFxjlf5lH4XrAnJV1Sbg4fI446pRa8/E2gnUe7DqFjFjT2Waj2sA31IP9mCFRl/xq1GwbrOqAFHr6l5TNXJp8dUEndWqfMInhx0pHhpJarYnO8vkGfrRHs/odz2+fsuQ3vh6MxdwVEgKGUGOmqPNLFAY/wEB//zZkZc8X9qkoXd15q+taiFPb+h+vcaTszNgPsJcxAATqPOqgWbO+ZrHSOdH7pl5rGCGO4oj7ehrO8YouFvkQs9m/zQm66V/mvhVjYf9hJFqs9YOM371dzAJzj/lXFRqDwq+pN2F3xlfsqmMFZlp8gG/3b2Sr5Gzh9jJMA43mFAUm4majuTwoolPZftXPod390zJuXPfjBOkyzbcBNtb5qiO/xdJjh+Lz3LgCalMkPWWQAGW8OW5XfhyeGxEP20787H1P6Z5SmQGRWx6RRBQBJ9f6//9O4dYlMAkqs49J+vvKWBsj7qfPke0T1IAohVrJzKVsKzSVA6FXTR/fIoOwnoudj6PgA8bzsj73ABKKNP4c5cCveavGaBY6hd4pMu14HQ5Ov0Lzbk4so67YOQcGvd5mKgsTsvhF0rRd1BPBazypZwY83mPSDXf0W3qEd2qpXkWG0sedsJ4zY+0CJ5MRpXx3Ql5PXc+lSz+RPOfPtzPw05jsoQGKQ+VZ81CjjCzxYxDb2gJzPwWj9N+9vrPjKPQcGnGr2WhLQzjq2XCZUY1udoHBrFHSKCqijPJdbs3y5TfK0ji1Yeg7AKivje/YMb/5x9Suu3GraikLI1vHA8fnJwTdsGit6kDV6Do60AgAsvfIs1HHbaO/ApzIqQfSVbDAFpmmRbNU8hvfIKmq4wT2TKjqGnXbr4qYmkV/3P8U9J0/0PG5uDcMQJvq458TJnh2d/8qjXHlHR8HLyNx5HW3pjC4rWwvRI7gRdCiY7BMiShGi5NHWp1vZKBnQlFzINyRE30o/u3mVHEtT65s9L/0QMBAwEtADuibbSHplTfKyiKNHoziuJIqnh4gYtaEO51Tl8uWPy3JDs2VyQ3jWeblBlpEZmiUvdYqhMpAvtieF5mqlaql/UmDyHv+krHUGg9MfQDKlGrGM+06MWLrUP1NrUymbFBEab52vkVHAMEWpMe1IXAHDSFdHp2B840C6s7Nz5uaB8xnZJyXVeZocdTW7nv1ZmjZPnc2q8aiXVPvmP58cijWTY6j31MB+HgHoLAIQHAUIn8dHoHEYma06mcbgebiuIKc0c1o7vum0kppUB4NqY/6u3NQBUPVSrokwutaWk2tnz605v4vB4H3dMq1m2WbrW6bZ7NMu2wxNKgp3OGrBVo43/1opbtIH6YJIXE8EpXo/HwoiyNwrQqopWlINxP30OnzcgqxQQ6gstBp8g2GgBlu3+q7pUnzQglkky7sWvMZ/+e1sK1JUWfO5hph3hz75MEJpXlLnL6+sOxbkvQZrTTenzcaS+UUqVYWRxVCDuKB6w0tlWbKMjFCDvBjARcAQmi6TpVcOKCav/XgPkXnUaiqUwqtj+Czeav8RniC4ifYSO8Cic+7ofSYQ71s9ia3tC6xSFm7MGJmTsOX2iDiMXxT5/X8GQNYLNudWRvwt0WRm0kWE9X5BhrvGbYfwiPbTrkD7cIshmMLNKv50duF7ibtSL6f55gjLaEApelh1Pikwb9VBZhXzYHNgXisKEAJhoq0/1o6aRpKJZBOBEfZou5MluDUY+NvJmdqLTrcy9bco7NF32/3LBH/d6fxUAQXNcSrkOfEN5dq2vCPIUTZFvjEB/aNil1etrkIT0zq3qz/nV5IPmoS6xD17DPw1GXrGqlSyG/1V830v7Q4v7f3mV3Q38qpUPQP8kJOU8wNYt/n7yoJwEg/H4NIbyo7j1mMdnj2eho9Zj3sswarMnnkelcl6CwRy48Rj/pdR6/q/4EiYzl4ssbtJUOZU5feaNBl+bOWNiMf2277yGB4cr8PHl/R/jogjKBKjjE8qb6lTn6lHBDhvgh4E9NMZWzpiColeuoEevRrRenVsYbTPJNTGx9eutIQgo3+habScyfkj1Bc8f1GL+uZ094Z1tGtMN3yv+hSI+9S/eBwoKnGkvSgpeSH1Unnj3ipPqWP0F/fNWUbArhe8My5NsvNd1Gffpz6B3S5QOOTSndMdCCnCiwr0+XSfD/puaGLUX6qoQHGNLoifFZCY5U7+RWIAANgW4qtebxGx3uO/BwBkBYe1YbJ9mWApmyyYjhf4XTvFPeZxRy3a/JMoKDBFGxgkeZGe/nPqz8Xuy53EM9JTSQUIg5rM6mYn7JpM+Um0WX3HQz2LQioVK4zl4gq54FB04aNnCuv3Ty0Rn/1ZVBpAoqBs3tEEyY5hJNCW3UZxCnOitGW1BTiFX7W1BSLDITjVgcxT5YctS+wHA/kXfzgzdz9pjWw5WW36HRQ9OtMQm16Tutp+MtNjG2qPxLJTDRUhzeUhaQZ27JEt1zwvBl4KuhR4MWD0GgDX9XQ/d2HkXhQgbhyjMOldwI1QuL+hSoolT+JHFUZRS5EtaTp+9R9XYRTubLbgjH+IS9pLSuUxyYD2gpqaiebp7/aVmddQYr+oM6XyAqYvWQHGfnAhUCD/z5Pit3atYztsnPO5qrLbHSd5x7he8JJR6+YOwRpHoXZmBsio0k2LwVdOI5f/jur80cAOKeH95kkt2UeQo3W4IN2fwuVc+Kqd0q21MGO2vCyq3lUZ6SGnT5/x4aR07yaX4/7gkGsFWDD4Cidwi8rk3Gux4k1ukGhz0gjJQ7MyQ0syuuQ6gApui6fkcfxv6E7U+WJMcaCXVDAw7OZZg5LMVJaN9e2APpoj1Jilr15bZmHGSi4u9XSwKk2K3PDwXIVpzIKHDGXzsUfPirilFTFl0dFlMRWPLXjIUDZ//LgXJhpOGyv1aRrzudnkU3qzEQ73LDW7CLpoOBvbYDsSy04zlIc0V4SkVq5gbcX7dgGOGEfrcGGavwvXK7tfryLq9U5zD3lRHxxs/VnF8ppaz4K0AvWyU8uqwqunOpblVI/aSG1//fWR30WTa4Nnxty8CBj43aDHe81xnnLmvNw49zhC/10H2LG7CQ022rmMUYsh91aVNPpseD1D7f72jonDa44n053Dm/mWlDvf2lBbTo6Nqu2+/HHLoxrzsnsIQUs3Q1BSZG15xLFu8OrJj7MVY+Q2Mvva8syIILw/+SyOPCfXpHPrTm3/54XFDgADOA0BNT3/nwFpMNBY/6nCv0uSE07J1rvc4DRx3JycnRK4GU6eriQfN3qG1NnZyXNIHRLOPuLxHt3/ax3t9ObDK/P9gvVTSb8Rfzw75Dm0xQ4iIFhs2nrPndc9/L2YVOPs7OpGkvp7UkgkH1K6kxeN4xzsxkWdyKqyDFe/PWxyPvUeWloLaiIxv+FPegmI35Km9MF++SsPbz6to33tT3/P4wg7JFw95Onk7CzNoLv5kFw9nTK4CU7OTm6cJs4NvcunbUOeh47/evIelZzP3uOX4VqmIjuhXLdgZw7Nyymd5EMiUTz9pSQ3V2fnGtL34uFunvu9rSYxDEWA/9f8R3OGXZJSmlo0yRQB4tIEEQpooJOCnefsXesp1Sn4/+fB35lRjOs433/laSdcRyh+Riiv/LYU+MdXHmvy4VBGeLPJ5YStH5prsSQ1DD3OQngv6f5nDnZRVLk10sr1EwAgvZf+VcOU+xm64dsM7206gHsjGAGISZeri3bWpEv9v3RgAFPyrpbtXJauz6ELXj3jOkLx4Rxrqoxvvl0O5fkZKSOgV2fZVpDZSfkj+2kq1esDsz31sXr19Fx3kK549636EPqct/eGqMcgWxxi/j384O+BfwSGe1ZdtLsofmFgwNd5Mdx1snVcEGet6tszahl/jo9fKjc9h4nuqk2u5h9hGF4Yv+rXdrkhBmAzVRi1pxeGmXWUXUmbQr28MJu0i7Ix0LDpPKPmiPLdX5eW/7K8m7YXgV4XsJBRyyi0k5A97aXZLA8o3TUR/weDw4PnvSaDJr0c0/MVNz73+D73fD00GUysHBB8/uf9n9l9Xug7j42zu5hnmV3s8RkCdWFSmC6o8tmcX644/yMLvmjOVsvX+aYNAUBubU5OW3DtUhjVZnshziudeuFhfUXnmHv9NtXwAHbU8lMMasnrZJFP1ZCHiOGV9MgI3opb04pNg9hPShE3lqSmte28uiiPAjPgaxRpes3Ol+cdZ9iAMhHi5QOcWOOb6UBPTeFTidyhFdB+v/sl6zzry7v27juMwc9o8B5kjj+q70ZsWm3qiesWPPnMl/hk4iBBPCdt6OLWdqTnotyy2oqLRTKu9F9QA48QZTdagvyUXb2cVetX49fmZ4PPxZJMZJd2ZxMpmGQiubaTTcAx/dL9dYuwaUOs50sOrGK/fNPtnrinR3Ry6bdndJar1qGbMenFwaUhDUsrlYsiMBNeWFcUkh2UmaFiL3bZfXNFdmSGT94SvFT8V+dDetHMOXiZbCLFYors2k7i68uzs2Atq8av1s/m1wbOAf3qBG1NonL+oj8LyS4IW9sryHDcS21Yk9pwzzE3n/VWzIKanyF65sxXqUtTRNsBDVn/4E+P1mjBoh/+CEjK+HJ/f2pcM0Prm+Jr8jUObTSBzNeyf2HvkQyYsT1fWt3A4+OdLlpZO7q5dDPaLiMenZqEAm77v7p/22eAKvGnF1Xa7yXd4upDztDk/OaLXqQesXGLBoJK++816pT58WsVnYod0jfcxnuHM4MG1GXWesv8beufV65LduYg3zWsNY4/8//6L5hEJjv7F1NdhYzAdK+4ILIrQlJHsrLcOi+6UgrR/5eEr73nGp+3mvieZQb/DeY2vyvclNcyPJn+AeNdFKD0ptyWM59n3FH/TFI6B5OUJDLsrHH2dVY6e5W+yB3N+6ktlW13HOxYQHWif8OPk0/VurMBFYSFGjI+DupYljyCaLIHmY34TcBx/gPANm+2yI0q3X7qLdnaNtn9ytP1XMX0w/LfZ1urk4MU1a2zv5c/nK445+r5qvuWjSVP32M8bcGf6jjrs7q8EkIQv6isfJlZPkGAQP5290NCfv/+e1TnnZq1UjfNlVk96P/0U9r2OsIn8F2XP6dnSb9/E/FgKHzoQcQ3v5Nmp/90eTfQJ+L1GPXxyAiBE5Pe9dpbUq7BDCi829JSdV4WzErM4HirAS5hwjLfH/DTJEVX6nZw9qnT0t4ui57W8Hd69Wu435RF9qTNf0a2z2uHLqoyKgEC0ZW55P3htufZoclSHT9fqpNlyI++DNhPzo1RUh0w2LELnuc44F1gJ/UFx0Hd1Q87OPNwfz/MANUfRexKOXM6ND09VFZcUxJ/K2ND0dngFFIi9swz48bzaHCvQ/Nv9w0eN6BFjLg/Xakk8OPS8oGjkwScOwVzBSUG+UFoeilhI+mG7gdJG7pMWwEO1osEJAelybWCvsD0KBQKRkEafQswDo6Jw/hAUOALtMSohTOZh46wUhGts7KFgZEr/nJXWOMLjA7DiDgTcE8B+cQwhaKjHQIOJQjnQZvbB9RYhYpKxBpeGAR92cpmQYRPWNhhjIaA9CmAicZSwYhJABYGpwA9uIiVEoDLalA0TcSySRnAwBYW8Xh9bhVvvBHCDV1QeR1uEcGax5kpCUs8ea5cVmpswpvKI94EIIkQAmq7Xc7y/prWjD5qCCtmhKjjyKR7aHJKoDsC2fEICy9MRoMfTGFwOGKqH+Yw2IwUGznKrabyReSBlieXAWsEJsWNsIFbJmTQyhQGt42YWceZw+A3I8Wl+e2q5bzRsKpWbul+eBWhCssfsF6lxVrUwLgO/Ihh/DF5+GP3sgDelduhUFJotdnlFaHtAZyqVmuZJuUaovxZzZOIcVIh45eqCVsy4+xEIQW5cODHbj5cisrq2PKhaKGwLL9syVfDtSJAspp6vIZ1Yc1J6CggIWsybPEsWvGs4cQqR5vkwOKyxIVL+HLtUroE5MTrgkBRTeXm+rkAPKU/3SpGmGlWk7KQl1hqVgQmjaXICABcopa3mvIlWpd/JuUwBAqDI5CQUVDRQ/+xGuuwsHnw5IUDgfLmg4uHz5eAkB8RMQkpfwECBQkWQiaUXJhwChGUVCJFiYbBxYgVJ16CREkEIolModLoDCaLzeHWgPkCoUgskcrkCqVKrdHq9AajyWyx2uzsHRydnF0AEIIRFMNd3dw9PL28fXz9IFAYHIFEoTFYHJ5AJJEpvQCoNDqDyWJzuLzoni8QisQSqUyuUKrUGq1ObzAmcspssdrsDqfL7fH6+Pr5gxCMoBhOkBTNsBwviJJMrlCq1BqtTm8wmswWq83ucLrcHq/Pj/PnrjxGpRuyLmteJWs+VbVQd68uK/glvMShWCq7KAy/B0h/9yrhktBu7EM0Z6W00esuvH6IbOwSMoFH5zdcOIon3uEaHkcMqohSZUQ5wcOXSnPpflr/xbT79wEMDquSHgEr8E+bIuPcZhFGPNgPn7fNCSkKZBkFKMj697YYPH2lhwonQv91sTYfBeMXtO7f1a/4ve/zZ0gnJpOgJyoufcBr3duTL8NjjXQrmferfGMTpuO+C7G9zQx9nFSs0xezVb5jMEr+y6t7pWCp6xGtzQs67RUgB7g43BDRKNpBB9M1HXmVzksMaLps5t++iLpcRkUJYWjitpJ+YyyCkIuiBr8GOzb5+w+Ygo1yCfIdQJLdVmil4OMTibZa1l36m/leoaLfj5wQ8UhMIaKaSNOeBVmJMxnsUZ2RFVuuBw3ycxiyPbzyQKw3bPicWTpeMtnmOJEvOruMe0aPTAIPmNWABHslY3X0SHABclIA1QxWpBxIMhDZlOmOx1TRAscdPuyn8dnuN59DV0oImNJiBCMnQ9agGO/kb3yeX6nfYrDsl/PZIa9aEFG0wDH2iQCa8xbpUoJoNB83xWoGUz1nswtLhoecNsRcOiM4UawSYPCLTWvklU6gXYm+Ykbhn1GAh+anE0hzAZvXu0znfudIvnQYevYKeO9/oeidOHC5cKzS3lzfGkMwBeBLwRQIseHxx/izGL405PAzACYduH47JjuV3Ep3BkpAlwMwYDEvFWY1zbFHamKa9hGq43WCrXQCuU4xZ5MdYYRNjpUy4PXebFQ7GqaTldU/KhbseC6TMmuBVtLi9Amy+dsUopHrfH9yTc1TOpQcnStbDkAP38xRBPvZkIgPHM6qQ2HiDZMxBofkWXvW4eEHk7v78696W7S2mwXQ8zrTi4+qHfljnhGDaZ2VND3D3SZmzoYqbjxolcYPE2p7qqeF5hI421LIzFCnEtVWORuCAuVQ0QIvfFotxuJsMB5g01VtsxwoaHeMp0CoQP9UpEaalAUZ9Rgk0B3VuPitpc3bnPE6GA867d+CyaXzMaNCMyslAb7a2cQnhOkiydlgHOasyoXN/+6kRz87w8V7AZq2PgmWb287XPO+yCIMaTrdHK8yl/u3Udq1uGdoObPFm7NLOO55fObRzm6EQPZjb3euwbzTMzmNW/DiE88JdvzLHull5+DSW7R8NV55/x+Snm4uvpECpc6fbexjaReNa5kDqgudGpM5PVAA"}},n={};function r(e){var t=n[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var i=n[e]={id:e,exports:{}};try{var o={id:e,module:i,factory:a[e],require:r};r.i.forEach((function(e){e(o)})),i=o.module,o.factory.call(i.exports,i,i.exports,o.require)}catch(e){throw i.error=e,e}return i.exports}return r.m=a,r.c=n,r.i=[],r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.hu=e=>e+"."+r.h()+".hot-update.js",r.hmrF=()=>"option."+r.h()+".hot-update.json",r.h=()=>"10b6dba36d2613d2d764",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="crx-links-collector:",r.l=(a,n,i,o)=>{if(e[a])e[a].push(n);else{var s,l;if(void 0!==i)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=a),e[a]=[n];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var r=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,a,n={},i=r.c,o=[],s=[],l="idle",d=0,c=[];function u(e){l=e;for(var t=[],a=0;a<s.length;a++)t[a]=s[a].call(null,e);return Promise.all(t)}function h(){0==--d&&u("ready").then((function(){if(0===d){var e=c;c=[];for(var t=0;t<e.length;t++)e[t]()}}))}function f(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return u("check").then(r.hmrM).then((function(a){return a?u("prepare").then((function(){var n=[];return t=[],Promise.all(Object.keys(r.hmrC).reduce((function(e,i){return r.hmrC[i](a.c,a.r,a.m,e,t,n),e}),[])).then((function(){return t=function(){return e?v(e):u("ready").then((function(){return n}))},0===d?t():new Promise((function(e){c.push((function(){e(t())}))}));var t}))})):u(m()?"ready":"idle").then((function(){return null}))}))}function p(e){return"ready"!==l?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+l+")")})):v(e)}function v(e){e=e||{},m();var n=t.map((function(t){return t(e)}));t=void 0;var r=n.map((function(e){return e.error})).filter(Boolean);if(r.length>0)return u("abort").then((function(){throw r[0]}));var i=u("dispose");n.forEach((function(e){e.dispose&&e.dispose()}));var o,s=u("apply"),l=function(e){o||(o=e)},d=[];return n.forEach((function(e){if(e.apply){var t=e.apply(l);if(t)for(var a=0;a<t.length;a++)d.push(t[a])}})),Promise.all([i,s]).then((function(){return o?u("fail").then((function(){throw o})):a?v(e).then((function(e){return d.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):u("idle").then((function(){return d}))}))}function m(){if(a)return t||(t=[]),Object.keys(r.hmrI).forEach((function(e){a.forEach((function(a){r.hmrI[e](a,t)}))})),a=void 0,!0}r.hmrD=n,r.i.push((function(c){var v,m,g,y,b=c.module,_=function(t,a){var n=i[a];if(!n)return t;var r=function(r){if(n.hot.active){if(i[r]){var s=i[r].parents;-1===s.indexOf(a)&&s.push(a)}else o=[a],e=r;-1===n.children.indexOf(r)&&n.children.push(r)}else console.warn("[HMR] unexpected require("+r+") from disposed module "+a),o=[];return t(r)},s=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(a){t[e]=a}}};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&"e"!==c&&Object.defineProperty(r,c,s(c));return r.e=function(e){return function(e){switch(l){case"ready":u("prepare");case"prepare":return d++,e.then(h,h),e;default:return e}}(t.e(e))},r}(c.require,c.id);b.hot=(v=c.id,m=b,y={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:g=e!==v,_requireSelf:function(){o=m.parents.slice(),e=g?void 0:v,r(v)},active:!0,accept:function(e,t,a){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)y._acceptedDependencies[e[n]]=t||function(){},y._acceptedErrorHandlers[e[n]]=a;else y._acceptedDependencies[e]=t||function(){},y._acceptedErrorHandlers[e]=a},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)y._declinedDependencies[e[t]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=y._disposeHandlers.indexOf(e);t>=0&&y._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":t=[],Object.keys(r.hmrI).forEach((function(e){r.hmrI[e](v,t)})),u("ready");break;case"ready":Object.keys(r.hmrI).forEach((function(e){r.hmrI[e](v,t)}));break;case"prepare":case"check":case"dispose":case"apply":(a=a||[]).push(v)}},check:f,apply:p,status:function(e){if(!e)return l;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1)},data:n[v]},e=void 0,y),b.parents=o,b.children=[],o=[],c.require=_})),r.hmrC={},r.hmrI={}})(),r.p="./",(()=>{r.b=document.baseURI||self.location.href;var e,t,a,n,i,o=r.hmrS_jsonp=r.hmrS_jsonp||{728:0},s={};function l(t,a){return e=a,new Promise(((e,a)=>{s[t]=e;var n=r.p+r.hu(t),i=new Error;r.l(n,(e=>{if(s[t]){s[t]=void 0;var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;i.message="Loading hot update chunk "+t+" failed.\n("+n+": "+r+")",i.name="ChunkLoadError",i.type=n,i.request=r,a(i)}}))}))}function d(e){function s(e){for(var t=[e],a={},n=t.map((function(e){return{chain:[e],id:e}}));n.length>0;){var i=n.pop(),o=i.id,s=i.chain,d=r.c[o];if(d&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(d.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var c=0;c<d.parents.length;c++){var u=d.parents[c],h=r.c[u];if(h){if(h.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([u]),moduleId:o,parentId:u};-1===t.indexOf(u)&&(h.hot._acceptedDependencies[o]?(a[u]||(a[u]=[]),l(a[u],[o])):(delete a[u],t.push(u),n.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:a}}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];-1===e.indexOf(n)&&e.push(n)}}r.f&&delete r.f.jsonpHmr,t=void 0;var d={},c=[],u={},h=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var f in a)if(r.o(a,f)){var p,v=a[f],m=!1,g=!1,y=!1,b="";switch((p=v?s(f):{type:"disposed",moduleId:f}).chain&&(b="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":e.onDeclined&&e.onDeclined(p),e.ignoreDeclined||(m=new Error("Aborted because of self decline: "+p.moduleId+b));break;case"declined":e.onDeclined&&e.onDeclined(p),e.ignoreDeclined||(m=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+b));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(p),e.ignoreUnaccepted||(m=new Error("Aborted because "+f+" is not accepted"+b));break;case"accepted":e.onAccepted&&e.onAccepted(p),g=!0;break;case"disposed":e.onDisposed&&e.onDisposed(p),y=!0;break;default:throw new Error("Unexception type "+p.type)}if(m)return{error:m};if(g)for(f in u[f]=v,l(c,p.outdatedModules),p.outdatedDependencies)r.o(p.outdatedDependencies,f)&&(d[f]||(d[f]=[]),l(d[f],p.outdatedDependencies[f]));y&&(l(c,[p.moduleId]),u[f]=h)}a=void 0;for(var _,E=[],T=0;T<c.length;T++){var w=c[T],S=r.c[w];S&&(S.hot._selfAccepted||S.hot._main)&&u[w]!==h&&!S.hot._selfInvalidated&&E.push({module:w,require:S.hot._requireSelf,errorHandler:S.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete o[e]})),n=void 0;for(var t,a=c.slice();a.length>0;){var i=a.pop(),s=r.c[i];if(s){var l={},u=s.hot._disposeHandlers;for(T=0;T<u.length;T++)u[T].call(null,l);for(r.hmrD[i]=l,s.hot.active=!1,delete r.c[i],delete d[i],T=0;T<s.children.length;T++){var h=r.c[s.children[T]];h&&((e=h.parents.indexOf(i))>=0&&h.parents.splice(e,1))}}}for(var f in d)if(r.o(d,f)&&(s=r.c[f]))for(_=d[f],T=0;T<_.length;T++)t=_[T],(e=s.children.indexOf(t))>=0&&s.children.splice(e,1)},apply:function(t){for(var a in u)r.o(u,a)&&(r.m[a]=u[a]);for(var n=0;n<i.length;n++)i[n](r);for(var o in d)if(r.o(d,o)){var s=r.c[o];if(s){_=d[o];for(var l=[],h=[],f=[],p=0;p<_.length;p++){var v=_[p],m=s.hot._acceptedDependencies[v],g=s.hot._acceptedErrorHandlers[v];if(m){if(-1!==l.indexOf(m))continue;l.push(m),h.push(g),f.push(v)}}for(var y=0;y<l.length;y++)try{l[y].call(null,_)}catch(a){if("function"==typeof h[y])try{h[y](a,{moduleId:o,dependencyId:f[y]})}catch(n){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:f[y],error:n,originalError:a}),e.ignoreErrored||(t(n),t(a))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:o,dependencyId:f[y],error:a}),e.ignoreErrored||t(a)}}}for(var b=0;b<E.length;b++){var T=E[b],w=T.module;try{T.require(w)}catch(a){if("function"==typeof T.errorHandler)try{T.errorHandler(a,{moduleId:w,module:r.c[w]})}catch(n){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:w,error:n,originalError:a}),e.ignoreErrored||(t(n),t(a))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:w,error:a}),e.ignoreErrored||t(a)}}return c}}}self.webpackHotUpdatecrx_links_collector=(t,n,o)=>{for(var l in n)r.o(n,l)&&(a[l]=n[l],e&&e.push(l));o&&i.push(o),s[t]&&(s[t](),s[t]=void 0)},r.hmrI.jsonp=function(e,t){a||(a={},i=[],n=[],t.push(d)),r.o(a,e)||(a[e]=r.m[e])},r.hmrC.jsonp=function(e,s,c,u,h,f){h.push(d),t={},n=s,a=c.reduce((function(e,t){return e[t]=!1,e}),{}),i=[],e.forEach((function(e){r.o(o,e)&&void 0!==o[e]?(u.push(l(e,f)),t[e]=!0):t[e]=!1})),r.f&&(r.f.jsonpHmr=function(e,a){t&&r.o(t,e)&&!t[e]&&(a.push(l(e)),t[e]=!0)})},r.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(r.p+r.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),r.nc=void 0,r(2267)})()));