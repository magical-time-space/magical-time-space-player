!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var n in a)("object"==typeof exports?exports:e)[n]=a[n]}}(self,(()=>(()=>{var e,t,a={7745:(e,t,a)=>{!function(e){("undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:this).muxjs=function(){function e(t,a,n){function i(o,s){if(!a[o]){if(!t[o]){if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=a[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,a,n)}return a[o].exports}for(var r=void 0,o=0;o<n.length;o++)i(n[o]);return i}return e}()({1:[function(e,t,a){"use strict";var n,i=e(31),r=e(2);(n=function(){var e=new Uint8Array,t=0;n.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(a){var n,i,o,s,l=0,c=0;for(e.length?(s=e.length,(e=new Uint8Array(a.byteLength+s)).set(e.subarray(0,s)),e.set(a,s)):e=a;e.length-c>=3;)if(e[c]!=="I".charCodeAt(0)||e[c+1]!=="D".charCodeAt(0)||e[c+2]!=="3".charCodeAt(0))if(255!=(255&e[c])||240!=(240&e[c+1]))c++;else{if(e.length-c<7)break;if(c+(l=r.parseAdtsSize(e,c))>e.length)break;o={type:"audio",data:e.subarray(c,c+l),pts:t,dts:t},this.trigger("data",o),c+=l}else{if(e.length-c<10)break;if(c+(l=r.parseId3TagSize(e,c))>e.length)break;i={type:"timed-metadata",data:e.subarray(c,c+l)},this.trigger("data",i),c+=l}n=e.length-c,e=n>0?e.subarray(c):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new i,t.exports=n},{2:2,31:31}],2:[function(e,t,a){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e,t){var a=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return a=a>=0?a:0,(16&e[t+5])>>4?a+20:a+10},r=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=i(e,t),r(e,t))},o=function(e){var t=r(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},s=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},l=function(e,t,a){var n,i="";for(n=t;n<a;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},c=function(e,t,a){return unescape(l(e,t,a))},d=function(e,t){var a=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|a},u=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},h=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},f=function(e){var t,a,n;t=10,64&e[5]&&(t+=4,t+=s(e.subarray(10,14)));do{if((a=s(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+a+10);for(var i=0;i<n.byteLength;i++)if(0===n[i]){if("com.apple.streaming.transportStreamTimestamp"===c(n,0,i)){var r=n.subarray(i+1),o=(1&r[3])<<30|r[4]<<22|r[5]<<14|r[6]<<6|r[7]>>>2;return o*=4,o+=3&r[7]}break}}t+=10,t+=a}while(t<e.byteLength);return null};t.exports={isLikelyAacData:o,parseId3TagSize:i,parseAdtsSize:d,parseType:u,parseSampleRate:h,parseAacTimestamp:f}},{}],3:[function(e,t,a){"use strict";var n,i=e(31),r=e(29).ONE_SECOND_IN_TS,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(e){var t,a=0;n.prototype.init.call(this),this.push=function(n){var i,s,l,c,d,u,h=0;if(e||(a=0),"audio"===n.type)for(t?(c=t,(t=new Uint8Array(c.byteLength+n.data.byteLength)).set(c),t.set(n.data,c.byteLength)):t=n.data;h+5<t.length;)if(255===t[h]&&240==(246&t[h+1])){if(s=2*(1&~t[h+1]),i=(3&t[h+3])<<11|t[h+4]<<3|(224&t[h+5])>>5,u=(d=1024*(1+(3&t[h+6])))*r/o[(60&t[h+2])>>>2],l=h+i,t.byteLength<l)return;if(this.trigger("data",{pts:n.pts+a*u,dts:n.dts+a*u,sampleCount:d,audioobjecttype:1+(t[h+2]>>>6&3),channelcount:(1&t[h+2])<<2|(192&t[h+3])>>>6,samplerate:o[(60&t[h+2])>>>2],samplingfrequencyindex:(60&t[h+2])>>>2,samplesize:16,data:t.subarray(h+7+s,l)}),a++,t.byteLength===l)return void(t=void 0);t=t.subarray(l)}else h++},this.flush=function(){a=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new i,t.exports=n},{29:29,31:31}],4:[function(e,t,a){"use strict";var n,i,r,o=e(31),s=e(30);(i=function(){var e,t,a=0;i.prototype.init.call(this),this.push=function(n){var i;t?((i=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),i.set(n.data,t.byteLength),t=i):t=n.data;for(var r=t.byteLength;a<r-3;a++)if(1===t[a+2]){e=a+5;break}for(;e<r;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}a+3!==e-2&&this.trigger("data",t.subarray(a+3,e-2));do{e++}while(1!==t[e]&&e<r);a=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(a+3,e-2)),a=e-2,e+=3;break;default:e+=3}t=t.subarray(a),e-=a,a=0},this.reset=function(){t=null,a=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(a+3)),t=null,a=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new o,r={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(n=function(){var e,t,a,o,l,c,d,u=new i;n.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,a=e.pts,o=e.dts,u.push(e))},u.on("data",(function(n){var i={trackId:t,pts:a,dts:o,data:n};switch(31&n[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=l(n.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=l(n.subarray(1)),i.config=c(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",i)})),u.on("done",(function(){e.trigger("done")})),u.on("partialdone",(function(){e.trigger("partialdone")})),u.on("reset",(function(){e.trigger("reset")})),u.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){u.flush()},this.partialFlush=function(){u.partialFlush()},this.reset=function(){u.reset()},this.endTimeline=function(){u.endTimeline()},d=function(e,t){var a,n=8,i=8;for(a=0;a<e;a++)0!==i&&(i=(n+t.readExpGolomb()+256)%256),n=0===i?n:i},l=function(e){for(var t,a,n=e.byteLength,i=[],r=1;r<n-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(i.push(r+2),r+=2):r++;if(0===i.length)return e;t=n-i.length,a=new Uint8Array(t);var o=0;for(r=0;r<t;o++,r++)o===i[0]&&(o++,i.shift()),a[r]=e[o];return a},c=function(e){var t,a,n,i,o,l,c,u,h,f,p,v,m,g=0,y=0,b=0,_=0,x=1;if(a=(t=new s(e)).readUnsignedByte(),i=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),r[a]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==o?8:12,m=0;m<p;m++)t.readBoolean()&&d(m<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(l=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),c=t.readUnsignedExpGolomb(),m=0;m<c;m++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),h=t.readUnsignedExpGolomb(),0===(f=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:v=[1,1];break;case 2:v=[12,11];break;case 3:v=[10,11];break;case 4:v=[16,11];break;case 5:v=[40,33];break;case 6:v=[24,11];break;case 7:v=[20,11];break;case 8:v=[32,11];break;case 9:v=[80,33];break;case 10:v=[18,11];break;case 11:v=[15,11];break;case 12:v=[64,33];break;case 13:v=[160,99];break;case 14:v=[4,3];break;case 15:v=[3,2];break;case 16:v=[2,1];break;case 255:v=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}v&&(x=v[0]/v[1])}return{profileIdc:a,levelIdc:n,profileCompatibility:i,width:Math.ceil((16*(u+1)-2*g-2*y)*x),height:(2-f)*(h+1)*16-2*b-2*_,sarRatio:v}}}).prototype=new o,t.exports={H264Stream:n,NalByteStream:i}},{30:30,31:31}],5:[function(e,t,a){var n=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];t.exports=n},{}],6:[function(e,t,a){var n=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];t.exports=n},{}],7:[function(e,t,a){var n,i=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],o=function(e){for(var t=[];e--;)t.push(0);return t},s=function(e){return Object.keys(e).reduce((function(t,a){return t[a]=new Uint8Array(e[a].reduce((function(e,t){return e.concat(t)}),[])),t}),{})};t.exports=function(){if(!n){var e={96e3:[i,[227,64],o(154),[56]],88200:[i,[231],o(170),[56]],64e3:[i,[248,192],o(240),[56]],48e3:[i,[255,192],o(268),[55,148,128],o(54),[112]],44100:[i,[255,192],o(268),[55,163,128],o(84),[112]],32e3:[i,[255,192],o(268),[55,234],o(226),[112]],24e3:[i,[255,192],o(268),[55,255,128],o(268),[111,112],o(126),[224]],16e3:[i,[255,192],o(268),[55,255,128],o(268),[111,255],o(269),[223,108],o(195),[1,192]],12e3:[r,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,253,128],o(259),[56]],11025:[r,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,255,192],o(268),[55,175,128],o(108),[112]],8e3:[r,o(268),[3,121,16],o(47),[7]]};n=s(e)}return n}},{}],8:[function(e,t,a){"use strict";var n=e(31),i=e(23),r=function(){r.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new u(0,0),new u(0,1),new u(1,0),new u(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this)};r.prototype=new n,r.prototype.push=function(e){var t,a,n;if("sei_rbsp"===e.nalUnitType&&(t=i.parseSei(e.escapedRBSP)).payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(a=i.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=i.parseCaptionPackets(e.pts,a),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},r.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},r.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},r.prototype.flush=function(){return this.flushStream("flush")},r.prototype.partialFlush=function(){return this.flushStream("partialFlush")},r.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},r.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},r.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},r.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},r.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=o[e]||e,String.fromCharCode(e))},l=14,c=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],d=function(){for(var e=[],t=l+1;t--;)e.push("");return e},u=function(e,t){u.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,a,n,i,r;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),a=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=a,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=d();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=d();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=d()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,i))r=s((n=(3&n)<<8)|i),this[this.mode_](e.pts,r),this.column_++;else if(this.isExtCharacter(n,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=s((n=(3&n)<<8)|i),this[this.mode_](e.pts,r),this.column_++;else if(this.isMidRowCode(n,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,i))this.column_+=3&i;else if(this.isPAC(n,i)){var o=c.indexOf(7968&t);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===i&&(i=null),r=s(n),r+=s(i),this[this.mode_](e.pts,r),this.column_+=r.length)}else this.lastControlCode_=null}};u.prototype=new n,u.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},u.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=d(),this.nonDisplayed_=d(),this.lastControlCode_=null,this.column_=0,this.row_=l,this.rollUpRows_=2,this.formatting_=[]},u.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},u.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},u.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},u.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},u.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},u.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},u.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},u.prototype.isNormalChar=function(e){return e>=32&&e<=127},u.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=l,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=d(),this.displayed_=d()),void 0!==t&&t!==this.row_)for(var a=0;a<this.rollUpRows_;a++)this.displayed_[t-a]=this.displayed_[this.row_-a],this.displayed_[this.row_-a]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},u.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var a=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,a)},u.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},u.prototype.popOn=function(e,t){var a=this.nonDisplayed_[this.row_];a+=t,this.nonDisplayed_[this.row_]=a},u.prototype.rollUp=function(e,t){var a=this.displayed_[this.row_];a+=t,this.displayed_[this.row_]=a},u.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<l+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},u.prototype.paintOn=function(e,t){var a=this.displayed_[this.row_];a+=t,this.displayed_[this.row_]=a},t.exports={CaptionStream:r,Cea608Stream:u}},{23:23,31:31}],9:[function(e,t,a){"use strict";var n,i,r,o=e(31),s=e(8),l=e(11),c=e(12).TimestampRolloverStream,d=188,u=71;(n=function(){var e=new Uint8Array(d),t=0;n.prototype.init.call(this),this.push=function(a){var n,i=0,r=d;for(t?((n=new Uint8Array(a.byteLength+t)).set(e.subarray(0,t)),n.set(a,t),t=0):n=a;r<n.byteLength;)n[i]!==u||n[r]!==u?(i++,r++):(this.trigger("data",n.subarray(i,r)),i+=d,r+=d);i<n.byteLength&&(e.set(n.subarray(i),0),t=n.byteLength-i)},this.flush=function(){t===d&&e[0]===u&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new o,(i=function(){var e,t,a,n;i.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var i=0;n.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===n.type?t(e.subarray(i),n):a(e.subarray(i),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},a=function(e,t){var a,i;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},a=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<a;){var r=e[i],o=(31&e[i+1])<<8|e[i+2];r===l.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=o:r===l.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=o:r===l.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][o]=r),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var a={},n=4;if(a.payloadUnitStartIndicator=!!(64&t[1]),a.pid=31&t[1],a.pid<<=8,a.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===a.pid)a.type="pat",e(t.subarray(n),a),this.trigger("data",a);else if(a.pid===this.pmtPid)for(a.type="pmt",e(t.subarray(n),a),this.trigger("data",a);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,a]):this.processPes_(t,n,a)},this.processPes_=function(e,t,a){a.pid===this.programMapTable.video?a.streamType=l.H264_STREAM_TYPE:a.pid===this.programMapTable.audio?a.streamType=l.ADTS_STREAM_TYPE:a.streamType=this.programMapTable["timed-metadata"][a.pid],a.type="pes",a.data=e.subarray(t),this.trigger("data",a)}}).prototype=new o,i.STREAM_TYPES={h264:27,adts:15},r=function(){var e,t=this,a={data:[],size:0},n={data:[],size:0},i={data:[],size:0},o=function(e,t){var a;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(a=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&a&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},s=function(e,a,n){var i,r=new Uint8Array(e.size),s={type:a},l=0,c=0,d=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)i=e.data[l],r.set(i.data,c),c+=i.data.byteLength;o(r,s),d="video"===a||s.packetLength<=e.size,(n||d)&&(e.size=0,e.data.length=0),d&&t.trigger("data",s)}};r.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var e,t;switch(r.streamType){case l.H264_STREAM_TYPE:e=a,t="video";break;case l.ADTS_STREAM_TYPE:e=n,t="audio";break;case l.METADATA_STREAM_TYPE:e=i,t="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(r),e.size+=r.data.byteLength},pmt:function(){var a={type:"metadata",tracks:[]};null!==(e=r.programMapTable).video&&a.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&a.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",a)}})[r.type]()},this.reset=function(){a.size=0,a.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(a,"video"),s(n,"audio"),s(i,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},r.prototype=new o;var h={PAT_PID:0,MP2T_PACKET_LENGTH:d,TransportPacketStream:n,TransportParseStream:i,ElementaryStream:r,TimestampRolloverStream:c,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:e(10)};for(var f in l)l.hasOwnProperty(f)&&(h[f]=l[f]);t.exports=h},{10:10,11:11,12:12,31:31,8:8}],10:[function(e,t,a){"use strict";var n,i=e(31),r=e(11),o=function(e,t,a){var n,i="";for(n=t;n<a;n++)i+="%"+("00"+e[n].toString(16)).slice(-2);return i},s=function(e,t,a){return decodeURIComponent(o(e,t,a))},l=function(e,t,a){return unescape(o(e,t,a))},c=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},d={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=l(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(n=function(e){var t,a={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,o=[],s=0;if(n.prototype.init.call(this),this.dispatchType=r.METADATA_STREAM_TYPE.toString(16),a.descriptor)for(t=0;t<a.descriptor.length;t++)this.dispatchType+=("00"+a.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,r,l,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))a.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(e),s+=e.data.byteLength,1===o.length&&(i=c(e.data.subarray(6,10)),i+=10),!(s<i)){for(t={data:new Uint8Array(i),frames:[],pts:o[0].pts,dts:o[0].dts},u=0;u<i;)t.data.set(o[0].data.subarray(0,i-u),u),u+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();n=10,64&t.data[5]&&(n+=4,n+=c(t.data.subarray(10,14)),i-=c(t.data.subarray(16,20)));do{if((r=c(t.data.subarray(n+4,n+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+r+10)}).key=l.id,d[l.id]&&(d[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var h=l.data,f=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;f*=4,f+=3&h[7],l.timeStamp=f,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),n+=10,n+=r}while(n<i);this.trigger("data",t)}}}).prototype=new i,t.exports=n},{11:11,31:31}],11:[function(e,t,a){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],12:[function(e,t,a){"use strict";var n=e(31),i=8589934592,r=4294967296,o="shared",s=function(e,t){var a=1;for(e>t&&(a=-1);Math.abs(t-e)>r;)e+=a*i;return e},l=function(e){var t,a;l.prototype.init.call(this),this.type_=e||o,this.push=function(e){this.type_!==o&&e.type!==this.type_||(void 0===a&&(a=e.dts),e.dts=s(e.dts,a),e.pts=s(e.pts,a),t=e.dts,this.trigger("data",e))},this.flush=function(){a=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){a=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};l.prototype=new n,t.exports={TimestampRolloverStream:l,handleRollover:s}},{31:31}],13:[function(e,t,a){var n=e(7),i=e(29),r=function(e){var t,a=0;for(t=0;t<e.length;t++)a+=e[t].data.byteLength;return a},o=function(e,t,a,r){var o,s,l,c,d=0,u=0,h=0,f=0;if(t.length&&(o=i.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),d=Math.ceil(i.ONE_SECOND_IN_TS/(e.samplerate/1024)),a&&r&&(u=o-Math.max(a,r),f=(h=Math.floor(u/d))*d),!(h<1||f>i.ONE_SECOND_IN_TS/2))){for((s=n()[e.samplerate])||(s=t[0].data),l=0;l<h;l++)c=t[0],t.splice(0,0,{data:s,dts:c.dts-d,pts:c.pts-d});e.baseMediaDecodeTime-=Math.floor(i.videoTsToAudioTs(f,e.samplerate))}},s=function(e,t,a){return t.minSegmentDts>=a?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=a&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},l=function(e){var t,a,n=[];for(t=0;t<e.length;t++)a=e[t],n.push({size:a.data.byteLength,duration:1024});return n},c=function(e){var t,a,n=0,i=new Uint8Array(r(e));for(t=0;t<e.length;t++)a=e[t],i.set(a.data,n),n+=a.data.byteLength;return i};t.exports={prefixWithSilence:o,trimAdtsFramesByEarliestDts:s,generateSampleTable:l,concatenateFrameData:c}},{29:29,7:7}],14:[function(e,t,a){"use strict";var n=e(23).discardEmulationPreventionBytes,i=e(8).CaptionStream,r=e(15),o=e(25),s=e(27),l=e(26),c=function(e,t){for(var a=e,n=0;n<t.length;n++){var i=t[n];if(a<i.size)return i;a-=i.size}return null},d=function(e,t,a){var i,r,o,s,l=new DataView(e.buffer,e.byteOffset,e.byteLength),d=[];for(r=0;r+4<e.length;r+=o)if(o=l.getUint32(r),r+=4,!(o<=0))switch(31&e[r]){case 6:var u=e.subarray(r+1,r+1+o),h=c(r,t);if(i={nalUnitType:"sei_rbsp",size:o,data:u,escapedRBSP:n(u),trackId:a},h)i.pts=h.pts,i.dts=h.dts,s=h;else{if(!s){console.log("We've encountered a nal unit without data. See mux.js#233.");break}i.pts=s.pts,i.dts=s.dts}d.push(i)}return d},u=function(e,t,a){var n=t,i=a.defaultSampleDuration||0,r=a.defaultSampleSize||0,o=a.trackId,l=[];return e.forEach((function(e){var t=s(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=r),e.trackId=o,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=n+e.compositionTimeOffset,n+=e.duration})),l=l.concat(t)})),l},h=function(e,t){var a=r(e,["moof","traf"]),n=r(e,["mdat"]),i={},s=[];return n.forEach((function(e,t){var n=a[t];s.push({mdat:e,traf:n})})),s.forEach((function(e){var a,n,s=e.mdat,c=e.traf,h=r(c,["tfhd"]),f=l(h[0]),p=f.trackId,v=r(c,["tfdt"]),m=v.length>0?o(v[0]).baseMediaDecodeTime:0,g=r(c,["trun"]);t===p&&g.length>0&&(a=u(g,m,f),n=d(s,a,p),i[p]||(i[p]=[]),i[p]=i[p].concat(n))})),i},f=function(e,t,a){return null===t?null:{seiNals:h(e,t)[t],timescale:a}},p=function(){var e,t,a,n,r,o,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new i,s=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,r.captions.push(e),r.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||a===e[0]&&n===t[a])},this.parse=function(e,i,o){var s;if(!this.isInitialized())return null;if(!i||!o)return null;if(this.isNewInit(i,o))a=i[0],n=o[a];else if(null===a||!n)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,i,o)}return null!==(s=f(e,a,n))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],a=null,n=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};t.exports=p},{15:15,23:23,25:25,26:26,27:27,8:8}],15:[function(e,t,a){var n=e(28).toUnsigned,i=e(19),r=function(e,t){var a,o,s,l,c,d=[];if(!t.length)return null;for(a=0;a<e.byteLength;)o=n(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]),s=i(e.subarray(a+4,a+8)),l=o>1?a+o:e.byteLength,s===t[0]&&(1===t.length?d.push(e.subarray(a+8,l)):(c=r(e.subarray(a+8,l),t.slice(1))).length&&(d=d.concat(c))),a=l;return d};t.exports=r},{19:19,28:28}],16:[function(e,t,a){var n=function(e){var t,a,n=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(a=e[t]).nalUnitType?(n.length&&(n.duration=a.dts-n.dts,i.byteLength+=n.byteLength,i.nalCount+=n.length,i.duration+=n.duration,i.push(n)),(n=[a]).byteLength=a.data.byteLength,n.pts=a.pts,n.dts=a.dts):("slice_layer_without_partitioning_rbsp_idr"===a.nalUnitType&&(n.keyFrame=!0),n.duration=a.dts-n.dts,n.byteLength+=a.data.byteLength,n.push(a));return i.length&&(!n.duration||n.duration<=0)&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.length,i.duration+=n.duration,i.push(n),i},i=function(e){var t,a,n=[],i=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(a=e[t]).keyFrame?(n.length&&(i.push(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration),(n=[a]).nalCount=a.length,n.byteLength=a.byteLength,n.pts=a.pts,n.dts=a.dts,n.duration=a.duration):(n.duration+=a.duration,n.nalCount+=a.length,n.byteLength+=a.byteLength,n.push(a));return i.length&&n.duration<=0&&(n.duration=i[i.length-1].duration),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.duration+=n.duration,i.push(n),i},r=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},o=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},s=function(e,t){var a=o();return a.dataOffset=t,a.compositionTimeOffset=e.pts-e.dts,a.duration=e.duration,a.size=4*e.length,a.size+=e.byteLength,e.keyFrame&&(a.flags.dependsOn=2,a.flags.isNonSyncSample=0),a},l=function(e,t){var a,n,i,r,o,l=t||0,c=[];for(a=0;a<e.length;a++)for(r=e[a],n=0;n<r.length;n++)o=r[n],l+=(i=s(o,l)).size,c.push(i);return c},c=function(e){var t,a,n,i,r,o,s=0,l=e.byteLength,c=e.nalCount,d=new Uint8Array(l+4*c),u=new DataView(d.buffer);for(t=0;t<e.length;t++)for(i=e[t],a=0;a<i.length;a++)for(r=i[a],n=0;n<r.length;n++)o=r[n],u.setUint32(s,o.data.byteLength),s+=4,d.set(o.data,s),s+=o.data.byteLength;return d},d=function(e,t){var a,n=[];return a=s(e,t||0),n.push(a),n},u=function(e){var t,a,n=0,i=e.byteLength,r=e.length,o=new Uint8Array(i+4*r),s=new DataView(o.buffer);for(t=0;t<e.length;t++)a=e[t],s.setUint32(n,a.data.byteLength),n+=4,o.set(a.data,n),n+=a.data.byteLength;return o};t.exports={groupNalsIntoFrames:n,groupFramesIntoGops:i,extendFirstKeyFrame:r,generateSampleTable:l,concatenateNalData:c,generateSampleTableForFrame:d,concatenateNalDataForFrame:u}},{}],17:[function(e,t,a){t.exports={generator:e(18),probe:e(20),Transmuxer:e(22).Transmuxer,AudioSegmentStream:e(22).AudioSegmentStream,VideoSegmentStream:e(22).VideoSegmentStream,CaptionParser:e(14)}},{14:14,18:18,20:20,22:22}],18:[function(e,t,a){"use strict";var n,i,r,o,s,l,c,d,u,h,f,p,v,m,g,y,b,_,x,E,w,T,S,k,L,A,D,I,C,R,P,O,M,N,B,F,U,j,z,V,G,H=Math.pow(2,32)-1,q=4294967295;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),L=new Uint8Array([0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),C={video:D,audio:I},O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),M=new Uint8Array([0,0,0,0,0,0,0,0]),N=M,B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),F=M,R=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(e){var t,a,n=[],i=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)i+=n[t].byteLength;for(a=new Uint8Array(i+8),new DataView(a.buffer,a.byteOffset,a.byteLength).setUint32(0,a.byteLength),a.set(e,4),t=0,i=8;t<n.length;t++)a.set(n[t],i),i+=n[t].byteLength;return a},i=function(){return n(S.dinf,n(S.dref,O))},r=function(e){return n(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return n(S.ftyp,k,L,k,A)},y=function(e){return n(S.hdlr,C[e])},s=function(e){return n(S.mdat,e)},g=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate,e.duration=e.duration/9e4*e.samplerate,t[16]=e.duration>>>24&255,t[17]=e.duration>>>16&255,t[18]=e.duration>>>8&255,t[19]=255&e.duration),n(S.mdhd,t)},m=function(e){return n(S.mdia,g(e),y(e.type),c(e))},l=function(e){return n(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},c=function(e){return n(S.minf,"video"===e.type?n(S.vmhd,R):n(S.smhd,P),i(),_(e))},d=function(e,t){for(var a=[],i=t.length;i--;)a[i]=E(t[i]);return n.apply(null,[S.moof,l(e)].concat(a))},u=function(e){for(var t=e.length,a=[];t--;)a[t]=p(e[t]);return n.apply(null,[S.moov,f(q)].concat(a).concat(h(e)))},h=function(e){for(var t=e.length,a=[];t--;)a[t]=w(e[t]);return n.apply(null,[S.mvex].concat(a))},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(S.mvhd,t)},b=function(e){var t,a,i=e.samples||[],r=new Uint8Array(4+i.length);for(a=0;a<i.length;a++)t=i[a].flags,r[a+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return n(S.sdtp,r)},_=function(e){return n(S.stbl,x(e),n(S.stts,F),n(S.stsc,N),n(S.stsz,B),n(S.stco,M))},x=function(e){return n(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?U(e):j(e))},U=function(e){var t,a,i=e.sps||[],r=e.pps||[],o=[],s=[];for(t=0;t<i.length;t++)o.push((65280&i[t].byteLength)>>>8),o.push(255&i[t].byteLength),o=o.concat(Array.prototype.slice.call(i[t]));for(t=0;t<r.length;t++)s.push((65280&r[t].byteLength)>>>8),s.push(255&r[t].byteLength),s=s.concat(Array.prototype.slice.call(r[t]));if(a=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],o,[r.length],s))),n(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];a.push(n(S.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return n.apply(null,a)},j=function(e){return n(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},v=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return n(S.tkhd,t)},E=function(e){var t,a,i,r,o,s,l;return t=n(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(H+1)),l=Math.floor(e.baseMediaDecodeTime%(H+1)),a=n(S.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),o=92,"audio"===e.type?(i=T(e,o),n(S.traf,t,a,i)):(r=b(e),i=T(e,r.length+o),n(S.traf,t,a,i,r))},p=function(e){return e.duration=e.duration||q,n(S.trak,v(e),m(e))},w=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),n(S.trex,t)},G=function(e,t){var a=0,n=0,i=0,r=0;return e.length&&(void 0!==e[0].duration&&(a=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(r=8)),[0,0,a|n|i|r,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},V=function(e,t){var a,i,r,o,s,l;for(t+=20+16*(o=e.samples||[]).length,r=G(o,t),(i=new Uint8Array(r.length+16*o.length)).set(r),a=r.length,l=0;l<o.length;l++)s=o[l],i[a++]=(4278190080&s.duration)>>>24,i[a++]=(16711680&s.duration)>>>16,i[a++]=(65280&s.duration)>>>8,i[a++]=255&s.duration,i[a++]=(4278190080&s.size)>>>24,i[a++]=(16711680&s.size)>>>16,i[a++]=(65280&s.size)>>>8,i[a++]=255&s.size,i[a++]=s.flags.isLeading<<2|s.flags.dependsOn,i[a++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,i[a++]=61440&s.flags.degradationPriority,i[a++]=15&s.flags.degradationPriority,i[a++]=(4278190080&s.compositionTimeOffset)>>>24,i[a++]=(16711680&s.compositionTimeOffset)>>>16,i[a++]=(65280&s.compositionTimeOffset)>>>8,i[a++]=255&s.compositionTimeOffset;return n(S.trun,i)},z=function(e,t){var a,i,r,o,s,l;for(t+=20+8*(o=e.samples||[]).length,r=G(o,t),(a=new Uint8Array(r.length+8*o.length)).set(r),i=r.length,l=0;l<o.length;l++)s=o[l],a[i++]=(4278190080&s.duration)>>>24,a[i++]=(16711680&s.duration)>>>16,a[i++]=(65280&s.duration)>>>8,a[i++]=255&s.duration,a[i++]=(4278190080&s.size)>>>24,a[i++]=(16711680&s.size)>>>16,a[i++]=(65280&s.size)>>>8,a[i++]=255&s.size;return n(S.trun,a)},T=function(e,t){return"audio"===e.type?z(e,t):V(e,t)},t.exports={ftyp:o,mdat:s,moof:d,moov:u,setDuration:function(e){e&&(q=9e4*e)},initSegment:function(e){var t,a=o(),n=u(e);return(t=new Uint8Array(a.byteLength+n.byteLength)).set(a),t.set(n,a.byteLength),t}}},{}],19:[function(e,t,a){var n=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])};t.exports=n},{}],20:[function(e,t,a){"use strict";var n,i,r,o,s,l,c=e(28).toUnsigned,d=e(28).toHexString,u=e(15),h=e(19),f=e(26),p=e(27),v=e(25);n=function(e){var t={};return u(e,["moov","trak"]).reduce((function(e,t){var a,n,i,r,o;return(a=u(t,["tkhd"])[0])?(n=a[0],r=c(a[i=0===n?12:20]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3]),(o=u(t,["mdia","mdhd"])[0])?(i=0===(n=o[0])?12:20,e[r]=c(o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3]),e):null):null}),t)},i=function(e,t){var a,n,i;return a=u(t,["moof","traf"]),n=[].concat.apply([],a.map((function(t){return u(t,["tfhd"]).map((function(a){var n,i,r;return n=c(a[4]<<24|a[5]<<16|a[6]<<8|a[7]),i=e[n]||9e4,r=u(t,["tfdt"]).map((function(e){var t,a;return t=e[0],a=c(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(a*=Math.pow(2,32),a+=c(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),a}))[0],(r=r||1/0)/i}))}))),i=Math.min.apply(null,n),isFinite(i)?i:0},r=function(e,t){var a,n=u(t,["moof","traf"]),i=0,r=0;if(n&&n.length){var o=u(n[0],["tfhd"])[0],s=u(n[0],["trun"])[0],l=u(n[0],["tfdt"])[0];if(o&&(a=f(o).trackId),l&&(i=v(l).baseMediaDecodeTime),s){var c=p(s);c.samples&&c.samples.length&&(r=c.samples[0].compositionTimeOffset||0)}}return(i+r)/(e[a]||9e4)},o=function(e){var t=u(e,["moov","trak"]),a=[];return t.forEach((function(e){var t=u(e,["mdia","hdlr"]),n=u(e,["tkhd"]);t.forEach((function(e,t){var i,r,o=h(e.subarray(8,12)),s=n[t];"vide"===o&&(r=0===(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),a.push(r))}))})),a},l=function(e){var t=0===e[0]?12:20;return c(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},s=function(e){var t=u(e,["moov","trak"]),a=[];return t.forEach((function(e){var t,n,i={},r=u(e,["tkhd"])[0];r&&(n=(t=new DataView(r.buffer,r.byteOffset,r.byteLength)).getUint8(0),i.id=0===n?t.getUint32(12):t.getUint32(20));var o=u(e,["mdia","hdlr"])[0];if(o){var s=h(o.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var c=u(e,["mdia","minf","stbl","stsd"])[0];if(c){var f=c.subarray(8);i.codec=h(f.subarray(4,8));var p,v=u(f,[i.codec])[0];v&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(p=v.subarray(78),"avcC"===h(p.subarray(4,8))&&p.length>11?(i.codec+=".",i.codec+=d(p[9]),i.codec+=d(p[10]),i.codec+=d(p[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)&&(p=v.subarray(28),"esds"===h(p.subarray(4,8))&&p.length>20&&0!==p[19]?(i.codec+="."+d(p[19]),i.codec+="."+d(p[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"))}var m=u(e,["mdia","mdhd"])[0];m&&(i.timescale=l(m)),a.push(i)})),a},t.exports={findBox:u,parseType:h,timescale:n,startTime:i,compositionStartTime:r,videoTrackIds:o,tracks:s,getTimescaleFromMediaHeader:l}},{15:15,19:19,25:25,26:26,27:27,28:28}],21:[function(e,t,a){var n=e(29).ONE_SECOND_IN_TS,i=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},r=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},o=function(e,t){var a,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),a=e.timelineStartInfo.baseMediaDecodeTime,a+=i,a=Math.max(0,a),"audio"===e.type&&(a*=e.samplerate/n,a=Math.floor(a)),a};t.exports={clearDtsInfo:r,calculateTrackBaseMediaDecodeTime:o,collectDtsInfo:i}},{29:29}],22:[function(e,t,a){"use strict";var n,i,r,o,s=e(31),l=e(18),c=e(16),d=e(13),u=e(21),h=e(9),f=e(29),p=e(3),v=e(4).H264Stream,m=e(1),g=e(2).isLikelyAacData,y=e(29).ONE_SECOND_IN_TS,b=e(5),_=e(6),x=function(e,t){var a;if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0},E=function(e,t,a,n,i,r){return{start:{dts:e,pts:e+(a-t)},end:{dts:e+(n-t),pts:e+(i-a)},prependedContentDuration:r,baseMediaDecodeTime:e}};(i=function(e,t){var a=[],n=0,r=0,o=0,s=1/0;t=t||{},i.prototype.init.call(this),this.push=function(t){u.collectDtsInfo(e,t),e&&b.forEach((function(a){e[a]=t[a]})),a.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var i,c,h,f,p;0!==a.length?(i=d.trimAdtsFramesByEarliestDts(a,e,r),e.baseMediaDecodeTime=u.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),d.prefixWithSilence(e,i,o,s),e.samples=d.generateSampleTable(i),h=l.mdat(d.concatenateFrameData(i)),a=[],c=l.moof(n,[e]),f=new Uint8Array(c.byteLength+h.byteLength),n++,f.set(c),f.set(h,c.byteLength),u.clearDtsInfo(e),p=Math.ceil(1024*y/e.samplerate),i.length&&this.trigger("timingInfo",{start:i[0].pts,end:i[0].pts+i.length*p}),this.trigger("data",{track:e,boxes:f}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){u.clearDtsInfo(e),a=[],this.trigger("reset")}}).prototype=new s,(n=function(e,t){var a,i,r=0,o=[],s=[];t=t||{},n.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){u.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||a||(a=t.config,e.sps=[t.data],_.forEach((function(t){e[t]=a[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var a,n,i,d,h,f,p,v,m=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(a=c.groupNalsIntoFrames(o),(i=c.groupFramesIntoGops(a))[0][0].keyFrame||((n=this.getGopForFusion_(o[0],e))?(m=n.duration,i.unshift(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.pts=n.pts,i.dts=n.dts,i.duration+=n.duration):i=c.extendFirstKeyFrame(i)),s.length){var g;if(!(g=t.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");u.clearDtsInfo(e),i=g}u.collectDtsInfo(e,i),e.samples=c.generateSampleTable(i),h=l.mdat(c.concatenateNalData(i)),e.baseMediaDecodeTime=u.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),p=i[0],v=i[i.length-1],this.trigger("segmentTimingInfo",E(e.baseMediaDecodeTime,p.dts,p.pts,v.dts+v.duration,v.pts+v.duration,m)),this.trigger("timingInfo",{start:i[0].pts,end:i[i.length-1].pts+i[i.length-1].duration}),this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),d=l.moof(r,[e]),f=new Uint8Array(d.byteLength+h.byteLength),r++,f.set(d),f.set(h,d.byteLength),this.trigger("data",{track:e,boxes:f}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){u.clearDtsInfo(e),a=void 0,i=void 0},this.getGopForFusion_=function(t){var a,n,i,r,o,s=45e3,l=1e4,c=1/0;for(o=0;o<this.gopCache_.length;o++)i=(r=this.gopCache_[o]).gop,e.pps&&x(e.pps[0],r.pps[0])&&e.sps&&x(e.sps[0],r.sps[0])&&(i.dts<e.timelineStartInfo.dts||(a=t.dts-i.dts-i.duration)>=-l&&a<=s&&(!n||c>a)&&(n=r,c=a));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,a,n,i,r,o,l,c;for(r=e.byteLength,o=e.nalCount,l=e.duration,t=a=0;t<s.length&&a<e.length&&(n=s[t],i=e[a],n.pts!==i.pts);)i.pts>n.pts?t++:(a++,r-=i.byteLength,o-=i.nalCount,l-=i.duration);return 0===a?e:a===e.length?null:((c=e.slice(a)).byteLength=r,c.duration=l,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,a,n,i,r,o,l;for(t=s.length-1,a=e.length-1,r=null,o=!1;t>=0&&a>=0;){if(n=s[t],i=e[a],n.pts===i.pts){o=!0;break}n.pts>i.pts?t--:(t===s.length-1&&(r=a),a--)}if(!o&&null===r)return null;if(0===(l=o?a:r))return e;var c=e.slice(l),d=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=d.byteLength,c.duration=d.duration,c.nalCount=d.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}}).prototype=new s,(o=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new s,o.prototype.flush=function(e){var t,a,n,i,r=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,_.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,b.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=l.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],r),r+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=f.metadataTsToSeconds(t.startPts,s,this.keepOriginalTimestamps),t.endTime=f.metadataTsToSeconds(t.endPts,s,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(a=this.pendingMetadata[i]).cueTime=f.metadataTsToSeconds(a.pts,s,this.keepOriginalTimestamps),o.metadata.push(a);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),i=0;i<o.captions.length;i++)t=o.captions[i],this.trigger("caption",t);for(i=0;i<o.metadata.length;i++)a=o.metadata[i],this.trigger("id3Frame",a)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},o.prototype.setRemux=function(e){this.remuxTracks=e},(r=function(e){var t,a,s=this,c=!0;r.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},l.setDuration(e.duration),this.setupAacPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="aac",n.metadataStream=new h.MetadataStream,n.aacStream=new m,n.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata"),n.adtsStream=new p,n.coalesceStream=new o(e,n.metadataStream),n.headOfPipeline=n.aacStream,n.aacStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.aacStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.metadataStream.on("timestamp",(function(e){n.aacStream.setTimestamp(e.timeStamp)})),n.aacStream.on("data",(function(r){"timed-metadata"!==r.type&&"audio"!==r.type||n.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new i(a,e),n.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream),s.trigger("trackinfo",{hasAudio:!!a,hasVideo:!!t}))})),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new h.MetadataStream,r.packetStream=new h.TransportPacketStream,r.parseStream=new h.TransportParseStream,r.elementaryStream=new h.ElementaryStream,r.timestampRolloverStream=new h.TimestampRolloverStream,r.adtsStream=new p,r.h264Stream=new v,r.captionStream=new h.CaptionStream,r.coalesceStream=new o(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var l;if("metadata"===o.type){for(l=o.tracks.length;l--;)t||"video"!==o.tracks[l].type?a||"audio"!==o.tracks[l].type||((a=o.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=o.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new n(t,e),r.videoSegmentStream.on("timelineStartInfo",(function(t){a&&!e.keepOriginalTimestamps&&(a.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-s.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){a&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",s.trigger.bind(s,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),a&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new i(a,e),r.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),s.trigger("trackinfo",{hasAudio:!!a,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,s.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,u.clearDtsInfo(a),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,u.clearDtsInfo(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var a=this.transmuxPipeline_;e.remux=t,a&&a.coalesceStream&&a.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(c){var t=g(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),c=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){c=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,t.exports={Transmuxer:r,VideoSegmentStream:n,AudioSegmentStream:i,AUDIO_PROPERTIES:b,VIDEO_PROPERTIES:_,generateVideoSegmentTimingInfo:E}},{1:1,13:13,16:16,18:18,2:2,21:21,29:29,3:3,31:31,4:4,5:5,6:6,9:9}],23:[function(e,t,a){"use strict";var n=4,i=128,r=function(e){for(var t=0,a={payloadType:-1,payloadSize:0},r=0,o=0;t<e.byteLength&&e[t]!==i;){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)o+=255,t++;if(o+=e[t++],!a.payload&&r===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){a.payloadType=r,a.payloadSize=o,a.payload=e.subarray(t,t+o);break}a.payload=void 0}t+=o,r=0,o=0}return a},o=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},s=function(e,t){var a,n,i,r,o=[];if(!(64&t[0]))return o;for(n=31&t[0],a=0;a<n;a++)r={type:3&t[2+(i=3*a)],pts:e},4&t[i+2]&&(r.ccData=t[i+3]<<8|t[i+4],o.push(r));return o},l=function(e){for(var t,a,n=e.byteLength,i=[],r=1;r<n-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(i.push(r+2),r+=2):r++;if(0===i.length)return e;t=n-i.length,a=new Uint8Array(t);var o=0;for(r=0;r<t;o++,r++)o===i[0]&&(o++,i.shift()),a[r]=e[o];return a};t.exports={parseSei:r,parseUserData:o,parseCaptionPackets:s,discardEmulationPreventionBytes:l,USER_DATA_REGISTERED_ITU_T_T35:n}},{}],24:[function(e,t,a){var n=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}};t.exports=n},{}],25:[function(e,t,a){var n=e(28).toUnsigned,i=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:n(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t};t.exports=i},{28:28}],26:[function(e,t,a){var n=function(e){var t,a=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:a.getUint32(4)},i=1&n.flags[2],r=2&n.flags[2],o=8&n.flags[2],s=16&n.flags[2],l=32&n.flags[2],c=65536&n.flags[0],d=131072&n.flags[0];return t=8,i&&(t+=4,n.baseDataOffset=a.getUint32(12),t+=4),r&&(n.sampleDescriptionIndex=a.getUint32(t),t+=4),o&&(n.defaultSampleDuration=a.getUint32(t),t+=4),s&&(n.defaultSampleSize=a.getUint32(t),t+=4),l&&(n.defaultSampleFlags=a.getUint32(t)),c&&(n.durationIsEmpty=!0),!i&&d&&(n.baseDataOffsetIsMoof=!0),n};t.exports=n},{}],27:[function(e,t,a){var n=e(24),i=function(e){var t,a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&a.flags[2],o=4&a.flags[2],s=1&a.flags[1],l=2&a.flags[1],c=4&a.flags[1],d=8&a.flags[1],u=i.getUint32(4),h=8;for(r&&(a.dataOffset=i.getInt32(h),h+=4),o&&u&&(t={flags:n(e.subarray(h,h+4))},h+=4,s&&(t.duration=i.getUint32(h),h+=4),l&&(t.size=i.getUint32(h),h+=4),d&&(1===a.version?t.compositionTimeOffset=i.getInt32(h):t.compositionTimeOffset=i.getUint32(h),h+=4),a.samples.push(t),u--);u--;)t={},s&&(t.duration=i.getUint32(h),h+=4),l&&(t.size=i.getUint32(h),h+=4),c&&(t.flags=n(e.subarray(h,h+4)),h+=4),d&&(1===a.version?t.compositionTimeOffset=i.getInt32(h):t.compositionTimeOffset=i.getUint32(h),h+=4),a.samples.push(t);return a};t.exports=i},{24:24}],28:[function(e,t,a){var n=function(e){return e>>>0},i=function(e){return("00"+e.toString(16)).slice(-2)};t.exports={toUnsigned:n,toHexString:i}},{}],29:[function(e,t,a){var n,i,r,o,s,l,c,d=9e4;n=function(e){return e*d},i=function(e,t){return e*t},r=function(e){return e/d},o=function(e,t){return e/t},s=function(e,t){return n(o(e,t))},l=function(e,t){return i(r(e),t)},c=function(e,t,a){return r(a?e:e-t)},t.exports={ONE_SECOND_IN_TS:d,secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:o,audioTsToVideoTs:s,videoTsToAudioTs:l,metadataTsToSeconds:c}},{}],30:[function(e,t,a){"use strict";var n;n=function(e){var t=e.byteLength,a=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var i=e.byteLength-t,r=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");r.set(e.subarray(i,i+o)),a=new DataView(r.buffer).getUint32(0),n=8*o,t-=o},this.skipBits=function(e){var i;n>e?(a<<=e,n-=e):(e-=n,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),a<<=e,n-=e)},this.readBits=function(e){var i=Math.min(n,e),r=a>>>32-i;return(n-=i)>0?a<<=i:t>0&&this.loadWord(),(i=e-i)>0?r<<i|this.readBits(i):r},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(a&2147483648>>>e))return a<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},{}],31:[function(e,t,a){"use strict";var n=function(){this.init=function(){var e={};this.on=function(t,a){e[t]||(e[t]=[]),e[t]=e[t].concat(a)},this.off=function(t,a){var n;return!!e[t]&&(n=e[t].indexOf(a),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var a,n,i,r;if(a=e[t])if(2===arguments.length)for(i=a.length,n=0;n<i;++n)a[n].call(this,arguments[1]);else{for(r=[],n=arguments.length,n=1;n<arguments.length;++n)r.push(arguments[n]);for(i=a.length,n=0;n<i;++n)a[n].apply(this,r)}},this.dispose=function(){e={}}}};n.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},n.prototype.partialFlush=function(e){this.trigger("partialdone",e)},n.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},n.prototype.reset=function(e){this.trigger("reset",e)},t.exports=n},{}]},{},[17])(17)}()},3012:(e,t,a)=>{"use strict";a.r(t);a(6322),a(9533),a(4976),a(4070),a(5566),a(3045),a(2863),a(3072),a(7637);function n(){}var i=Object.assign,r="undefined"!=typeof window;function o(e,t){var a=t.split("."),n=e;return a.forEach((e=>{var t;n=null!=(t=n[e])?t:""})),n}function s(e,t,a){return t.reduce(((t,n)=>(a&&void 0===e[n]||(t[n]=e[n]),t)),{})}function l(e,t){const a=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)a[n[e]]=!0;return t?e=>!!a[e.toLowerCase()]:e=>!!a[e]}function c(e){if(C(e)){const t={};for(let a=0;a<e.length;a++){const n=e[a],i=M(n)?f(n):c(n);if(i)for(const e in i)t[e]=i[e]}return t}return M(e)||B(e)?e:void 0}const d=/;(?![^(]*\))/g,u=/:([^]+)/,h=/\/\*.*?\*\//gs;function f(e){const t={};return e.replace(h,"").split(d).forEach((e=>{if(e){const a=e.split(u);a.length>1&&(t[a[0].trim()]=a[1].trim())}})),t}function p(e){let t="";if(M(e))t=e;else if(C(e))for(let a=0;a<e.length;a++){const n=p(e[a]);n&&(t+=n+" ")}else if(B(e))for(const a in e)e[a]&&(t+=a+" ");return t.trim()}const v="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",m=l(v);function g(e){return!!e||""===e}const y=e=>M(e)?e:null==e?"":C(e)||B(e)&&(e.toString===U||!O(e.toString))?JSON.stringify(e,b,2):String(e),b=(e,t)=>t&&t.__v_isRef?b(e,t.value):R(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,a])=>(e[`${t} =>`]=a,e)),{})}:P(t)?{[`Set(${t.size})`]:[...t.values()]}:!B(t)||C(t)||z(t)?t:String(t),_={},x=[],E=()=>{},w=()=>!1,T=/^on[^a-z]/,S=e=>T.test(e),k=e=>e.startsWith("onUpdate:"),L=Object.assign,A=(e,t)=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)},D=Object.prototype.hasOwnProperty,I=(e,t)=>D.call(e,t),C=Array.isArray,R=e=>"[object Map]"===j(e),P=e=>"[object Set]"===j(e),O=e=>"function"==typeof e,M=e=>"string"==typeof e,N=e=>"symbol"==typeof e,B=e=>null!==e&&"object"==typeof e,F=e=>B(e)&&O(e.then)&&O(e.catch),U=Object.prototype.toString,j=e=>U.call(e),z=e=>"[object Object]"===j(e),V=e=>M(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,G=l(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),H=e=>{const t=Object.create(null);return a=>t[a]||(t[a]=e(a))},q=/-(\w)/g,K=H((e=>e.replace(q,((e,t)=>t?t.toUpperCase():"")))),Y=/\B([A-Z])/g,W=H((e=>e.replace(Y,"-$1").toLowerCase())),X=H((e=>e.charAt(0).toUpperCase()+e.slice(1))),Z=H((e=>e?`on${X(e)}`:"")),Q=(e,t)=>!Object.is(e,t),J=(e,t)=>{for(let a=0;a<e.length;a++)e[a](t)},$=(e,t,a)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:a})},ee=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let te;const ae=()=>te||(te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a.g?a.g:{});let ne;class ie{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=ne,!e&&ne&&(this.index=(ne.scopes||(ne.scopes=[])).push(this)-1)}run(e){if(this.active){const t=ne;try{return ne=this,e()}finally{ne=t}}else 0}on(){ne=this}off(){ne=this.parent}stop(e){if(this.active){let t,a;for(t=0,a=this.effects.length;t<a;t++)this.effects[t].stop();for(t=0,a=this.cleanups.length;t<a;t++)this.cleanups[t]();if(this.scopes)for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this.active=!1}}}function re(e,t=ne){t&&t.active&&t.effects.push(e)}const oe=e=>{const t=new Set(e);return t.w=0,t.n=0,t},se=e=>(e.w&ue)>0,le=e=>(e.n&ue)>0,ce=new WeakMap;let de=0,ue=1;let he;const fe=Symbol(""),pe=Symbol("");class ve{constructor(e,t=null,a){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,re(this,a)}run(){if(!this.active)return this.fn();let e=he,t=ge;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=he,he=this,ge=!0,ue=1<<++de,de<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ue})(this):me(this),this.fn()}finally{de<=30&&(e=>{const{deps:t}=e;if(t.length){let a=0;for(let n=0;n<t.length;n++){const i=t[n];se(i)&&!le(i)?i.delete(e):t[a++]=i,i.w&=~ue,i.n&=~ue}t.length=a}})(this),ue=1<<--de,he=this.parent,ge=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){he===this?this.deferStop=!0:this.active&&(me(this),this.onStop&&this.onStop(),this.active=!1)}}function me(e){const{deps:t}=e;if(t.length){for(let a=0;a<t.length;a++)t[a].delete(e);t.length=0}}let ge=!0;const ye=[];function be(){ye.push(ge),ge=!1}function _e(){const e=ye.pop();ge=void 0===e||e}function xe(e,t,a){if(ge&&he){let t=ce.get(e);t||ce.set(e,t=new Map);let n=t.get(a);n||t.set(a,n=oe());Ee(n,void 0)}}function Ee(e,t){let a=!1;de<=30?le(e)||(e.n|=ue,a=!se(e)):a=!e.has(he),a&&(e.add(he),he.deps.push(e))}function we(e,t,a,n,i,r){const o=ce.get(e);if(!o)return;let s=[];if("clear"===t)s=[...o.values()];else if("length"===a&&C(e)){const e=ee(n);o.forEach(((t,a)=>{("length"===a||a>=e)&&s.push(t)}))}else switch(void 0!==a&&s.push(o.get(a)),t){case"add":C(e)?V(a)&&s.push(o.get("length")):(s.push(o.get(fe)),R(e)&&s.push(o.get(pe)));break;case"delete":C(e)||(s.push(o.get(fe)),R(e)&&s.push(o.get(pe)));break;case"set":R(e)&&s.push(o.get(fe))}if(1===s.length)s[0]&&Te(s[0]);else{const e=[];for(const t of s)t&&e.push(...t);Te(oe(e))}}function Te(e,t){const a=C(e)?e:[...e];for(const e of a)e.computed&&Se(e,t);for(const e of a)e.computed||Se(e,t)}function Se(e,t){(e!==he||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ke=l("__proto__,__v_isRef,__isVue"),Le=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(N)),Ae=Pe(),De=Pe(!1,!0),Ie=Pe(!0),Ce=Re();function Re(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const a=gt(this);for(let e=0,t=this.length;e<t;e++)xe(a,0,e+"");const n=a[t](...e);return-1===n||!1===n?a[t](...e.map(gt)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){be();const a=gt(this)[t].apply(this,e);return _e(),a}})),e}function Pe(e=!1,t=!1){return function(a,n,i){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_isShallow"===n)return t;if("__v_raw"===n&&i===(e?t?lt:st:t?ot:rt).get(a))return a;const r=C(a);if(!e&&r&&I(Ce,n))return Reflect.get(Ce,n,i);const o=Reflect.get(a,n,i);return(N(n)?Le.has(n):ke(n))?o:(e||xe(a,0,n),t?o:wt(o)?r&&V(n)?o:o.value:B(o)?e?ut(o):dt(o):o)}}function Oe(e=!1){return function(t,a,n,i){let r=t[a];if(pt(r)&&wt(r)&&!wt(n))return!1;if(!e&&(vt(n)||pt(n)||(r=gt(r),n=gt(n)),!C(t)&&wt(r)&&!wt(n)))return r.value=n,!0;const o=C(t)&&V(a)?Number(a)<t.length:I(t,a),s=Reflect.set(t,a,n,i);return t===gt(i)&&(o?Q(n,r)&&we(t,"set",a,n):we(t,"add",a,n)),s}}const Me={get:Ae,set:Oe(),deleteProperty:function(e,t){const a=I(e,t),n=(e[t],Reflect.deleteProperty(e,t));return n&&a&&we(e,"delete",t,void 0),n},has:function(e,t){const a=Reflect.has(e,t);return N(t)&&Le.has(t)||xe(e,0,t),a},ownKeys:function(e){return xe(e,0,C(e)?"length":fe),Reflect.ownKeys(e)}},Ne={get:Ie,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Be=L({},Me,{get:De,set:Oe(!0)}),Fe=e=>e,Ue=e=>Reflect.getPrototypeOf(e);function je(e,t,a=!1,n=!1){const i=gt(e=e.__v_raw),r=gt(t);a||(t!==r&&xe(i,0,t),xe(i,0,r));const{has:o}=Ue(i),s=n?Fe:a?_t:bt;return o.call(i,t)?s(e.get(t)):o.call(i,r)?s(e.get(r)):void(e!==i&&e.get(t))}function ze(e,t=!1){const a=this.__v_raw,n=gt(a),i=gt(e);return t||(e!==i&&xe(n,0,e),xe(n,0,i)),e===i?a.has(e):a.has(e)||a.has(i)}function Ve(e,t=!1){return e=e.__v_raw,!t&&xe(gt(e),0,fe),Reflect.get(e,"size",e)}function Ge(e){e=gt(e);const t=gt(this);return Ue(t).has.call(t,e)||(t.add(e),we(t,"add",e,e)),this}function He(e,t){t=gt(t);const a=gt(this),{has:n,get:i}=Ue(a);let r=n.call(a,e);r||(e=gt(e),r=n.call(a,e));const o=i.call(a,e);return a.set(e,t),r?Q(t,o)&&we(a,"set",e,t):we(a,"add",e,t),this}function qe(e){const t=gt(this),{has:a,get:n}=Ue(t);let i=a.call(t,e);i||(e=gt(e),i=a.call(t,e));n&&n.call(t,e);const r=t.delete(e);return i&&we(t,"delete",e,void 0),r}function Ke(){const e=gt(this),t=0!==e.size,a=e.clear();return t&&we(e,"clear",void 0,void 0),a}function Ye(e,t){return function(a,n){const i=this,r=i.__v_raw,o=gt(r),s=t?Fe:e?_t:bt;return!e&&xe(o,0,fe),r.forEach(((e,t)=>a.call(n,s(e),s(t),i)))}}function We(e,t,a){return function(...n){const i=this.__v_raw,r=gt(i),o=R(r),s="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,c=i[e](...n),d=a?Fe:t?_t:bt;return!t&&xe(r,0,l?pe:fe),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:s?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function Xe(e){return function(...t){return"delete"!==e&&this}}function Ze(){const e={get(e){return je(this,e)},get size(){return Ve(this)},has:ze,add:Ge,set:He,delete:qe,clear:Ke,forEach:Ye(!1,!1)},t={get(e){return je(this,e,!1,!0)},get size(){return Ve(this)},has:ze,add:Ge,set:He,delete:qe,clear:Ke,forEach:Ye(!1,!0)},a={get(e){return je(this,e,!0)},get size(){return Ve(this,!0)},has(e){return ze.call(this,e,!0)},add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear"),forEach:Ye(!0,!1)},n={get(e){return je(this,e,!0,!0)},get size(){return Ve(this,!0)},has(e){return ze.call(this,e,!0)},add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear"),forEach:Ye(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=We(i,!1,!1),a[i]=We(i,!0,!1),t[i]=We(i,!1,!0),n[i]=We(i,!0,!0)})),[e,a,t,n]}const[Qe,Je,$e,et]=Ze();function tt(e,t){const a=t?e?et:$e:e?Je:Qe;return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(I(a,n)&&n in t?a:t,n,i)}const at={get:tt(!1,!1)},nt={get:tt(!1,!0)},it={get:tt(!0,!1)};const rt=new WeakMap,ot=new WeakMap,st=new WeakMap,lt=new WeakMap;function ct(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>j(e).slice(8,-1))(e))}function dt(e){return pt(e)?e:ht(e,!1,Me,at,rt)}function ut(e){return ht(e,!0,Ne,it,st)}function ht(e,t,a,n,i){if(!B(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=ct(e);if(0===o)return e;const s=new Proxy(e,2===o?n:a);return i.set(e,s),s}function ft(e){return pt(e)?ft(e.__v_raw):!(!e||!e.__v_isReactive)}function pt(e){return!(!e||!e.__v_isReadonly)}function vt(e){return!(!e||!e.__v_isShallow)}function mt(e){return ft(e)||pt(e)}function gt(e){const t=e&&e.__v_raw;return t?gt(t):e}function yt(e){return $(e,"__v_skip",!0),e}const bt=e=>B(e)?dt(e):e,_t=e=>B(e)?ut(e):e;function xt(e){ge&&he&&Ee((e=gt(e)).dep||(e.dep=oe()))}function Et(e,t){(e=gt(e)).dep&&Te(e.dep)}function wt(e){return!(!e||!0!==e.__v_isRef)}function Tt(e){return St(e,!1)}function St(e,t){return wt(e)?e:new kt(e,t)}class kt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:gt(e),this._value=t?e:bt(e)}get value(){return xt(this),this._value}set value(e){const t=this.__v_isShallow||vt(e)||pt(e);e=t?e:gt(e),Q(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:bt(e),Et(this))}}function Lt(e){return wt(e)?e.value:e}const At={get:(e,t,a)=>Lt(Reflect.get(e,t,a)),set:(e,t,a,n)=>{const i=e[t];return wt(i)&&!wt(a)?(i.value=a,!0):Reflect.set(e,t,a,n)}};function Dt(e){return ft(e)?e:new Proxy(e,At)}var It;class Ct{constructor(e,t,a,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[It]=!1,this._dirty=!0,this.effect=new ve(e,(()=>{this._dirty||(this._dirty=!0,Et(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=a}get value(){const e=gt(this);return xt(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}It="__v_isReadonly";function Rt(e,t,a,n){let i;try{i=n?e(...n):e()}catch(e){Ot(e,t,a)}return i}function Pt(e,t,a,n){if(O(e)){const i=Rt(e,t,a,n);return i&&F(i)&&i.catch((e=>{Ot(e,t,a)})),i}const i=[];for(let r=0;r<e.length;r++)i.push(Pt(e[r],t,a,n));return i}function Ot(e,t,a,n=!0){t&&t.vnode;if(t){let n=t.parent;const i=t.proxy,r=a;for(;n;){const t=n.ec;if(t)for(let a=0;a<t.length;a++)if(!1===t[a](e,i,r))return;n=n.parent}const o=t.appContext.config.errorHandler;if(o)return void Rt(o,null,10,[e,i,r])}!function(e,t,a,n=!0){console.error(e)}(e,0,0,n)}let Mt=!1,Nt=!1;const Bt=[];let Ft=0;const Ut=[];let jt=null,zt=0;const Vt=Promise.resolve();let Gt=null;function Ht(e){const t=Gt||Vt;return e?t.then(this?e.bind(this):e):t}function qt(e){Bt.length&&Bt.includes(e,Mt&&e.allowRecurse?Ft+1:Ft)||(null==e.id?Bt.push(e):Bt.splice(function(e){let t=Ft+1,a=Bt.length;for(;t<a;){const n=t+a>>>1;Zt(Bt[n])<e?t=n+1:a=n}return t}(e.id),0,e),Kt())}function Kt(){Mt||Nt||(Nt=!0,Gt=Vt.then(Jt))}function Yt(e){C(e)?Ut.push(...e):jt&&jt.includes(e,e.allowRecurse?zt+1:zt)||Ut.push(e),Kt()}function Wt(e,t=(Mt?Ft+1:0)){for(0;t<Bt.length;t++){const e=Bt[t];e&&e.pre&&(Bt.splice(t,1),t--,e())}}function Xt(e){if(Ut.length){const e=[...new Set(Ut)];if(Ut.length=0,jt)return void jt.push(...e);for(jt=e,jt.sort(((e,t)=>Zt(e)-Zt(t))),zt=0;zt<jt.length;zt++)jt[zt]();jt=null,zt=0}}const Zt=e=>null==e.id?1/0:e.id,Qt=(e,t)=>{const a=Zt(e)-Zt(t);if(0===a){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return a};function Jt(e){Nt=!1,Mt=!0,Bt.sort(Qt);try{for(Ft=0;Ft<Bt.length;Ft++){const e=Bt[Ft];e&&!1!==e.active&&Rt(e,null,14)}}finally{Ft=0,Bt.length=0,Xt(),Mt=!1,Gt=null,(Bt.length||Ut.length)&&Jt(e)}}new Set;new Map;let $t,ea=[],ta=!1;function aa(e,...t){$t?$t.emit(e,...t):ta||ea.push({event:e,args:t})}function na(e,t){var a,n;if($t=e,$t)$t.enabled=!0,ea.forEach((({event:e,args:t})=>$t.emit(e,...t))),ea=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(n=null===(a=window.navigator)||void 0===a?void 0:a.userAgent)||void 0===n?void 0:n.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{na(e,t)})),setTimeout((()=>{$t||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ta=!0,ea=[])}),3e3)}else ta=!0,ea=[]}const ia=sa("component:added"),ra=sa("component:updated"),oa=sa("component:removed");function sa(e){return t=>{aa(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function la(e,t,...a){if(e.isUnmounted)return;const n=e.vnode.props||_;let i=a;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in n){const e=`${"modelValue"===o?"model":o}Modifiers`,{number:t,trim:r}=n[e]||_;r&&(i=a.map((e=>M(e)?e.trim():e))),t&&(i=a.map(ee))}let s;__VUE_PROD_DEVTOOLS__&&function(e,t,a){aa("component:emit",e.appContext.app,e,t,a)}(e,t,i);let l=n[s=Z(t)]||n[s=Z(K(t))];!l&&r&&(l=n[s=Z(W(t))]),l&&Pt(l,e,6,i);const c=n[s+"Once"];if(c){if(e.emitted){if(e.emitted[s])return}else e.emitted={};e.emitted[s]=!0,Pt(c,e,6,i)}}function ca(e,t,a=!1){const n=t.emitsCache,i=n.get(e);if(void 0!==i)return i;const r=e.emits;let o={},s=!1;if(__VUE_OPTIONS_API__&&!O(e)){const n=e=>{const a=ca(e,t,!0);a&&(s=!0,L(o,a))};!a&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return r||s?(C(r)?r.forEach((e=>o[e]=null)):L(o,r),B(e)&&n.set(e,o),o):(B(e)&&n.set(e,null),null)}function da(e,t){return!(!e||!S(t))&&(t=t.slice(2).replace(/Once$/,""),I(e,t[0].toLowerCase()+t.slice(1))||I(e,W(t))||I(e,t))}let ua=null,ha=null;function fa(e){const t=ua;return ua=e,ha=e&&e.type.__scopeId||null,t}function pa(e){ha=e}function va(){ha=null}function ma(e,t=ua,a){if(!t)return e;if(e._n)return e;const n=(...a)=>{n._d&&gi(-1);const i=fa(t);let r;try{r=e(...a)}finally{fa(i),n._d&&gi(1)}return __VUE_PROD_DEVTOOLS__&&ra(t),r};return n._n=!0,n._c=!0,n._d=!0,n}function ga(e){const{type:t,vnode:a,proxy:n,withProxy:i,props:r,propsOptions:[o],slots:s,attrs:l,emit:c,render:d,renderCache:u,data:h,setupState:f,ctx:p,inheritAttrs:v}=e;let m,g;const y=fa(e);try{if(4&a.shapeFlag){const e=i||n;m=Ri(d.call(e,e,u,r,f,h,p)),g=l}else{const e=t;0,m=Ri(e.length>1?e(r,{attrs:l,slots:s,emit:c}):e(r,null)),g=t.props?l:ya(l)}}catch(t){hi.length=0,Ot(t,e,1),m=Li(di)}let b=m;if(g&&!1!==v){const e=Object.keys(g),{shapeFlag:t}=b;e.length&&7&t&&(o&&e.some(k)&&(g=ba(g,o)),b=Di(b,g))}return a.dirs&&(b=Di(b),b.dirs=b.dirs?b.dirs.concat(a.dirs):a.dirs),a.transition&&(b.transition=a.transition),m=b,fa(y),m}const ya=e=>{let t;for(const a in e)("class"===a||"style"===a||S(a))&&((t||(t={}))[a]=e[a]);return t},ba=(e,t)=>{const a={};for(const n in e)k(n)&&n.slice(9)in t||(a[n]=e[n]);return a};function _a(e,t,a){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==e[r]&&!da(a,r))return!0}return!1}function xa({vnode:e,parent:t},a){for(;t&&t.subTree===e;)(e=t.vnode).el=a,t=t.parent}const Ea=e=>e.__isSuspense;function wa(e,t){t&&t.pendingBranch?C(e)?t.effects.push(...e):t.effects.push(e):Yt(e)}function Ta(e,t){if(ji){let a=ji.provides;const n=ji.parent&&ji.parent.provides;n===a&&(a=ji.provides=Object.create(n)),a[e]=t}else 0}function Sa(e,t,a=!1){const n=ji||ua;if(n){const i=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return a&&O(t)?t.call(n.proxy):t}else 0}function ka(e,t){return Da(e,null,t)}const La={};function Aa(e,t,a){return Da(e,t,a)}function Da(e,t,{immediate:a,deep:n,flush:i,onTrack:r,onTrigger:o}=_){const s=ji;let l,c,d=!1,u=!1;if(wt(e)?(l=()=>e.value,d=vt(e)):ft(e)?(l=()=>e,n=!0):C(e)?(u=!0,d=e.some((e=>ft(e)||vt(e))),l=()=>e.map((e=>wt(e)?e.value:ft(e)?Ra(e):O(e)?Rt(e,s,2):void 0))):l=O(e)?t?()=>Rt(e,s,2):()=>{if(!s||!s.isUnmounted)return c&&c(),Pt(e,s,3,[f])}:E,t&&n){const e=l;l=()=>Ra(e())}let h,f=e=>{c=g.onStop=()=>{Rt(e,s,4)}};if(Yi){if(f=E,t?a&&Pt(t,s,3,[l(),u?[]:void 0,f]):l(),"sync"!==i)return E;{const e=ir();h=e.__watcherHandles||(e.__watcherHandles=[])}}let p=u?new Array(e.length).fill(La):La;const v=()=>{if(g.active)if(t){const e=g.run();(n||d||(u?e.some(((e,t)=>Q(e,p[t]))):Q(e,p)))&&(c&&c(),Pt(t,s,3,[e,p===La?void 0:u&&p[0]===La?[]:p,f]),p=e)}else g.run()};let m;v.allowRecurse=!!t,"sync"===i?m=v:"post"===i?m=()=>Jn(v,s&&s.suspense):(v.pre=!0,s&&(v.id=s.uid),m=()=>qt(v));const g=new ve(l,m);t?a?v():p=g.run():"post"===i?Jn(g.run.bind(g),s&&s.suspense):g.run();const y=()=>{g.stop(),s&&s.scope&&A(s.scope.effects,g)};return h&&h.push(y),y}function Ia(e,t,a){const n=this.proxy,i=M(e)?e.includes(".")?Ca(n,e):()=>n[e]:e.bind(n,n);let r;O(t)?r=t:(r=t.handler,a=t);const o=ji;Vi(this);const s=Da(i,r.bind(n),a);return o?Vi(o):Gi(),s}function Ca(e,t){const a=t.split(".");return()=>{let t=e;for(let e=0;e<a.length&&t;e++)t=t[a[e]];return t}}function Ra(e,t){if(!B(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),wt(e))Ra(e.value,t);else if(C(e))for(let a=0;a<e.length;a++)Ra(e[a],t);else if(P(e)||R(e))e.forEach((e=>{Ra(e,t)}));else if(z(e))for(const a in e)Ra(e[a],t);return e}function Pa(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return an((()=>{e.isMounted=!0})),on((()=>{e.isUnmounting=!0})),e}const Oa=[Function,Array],Ma={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Oa,onEnter:Oa,onAfterEnter:Oa,onEnterCancelled:Oa,onBeforeLeave:Oa,onLeave:Oa,onAfterLeave:Oa,onLeaveCancelled:Oa,onBeforeAppear:Oa,onAppear:Oa,onAfterAppear:Oa,onAppearCancelled:Oa},setup(e,{slots:t}){const a=zi(),n=Pa();let i;return()=>{const r=t.default&&Va(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let e=!1;for(const t of r)if(t.type!==di){0,o=t,e=!0;break}}const s=gt(e),{mode:l}=s;if(n.isLeaving)return Ua(o);const c=ja(o);if(!c)return Ua(o);const d=Fa(c,s,n,a);za(c,d);const u=a.subTree,h=u&&ja(u);let f=!1;const{getTransitionKey:p}=c.type;if(p){const e=p();void 0===i?i=e:e!==i&&(i=e,f=!0)}if(h&&h.type!==di&&(!Ei(c,h)||f)){const e=Fa(h,s,n,a);if(za(h,e),"out-in"===l)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,!1!==a.update.active&&a.update()},Ua(o);"in-out"===l&&c.type!==di&&(e.delayLeave=(e,t,a)=>{Ba(n,h)[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=a})}return o}}},Na=Ma;function Ba(e,t){const{leavingVNodes:a}=e;let n=a.get(t.type);return n||(n=Object.create(null),a.set(t.type,n)),n}function Fa(e,t,a,n){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:u,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:v,onAppear:m,onAfterAppear:g,onAppearCancelled:y}=t,b=String(e.key),_=Ba(a,e),x=(e,t)=>{e&&Pt(e,n,9,t)},E=(e,t)=>{const a=t[1];x(e,t),C(e)?e.every((e=>e.length<=1))&&a():e.length<=1&&a()},w={mode:r,persisted:o,beforeEnter(t){let n=s;if(!a.isMounted){if(!i)return;n=v||s}t._leaveCb&&t._leaveCb(!0);const r=_[b];r&&Ei(e,r)&&r.el._leaveCb&&r.el._leaveCb(),x(n,[t])},enter(e){let t=l,n=c,r=d;if(!a.isMounted){if(!i)return;t=m||l,n=g||c,r=y||d}let o=!1;const s=e._enterCb=t=>{o||(o=!0,x(t?r:n,[e]),w.delayedLeave&&w.delayedLeave(),e._enterCb=void 0)};t?E(t,[e,s]):s()},leave(t,n){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),a.isUnmounting)return n();x(u,[t]);let r=!1;const o=t._leaveCb=a=>{r||(r=!0,n(),x(a?p:f,[t]),t._leaveCb=void 0,_[i]===e&&delete _[i])};_[i]=e,h?E(h,[t,o]):o()},clone:e=>Fa(e,t,a,n)};return w}function Ua(e){if(qa(e))return(e=Di(e)).children=null,e}function ja(e){return qa(e)?e.children?e.children[0]:void 0:e}function za(e,t){6&e.shapeFlag&&e.component?za(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Va(e,t=!1,a){let n=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const s=null==a?o.key:String(a)+String(null!=o.key?o.key:r);o.type===li?(128&o.patchFlag&&i++,n=n.concat(Va(o.children,t,s))):(t||o.type!==di)&&n.push(null!=s?Di(o,{key:s}):o)}if(i>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}function Ga(e){return O(e)?{setup:e,name:e.name}:e}const Ha=e=>!!e.type.__asyncLoader;const qa=e=>e.type.__isKeepAlive;RegExp,RegExp;function Ka(e,t){return C(e)?e.some((e=>Ka(e,t))):M(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function Ya(e,t){Xa(e,"a",t)}function Wa(e,t){Xa(e,"da",t)}function Xa(e,t,a=ji){const n=e.__wdc||(e.__wdc=()=>{let t=a;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if($a(t,n,a),a){let e=a.parent;for(;e&&e.parent;)qa(e.parent.vnode)&&Za(n,t,a,e),e=e.parent}}function Za(e,t,a,n){const i=$a(t,e,n,!0);sn((()=>{A(n[t],i)}),a)}function Qa(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ja(e){return 128&e.shapeFlag?e.ssContent:e}function $a(e,t,a=ji,n=!1){if(a){const i=a[e]||(a[e]=[]),r=t.__weh||(t.__weh=(...n)=>{if(a.isUnmounted)return;be(),Vi(a);const i=Pt(t,a,e,n);return Gi(),_e(),i});return n?i.unshift(r):i.push(r),r}}const en=e=>(t,a=ji)=>(!Yi||"sp"===e)&&$a(e,((...e)=>t(...e)),a),tn=en("bm"),an=en("m"),nn=en("bu"),rn=en("u"),on=en("bum"),sn=en("um"),ln=en("sp"),cn=en("rtg"),dn=en("rtc");function un(e,t=ji){$a("ec",e,t)}function hn(e,t){const a=ua;if(null===a)return e;const n=Ji(a)||a.proxy,i=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[a,r,o,s=_]=t[e];a&&(O(a)&&(a={mounted:a,updated:a}),a.deep&&Ra(r),i.push({dir:a,instance:n,value:r,oldValue:void 0,arg:o,modifiers:s}))}return e}function fn(e,t,a,n){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];r&&(s.oldValue=r[o].value);let l=s.dir[n];l&&(be(),Pt(l,a,8,[e.el,s,e,t]),_e())}}const pn="components";function vn(e,t){return gn(pn,e,!0,t)||e}const mn=Symbol();function gn(e,t,a=!0,n=!1){const i=ua||ji;if(i){const a=i.type;if(e===pn){const e=$i(a,!1);if(e&&(e===t||e===K(t)||e===X(K(t))))return a}const r=yn(i[e]||a[e],t)||yn(i.appContext[e],t);return!r&&n?a:r}}function yn(e,t){return e&&(e[t]||e[K(t)]||e[X(K(t))])}function bn(e,t,a,n){let i;const r=a&&a[n];if(C(e)||M(e)){i=new Array(e.length);for(let a=0,n=e.length;a<n;a++)i[a]=t(e[a],a,void 0,r&&r[a])}else if("number"==typeof e){0,i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r&&r[a])}else if(B(e))if(e[Symbol.iterator])i=Array.from(e,((e,a)=>t(e,a,void 0,r&&r[a])));else{const a=Object.keys(e);i=new Array(a.length);for(let n=0,o=a.length;n<o;n++){const o=a[n];i[n]=t(e[o],o,n,r&&r[n])}}else i=[];return a&&(a[n]=i),i}const _n=e=>e?Hi(e)?Ji(e)||e.proxy:_n(e.parent):null,xn=L(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_n(e.parent),$root:e=>_n(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?An(e):e.type,$forceUpdate:e=>e.f||(e.f=()=>qt(e.update)),$nextTick:e=>e.n||(e.n=Ht.bind(e.proxy)),$watch:e=>__VUE_OPTIONS_API__?Ia.bind(e):E}),En=(e,t)=>e!==_&&!e.__isScriptSetup&&I(e,t),wn={get({_:e},t){const{ctx:a,setupState:n,data:i,props:r,accessCache:o,type:s,appContext:l}=e;let c;if("$"!==t[0]){const s=o[t];if(void 0!==s)switch(s){case 1:return n[t];case 2:return i[t];case 4:return a[t];case 3:return r[t]}else{if(En(n,t))return o[t]=1,n[t];if(i!==_&&I(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&I(c,t))return o[t]=3,r[t];if(a!==_&&I(a,t))return o[t]=4,a[t];__VUE_OPTIONS_API__&&!Tn||(o[t]=0)}}const d=xn[t];let u,h;return d?("$attrs"===t&&xe(e,0,t),d(e)):(u=s.__cssModules)&&(u=u[t])?u:a!==_&&I(a,t)?(o[t]=4,a[t]):(h=l.config.globalProperties,I(h,t)?h[t]:void 0)},set({_:e},t,a){const{data:n,setupState:i,ctx:r}=e;return En(i,t)?(i[t]=a,!0):n!==_&&I(n,t)?(n[t]=a,!0):!I(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(r[t]=a,!0))},has({_:{data:e,setupState:t,accessCache:a,ctx:n,appContext:i,propsOptions:r}},o){let s;return!!a[o]||e!==_&&I(e,o)||En(t,o)||(s=r[0])&&I(s,o)||I(n,o)||I(xn,o)||I(i.config.globalProperties,o)},defineProperty(e,t,a){return null!=a.get?e._.accessCache[t]=0:I(a,"value")&&this.set(e,t,a.value,null),Reflect.defineProperty(e,t,a)}};let Tn=!0;function Sn(e){const t=An(e),a=e.proxy,n=e.ctx;Tn=!1,t.beforeCreate&&kn(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:s,provide:l,inject:c,created:d,beforeMount:u,mounted:h,beforeUpdate:f,updated:p,activated:v,deactivated:m,beforeDestroy:g,beforeUnmount:y,destroyed:b,unmounted:_,render:x,renderTracked:w,renderTriggered:T,errorCaptured:S,serverPrefetch:k,expose:L,inheritAttrs:A,components:D,directives:I,filters:R}=t;if(c&&function(e,t,a=E,n=!1){C(e)&&(e=Rn(e));for(const a in e){const i=e[a];let r;r=B(i)?"default"in i?Sa(i.from||a,i.default,!0):Sa(i.from||a):Sa(i),wt(r)&&n?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[a]=r}}(c,n,null,e.appContext.config.unwrapInjectedRef),o)for(const e in o){const t=o[e];O(t)&&(n[e]=t.bind(a))}if(i){0;const t=i.call(a,a);0,B(t)&&(e.data=dt(t))}if(Tn=!0,r)for(const e in r){const t=r[e],i=O(t)?t.bind(a,a):O(t.get)?t.get.bind(a,a):E;0;const o=!O(t)&&O(t.set)?t.set.bind(a):E,s=tr({get:i,set:o});Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(s)for(const e in s)Ln(s[e],n,a,e);if(l){const e=O(l)?l.call(a):l;Reflect.ownKeys(e).forEach((t=>{Ta(t,e[t])}))}function P(e,t){C(t)?t.forEach((t=>e(t.bind(a)))):t&&e(t.bind(a))}if(d&&kn(d,e,"c"),P(tn,u),P(an,h),P(nn,f),P(rn,p),P(Ya,v),P(Wa,m),P(un,S),P(dn,w),P(cn,T),P(on,y),P(sn,_),P(ln,k),C(L))if(L.length){const t=e.exposed||(e.exposed={});L.forEach((e=>{Object.defineProperty(t,e,{get:()=>a[e],set:t=>a[e]=t})}))}else e.exposed||(e.exposed={});x&&e.render===E&&(e.render=x),null!=A&&(e.inheritAttrs=A),D&&(e.components=D),I&&(e.directives=I)}function kn(e,t,a){Pt(C(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,a)}function Ln(e,t,a,n){const i=n.includes(".")?Ca(a,n):()=>a[n];if(M(e)){const a=t[e];O(a)&&Aa(i,a)}else if(O(e))Aa(i,e.bind(a));else if(B(e))if(C(e))e.forEach((e=>Ln(e,t,a,n)));else{const n=O(e.handler)?e.handler.bind(a):t[e.handler];O(n)&&Aa(i,n,e)}else 0}function An(e){const t=e.type,{mixins:a,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,s=r.get(t);let l;return s?l=s:i.length||a||n?(l={},i.length&&i.forEach((e=>Dn(l,e,o,!0))),Dn(l,t,o)):l=t,B(t)&&r.set(t,l),l}function Dn(e,t,a,n=!1){const{mixins:i,extends:r}=t;r&&Dn(e,r,a,!0),i&&i.forEach((t=>Dn(e,t,a,!0)));for(const i in t)if(n&&"expose"===i);else{const n=In[i]||a&&a[i];e[i]=n?n(e[i],t[i]):t[i]}return e}const In={data:Cn,props:On,emits:On,methods:On,computed:On,beforeCreate:Pn,created:Pn,beforeMount:Pn,mounted:Pn,beforeUpdate:Pn,updated:Pn,beforeDestroy:Pn,beforeUnmount:Pn,destroyed:Pn,unmounted:Pn,activated:Pn,deactivated:Pn,errorCaptured:Pn,serverPrefetch:Pn,components:On,directives:On,watch:function(e,t){if(!e)return t;if(!t)return e;const a=L(Object.create(null),e);for(const n in t)a[n]=Pn(e[n],t[n]);return a},provide:Cn,inject:function(e,t){return On(Rn(e),Rn(t))}};function Cn(e,t){return t?e?function(){return L(O(e)?e.call(this,this):e,O(t)?t.call(this,this):t)}:t:e}function Rn(e){if(C(e)){const t={};for(let a=0;a<e.length;a++)t[e[a]]=e[a];return t}return e}function Pn(e,t){return e?[...new Set([].concat(e,t))]:t}function On(e,t){return e?L(L(Object.create(null),e),t):t}function Mn(e,t,a,n=!1){const i={},r={};$(r,wi,1),e.propsDefaults=Object.create(null),Nn(e,t,i,r);for(const t in e.propsOptions[0])t in i||(i[t]=void 0);a?e.props=n?i:ht(i,!1,Be,nt,ot):e.type.props?e.props=i:e.props=r,e.attrs=r}function Nn(e,t,a,n){const[i,r]=e.propsOptions;let o,s=!1;if(t)for(let l in t){if(G(l))continue;const c=t[l];let d;i&&I(i,d=K(l))?r&&r.includes(d)?(o||(o={}))[d]=c:a[d]=c:da(e.emitsOptions,l)||l in n&&c===n[l]||(n[l]=c,s=!0)}if(r){const t=gt(a),n=o||_;for(let o=0;o<r.length;o++){const s=r[o];a[s]=Bn(i,t,s,n[s],e,!I(n,s))}}return s}function Bn(e,t,a,n,i,r){const o=e[a];if(null!=o){const e=I(o,"default");if(e&&void 0===n){const e=o.default;if(o.type!==Function&&O(e)){const{propsDefaults:r}=i;a in r?n=r[a]:(Vi(i),n=r[a]=e.call(null,t),Gi())}else n=e}o[0]&&(r&&!e?n=!1:!o[1]||""!==n&&n!==W(a)||(n=!0))}return n}function Fn(e,t,a=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const r=e.props,o={},s=[];let l=!1;if(__VUE_OPTIONS_API__&&!O(e)){const n=e=>{l=!0;const[a,n]=Fn(e,t,!0);L(o,a),n&&s.push(...n)};!a&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!r&&!l)return B(e)&&n.set(e,x),x;if(C(r))for(let e=0;e<r.length;e++){0;const t=K(r[e]);Un(t)&&(o[t]=_)}else if(r){0;for(const e in r){const t=K(e);if(Un(t)){const a=r[e],n=o[t]=C(a)||O(a)?{type:a}:Object.assign({},a);if(n){const e=Vn(Boolean,n.type),a=Vn(String,n.type);n[0]=e>-1,n[1]=a<0||e<a,(e>-1||I(n,"default"))&&s.push(t)}}}}const c=[o,s];return B(e)&&n.set(e,c),c}function Un(e){return"$"!==e[0]}function jn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function zn(e,t){return jn(e)===jn(t)}function Vn(e,t){return C(t)?t.findIndex((t=>zn(t,e))):O(t)&&zn(t,e)?0:-1}const Gn=e=>"_"===e[0]||"$stable"===e,Hn=e=>C(e)?e.map(Ri):[Ri(e)],qn=(e,t,a)=>{if(t._n)return t;const n=ma(((...e)=>Hn(t(...e))),a);return n._c=!1,n},Kn=(e,t,a)=>{const n=e._ctx;for(const a in e){if(Gn(a))continue;const i=e[a];if(O(i))t[a]=qn(0,i,n);else if(null!=i){0;const e=Hn(i);t[a]=()=>e}}},Yn=(e,t)=>{const a=Hn(t);e.slots.default=()=>a};function Wn(){return{app:null,config:{isNativeTag:w,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xn=0;function Zn(e,t){return function(a,n=null){O(a)||(a=Object.assign({},a)),null==n||B(n)||(n=null);const i=Wn(),r=new Set;let o=!1;const s=i.app={_uid:Xn++,_component:a,_props:n,_container:null,_context:i,_instance:null,version:rr,get config(){return i.config},set config(e){0},use:(e,...t)=>(r.has(e)||(e&&O(e.install)?(r.add(e),e.install(s,...t)):O(e)&&(r.add(e),e(s,...t))),s),mixin:e=>(__VUE_OPTIONS_API__&&(i.mixins.includes(e)||i.mixins.push(e)),s),component:(e,t)=>t?(i.components[e]=t,s):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,s):i.directives[e],mount(r,l,c){if(!o){0;const d=Li(a,n);return d.appContext=i,l&&t?t(d,r):e(d,r,c),o=!0,s._container=r,r.__vue_app__=s,__VUE_PROD_DEVTOOLS__&&(s._instance=d.component,function(e,t){aa("app:init",e,t,{Fragment:li,Text:ci,Comment:di,Static:ui})}(s,rr)),Ji(d.component)||d.component.proxy}},unmount(){o&&(e(null,s._container),__VUE_PROD_DEVTOOLS__&&(s._instance=null,function(e){aa("app:unmount",e)}(s)),delete s._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,s)};return s}}function Qn(e,t,a,n,i=!1){if(C(e))return void e.forEach(((e,r)=>Qn(e,t&&(C(t)?t[r]:t),a,n,i)));if(Ha(n)&&!i)return;const r=4&n.shapeFlag?Ji(n.component)||n.component.proxy:n.el,o=i?null:r,{i:s,r:l}=e;const c=t&&t.r,d=s.refs===_?s.refs={}:s.refs,u=s.setupState;if(null!=c&&c!==l&&(M(c)?(d[c]=null,I(u,c)&&(u[c]=null)):wt(c)&&(c.value=null)),O(l))Rt(l,s,12,[o,d]);else{const t=M(l),n=wt(l);if(t||n){const s=()=>{if(e.f){const a=t?I(u,l)?u[l]:d[l]:l.value;i?C(a)&&A(a,r):C(a)?a.includes(r)||a.push(r):t?(d[l]=[r],I(u,l)&&(u[l]=d[l])):(l.value=[r],e.k&&(d[e.k]=l.value))}else t?(d[l]=o,I(u,l)&&(u[l]=o)):n&&(l.value=o,e.k&&(d[e.k]=o))};o?(s.id=-1,Jn(s,a)):s()}else 0}}const Jn=wa;function $n(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&(ae().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(ae().__VUE_PROD_DEVTOOLS__=!1);const a=ae();a.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&na(a.__VUE_DEVTOOLS_GLOBAL_HOOK__,a);const{insert:n,remove:i,patchProp:r,createElement:o,createText:s,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:h,setScopeId:f=E,insertStaticContent:p}=e,v=(e,t,a,n=null,i=null,r=null,o=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Ei(e,t)&&(n=Z(e),V(e,i,r,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:d,shapeFlag:u}=t;switch(c){case ci:m(e,t,a,n);break;case di:g(e,t,a,n);break;case ui:null==e&&y(t,a,n,o);break;case li:R(e,t,a,n,i,r,o,s,l);break;default:1&u?w(e,t,a,n,i,r,o,s,l):6&u?P(e,t,a,n,i,r,o,s,l):(64&u||128&u)&&c.process(e,t,a,n,i,r,o,s,l,$)}null!=d&&i&&Qn(d,e&&e.ref,r,t||e,!t)},m=(e,t,a,i)=>{if(null==e)n(t.el=s(t.children),a,i);else{const a=t.el=e.el;t.children!==e.children&&c(a,t.children)}},g=(e,t,a,i)=>{null==e?n(t.el=l(t.children||""),a,i):t.el=e.el},y=(e,t,a,n)=>{[e.el,e.anchor]=p(e.children,t,a,n,e.el,e.anchor)},b=({el:e,anchor:t})=>{let a;for(;e&&e!==t;)a=h(e),i(e),e=a;i(t)},w=(e,t,a,n,i,r,o,s,l)=>{o=o||"svg"===t.type,null==e?T(t,a,n,i,r,o,s,l):A(e,t,i,r,o,s,l)},T=(e,t,a,i,s,l,c,u)=>{let h,f;const{type:p,props:v,shapeFlag:m,transition:g,dirs:y}=e;if(h=e.el=o(e.type,l,v&&v.is,v),8&m?d(h,e.children):16&m&&k(e.children,h,null,i,s,l&&"foreignObject"!==p,c,u),y&&fn(e,null,i,"created"),v){for(const t in v)"value"===t||G(t)||r(h,t,null,v[t],l,e.children,i,s,X);"value"in v&&r(h,"value",null,v.value),(f=v.onVnodeBeforeMount)&&Ni(f,i,e)}S(h,e,e.scopeId,c,i),__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(h,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(h,"__vueParentComponent",{value:i,enumerable:!1})),y&&fn(e,null,i,"beforeMount");const b=(!s||s&&!s.pendingBranch)&&g&&!g.persisted;b&&g.beforeEnter(h),n(h,t,a),((f=v&&v.onVnodeMounted)||b||y)&&Jn((()=>{f&&Ni(f,i,e),b&&g.enter(h),y&&fn(e,null,i,"mounted")}),s)},S=(e,t,a,n,i)=>{if(a&&f(e,a),n)for(let t=0;t<n.length;t++)f(e,n[t]);if(i){if(t===i.subTree){const t=i.vnode;S(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},k=(e,t,a,n,i,r,o,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?Pi(e[c]):Ri(e[c]);v(null,l,t,a,n,i,r,o,s)}},A=(e,t,a,n,i,o,s)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:u,dirs:h}=t;c|=16&e.patchFlag;const f=e.props||_,p=t.props||_;let v;a&&ei(a,!1),(v=p.onVnodeBeforeUpdate)&&Ni(v,a,t,e),h&&fn(t,e,a,"beforeUpdate"),a&&ei(a,!0);const m=i&&"foreignObject"!==t.type;if(u?D(e.dynamicChildren,u,l,a,n,m,o):s||F(e,t,l,null,a,n,m,o,!1),c>0){if(16&c)C(l,t,f,p,a,n,i);else if(2&c&&f.class!==p.class&&r(l,"class",null,p.class,i),4&c&&r(l,"style",f.style,p.style,i),8&c){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const s=o[t],c=f[s],d=p[s];d===c&&"value"!==s||r(l,s,c,d,i,e.children,a,n,X)}}1&c&&e.children!==t.children&&d(l,t.children)}else s||null!=u||C(l,t,f,p,a,n,i);((v=p.onVnodeUpdated)||h)&&Jn((()=>{v&&Ni(v,a,t,e),h&&fn(t,e,a,"updated")}),n)},D=(e,t,a,n,i,r,o)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],d=l.el&&(l.type===li||!Ei(l,c)||70&l.shapeFlag)?u(l.el):a;v(l,c,d,null,n,i,r,o,!0)}},C=(e,t,a,n,i,o,s)=>{if(a!==n){if(a!==_)for(const l in a)G(l)||l in n||r(e,l,a[l],null,s,t.children,i,o,X);for(const l in n){if(G(l))continue;const c=n[l],d=a[l];c!==d&&"value"!==l&&r(e,l,d,c,s,t.children,i,o,X)}"value"in n&&r(e,"value",a.value,n.value)}},R=(e,t,a,i,r,o,l,c,d)=>{const u=t.el=e?e.el:s(""),h=t.anchor=e?e.anchor:s("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:v}=t;v&&(c=c?c.concat(v):v),null==e?(n(u,a,i),n(h,a,i),k(t.children,a,h,r,o,l,c,d)):f>0&&64&f&&p&&e.dynamicChildren?(D(e.dynamicChildren,p,a,r,o,l,c),(null!=t.key||r&&t===r.subTree)&&ti(e,t,!0)):F(e,t,a,h,r,o,l,c,d)},P=(e,t,a,n,i,r,o,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,a,n,o,l):O(t,a,n,i,r,o,l):M(e,t,l)},O=(e,t,a,n,i,r,o)=>{const s=e.component=Ui(e,n,i);if(qa(e)&&(s.ctx.renderer=$),Wi(s),s.asyncDep){if(i&&i.registerDep(s,N),!e.el){const e=s.subTree=Li(di);g(null,e,t,a)}}else N(s,e,t,a,i,r,o)},M=(e,t,a)=>{const n=t.component=e.component;if(function(e,t,a){const{props:n,children:i,component:r}=e,{props:o,children:s,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(!(a&&l>=0))return!(!i&&!s||s&&s.$stable)||n!==o&&(n?!o||_a(n,o,c):!!o);if(1024&l)return!0;if(16&l)return n?_a(n,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const a=e[t];if(o[a]!==n[a]&&!da(c,a))return!0}}return!1}(e,t,a)){if(n.asyncDep&&!n.asyncResolved)return void B(n,t,a);n.next=t,function(e){const t=Bt.indexOf(e);t>Ft&&Bt.splice(t,1)}(n.update),n.update()}else t.el=e.el,n.vnode=t},N=(e,t,a,n,i,r,o)=>{const s=e.effect=new ve((()=>{if(e.isMounted){let t,{next:a,bu:n,u:s,parent:l,vnode:c}=e,d=a;0,ei(e,!1),a?(a.el=c.el,B(e,a,o)):a=c,n&&J(n),(t=a.props&&a.props.onVnodeBeforeUpdate)&&Ni(t,l,a,c),ei(e,!0);const h=ga(e);0;const f=e.subTree;e.subTree=h,v(f,h,u(f.el),Z(f),e,i,r),a.el=h.el,null===d&&xa(e,h.el),s&&Jn(s,i),(t=a.props&&a.props.onVnodeUpdated)&&Jn((()=>Ni(t,l,a,c)),i),__VUE_PROD_DEVTOOLS__&&ra(e)}else{let o;const{el:s,props:l}=t,{bm:c,m:d,parent:u}=e,h=Ha(t);if(ei(e,!1),c&&J(c),!h&&(o=l&&l.onVnodeBeforeMount)&&Ni(o,u,t),ei(e,!0),s&&te){const a=()=>{e.subTree=ga(e),te(s,e.subTree,e,i,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&a())):a()}else{0;const o=e.subTree=ga(e);0,v(null,o,a,n,e,i,r),t.el=o.el}if(d&&Jn(d,i),!h&&(o=l&&l.onVnodeMounted)){const e=t;Jn((()=>Ni(o,u,e)),i)}(256&t.shapeFlag||u&&Ha(u.vnode)&&256&u.vnode.shapeFlag)&&e.a&&Jn(e.a,i),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&ia(e),t=a=n=null}}),(()=>qt(l)),e.scope),l=e.update=()=>s.run();l.id=e.uid,ei(e,!0),l()},B=(e,t,a)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,function(e,t,a,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,s=gt(i),[l]=e.propsOptions;let c=!1;if(!(n||o>0)||16&o){let n;Nn(e,t,i,r)&&(c=!0);for(const r in s)t&&(I(t,r)||(n=W(r))!==r&&I(t,n))||(l?!a||void 0===a[r]&&void 0===a[n]||(i[r]=Bn(l,s,r,void 0,e,!0)):delete i[r]);if(r!==s)for(const e in r)t&&I(t,e)||(delete r[e],c=!0)}else if(8&o){const a=e.vnode.dynamicProps;for(let n=0;n<a.length;n++){let o=a[n];if(da(e.emitsOptions,o))continue;const d=t[o];if(l)if(I(r,o))d!==r[o]&&(r[o]=d,c=!0);else{const t=K(o);i[t]=Bn(l,s,t,d,e,!1)}else d!==r[o]&&(r[o]=d,c=!0)}}c&&we(e,"set","$attrs")}(e,t.props,n,a),((e,t,a)=>{const{vnode:n,slots:i}=e;let r=!0,o=_;if(32&n.shapeFlag){const e=t._;e?a&&1===e?r=!1:(L(i,t),a||1!==e||delete i._):(r=!t.$stable,Kn(t,i)),o=t}else t&&(Yn(e,t),o={default:1});if(r)for(const e in i)Gn(e)||e in o||delete i[e]})(e,t.children,a),be(),Wt(),_e()},F=(e,t,a,n,i,r,o,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void j(c,h,a,n,i,r,o,s,l);if(256&f)return void U(c,h,a,n,i,r,o,s,l)}8&p?(16&u&&X(c,i,r),h!==c&&d(a,h)):16&u?16&p?j(c,h,a,n,i,r,o,s,l):X(c,i,r,!0):(8&u&&d(a,""),16&p&&k(h,a,n,i,r,o,s,l))},U=(e,t,a,n,i,r,o,s,l)=>{t=t||x;const c=(e=e||x).length,d=t.length,u=Math.min(c,d);let h;for(h=0;h<u;h++){const n=t[h]=l?Pi(t[h]):Ri(t[h]);v(e[h],n,a,null,i,r,o,s,l)}c>d?X(e,i,r,!0,!1,u):k(t,a,n,i,r,o,s,l,u)},j=(e,t,a,n,i,r,o,s,l)=>{let c=0;const d=t.length;let u=e.length-1,h=d-1;for(;c<=u&&c<=h;){const n=e[c],d=t[c]=l?Pi(t[c]):Ri(t[c]);if(!Ei(n,d))break;v(n,d,a,null,i,r,o,s,l),c++}for(;c<=u&&c<=h;){const n=e[u],c=t[h]=l?Pi(t[h]):Ri(t[h]);if(!Ei(n,c))break;v(n,c,a,null,i,r,o,s,l),u--,h--}if(c>u){if(c<=h){const e=h+1,u=e<d?t[e].el:n;for(;c<=h;)v(null,t[c]=l?Pi(t[c]):Ri(t[c]),a,u,i,r,o,s,l),c++}}else if(c>h)for(;c<=u;)V(e[c],i,r,!0),c++;else{const f=c,p=c,m=new Map;for(c=p;c<=h;c++){const e=t[c]=l?Pi(t[c]):Ri(t[c]);null!=e.key&&m.set(e.key,c)}let g,y=0;const b=h-p+1;let _=!1,E=0;const w=new Array(b);for(c=0;c<b;c++)w[c]=0;for(c=f;c<=u;c++){const n=e[c];if(y>=b){V(n,i,r,!0);continue}let d;if(null!=n.key)d=m.get(n.key);else for(g=p;g<=h;g++)if(0===w[g-p]&&Ei(n,t[g])){d=g;break}void 0===d?V(n,i,r,!0):(w[d-p]=c+1,d>=E?E=d:_=!0,v(n,t[d],a,null,i,r,o,s,l),y++)}const T=_?function(e){const t=e.slice(),a=[0];let n,i,r,o,s;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(i=a[a.length-1],e[i]<l){t[n]=i,a.push(n);continue}for(r=0,o=a.length-1;r<o;)s=r+o>>1,e[a[s]]<l?r=s+1:o=s;l<e[a[r]]&&(r>0&&(t[n]=a[r-1]),a[r]=n)}}r=a.length,o=a[r-1];for(;r-- >0;)a[r]=o,o=t[o];return a}(w):x;for(g=T.length-1,c=b-1;c>=0;c--){const e=p+c,u=t[e],h=e+1<d?t[e+1].el:n;0===w[c]?v(null,u,a,h,i,r,o,s,l):_&&(g<0||c!==T[g]?z(u,a,h,2):g--)}}},z=(e,t,a,i,r=null)=>{const{el:o,type:s,transition:l,children:c,shapeFlag:d}=e;if(6&d)return void z(e.component.subTree,t,a,i);if(128&d)return void e.suspense.move(t,a,i);if(64&d)return void s.move(e,t,a,$);if(s===li){n(o,t,a);for(let e=0;e<c.length;e++)z(c[e],t,a,i);return void n(e.anchor,t,a)}if(s===ui)return void(({el:e,anchor:t},a,i)=>{let r;for(;e&&e!==t;)r=h(e),n(e,a,i),e=r;n(t,a,i)})(e,t,a);if(2!==i&&1&d&&l)if(0===i)l.beforeEnter(o),n(o,t,a),Jn((()=>l.enter(o)),r);else{const{leave:e,delayLeave:i,afterLeave:r}=l,s=()=>n(o,t,a),c=()=>{e(o,(()=>{s(),r&&r()}))};i?i(o,s,c):c()}else n(o,t,a)},V=(e,t,a,n=!1,i=!1)=>{const{type:r,props:o,ref:s,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:u,dirs:h}=e;if(null!=s&&Qn(s,null,a,e,!0),256&d)return void t.ctx.deactivate(e);const f=1&d&&h,p=!Ha(e);let v;if(p&&(v=o&&o.onVnodeBeforeUnmount)&&Ni(v,t,e),6&d)Y(e.component,a,n);else{if(128&d)return void e.suspense.unmount(a,n);f&&fn(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,a,i,$,n):c&&(r!==li||u>0&&64&u)?X(c,t,a,!1,!0):(r===li&&384&u||!i&&16&d)&&X(l,t,a),n&&H(e)}(p&&(v=o&&o.onVnodeUnmounted)||f)&&Jn((()=>{v&&Ni(v,t,e),f&&fn(e,null,t,"unmounted")}),a)},H=e=>{const{type:t,el:a,anchor:n,transition:r}=e;if(t===li)return void q(a,n);if(t===ui)return void b(e);const o=()=>{i(a),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:n}=r,i=()=>t(a,o);n?n(e.el,o,i):i()}else o()},q=(e,t)=>{let a;for(;e!==t;)a=h(e),i(e),e=a;i(t)},Y=(e,t,a)=>{const{bum:n,scope:i,update:r,subTree:o,um:s}=e;var l;n&&J(n),i.stop(),r&&(r.active=!1,V(o,e,t,a)),s&&Jn(s,t),Jn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&(l=e,$t&&"function"==typeof $t.cleanupBuffer&&!$t.cleanupBuffer(l)&&oa(l))},X=(e,t,a,n=!1,i=!1,r=0)=>{for(let o=r;o<e.length;o++)V(e[o],t,a,n,i)},Z=e=>6&e.shapeFlag?Z(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),Q=(e,t,a)=>{null==e?t._vnode&&V(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,a),Wt(),Xt(),t._vnode=e},$={p:v,um:V,m:z,r:H,mt:O,mc:k,pc:F,pbc:D,n:Z,o:e};let ee,te;return t&&([ee,te]=t($)),{render:Q,hydrate:ee,createApp:Zn(Q,ee)}}function ei({effect:e,update:t},a){e.allowRecurse=t.allowRecurse=a}function ti(e,t,a=!1){const n=e.children,i=t.children;if(C(n)&&C(i))for(let e=0;e<n.length;e++){const t=n[e];let r=i[e];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=i[e]=Pi(i[e]),r.el=t.el),a||ti(t,r)),r.type===ci&&(r.el=t.el)}}const ai=e=>e&&(e.disabled||""===e.disabled),ni=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,ii=(e,t)=>{const a=e&&e.to;if(M(a)){if(t){const e=t(a);return e}return null}return a};function ri(e,t,a,{o:{insert:n},m:i},r=2){0===r&&n(e.targetAnchor,t,a);const{el:o,anchor:s,shapeFlag:l,children:c,props:d}=e,u=2===r;if(u&&n(o,t,a),(!u||ai(d))&&16&l)for(let e=0;e<c.length;e++)i(c[e],t,a,2);u&&n(s,t,a)}const oi={__isTeleport:!0,process(e,t,a,n,i,r,o,s,l,c){const{mc:d,pc:u,pbc:h,o:{insert:f,querySelector:p,createText:v,createComment:m}}=c,g=ai(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=v(""),c=t.anchor=v("");f(e,a,n),f(c,a,n);const u=t.target=ii(t.props,p),h=t.targetAnchor=v("");u&&(f(h,u),o=o||ni(u));const m=(e,t)=>{16&y&&d(b,e,t,i,r,o,s,l)};g?m(a,c):u&&m(u,h)}else{t.el=e.el;const n=t.anchor=e.anchor,d=t.target=e.target,f=t.targetAnchor=e.targetAnchor,v=ai(e.props),m=v?a:d,y=v?n:f;if(o=o||ni(d),_?(h(e.dynamicChildren,_,m,i,r,o,s),ti(e,t,!0)):l||u(e,t,m,y,i,r,o,s,!1),g)v||ri(t,a,n,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=ii(t.props,p);e&&ri(t,e,null,c,0)}else v&&ri(t,d,f,c,1)}si(t)},remove(e,t,a,n,{um:i,o:{remove:r}},o){const{shapeFlag:s,children:l,anchor:c,targetAnchor:d,target:u,props:h}=e;if(u&&r(d),(o||!ai(h))&&(r(c),16&s))for(let e=0;e<l.length;e++){const n=l[e];i(n,t,a,!0,!!n.dynamicChildren)}},move:ri,hydrate:function(e,t,a,n,i,r,{o:{nextSibling:o,parentNode:s,querySelector:l}},c){const d=t.target=ii(t.props,l);if(d){const l=d._lpa||d.firstChild;if(16&t.shapeFlag)if(ai(t.props))t.anchor=c(o(e),t,s(e),a,n,i,r),t.targetAnchor=l;else{t.anchor=o(e);let s=l;for(;s;)if(s=o(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(l,t,d,a,n,i,r)}si(t)}return t.anchor&&o(t.anchor)}};function si(e){const t=e.ctx;if(t&&t.ut){let a=e.children[0].el;for(;a!==e.targetAnchor;)1===a.nodeType&&a.setAttribute("data-v-owner",t.uid),a=a.nextSibling;t.ut()}}const li=Symbol(void 0),ci=Symbol(void 0),di=Symbol(void 0),ui=Symbol(void 0),hi=[];let fi=null;function pi(e=!1){hi.push(fi=e?null:[])}function vi(){hi.pop(),fi=hi[hi.length-1]||null}let mi=1;function gi(e){mi+=e}function yi(e){return e.dynamicChildren=mi>0?fi||x:null,vi(),mi>0&&fi&&fi.push(e),e}function bi(e,t,a,n,i,r){return yi(ki(e,t,a,n,i,r,!0))}function _i(e,t,a,n,i){return yi(Li(e,t,a,n,i,!0))}function xi(e){return!!e&&!0===e.__v_isVNode}function Ei(e,t){return e.type===t.type&&e.key===t.key}const wi="__vInternal",Ti=({key:e})=>null!=e?e:null,Si=({ref:e,ref_key:t,ref_for:a})=>null!=e?M(e)||wt(e)||O(e)?{i:ua,r:e,k:t,f:!!a}:e:null;function ki(e,t=null,a=null,n=0,i=null,r=(e===li?0:1),o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ti(t),ref:t&&Si(t),scopeId:ha,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ua};return s?(Oi(l,a),128&r&&e.normalize(l)):a&&(l.shapeFlag|=M(a)?8:16),mi>0&&!o&&fi&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&fi.push(l),l}const Li=Ai;function Ai(e,t=null,a=null,n=0,i=null,r=!1){if(e&&e!==mn||(e=di),xi(e)){const n=Di(e,t,!0);return a&&Oi(n,a),mi>0&&!r&&fi&&(6&n.shapeFlag?fi[fi.indexOf(e)]=n:fi.push(n)),n.patchFlag|=-2,n}if(er(e)&&(e=e.__vccOpts),t){t=function(e){return e?mt(e)||wi in e?L({},e):e:null}(t);let{class:e,style:a}=t;e&&!M(e)&&(t.class=p(e)),B(a)&&(mt(a)&&!C(a)&&(a=L({},a)),t.style=c(a))}return ki(e,t,a,n,i,M(e)?1:Ea(e)?128:(e=>e.__isTeleport)(e)?64:B(e)?4:O(e)?2:0,r,!0)}function Di(e,t,a=!1){const{props:n,ref:i,patchFlag:r,children:o}=e,s=t?Mi(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Ti(s),ref:t&&t.ref?a&&i?C(i)?i.concat(Si(t)):[i,Si(t)]:Si(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==li?-1===r?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Di(e.ssContent),ssFallback:e.ssFallback&&Di(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Ii(e=" ",t=0){return Li(ci,null,e,t)}function Ci(e="",t=!1){return t?(pi(),_i(di,null,e)):Li(di,null,e)}function Ri(e){return null==e||"boolean"==typeof e?Li(di):C(e)?Li(li,null,e.slice()):"object"==typeof e?Pi(e):Li(ci,null,String(e))}function Pi(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Di(e)}function Oi(e,t){let a=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(C(t))a=16;else if("object"==typeof t){if(65&n){const a=t.default;return void(a&&(a._c&&(a._d=!1),Oi(e,a()),a._c&&(a._d=!0)))}{a=32;const n=t._;n||wi in t?3===n&&ua&&(1===ua.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=ua}}else O(t)?(t={default:t,_ctx:ua},a=32):(t=String(t),64&n?(a=16,t=[Ii(t)]):a=8);e.children=t,e.shapeFlag|=a}function Mi(...e){const t={};for(let a=0;a<e.length;a++){const n=e[a];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=p([t.class,n.class]));else if("style"===e)t.style=c([t.style,n.style]);else if(S(e)){const a=t[e],i=n[e];!i||a===i||C(a)&&a.includes(i)||(t[e]=a?[].concat(a,i):i)}else""!==e&&(t[e]=n[e])}return t}function Ni(e,t,a,n=null){Pt(e,t,7,[a,n])}const Bi=Wn();let Fi=0;function Ui(e,t,a){const n=e.type,i=(t?t.appContext:e.appContext)||Bi,r={uid:Fi++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ie(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fn(n,i),emitsOptions:ca(n,i),emit:null,emitted:null,propsDefaults:_,inheritAttrs:n.inheritAttrs,ctx:_,data:_,props:_,attrs:_,slots:_,refs:_,setupState:_,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=la.bind(null,r),e.ce&&e.ce(r),r}let ji=null;const zi=()=>ji||ua,Vi=e=>{ji=e,e.scope.on()},Gi=()=>{ji&&ji.scope.off(),ji=null};function Hi(e){return 4&e.vnode.shapeFlag}let qi,Ki,Yi=!1;function Wi(e,t=!1){Yi=t;const{props:a,children:n}=e.vnode,i=Hi(e);Mn(e,a,i,t),((e,t)=>{if(32&e.vnode.shapeFlag){const a=t._;a?(e.slots=gt(t),$(t,"_",a)):Kn(t,e.slots={})}else e.slots={},t&&Yn(e,t);$(e.slots,wi,1)})(e,n);const r=i?function(e,t){const a=e.type;0;e.accessCache=Object.create(null),e.proxy=yt(new Proxy(e.ctx,wn)),!1;const{setup:n}=a;if(n){const a=e.setupContext=n.length>1?Qi(e):null;Vi(e),be();const i=Rt(n,e,0,[e.props,a]);if(_e(),Gi(),F(i)){if(i.then(Gi,Gi),t)return i.then((a=>{Xi(e,a,t)})).catch((t=>{Ot(t,e,0)}));e.asyncDep=i}else Xi(e,i,t)}else Zi(e,t)}(e,t):void 0;return Yi=!1,r}function Xi(e,t,a){O(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:B(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=Dt(t)),Zi(e,a)}function Zi(e,t,a){const n=e.type;if(!e.render){if(!t&&qi&&!n.render){const t=n.template||An(e).template;if(t){0;const{isCustomElement:a,compilerOptions:i}=e.appContext.config,{delimiters:r,compilerOptions:o}=n,s=L(L({isCustomElement:a,delimiters:r},i),o);n.render=qi(t,s)}}e.render=n.render||E,Ki&&Ki(e)}__VUE_OPTIONS_API__&&(Vi(e),be(),Sn(e),_e(),Gi())}function Qi(e){const t=t=>{e.exposed=t||{}};let a;return{get attrs(){return a||(a=function(e){return new Proxy(e.attrs,{get:(t,a)=>(xe(e,0,"$attrs"),t[a])})}(e))},slots:e.slots,emit:e.emit,expose:t}}function Ji(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Dt(yt(e.exposed)),{get:(t,a)=>a in t?t[a]:a in xn?xn[a](e):void 0,has:(e,t)=>t in e||t in xn}))}function $i(e,t=!0){return O(e)?e.displayName||e.name:e.name||t&&e.__name}function er(e){return O(e)&&"__vccOpts"in e}const tr=(e,t)=>function(e,t,a=!1){let n,i;const r=O(e);return r?(n=e,i=E):(n=e.get,i=e.set),new Ct(n,i,r||!i,a)}(e,0,Yi);function ar(e,t,a){const n=arguments.length;return 2===n?B(t)&&!C(t)?xi(t)?Li(e,null,[t]):Li(e,t):Li(e,null,t):(n>3?a=Array.prototype.slice.call(arguments,2):3===n&&xi(a)&&(a=[a]),Li(e,t,a))}const nr=Symbol(""),ir=()=>{{const e=Sa(nr);return e}};const rr="3.2.45";var or="undefined"!=typeof window;function sr(e){return or?requestAnimationFrame(e):-1}function lr(e){sr((()=>sr(e)))}var cr=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),dr=e=>{const t=Lt(e);if(t===window){const e=t.innerWidth,a=t.innerHeight;return cr(e,a)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():cr(0,0)};function ur(e){const t=Sa(e,null);if(t){const e=zi(),{link:a,unlink:n,internalChildren:i}=t;a(e),sn((()=>n(e)));return{parent:t,index:tr((()=>i.indexOf(e)))}}return{parent:null,index:Tt(-1)}}function hr(e,t,a){const n=function(e){const t=[],a=e=>{Array.isArray(e)&&e.forEach((e=>{var n;xi(e)&&(t.push(e),(null==(n=e.component)?void 0:n.subTree)&&(t.push(e.component.subTree),a(e.component.subTree.children)),e.children&&a(e.children))}))};return a(e),t}(e.subTree.children);a.sort(((e,t)=>n.indexOf(e.vnode)-n.indexOf(t.vnode)));const i=a.map((e=>e.proxy));t.sort(((e,t)=>i.indexOf(e)-i.indexOf(t)))}function fr(e){const t=dt([]),a=dt([]),n=zi();return{children:t,linkChildren:i=>{Ta(e,Object.assign({link:e=>{e.proxy&&(a.push(e),t.push(e.proxy),hr(n,t,a))},unlink:e=>{const n=a.indexOf(e);t.splice(n,1),a.splice(n,1)},children:t,internalChildren:a},i))}}}var pr,vr;function mr(e){let t;an((()=>{e(),Ht((()=>{t=!0}))})),Ya((()=>{t&&e()}))}function gr(e,t,a={}){if(!or)return;const{target:n=window,passive:i=!1,capture:r=!1}=a;let o;const s=a=>{const n=Lt(a);n&&!o&&(n.addEventListener(e,t,{capture:r,passive:i}),o=!0)},l=a=>{const n=Lt(a);n&&o&&(n.removeEventListener(e,t,r),o=!1)};sn((()=>l(n))),Wa((()=>l(n))),mr((()=>s(n))),wt(n)&&Aa(n,((e,t)=>{l(t),s(e)}))}var yr,br=/scroll|auto|overlay/i,_r=or?window:void 0;function xr(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function Er(e,t=_r){let a=e;for(;a&&a!==t&&xr(a);){const{overflowY:e}=window.getComputedStyle(a);if(br.test(e))return a;a=a.parentNode}return t}function wr(e,t=_r){const a=Tt();return an((()=>{e.value&&(a.value=Er(e.value,t))})),a}var Tr=Symbol("van-field");function Sr(e){const t=Sa(Tr,null);t&&!t.customValue.value&&(t.customValue.value=e,Aa(e,(()=>{t.resetValidation(),t.validateWithTrigger("onChange")})))}var kr=e=>null!=e,Lr=e=>"function"==typeof e,Ar=e=>null!==e&&"object"==typeof e,Dr=e=>Ar(e)&&Lr(e.then)&&Lr(e.catch);var Ir=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function Cr(e){var t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Rr(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Pr(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Or(e){Rr(window,e),Rr(document.body,e)}function Mr(e,t){if(e===window)return 0;var a=t?Cr(t):Pr();return dr(e).top+a}var Nr=!!r&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());var Br=e=>e.stopPropagation();function Fr(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&Br(e)}function Ur(e){var t=Lt(e);if(!t)return!1;var a=window.getComputedStyle(t),n="none"===a.display,i=null===t.offsetParent&&"fixed"!==a.position;return n||i}var jr,{width:zr,height:Vr}=function(){if(!pr&&(pr=Tt(0),vr=Tt(0),or)){const e=()=>{pr.value=window.innerWidth,vr.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:pr,height:vr}}();function Gr(e){if(kr(e))return Ir(e)?e+"px":String(e)}function Hr(e){if(kr(e)){var t=Gr(e);return{width:t,height:t}}}function qr(e){var t={};return void 0!==e&&(t.zIndex=+e),t}function Kr(e){return+(e=e.replace(/rem/g,""))*function(){if(!jr){var e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;jr=parseFloat(t)}return jr}()}function Yr(e){if("number"==typeof e)return e;if(r){if(e.includes("rem"))return Kr(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*zr.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*Vr.value/100}(e)}return parseFloat(e)}var Wr=/-(\w)/g,Xr=e=>e.replace(Wr,((e,t)=>t.toUpperCase()));var Zr=(e,t,a)=>Math.min(Math.max(e,t),a);function Qr(e,t,a){var n=e.indexOf(t);return-1===n?e:"-"===t&&0!==n?e.slice(0,n):e.slice(0,n+1)+e.slice(n).replace(a,"")}function Jr(e){return e.install=t=>{var{name:a}=e;t.component(a,e),t.component(Xr("-"+a),e)},e}var{hasOwnProperty:$r}=Object.prototype;function eo(e,t){return Object.keys(t).forEach((a=>{!function(e,t,a){var n=t[a];kr(n)&&($r.call(e,a)&&Ar(n)?e[a]=eo(Object(e[a]),n):e[a]=n)}(e,t,a)})),e}var to=Tt("zh-CN"),ao=dt({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>e+"年"+t+"月",rangePrompt:e=>"最多选择 "+e+" 天"},vanCascader:{select:"请选择"},vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{unlimited:"无使用门槛",discount:e=>e+"折",condition:e=>"满"+e+"元可用"},vanCouponCell:{title:"优惠券",count:e=>e+"张可用"},vanCouponList:{exchange:"兑换",close:"不使用优惠券",enable:"可用",disabled:"不可用",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",defaultAddress:"设为默认收货地址"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌信息"},vanAddressList:{add:"新增地址"}}});const no={messages:()=>ao[to.value],use(e,t){to.value=e,this.add({[e]:t})},add(e){void 0===e&&(e={}),eo(ao,e)}};function io(e){var t=Xr(e)+".";return function(e){for(var a=no.messages(),n=o(a,t+e)||o(a,e),i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return Lr(n)?n(...r):n}}function ro(e,t){return t?"string"==typeof t?" "+e+"--"+t:Array.isArray(t)?t.reduce(((t,a)=>t+ro(e,a)),""):Object.keys(t).reduce(((a,n)=>a+(t[n]?ro(e,n):"")),""):""}function oo(e){return(t,a)=>(t&&"string"!=typeof t&&(a=t,t=""),""+(t=t?e+"__"+t:e)+ro(t,a))}function so(e){var t="van-"+e;return[t,oo(t),io(t)]}var lo=null,co=[Number,String],uo={type:Boolean,default:!0},ho=e=>({type:e,required:!0}),fo=()=>({type:Array,default:()=>[]}),po=e=>({type:Number,default:e}),vo=e=>({type:co,default:e}),mo=e=>({type:String,default:e}),go="van-hairline",yo=go+"--top",bo=go+"--left",_o=go+"--surround",xo=go+"--top-bottom",Eo="van-haptics-feedback",wo=Symbol("van-form");const To="undefined"!=typeof document?document:null,So=To&&To.createElement("template"),ko={insert:(e,t,a)=>{t.insertBefore(e,a||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,a,n)=>{const i=t?To.createElementNS("http://www.w3.org/2000/svg",e):To.createElement(e,a?{is:a}:void 0);return"select"===e&&n&&null!=n.multiple&&i.setAttribute("multiple",n.multiple),i},createText:e=>To.createTextNode(e),createComment:e=>To.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>To.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,a,n,i,r){const o=a?a.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),a),i!==r&&(i=i.nextSibling););else{So.innerHTML=n?`<svg>${e}</svg>`:e;const i=So.content;if(n){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,a)}return[o?o.nextSibling:t.firstChild,a?a.previousSibling:t.lastChild]}};const Lo=/\s*!important$/;function Ao(e,t,a){if(C(a))a.forEach((a=>Ao(e,t,a)));else if(null==a&&(a=""),t.startsWith("--"))e.setProperty(t,a);else{const n=function(e,t){const a=Io[t];if(a)return a;let n=K(t);if("filter"!==n&&n in e)return Io[t]=n;n=X(n);for(let a=0;a<Do.length;a++){const i=Do[a]+n;if(i in e)return Io[t]=i}return t}(e,t);Lo.test(a)?e.setProperty(W(n),a.replace(Lo,""),"important"):e[n]=a}}const Do=["Webkit","Moz","ms"],Io={};const Co="http://www.w3.org/1999/xlink";function Ro(e,t,a,n){e.addEventListener(t,a,n)}function Po(e,t,a,n,i=null){const r=e._vei||(e._vei={}),o=r[t];if(n&&o)o.value=n;else{const[a,s]=function(e){let t;if(Oo.test(e)){let a;for(t={};a=e.match(Oo);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}const a=":"===e[2]?e.slice(3):W(e.slice(2));return[a,t]}(t);if(n){const o=r[t]=function(e,t){const a=e=>{if(e._vts){if(e._vts<=a.attached)return}else e._vts=Date.now();Pt(function(e,t){if(C(t)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,a.value),t,5,[e])};return a.value=e,a.attached=(()=>Mo||(No.then((()=>Mo=0)),Mo=Date.now()))(),a}(n,i);Ro(e,a,o,s)}else o&&(!function(e,t,a,n){e.removeEventListener(t,a,n)}(e,a,o,s),r[t]=void 0)}}const Oo=/(?:Once|Passive|Capture)$/;let Mo=0;const No=Promise.resolve();const Bo=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const Fo="transition",Uo="animation",jo=(e,{slots:t})=>ar(Na,Ho(e),t);jo.displayName="Transition";const zo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Vo=(jo.props=L({},Na.props,zo),(e,t=[])=>{C(e)?e.forEach((e=>e(...t))):e&&e(...t)}),Go=e=>!!e&&(C(e)?e.some((e=>e.length>1)):e.length>1);function Ho(e){const t={};for(const a in e)a in zo||(t[a]=e[a]);if(!1===e.css)return t;const{name:a="v",type:n,duration:i,enterFromClass:r=`${a}-enter-from`,enterActiveClass:o=`${a}-enter-active`,enterToClass:s=`${a}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:d=s,leaveFromClass:u=`${a}-leave-from`,leaveActiveClass:h=`${a}-leave-active`,leaveToClass:f=`${a}-leave-to`}=e,p=function(e){if(null==e)return null;if(B(e))return[qo(e.enter),qo(e.leave)];{const t=qo(e);return[t,t]}}(i),v=p&&p[0],m=p&&p[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:b,onLeave:_,onLeaveCancelled:x,onBeforeAppear:E=g,onAppear:w=y,onAppearCancelled:T=b}=t,S=(e,t,a)=>{Yo(e,t?d:s),Yo(e,t?c:o),a&&a()},k=(e,t)=>{e._isLeaving=!1,Yo(e,u),Yo(e,f),Yo(e,h),t&&t()},A=e=>(t,a)=>{const i=e?w:y,o=()=>S(t,e,a);Vo(i,[t,o]),Wo((()=>{Yo(t,e?l:r),Ko(t,e?d:s),Go(i)||Zo(t,n,v,o)}))};return L(t,{onBeforeEnter(e){Vo(g,[e]),Ko(e,r),Ko(e,o)},onBeforeAppear(e){Vo(E,[e]),Ko(e,l),Ko(e,c)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const a=()=>k(e,t);Ko(e,u),es(),Ko(e,h),Wo((()=>{e._isLeaving&&(Yo(e,u),Ko(e,f),Go(_)||Zo(e,n,m,a))})),Vo(_,[e,a])},onEnterCancelled(e){S(e,!1),Vo(b,[e])},onAppearCancelled(e){S(e,!0),Vo(T,[e])},onLeaveCancelled(e){k(e),Vo(x,[e])}})}function qo(e){return ee(e)}function Ko(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Yo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:a}=e;a&&(a.delete(t),a.size||(e._vtc=void 0))}function Wo(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Xo=0;function Zo(e,t,a,n){const i=e._endId=++Xo,r=()=>{i===e._endId&&n()};if(a)return setTimeout(r,a);const{type:o,timeout:s,propCount:l}=Qo(e,t);if(!o)return n();const c=o+"end";let d=0;const u=()=>{e.removeEventListener(c,h),r()},h=t=>{t.target===e&&++d>=l&&u()};setTimeout((()=>{d<l&&u()}),s+1),e.addEventListener(c,h)}function Qo(e,t){const a=window.getComputedStyle(e),n=e=>(a[e]||"").split(", "),i=n(`${Fo}Delay`),r=n(`${Fo}Duration`),o=Jo(i,r),s=n(`${Uo}Delay`),l=n(`${Uo}Duration`),c=Jo(s,l);let d=null,u=0,h=0;t===Fo?o>0&&(d=Fo,u=o,h=r.length):t===Uo?c>0&&(d=Uo,u=c,h=l.length):(u=Math.max(o,c),d=u>0?o>c?Fo:Uo:null,h=d?d===Fo?r.length:l.length:0);return{type:d,timeout:u,propCount:h,hasTransform:d===Fo&&/\b(transform|all)(,|$)/.test(n(`${Fo}Property`).toString())}}function Jo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,a)=>$o(t)+$o(e[a]))))}function $o(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function es(){return document.body.offsetHeight}new WeakMap,new WeakMap;const ts=["ctrl","shift","alt","meta"],as={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ts.some((a=>e[`${a}Key`]&&!t.includes(a)))},ns=(e,t)=>(a,...n)=>{for(let e=0;e<t.length;e++){const n=as[t[e]];if(n&&n(a,t))return}return e(a,...n)},is={beforeMount(e,{value:t},{transition:a}){e._vod="none"===e.style.display?"":e.style.display,a&&t?a.beforeEnter(e):rs(e,t)},mounted(e,{value:t},{transition:a}){a&&t&&a.enter(e)},updated(e,{value:t,oldValue:a},{transition:n}){!t!=!a&&(n?t?(n.beforeEnter(e),rs(e,!0),n.enter(e)):n.leave(e,(()=>{rs(e,!1)})):rs(e,t))},beforeUnmount(e,{value:t}){rs(e,t)}};function rs(e,t){e.style.display=t?e._vod:"none"}const os=L({patchProp:(e,t,a,n,i=!1,r,o,s,l)=>{"class"===t?function(e,t,a){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):a?e.setAttribute("class",t):e.className=t}(e,n,i):"style"===t?function(e,t,a){const n=e.style,i=M(a);if(a&&!i){for(const e in a)Ao(n,e,a[e]);if(t&&!M(t))for(const e in t)null==a[e]&&Ao(n,e,"")}else{const r=n.display;i?t!==a&&(n.cssText=a):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=r)}}(e,a,n):S(t)?k(t)||Po(e,t,0,n,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,a,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&Bo.test(t)&&O(a));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Bo.test(t)&&M(a))return!1;return t in e}(e,t,n,i))?function(e,t,a,n,i,r,o){if("innerHTML"===t||"textContent"===t)return n&&o(n,i,r),void(e[t]=null==a?"":a);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=a;const n=null==a?"":a;return e.value===n&&"OPTION"!==e.tagName||(e.value=n),void(null==a&&e.removeAttribute(t))}let s=!1;if(""===a||null==a){const n=typeof e[t];"boolean"===n?a=g(a):null==a&&"string"===n?(a="",s=!0):"number"===n&&(a=0,s=!0)}try{e[t]=a}catch(e){}s&&e.removeAttribute(t)}(e,t,n,r,o,s,l):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),function(e,t,a,n,i){if(n&&t.startsWith("xlink:"))null==a?e.removeAttributeNS(Co,t.slice(6,t.length)):e.setAttributeNS(Co,t,a);else{const n=m(t);null==a||n&&!g(a)?e.removeAttribute(t):e.setAttribute(t,n?"":a)}}(e,t,n,i))}},ko);let ss;function ls(){return ss||(ss=$n(os))}const cs=(...e)=>{const t=ls().createApp(...e);const{mount:a}=t;return t.mount=e=>{const n=ds(e);if(!n)return;const i=t._component;O(i)||i.render||i.template||(i.template=n.innerHTML),n.innerHTML="";const r=a(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function ds(e){if(M(e)){return document.querySelector(e)}return e}function us(e,t){var{args:a=[],done:i,canceled:r}=t;if(e){var o=e.apply(null,a);Dr(o)?o.then((e=>{e?i():r&&r()})).catch(n):o?i():r&&r()}else i()}var hs=0;function fs(){var e=zi(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return t+"-"+ ++hs}var ps={to:[String,Object],url:String,replace:Boolean};function vs(e){var{to:t,url:a,replace:n,$router:i}=e;t&&i?i[n?"replace":"push"](t):a&&(n?location.replace(a):location.href=a)}function ms(){var e=zi().proxy;return()=>vs(e)}function gs(e){var t=zi();t&&i(t.proxy,e)}var ys=Symbol();function bs(e){var t=Sa(ys,null);t&&Aa(t,(t=>{t&&e()}))}var[_s,xs]=so("sticky");const Es=Ga({name:_s,props:{zIndex:co,position:mo("top"),container:Object,offsetTop:vo(0),offsetBottom:vo(0)},emits:["scroll","change"],setup(e,t){var{emit:a,slots:n}=t,o=Tt(),s=wr(o),l=dt({fixed:!1,width:0,height:0,transform:0}),c=tr((()=>Yr("top"===e.position?e.offsetTop:e.offsetBottom))),d=tr((()=>{var{fixed:e,height:t,width:a}=l;if(e)return{width:a+"px",height:t+"px"}})),u=tr((()=>{if(l.fixed){var t=i(qr(e.zIndex),{width:l.width+"px",height:l.height+"px",[e.position]:c.value+"px"});return l.transform&&(t.transform="translate3d(0, "+l.transform+"px, 0)"),t}})),h=()=>{if(o.value&&!Ur(o)){var{container:t,position:n}=e,i=dr(o),r=Cr(window);if(l.width=i.width,l.height=i.height,"top"===n)if(t){var s=dr(t),d=s.bottom-c.value-l.height;l.fixed=c.value>i.top&&s.bottom>0,l.transform=d<0?d:0}else l.fixed=c.value>i.top;else{var{clientHeight:u}=document.documentElement;if(t){var h=dr(t),f=u-h.top-c.value-l.height;l.fixed=u-c.value<i.bottom&&u>h.top,l.transform=f<0?-f:0}else l.fixed=u-c.value<i.bottom}(e=>{a("scroll",{scrollTop:e,isFixed:l.fixed})})(r)}};return Aa((()=>l.fixed),(e=>a("change",e))),gr("scroll",h,{target:s}),function(e,t){if(r&&window.IntersectionObserver){var a=new IntersectionObserver((e=>{t(e[0].intersectionRatio>0)}),{root:document.body}),n=()=>{e.value&&a.unobserve(e.value)};Wa(n),on(n),mr((()=>{e.value&&a.observe(e.value)}))}}(o,h),()=>Li("div",{ref:o,style:d.value},[Li("div",{class:xs({fixed:l.fixed}),style:u.value},[null==n.default?void 0:n.default()])])}});var ws=Jr(Es);var[Ts,Ss]=so("badge");var ks=Jr(Ga({name:Ts,props:{dot:Boolean,max:co,tag:mo("div"),color:String,offset:Array,content:co,showZero:uo,position:mo("top-right")},setup(e,t){var{slots:a}=t,n=()=>{if(a.content)return!0;var{content:t,showZero:n}=e;return kr(t)&&""!==t&&(n||0!==t)},i=()=>{var{dot:t,max:i,content:r}=e;if(!t&&n())return a.content?a.content():kr(i)&&Ir(r)&&+r>i?i+"+":r},r=tr((()=>{var t={background:e.color};if(e.offset){var[n,i]=e.offset;a.default?(t.top=Gr(i),t.right="number"==typeof n?Gr(-n):n.startsWith("-")?n.replace("-",""):"-"+n):(t.marginTop=Gr(i),t.marginLeft=Gr(n))}return t})),o=()=>{if(n()||e.dot)return Li("div",{class:Ss([e.position,{dot:e.dot,fixed:!!a.default}]),style:r.value},[i()])};return()=>{if(a.default){var{tag:t}=e;return Li(t,{class:Ss("wrapper")},{default:()=>[a.default(),o()]})}return o()}}}));var[Ls,As]=so("tab");const Ds=Ga({name:Ls,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:co,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,renderTitle:Function,inactiveColor:String,showZeroBadge:uo},setup(e){var t=tr((()=>{var t={},{type:a,color:n,disabled:i,isActive:r,activeColor:o,inactiveColor:s}=e;n&&"card"===a&&(t.borderColor=n,i||(r?t.backgroundColor=n:t.color=n));var l=r?o:s;return l&&(t.color=l),t})),a=()=>{var t=Li("span",{class:As("text",{ellipsis:!e.scrollable})},[e.renderTitle?e.renderTitle():e.title]);return e.dot||kr(e.badge)&&""!==e.badge?Li(ks,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[t]}):t};return()=>Li("div",{id:e.id,role:"tab",class:[As({active:e.isActive,disabled:e.disabled})],style:t.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[a()])}});function Is(){var e=Tt(0),t=Tt(0),a=Tt(0),n=Tt(0),i=Tt(0),r=Tt(0),o=Tt(""),s=()=>{a.value=0,n.value=0,i.value=0,r.value=0,o.value=""};return{move:s=>{var l,c,d=s.touches[0];a.value=d.clientX<0?0:d.clientX-e.value,n.value=d.clientY-t.value,i.value=Math.abs(a.value),r.value=Math.abs(n.value),o.value||(o.value=(l=i.value,c=r.value,l>c&&l>10?"horizontal":c>l&&c>10?"vertical":""))},start:a=>{s(),e.value=a.touches[0].clientX,t.value=a.touches[0].clientY},reset:s,startX:e,startY:t,deltaX:a,deltaY:n,offsetX:i,offsetY:r,direction:o,isVertical:()=>"vertical"===o.value,isHorizontal:()=>"horizontal"===o.value}}var[Cs,Rs]=so("swipe"),Ps={loop:uo,width:co,height:co,vertical:Boolean,autoplay:vo(0),duration:vo(500),touchable:uo,lazyRender:Boolean,initialSwipe:vo(0),indicatorColor:String,showIndicators:uo,stopPropagation:uo},Os=Symbol(Cs);const Ms=Ga({name:Cs,props:Ps,emits:["change"],setup(e,t){var a,n,{emit:i,slots:r}=t,o=Tt(),s=dt({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),l=Is(),{children:c,linkChildren:d}=fr(Os),u=tr((()=>c.length)),h=tr((()=>s[e.vertical?"height":"width"])),f=tr((()=>e.vertical?l.deltaY.value:l.deltaX.value)),p=tr((()=>s.rect?(e.vertical?s.rect.height:s.rect.width)-h.value*u.value:0)),v=tr((()=>Math.ceil(Math.abs(p.value)/h.value))),m=tr((()=>u.value*h.value)),g=tr((()=>(s.active+u.value)%u.value)),y=tr((()=>{var t=e.vertical?"vertical":"horizontal";return l.direction.value===t})),b=tr((()=>{var t={transitionDuration:(s.swiping?0:e.duration)+"ms",transform:"translate"+(e.vertical?"Y":"X")+"("+s.offset+"px)"};if(h.value){var a=e.vertical?"height":"width",n=e.vertical?"width":"height";t[a]=m.value+"px",t[n]=e[n]?e[n]+"px":""}return t})),_=function(t,a){void 0===a&&(a=0);var n=t*h.value;e.loop||(n=Math.min(n,-p.value));var i=a-n;return e.loop||(i=Zr(i,p.value,0)),i},x=t=>{var{pace:a=0,offset:n=0,emitChange:r}=t;if(!(u.value<=1)){var{active:o}=s,l=(t=>{var{active:a}=s;return t?e.loop?Zr(a+t,-1,u.value):Zr(a+t,0,v.value):a})(a),d=_(l,n);if(e.loop){if(c[0]&&d!==p.value){var h=d<p.value;c[0].setOffset(h?m.value:0)}if(c[u.value-1]&&0!==d){var f=d>0;c[u.value-1].setOffset(f?-m.value:0)}}s.active=l,s.offset=d,r&&l!==o&&i("change",g.value)}},E=()=>{s.swiping=!0,s.active<=-1?x({pace:u.value}):s.active>=u.value&&x({pace:-u.value})},w=()=>{E(),l.reset(),lr((()=>{s.swiping=!1,x({pace:1,emitChange:!0})}))},T=()=>clearTimeout(a),S=()=>{T(),e.autoplay>0&&u.value>1&&(a=setTimeout((()=>{w(),S()}),+e.autoplay))},k=function(t){if(void 0===t&&(t=+e.initialSwipe),o.value){if(!Ur(o)){var a,n,i={width:o.value.offsetWidth,height:o.value.offsetHeight};s.rect=i,s.width=+(null!=(a=e.width)?a:i.width),s.height=+(null!=(n=e.height)?n:i.height)}u.value&&(t=Math.min(u.value-1,t)),s.active=t,s.swiping=!0,s.offset=_(t),c.forEach((e=>{e.setOffset(0)})),S()}},L=()=>k(s.active),A=t=>{e.touchable&&(l.start(t),n=Date.now(),T(),E())},D=t=>{e.touchable&&s.swiping&&(l.move(t),(y.value||l.offsetY.value>l.offsetX.value===e.vertical)&&Fr(t,e.stopPropagation),y.value&&x({offset:f.value}))},I=()=>{if(e.touchable&&s.swiping){var t=Date.now()-n,a=f.value/t;if((Math.abs(a)>.25||Math.abs(f.value)>h.value/2)&&y.value){var i=e.vertical?l.offsetY.value:l.offsetX.value,r=0;r=e.loop?i>0?f.value>0?-1:1:0:-Math[f.value>0?"ceil":"floor"](f.value/h.value),x({pace:r,emitChange:!0})}else f.value&&x({pace:0});s.swiping=!1,S()}},C=(t,a)=>{var n=a===g.value,i=n?{backgroundColor:e.indicatorColor}:void 0;return Li("i",{style:i,class:Rs("indicator",{active:n})},null)};return gs({prev:()=>{E(),l.reset(),lr((()=>{s.swiping=!1,x({pace:-1,emitChange:!0})}))},next:w,state:s,resize:L,swipeTo:function(t,a){void 0===a&&(a={}),E(),l.reset(),lr((()=>{var n;n=e.loop&&t===u.value?0===s.active?0:t:t%u.value,a.immediate?lr((()=>{s.swiping=!1})):s.swiping=!1,x({pace:n-s.active,emitChange:!0})}))}}),d({size:h,props:e,count:u,activeIndicator:g}),Aa((()=>e.initialSwipe),(e=>k(+e))),Aa(u,(()=>k(s.active))),Aa((()=>e.autoplay),S),Aa([zr,Vr],L),Aa(function(){if(!yr&&(yr=Tt("visible"),or)){const e=()=>{yr.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return yr}(),(e=>{"visible"===e?S():T()})),an(k),Ya((()=>k(s.active))),bs((()=>k(s.active))),Wa(T),on(T),()=>Li("div",{ref:o,class:Rs()},[Li("div",{style:b.value,class:Rs("track",{vertical:e.vertical}),onTouchstart:A,onTouchmove:D,onTouchend:I,onTouchcancel:I},[null==r.default?void 0:r.default()]),r.indicator?r.indicator({active:g.value}):e.showIndicators&&u.value>1?Li("div",{class:Rs("indicators",{vertical:e.vertical})},[Array(u.value).fill("").map(C)]):void 0])}});var Ns=Jr(Ms);var[Bs,Fs]=so("tabs");const Us=Ga({name:Bs,props:{count:ho(Number),inited:Boolean,animated:Boolean,duration:ho(co),swipeable:Boolean,lazyRender:Boolean,currentIndex:ho(Number)},emits:["change"],setup(e,t){var{emit:a,slots:n}=t,i=Tt(),r=e=>a("change",e),o=t=>{var a=i.value;a&&a.state.active!==t&&a.swipeTo(t,{immediate:!e.inited})};return Aa((()=>e.currentIndex),o),an((()=>{o(e.currentIndex)})),()=>{return Li("div",{class:Fs("content",{animated:e.animated||e.swipeable})},[(t=null==n.default?void 0:n.default(),e.animated||e.swipeable?Li(Ns,{ref:i,loop:!1,class:Fs("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[t]}):t)]);var t}}});var[js,zs]=so("tabs"),Vs={type:mo("line"),color:String,border:Boolean,sticky:Boolean,active:vo(0),duration:vo(.3),animated:Boolean,ellipsis:uo,swipeable:Boolean,scrollspy:Boolean,offsetTop:vo(0),background:String,lazyRender:uo,lineWidth:co,lineHeight:co,beforeChange:Function,swipeThreshold:vo(5),titleActiveColor:String,titleInactiveColor:String},Gs=Symbol(js);const Hs=Ga({name:js,props:Vs,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,t){var a,n,i,r,{emit:o,slots:l}=t,c=Tt(),d=Tt(),u=Tt(),h=fs(),f=wr(c),[p,v]=(r=Tt([]),nn((()=>{r.value=[]})),[r,e=>t=>{r.value[e]=t}]),{children:m,linkChildren:g}=fr(Gs),y=dt({inited:!1,position:"",lineStyle:{},currentIndex:-1}),b=tr((()=>m.length>e.swipeThreshold||!e.ellipsis)),_=tr((()=>({borderColor:e.color,background:e.background}))),x=(e,t)=>{var a;return null!=(a=e.name)?a:t},E=tr((()=>{var e=m[y.currentIndex];if(e)return x(e,y.currentIndex)})),w=tr((()=>Yr(e.offsetTop))),T=tr((()=>e.sticky?w.value+a:0)),S=t=>{var a=d.value,n=p.value;if(b.value&&a&&n&&n[y.currentIndex]){var i=n[y.currentIndex].$el;!function(e,t,a){var n=0,i=e.scrollLeft,r=0===a?1:Math.round(1e3*a/16);!function a(){e.scrollLeft+=(t-i)/r,++n<r&&sr(a)}()}(a,i.offsetLeft-(a.offsetWidth-i.offsetWidth)/2,t?0:+e.duration)}},k=()=>{var t=y.inited;Ht((()=>{var a=p.value;if(a&&a[y.currentIndex]&&"line"===e.type&&!Ur(c.value)){var n=a[y.currentIndex].$el,{lineWidth:i,lineHeight:r}=e,o=n.offsetLeft+n.offsetWidth/2,s={width:Gr(i),backgroundColor:e.color,transform:"translateX("+o+"px) translateX(-50%)"};if(t&&(s.transitionDuration=e.duration+"s"),kr(r)){var l=Gr(r);s.height=l,s.borderRadius=l}y.lineStyle=s}}))},L=t=>{var a=(e=>{for(var t=e<y.currentIndex?-1:1;e>=0&&e<m.length;){if(!m[e].disabled)return e;e+=t}})(t);if(kr(a)){var n=m[a],i=x(n,a),r=null!==y.currentIndex;y.currentIndex=a,i!==e.active&&(o("update:active",i),r&&o("change",i,n.title))}},A=e=>{var t=m.find(((t,a)=>x(t,a)===e)),a=t?m.indexOf(t):0;L(a)},D=function(t){if(void 0===t&&(t=!1),e.scrollspy){var a=m[y.currentIndex].$el;if(a&&f.value){var i=Mr(a,f.value)-T.value;n=!0,function(e,t,a,n){var i=Cr(e),r=i<t,o=0===a?1:Math.round(1e3*a/16),s=(t-i)/o;!function a(){i+=s,(r&&i>t||!r&&i<t)&&(i=t),Rr(e,i),r&&i<t||!r&&i>t?sr(a):n&&sr(n)}()}(f.value,i,t?0:+e.duration,(()=>{n=!1}))}}},I=e=>{i=e.isFixed,o("scroll",e)},C=()=>m.map(((t,a)=>Li(Ds,Mi({id:h+"-"+a,ref:v(a),type:e.type,color:e.color,style:t.titleStyle,class:t.titleClass,isActive:a===y.currentIndex,controls:t.id,scrollable:b.value,renderTitle:t.$slots.title,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:n=>((t,a,n)=>{var{title:i,disabled:r}=m[a],s=x(m[a],a);r?o("disabled",s,i):(us(e.beforeChange,{args:[s],done:()=>{L(a),D()}}),o("click",s,i),vs(t)),o("click-tab",{name:s,title:i,event:n,disabled:r})})(t,a,n)},s(t,["dot","badge","title","disabled","showZeroBadge"])),null))),R=()=>{var t,a,{type:n,border:i}=e;return Li("div",{ref:u,class:[zs("wrap",{scrollable:b.value}),{[xo]:"line"===n&&i}]},[Li("div",{ref:d,role:"tablist",class:zs("nav",[n,{complete:b.value}]),style:_.value,"aria-orientation":"horizontal"},[null==(t=l["nav-left"])?void 0:t.call(l),C(),"line"===n&&Li("div",{class:zs("line"),style:y.lineStyle},null),null==(a=l["nav-right"])?void 0:a.call(l)])])};Aa([()=>e.color,zr],k),Aa((()=>e.active),(e=>{e!==E.value&&A(e)})),Aa((()=>m.length),(()=>{y.inited&&(A(e.active),k(),Ht((()=>{S(!0)})))})),Aa((()=>y.currentIndex),(()=>{S(),k(),i&&!e.scrollspy&&Or(Math.ceil(Mr(c.value)-w.value))}));return gs({resize:k,scrollTo:e=>{Ht((()=>{A(e),D(!0)}))}}),Ya(k),bs(k),mr((()=>{A(e.active),Ht((()=>{y.inited=!0,u.value&&(a=dr(u.value).height),S(!0)}))})),gr("scroll",(()=>{if(e.scrollspy&&!n){var t=(()=>{for(var e=0;e<m.length;e++){var{top:t}=dr(m[e].$el);if(t>T.value)return 0===e?0:e-1}return m.length-1})();L(t)}}),{target:f}),g({id:h,props:e,setLine:k,onRendered:(e,t)=>o("rendered",e,t),currentName:E,scrollIntoView:S}),()=>{var t,a;return Li("div",{ref:c,class:zs([e.type])},[e.sticky?Li(ws,{container:c.value,offsetTop:w.value,onScroll:I},{default:()=>[R(),null==(t=l["nav-bottom"])?void 0:t.call(l)]}):[R(),null==(a=l["nav-bottom"])?void 0:a.call(l)],Li(Us,{count:m.length,inited:y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:y.currentIndex,onChange:L},{default:()=>[null==l.default?void 0:l.default()]})])}}});var qs=Symbol(),[Ks,Ys]=so("swipe-item");var Ws=Jr(Ga({name:Ks,setup(e,t){var a,{slots:n}=t,i=dt({offset:0,inited:!1,mounted:!1}),{parent:r,index:o}=ur(Os);if(r){var s=tr((()=>{var e={},{vertical:t}=r.props;return r.size.value&&(e[t?"height":"width"]=r.size.value+"px"),i.offset&&(e.transform="translate"+(t?"Y":"X")+"("+i.offset+"px)"),e})),l=tr((()=>{var{loop:e,lazyRender:t}=r.props;if(!t||a)return!0;if(!i.mounted)return!1;var n=r.activeIndicator.value,s=r.count.value-1,l=0===n&&e?s:n-1,c=n===s&&e?0:n+1;return a=o.value===n||o.value===l||o.value===c}));return an((()=>{Ht((()=>{i.mounted=!0}))})),gs({setOffset:e=>{i.offset=e}}),()=>Li("div",{class:Ys(),style:s.value},[l.value?null==n.default?void 0:n.default():null])}}}));var[Xs,Zs]=so("tab");var Qs=Jr(Ga({name:Xs,props:i({},ps,{dot:Boolean,name:co,badge:co,title:String,disabled:Boolean,titleClass:lo,titleStyle:[String,Object],showZeroBadge:uo}),setup(e,t){var{slots:a}=t,n=fs(),i=Tt(!1),{parent:r,index:o}=ur(Gs);if(r){var s=()=>{var t;return null!=(t=e.name)?t:o.value},l=tr((()=>{var t=s()===r.currentName.value;return t&&!i.value&&(i.value=!0,r.props.lazyRender&&Ht((()=>{r.onRendered(s(),e.title)}))),t}));return Aa((()=>e.title),(()=>{r.setLine(),r.scrollIntoView()})),Ta(qs,l),()=>{var e=r.id+"-"+o.value,{animated:t,swipeable:s,scrollspy:c,lazyRender:d}=r.props;if(a.default||t){var u=c||l.value;if(t||s)return Li(Ws,{id:n,role:"tabpanel",class:Zs("panel-wrapper",{inactive:!l.value}),tabindex:l.value?0:-1,"aria-hidden":!l.value,"aria-labelledby":e},{default:()=>[Li("div",{class:Zs("panel")},[null==a.default?void 0:a.default()])]});var h=i.value||c||!d?null==a.default?void 0:a.default():null;return gs({id:n}),hn(Li("div",{id:n,role:"tabpanel",class:Zs("panel"),tabindex:u?0:-1,"aria-labelledby":e},[h]),[[is,u]])}}}}}));const Js=Qs;var $s=Jr(Hs);const el=$s;var[tl,al]=so("config-provider"),nl=Symbol(tl);Ga({name:tl,props:{tag:mo("div"),themeVars:Object,iconPrefix:String},setup(e,t){var{slots:a}=t,n=tr((()=>{if(e.themeVars)return t=e.themeVars,a={},Object.keys(t).forEach((e=>{var n;a["--van-"+(n=e,n.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""))]=t[e]})),a;var t,a}));return Ta(nl,e),()=>Li(e.tag,{class:al(),style:n.value},{default:()=>[null==a.default?void 0:a.default()]})}});var[il,rl]=so("icon");const ol=Ga({name:il,props:{dot:Boolean,tag:mo("i"),name:String,size:co,badge:co,color:String,classPrefix:String},setup(e,t){var{slots:a}=t,n=Sa(nl,null),i=tr((()=>e.classPrefix||(null==n?void 0:n.iconPrefix)||rl()));return()=>{var{tag:t,dot:n,name:r,size:o,badge:s,color:l}=e,c=(e=>null==e?void 0:e.includes("/"))(r);return Li(ks,{dot:n,tag:t,content:s,class:[i.value,c?"":i.value+"-"+r],style:{color:l,fontSize:Gr(o)}},{default:()=>[null==a.default?void 0:a.default(),c&&Li("img",{class:rl("image"),src:r},null)]})}}});var sl=Jr(ol);const ll=sl;var[cl,dl,ul]=so("cascader");const hl=Ga({name:cl,props:{title:String,options:fo(),closeable:uo,swipeable:uo,closeIcon:mo("cross"),modelValue:co,fieldNames:Object,placeholder:String,activeColor:String},emits:["close","change","finish","click-tab","update:modelValue"],setup(e,t){var{slots:a,emit:n}=t,r=Tt([]),o=Tt(0),{text:s,value:l,children:c}=i({text:"text",value:"value",children:"children"},e.fieldNames),d=(e,t)=>{for(var a of e){if(a[l]===t)return[a];if(a[c]){var n=d(a[c],t);if(n)return[a,...n]}}},u=()=>{var{options:t,modelValue:a}=e;if(void 0!==a){var n=d(t,a);if(n){var i=t;return r.value=n.map((e=>{var t={options:i,selected:e},a=i.find((t=>t[l]===e[l]));return a&&(i=a[c]),t})),i&&r.value.push({options:i,selected:null}),void Ht((()=>{o.value=r.value.length-1}))}}r.value=[{options:t,selected:null}]},h=()=>n("close"),f=e=>{var{name:t,title:a}=e;return n("click-tab",t,a)},p=(t,i,d)=>{var{disabled:u}=t,h=!(!i||t[l]!==i[l]),f=t.color||(h?e.activeColor:void 0),p=a.option?a.option({option:t,selected:h}):Li("span",null,[t[s]]);return Li("li",{role:"menuitemradio",class:[dl("option",{selected:h,disabled:u}),t.className],style:{color:f},tabindex:u?void 0:h?0:-1,"aria-checked":h,"aria-disabled":u||void 0,onClick:()=>((e,t)=>{if(!e.disabled){if(r.value[t].selected=e,r.value.length>t+1&&(r.value=r.value.slice(0,t+1)),e[c]){var a={options:e[c],selected:null};r.value[t+1]?r.value[t+1]=a:r.value.push(a),Ht((()=>{o.value++}))}var i=r.value.map((e=>e.selected)).filter(Boolean);n("update:modelValue",e[l]);var s={value:e[l],tabIndex:t,selectedOptions:i};n("change",s),e[c]||n("finish",s)}})(t,d)},[p,h?Li(sl,{name:"success",class:dl("selected-icon")},null):null])},v=(e,t,a)=>Li("ul",{role:"menu",class:dl("options")},[e.map((e=>p(e,t,a)))]),m=(t,n)=>{var i,r,{options:o,selected:l}=t,c=e.placeholder||ul("select"),d=l?l[s]:c;return Li(Qs,{title:d,titleClass:dl("tab",{unselected:!l})},{default:()=>[null==(i=a["options-top"])?void 0:i.call(a,{tabIndex:n}),v(o,l,n),null==(r=a["options-bottom"])?void 0:r.call(a,{tabIndex:n})]})};return u(),Aa((()=>e.options),u,{deep:!0}),Aa((()=>e.modelValue),(e=>{if(void 0!==e){var t=r.value.map((e=>{var t;return null==(t=e.selected)?void 0:t[l]}));if(t.includes(e))return}u()})),()=>Li("div",{class:dl()},[Li("div",{class:dl("header")},[Li("h2",{class:dl("title")},[a.title?a.title():e.title]),e.closeable?Li(sl,{name:e.closeIcon,class:[dl("close-icon"),Eo],onClick:h},null):null]),Li($s,{active:o.value,"onUpdate:active":e=>o.value=e,animated:!0,class:dl("tabs"),color:e.activeColor,swipeThreshold:0,swipeable:e.swipeable,"onClick-tab":f},{default:()=>[r.value.map(m)]})])}});const fl=Jr(hl);a(3669),a(1678),a(329),a(2555);function pl(){var e=dt({show:!1}),t=t=>{e.show=t},a=a=>{i(e,a,{transitionAppear:!0}),t(!0)},n=()=>t(!1);return gs({open:a,close:n,toggle:t}),{open:a,close:n,state:e,toggle:t}}function vl(e){var t=cs(e),a=document.createElement("div");return document.body.appendChild(a),{instance:t.mount(a),unmount(){t.unmount(),document.body.removeChild(a)}}}var ml=0;var gl={show:Boolean,zIndex:co,overlay:uo,duration:co,teleport:[String,Object],lockScroll:uo,lazyRender:uo,beforeClose:Function,overlayStyle:Object,overlayClass:lo,transitionAppear:Boolean,closeOnClickOverlay:uo},yl=Object.keys(gl),bl=0,_l="van-overflow-hidden";function xl(e){var t=Tt(!1);return Aa(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}var[El,wl]=so("overlay");var Tl=Jr(Ga({name:El,props:{show:Boolean,zIndex:co,duration:co,className:lo,lockScroll:uo,customStyle:Object},setup(e,t){var{slots:a}=t,r=xl((()=>e.show)),o=e=>{Fr(e,!0)},s=r((()=>{var t=i(qr(e.zIndex),e.customStyle);return kr(e.duration)&&(t.animationDuration=e.duration+"s"),hn(Li("div",{style:t,class:[wl(),e.className],onTouchmove:e.lockScroll?o:n},[null==a.default?void 0:a.default()]),[[is,e.show]])}));return()=>Li(jo,{name:"van-fade",appear:!0},{default:s})}}));var Sl=i({},gl,{round:Boolean,position:mo("center"),closeIcon:mo("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:mo("top-right"),safeAreaInsetBottom:Boolean}),[kl,Ll]=so("popup"),Al=2e3;const Dl=Ga({name:kl,inheritAttrs:!1,props:Sl,emits:["open","close","opened","closed","update:show","click-overlay","click-close-icon"],setup(e,t){var a,n,i,r,o,s,l,c,d,{emit:u,attrs:h,slots:f}=t,p=Tt(),v=Tt(),m=xl((()=>e.show||!e.lazyRender)),g=tr((()=>{var t={zIndex:p.value};kr(e.duration)&&(t["center"===e.position?"animationDuration":"transitionDuration"]=e.duration+"s");return t})),y=()=>{a||(void 0!==e.zIndex&&(Al=+e.zIndex),a=!0,p.value=++Al,u("open"))},b=()=>{a&&us(e.beforeClose,{done(){a=!1,u("close"),u("update:show",!1)}})},_=t=>{u("click-overlay",t),e.closeOnClickOverlay&&b()},x=()=>{if(e.overlay)return Li(Tl,{show:e.show,class:e.overlayClass,zIndex:p.value,duration:e.duration,customStyle:e.overlayStyle,onClick:_},{default:f["overlay-content"]})},E=e=>{u("click-close-icon",e),b()},w=()=>{if(e.closeable)return Li(sl,{role:"button",tabindex:0,name:e.closeIcon,class:[Ll("close-icon",e.closeIconPosition),Eo],classPrefix:e.iconPrefix,onClick:E},null)},T=()=>u("opened"),S=()=>u("closed"),k=m((()=>{var{round:t,position:a,safeAreaInsetBottom:n}=e;return hn(Li("div",Mi({ref:v,style:g.value,class:[Ll({round:t,[a]:a}),{"van-safe-area-bottom":n}]},h),[null==f.default?void 0:f.default(),w()]),[[is,e.show]])})),L=()=>{var{position:t,transition:a,transitionAppear:n}=e;return Li(jo,{name:a||("center"===t?"van-fade":"van-popup-slide-"+t),appear:n,onAfterEnter:T,onAfterLeave:S},{default:k})};return Aa((()=>e.show),(e=>{e?y():(a=!1,u("close"))})),gs({popupRef:v}),i=v,r=()=>e.show&&e.lockScroll,o=Is(),s=e=>{o.move(e);var t=o.deltaY.value>0?"10":"01",a=Er(e.target,i.value),{scrollHeight:n,offsetHeight:r,scrollTop:s}=a,l="11";0===s?l=r>=n?"00":"01":s+r>=n&&(l="10"),"11"===l||!o.isVertical()||parseInt(l,2)&parseInt(t,2)||Fr(e,!0)},l=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",s,{passive:!1}),bl||document.body.classList.add(_l),bl++},c=()=>{bl&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",s),--bl||document.body.classList.remove(_l))},d=()=>r()&&c(),mr((()=>r()&&l())),Wa(d),on(d),Aa(r,(e=>{e?l():c()})),gr("popstate",(()=>{e.closeOnPopstate&&(b(),n=!1)})),an((()=>{e.show&&y()})),Ya((()=>{n&&(u("update:show",!0),n=!1)})),Wa((()=>{e.show&&(b(),n=!0)})),Ta(ys,(()=>e.show)),()=>e.teleport?Li(oi,{to:e.teleport},{default:()=>[x(),L()]}):Li(li,null,[x(),L()])}});var Il=Jr(Dl);var[Cl,Rl]=so("loading"),Pl=Array(12).fill(null).map(((e,t)=>Li("i",{class:Rl("line",String(t+1))},null))),Ol=Li("svg",{class:Rl("circular"),viewBox:"25 25 50 50"},[Li("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);var Ml=Jr(Ga({name:Cl,props:{size:co,type:mo("circular"),color:String,vertical:Boolean,textSize:co,textColor:String},setup(e,t){var{slots:a}=t,n=tr((()=>i({color:e.color},Hr(e.size)))),r=()=>{var t;if(a.default)return Li("span",{class:Rl("text"),style:{fontSize:Gr(e.textSize),color:null!=(t=e.textColor)?t:e.color}},[a.default()])};return()=>{var{type:t,vertical:a}=e;return Li("div",{class:Rl([t,{vertical:a}])},[Li("span",{class:Rl("spinner",t),style:n.value},["spinner"===t?Pl:Ol]),r()])}}}));const Nl=Ml;var[Bl,Fl]=so("toast"),Ul=["show","overlay","transition","overlayClass","overlayStyle","closeOnClickOverlay"];const jl=Ga({name:Bl,props:{icon:String,show:Boolean,type:mo("text"),overlay:Boolean,message:co,iconSize:co,duration:po(2e3),position:mo("middle"),className:lo,iconPrefix:String,transition:mo("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:lo,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},emits:["update:show"],setup(e,t){var a,{emit:n}=t,i=!1,r=()=>{var t=e.show&&e.forbidClick;i!==t&&((i=t)?(ml||document.body.classList.add("van-toast--unclickable"),ml++):ml&&(--ml||document.body.classList.remove("van-toast--unclickable")))},o=e=>n("update:show",e),l=()=>{e.closeOnClick&&o(!1)},c=()=>clearTimeout(a),d=()=>{var{icon:t,type:a,iconSize:n,iconPrefix:i,loadingType:r}=e;return t||"success"===a||"fail"===a?Li(sl,{name:t||a,size:n,class:Fl("icon"),classPrefix:i},null):"loading"===a?Li(Ml,{class:Fl("loading"),size:n,type:r},null):void 0},u=()=>{var{type:t,message:a}=e;if(kr(a)&&""!==a)return"html"===t?Li("div",{class:Fl("text"),innerHTML:String(a)},null):Li("div",{class:Fl("text")},[a])};return Aa((()=>[e.show,e.forbidClick]),r),Aa((()=>[e.show,e.type,e.message,e.duration]),(()=>{c(),e.show&&e.duration>0&&(a=setTimeout((()=>{o(!1)}),e.duration))})),an(r),sn(r),()=>Li(Il,Mi({class:[Fl([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:l,onClosed:c,"onUpdate:show":o},s(e,Ul)),{default:()=>[d(),u()]})}});var zl={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},Vl=[],Gl=!1,Hl=i({},zl),ql=new Map;function Kl(e){return Ar(e)?e:{message:e}}function Yl(){if(!Vl.length||Gl){var e=function(){var{instance:e,unmount:t}=vl({setup(){var a=Tt(""),{open:n,state:i,close:r,toggle:o}=pl(),s=()=>{Gl&&(Vl=Vl.filter((t=>t!==e)),t())};return Aa(a,(e=>{i.message=e})),zi().render=()=>Li(jl,Mi(i,{onClosed:s,"onUpdate:show":o}),null),{open:n,clear:r,message:a}}});return e}();Vl.push(e)}return Vl[Vl.length-1]}function Wl(e){if(void 0===e&&(e={}),!r)return{};var t=Yl(),a=Kl(e);return t.open(i({},Hl,ql.get(a.type||Hl.type),a)),t}var Xl=e=>t=>Wl(i({type:e},Kl(t)));Wl.loading=Xl("loading"),Wl.success=Xl("success"),Wl.fail=Xl("fail"),Wl.clear=e=>{if(Vl.length)if(e)Vl.forEach((e=>{e.clear()})),Vl=[];else if(Gl){var t;null==(t=Vl.shift())||t.clear()}else Vl[0].clear()},Wl.setDefaultOptions=function(e,t){"string"==typeof e?ql.set(e,t):i(Hl,e)},Wl.resetDefaultOptions=e=>{"string"==typeof e?ql.delete(e):(Hl=i({},zl),ql.clear())},Wl.allowMultiple=function(e){void 0===e&&(e=!0),Gl=e},Wl.install=e=>{e.use(Jr(jl)),e.config.globalProperties.$toast=Wl};const Zl=Wl;a(2534);var[Ql,Jl]=so("slider");const $l=Ga({name:Ql,props:{min:vo(0),max:vo(100),step:vo(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:co,buttonSize:co,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}},emits:["change","drag-end","drag-start","update:modelValue"],setup(e,t){var a,n,i,{emit:r,slots:o}=t,s=Tt(),l=Tt(),c=Is(),d=tr((()=>Number(e.max)-Number(e.min))),u=tr((()=>{var t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:Gr(e.barHeight)}})),h=t=>e.range&&Array.isArray(t),f=()=>{var{modelValue:t,min:a}=e;return h(t)?100*(t[1]-t[0])/d.value+"%":100*(t-Number(a))/d.value+"%"},p=tr((()=>{var t={[e.vertical?"height":"width"]:f(),background:e.activeColor};l.value&&(t.transition="none");return t[e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left"]=(()=>{var{modelValue:t,min:a}=e;return h(t)?100*(t[0]-Number(a))/d.value+"%":"0%"})(),t})),v=t=>{var a=+e.min,n=+e.max,i=+e.step;t=Zr(t,a,n);var r,o,s,l=Math.round((t-a)/i)*i;return r=a,o=l,s=Math.pow(10,10),Math.round((r+o)*s)/s},m=(e,t)=>JSON.stringify(e)===JSON.stringify(t),g=(t,a)=>{t=h(t)?(t=>{var a,n,i=null!=(a=t[0])?a:Number(e.min),r=null!=(n=t[1])?n:Number(e.max);return i>r?[r,i]:[i,r]})(t).map(v):v(t),m(t,e.modelValue)||r("update:modelValue",t),a&&!m(t,i)&&r("change",t)},y=t=>{if(t.stopPropagation(),!e.disabled&&!e.readonly){var{min:a,reverse:n,vertical:i,modelValue:r}=e,o=dr(s),l=i?o.height:o.width,c=Number(a)+(i?n?o.bottom-t.clientY:t.clientY-o.top:n?o.right-t.clientX:t.clientX-o.left)/l*d.value;if(h(r)){var[u,f]=r;g(c<=(u+f)/2?[c,f]:[u,c],!0)}else g(c,!0)}},b=t=>{e.disabled||e.readonly||(c.start(t),n=e.modelValue,i=h(n)?n.map(v):v(n),l.value="start")},_=t=>{if(!e.disabled&&!e.readonly){"start"===l.value&&r("drag-start",t),Fr(t,!0),c.move(t),l.value="dragging";var o=dr(s),u=(e.vertical?c.deltaY.value:c.deltaX.value)/(e.vertical?o.height:o.width)*d.value;if(e.reverse&&(u=-u),h(i)){var f=e.reverse?1-a:a;n[f]=i[f]+u}else n=i+u;g(n)}},x=t=>{e.disabled||e.readonly||("dragging"===l.value&&(g(n,!0),r("drag-end",t)),l.value="")},E=t=>{if("number"==typeof t){return Jl("button-wrapper",["left","right"][t])}return Jl("button-wrapper",e.reverse?"left":"right")},w=(t,a)=>{if("number"==typeof a){var n=o[0===a?"left-button":"right-button"];if(n)return n({value:t})}return o.button?o.button({value:t}):Li("div",{class:Jl("button"),style:Hr(e.buttonSize)},null)},T=t=>{var n="number"==typeof t?e.modelValue[t]:e.modelValue;return Li("div",{role:"slider",class:E(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":n,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstart:e=>{"number"==typeof t&&(a=t),b(e)},onTouchmove:_,onTouchend:x,onTouchcancel:x,onClick:Br},[w(n,t)])};return g(e.modelValue),Sr((()=>e.modelValue)),()=>Li("div",{ref:s,style:u.value,class:Jl({vertical:e.vertical,disabled:e.disabled}),onClick:y},[Li("div",{class:Jl("bar"),style:p.value},[e.range?[T(0),T(1)]:T()])])}});const ec=Jr($l);a(4750);var[tc,ac]=so("radio-group"),nc={disabled:Boolean,iconSize:co,direction:String,modelValue:lo,checkedColor:String},ic=Symbol(tc);const rc=Ga({name:tc,props:nc,emits:["change","update:modelValue"],setup(e,t){var{emit:a,slots:n}=t,{linkChildren:i}=fr(ic);return Aa((()=>e.modelValue),(e=>a("change",e))),i({props:e,updateValue:e=>a("update:modelValue",e)}),Sr((()=>e.modelValue)),()=>Li("div",{class:ac([e.direction]),role:"radiogroup"},[null==n.default?void 0:n.default()])}});const oc=Jr(rc);a(6177),a(8202);var sc={name:lo,shape:mo("round"),disabled:Boolean,iconSize:co,modelValue:lo,checkedColor:String,labelPosition:String,labelDisabled:Boolean};const lc=Ga({props:i({},sc,{bem:ho(Function),role:String,parent:Object,checked:Boolean,bindGroup:uo}),emits:["click","toggle"],setup(e,t){var{emit:a,slots:n}=t,i=Tt(),r=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},o=tr((()=>r("disabled")||e.disabled)),s=tr((()=>r("direction"))),l=tr((()=>{var t=e.checkedColor||r("checkedColor");if(t&&e.checked&&!o.value)return{borderColor:t,backgroundColor:t}})),c=t=>{var{target:n}=t,r=i.value,s=r===n||(null==r?void 0:r.contains(n));o.value||!s&&e.labelDisabled||a("toggle"),a("click",t)},d=()=>{var{bem:t,shape:a,checked:s}=e,c=e.iconSize||r("iconSize");return Li("div",{ref:i,class:t("icon",[a,{disabled:o.value,checked:s}]),style:{fontSize:Gr(c)}},[n.icon?n.icon({checked:s,disabled:o.value}):Li(sl,{name:"success",style:l.value},null)])},u=()=>{if(n.default)return Li("span",{class:e.bem("label",[e.labelPosition,{disabled:o.value}])},[n.default()])};return()=>{var t="left"===e.labelPosition?[u(),d()]:[d(),u()];return Li("div",{role:e.role,class:e.bem([{disabled:o.value,"label-disabled":e.labelDisabled},s.value]),tabindex:o.value?void 0:0,"aria-checked":e.checked,onClick:c},[t])}}});var[cc,dc]=so("radio");const uc=Ga({name:cc,props:sc,emits:["update:modelValue"],setup(e,t){var{emit:a,slots:n}=t,{parent:i}=ur(ic),r=()=>{i?i.updateValue(e.name):a("update:modelValue",e.name)};return()=>Li(lc,Mi({bem:dc,role:"radio",parent:i,checked:(i?i.props.modelValue:e.modelValue)===e.name,onToggle:r},e),s(n,["default","icon"]))}});const hc=Jr(uc);a(6674),a(9789),a(3273);var[fc,pc,vc]=so("uploader"),mc=e=>Array.isArray(e)?e:[e];function gc(e,t){return new Promise((a=>{if("file"!==t){var n=new FileReader;n.onload=e=>{a(e.target.result)},"dataUrl"===t?n.readAsDataURL(e):"text"===t&&n.readAsText(e)}else a()}))}function yc(e,t){return mc(e).some((e=>!!e.file&&(Lr(t)?t(e.file):e.file.size>t)))}var bc=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function _c(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(t=e.url,bc.test(t)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var t}var[xc,Ec]=so("image");const wc=Ga({name:xc,props:{src:String,alt:String,fit:String,round:Boolean,width:co,height:co,radius:co,lazyLoad:Boolean,iconSize:co,showError:uo,errorIcon:mo("photo-fail"),iconPrefix:String,showLoading:uo,loadingIcon:mo("photo")},emits:["load","error"],setup(e,t){var{emit:a,slots:n}=t,i=Tt(!1),o=Tt(!0),s=Tt(),{$Lazyload:l}=zi().proxy,c=tr((()=>{var t={width:Gr(e.width),height:Gr(e.height)};return kr(e.radius)&&(t.overflow="hidden",t.borderRadius=Gr(e.radius)),t}));Aa((()=>e.src),(()=>{i.value=!1,o.value=!0}));var d=e=>{o.value=!1,a("load",e)},u=e=>{i.value=!0,o.value=!1,a("error",e)},h=(t,a,n)=>n?n():Li(sl,{name:t,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),f=()=>{if(!i.value&&e.src){var t,a={alt:e.alt,class:Ec("img"),style:{objectFit:e.fit}};return e.lazyLoad?hn(Li("img",Mi({ref:s},a),null),[[(t="lazy",gn("directives",t)),e.src]]):Li("img",Mi({src:e.src,onLoad:d,onError:u},a),null)}},p=e=>{var{el:t}=e;t===s.value&&o.value&&d()},v=e=>{var{el:t}=e;t!==s.value||i.value||u()};return l&&r&&(l.$on("loaded",p),l.$on("error",v),on((()=>{l.$off("loaded",p),l.$off("error",v)}))),()=>Li("div",{class:Ec({round:e.round}),style:c.value},[f(),o.value&&e.showLoading?Li("div",{class:Ec("loading")},[h(e.loadingIcon,Ec("loading-icon"),n.loading)]):i.value&&e.showError?Li("div",{class:Ec("error")},[h(e.errorIcon,Ec("error-icon"),n.error)]):void 0,null==n.default?void 0:n.default()])}});var Tc=Jr(wc);var Sc=e=>Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2)),kc=so("image-preview")[1];const Lc=Ga({props:{src:String,show:Boolean,active:Number,minZoom:ho(co),maxZoom:ho(co),rootWidth:ho(Number),rootHeight:ho(Number)},emits:["scale","close"],setup(e,t){var a,n,i,r,o,s,{emit:l}=t,c=dt({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),d=Is(),u=tr((()=>{var{rootWidth:t,rootHeight:a}=e,n=a/t;return c.imageRatio>n})),h=tr((()=>{var{scale:e,moveX:t,moveY:a,moving:n,zooming:i}=c,r={transitionDuration:i||n?"0s":".3s"};if(1!==e){var o=t/e,s=a/e;r.transform="scale("+e+", "+e+") translate("+o+"px, "+s+"px)"}return r})),f=tr((()=>{if(c.imageRatio){var{rootWidth:t,rootHeight:a}=e,n=u.value?a/c.imageRatio:t;return Math.max(0,(c.scale*n-t)/2)}return 0})),p=tr((()=>{if(c.imageRatio){var{rootWidth:t,rootHeight:a}=e,n=u.value?a:t*c.imageRatio;return Math.max(0,(c.scale*n-a)/2)}return 0})),v=t=>{(t=Zr(t,+e.minZoom,+e.maxZoom))!==c.scale&&(c.scale=t,l("scale",{scale:t,index:e.active}))},m=()=>{v(1),c.moveX=0,c.moveY=0},g=e=>{var{touches:t}=e,{offsetX:o}=d;d.start(e),a=c.moveX,n=c.moveY,s=Date.now(),c.moving=1===t.length&&1!==c.scale,c.zooming=2===t.length&&!o.value,c.zooming&&(i=c.scale,r=Sc(e.touches))},y=e=>{var{touches:t}=e;if(d.move(e),(c.moving||c.zooming)&&Fr(e,!0),c.moving){var{deltaX:o,deltaY:s}=d,l=o.value+a,u=s.value+n;c.moveX=Zr(l,-f.value,f.value),c.moveY=Zr(u,-p.value,p.value)}if(c.zooming&&2===t.length){var h=Sc(t);v(i*h/r)}},b=()=>{var e,{offsetX:t,offsetY:a}=d,n=Date.now()-s;t.value<10&&a.value<10&&n<250&&(o?(clearTimeout(o),o=null,e=c.scale>1?1:2,v(e),c.moveX=0,c.moveY=0):o=setTimeout((()=>{l("close"),o=null}),250))},_=e=>{var t=!1;(c.moving||c.zooming)&&(t=!0,c.moving&&a===c.moveX&&n===c.moveY&&(t=!1),e.touches.length||(c.zooming&&(c.moveX=Zr(c.moveX,-f.value,f.value),c.moveY=Zr(c.moveY,-p.value,p.value),c.zooming=!1),c.moving=!1,a=0,n=0,i=1,c.scale<1&&m())),Fr(e,t),b(),d.reset()},x=e=>{var{naturalWidth:t,naturalHeight:a}=e.target;c.imageRatio=a/t};return Aa((()=>e.active),m),Aa((()=>e.show),(e=>{e||m()})),()=>{var t={loading:()=>Li(Ml,{type:"spinner"},null)};return Li(Ws,{class:kc("swipe-item"),onTouchstart:g,onTouchmove:y,onTouchend:_,onTouchcancel:_},{default:()=>[Li(Tc,{src:e.src,fit:"contain",class:kc("image",{vertical:u.value}),style:h.value,onLoad:x},t)]})}}});var[Ac,Dc]=so("image-preview"),Ic=["show","transition","overlayStyle","closeOnPopstate"];const Cc=Ga({name:Ac,props:{show:Boolean,loop:uo,images:fo(),minZoom:vo(1/3),maxZoom:vo(3),overlay:uo,closeable:Boolean,showIndex:uo,className:lo,closeIcon:mo("clear"),transition:String,beforeClose:Function,overlayStyle:Object,swipeDuration:vo(300),startPosition:vo(0),showIndicators:Boolean,closeOnPopstate:uo,closeIconPosition:mo("top-right")},emits:["scale","close","closed","change","update:show"],setup(e,t){var{emit:a,slots:n}=t,i=Tt(),r=dt({active:0,rootWidth:0,rootHeight:0}),o=()=>{if(i.value){var e=dr(i.value.$el);r.rootWidth=e.width,r.rootHeight=e.height,i.value.resize()}},l=e=>a("scale",e),c=e=>a("update:show",e),d=()=>{us(e.beforeClose,{args:[r.active],done:()=>c(!1)})},u=e=>{e!==r.active&&(r.active=e,a("change",e))},h=()=>{if(e.showIndex)return Li("div",{class:Dc("index")},[n.index?n.index({index:r.active}):r.active+1+" / "+e.images.length])},f=()=>{if(n.cover)return Li("div",{class:Dc("cover")},[n.cover()])},p=()=>{if(e.closeable)return Li(sl,{role:"button",name:e.closeIcon,class:[Dc("close-icon",e.closeIconPosition),Eo],onClick:d},null)},v=()=>a("closed"),m=(e,t)=>{var a;return null==(a=i.value)?void 0:a.swipeTo(e,t)};return gs({swipeTo:m}),an(o),Aa([zr,Vr],o),Aa((()=>e.startPosition),(e=>u(+e))),Aa((()=>e.show),(t=>{var{images:n,startPosition:i}=e;t?(u(+i),Ht((()=>{o(),m(+i,{immediate:!0})}))):a("close",{index:r.active,url:n[r.active]})})),()=>Li(Il,Mi({class:[Dc(),e.className],overlayClass:Dc("overlay"),onClosed:v,"onUpdate:show":c},s(e,Ic)),{default:()=>[p(),Li(Ns,{ref:i,lazyRender:!0,loop:e.loop,class:Dc("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:u},{default:()=>[e.images.map((t=>Li(Lc,{src:t,show:e.show,active:r.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:r.rootWidth,rootHeight:r.rootHeight,onScale:l,onClose:d},null)))]}),h(),f()]})}});var Rc,Pc={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};var Oc=function(e,t){if(void 0===t&&(t=0),r)return Rc||({instance:Rc}=vl({setup(){var{state:e,toggle:t}=pl(),a=()=>{e.images=[]};return()=>Li(Cc,Mi(e,{onClosed:a,"onUpdate:show":t}),null)}})),e=Array.isArray(e)?{images:e,startPosition:t}:e,Rc.open(i({},Pc,e)),Rc};Oc.Component=Jr(Cc),Oc.install=e=>{e.use(Oc.Component)};const Mc=Ga({props:{name:co,item:ho(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:co,beforeDelete:Function},emits:["delete","preview"],setup(e,t){var{emit:a,slots:n}=t,r=()=>{var{status:t,message:a}=e.item;if("uploading"===t||"failed"===t){var n="failed"===t?Li(sl,{name:"close",class:pc("mask-icon")},null):Li(Ml,{class:pc("loading")},null),i=kr(a)&&""!==a;return Li("div",{class:pc("mask")},[n,i&&Li("div",{class:pc("mask-message")},[a])])}},o=t=>{var{name:n,item:i,index:r,beforeDelete:o}=e;t.stopPropagation(),us(o,{args:[i,{name:n,index:r}],done:()=>a("delete")})},s=()=>a("preview"),l=()=>{if(e.deletable&&"uploading"!==e.item.status)return Li("div",{role:"button",class:pc("preview-delete"),tabindex:0,"aria-label":vc("delete"),onClick:o},[Li(sl,{name:"cross",class:pc("preview-delete-icon")},null)])},c=()=>{if(n["preview-cover"]){var{index:t,item:a}=e;return Li("div",{class:pc("preview-cover")},[n["preview-cover"](i({index:t},a))])}},d=()=>{var{item:t}=e;return _c(t)?Li(Tc,{fit:e.imageFit,src:t.content||t.url,class:pc("preview-image"),width:e.previewSize,height:e.previewSize,lazyLoad:e.lazyLoad,onClick:s},{default:c}):Li("div",{class:pc("file"),style:Hr(e.previewSize)},[Li(sl,{class:pc("file-icon"),name:"description"},null),Li("div",{class:[pc("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),c()])};return()=>Li("div",{class:pc("preview")},[d(),r(),l()])}});const Nc=Ga({name:fc,props:{name:vo(""),accept:mo("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:vo(1/0),imageFit:mo("cover"),resultType:mo("dataUrl"),uploadIcon:mo("photograph"),uploadText:String,deletable:uo,afterRead:Function,showUpload:uo,modelValue:fo(),beforeRead:Function,beforeDelete:Function,previewSize:co,previewImage:uo,previewOptions:Object,previewFullImage:uo,maxSize:{type:[Number,String,Function],default:1/0}},emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,t){var a,{emit:n,slots:r}=t,o=Tt(),l=[],c=function(t){return void 0===t&&(t=e.modelValue.length),{name:e.name,index:t}},d=()=>{o.value&&(o.value.value="")},u=t=>{if(d(),yc(t,e.maxSize)){if(!Array.isArray(t))return void n("oversize",t,c());var a=function(e,t){var a=[],n=[];return e.forEach((e=>{yc(e,t)?n.push(e):a.push(e)})),{valid:a,invalid:n}}(t,e.maxSize);if(t=a.valid,n("oversize",a.invalid,c()),!t.length)return}t=dt(t),n("update:modelValue",[...e.modelValue,...mc(t)]),e.afterRead&&e.afterRead(t,c())},h=t=>{var{maxCount:a,modelValue:n,resultType:i}=e;if(Array.isArray(t)){var r=+a-n.length;t.length>r&&(t=t.slice(0,r)),Promise.all(t.map((e=>gc(e,i)))).then((e=>{var a=t.map(((t,a)=>{var n={file:t,status:"",message:""};return e[a]&&(n.content=e[a]),n}));u(a)}))}else gc(t,i).then((e=>{var a={file:t,status:"",message:""};e&&(a.content=e),u(a)}))},f=t=>{var{files:a}=t.target;if(!e.disabled&&a&&a.length){var n=1===a.length?a[0]:[].slice.call(a);if(e.beforeRead){var i=e.beforeRead(n,c());if(!i)return void d();if(Dr(i))return void i.then((e=>{h(e||n)})).catch(d)}h(n)}},p=()=>n("close-preview"),v=(t,o)=>{var d=["imageFit","deletable","previewSize","beforeDelete"],u=i(s(e,d),s(t,d,!0));return Li(Mc,Mi({item:t,index:o,onClick:()=>n("click-preview",t,c(o)),onDelete:()=>((t,a)=>{var i=e.modelValue.slice(0);i.splice(a,1),n("update:modelValue",i),n("delete",t,c(a))})(t,o),onPreview:()=>(t=>{if(e.previewFullImage){var n=e.modelValue.filter(_c),r=n.map((e=>(e.file&&!e.url&&(e.url=URL.createObjectURL(e.file),l.push(e.url)),e.url))).filter(Boolean);a=Oc(i({images:r,startPosition:n.indexOf(t),onClose:p},e.previewOptions))}})(t)},s(e,["name","lazyLoad"]),u),{"preview-cover":r["preview-cover"]})},m=()=>{if(e.previewImage)return e.modelValue.map(v)},g=e=>n("click-upload",e),y=()=>{if(!(e.modelValue.length>=e.maxCount)&&e.showUpload){var t=e.readonly?null:Li("input",{ref:o,type:"file",class:pc("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:f},null);return r.default?Li("div",{class:pc("input-wrapper"),onClick:g},[r.default(),t]):Li("div",{class:pc("upload",{readonly:e.readonly}),style:Hr(e.previewSize),onClick:g},[Li(sl,{name:e.uploadIcon,class:pc("upload-icon")},null),e.uploadText&&Li("span",{class:pc("upload-text")},[e.uploadText]),t])}};return on((()=>{l.forEach((e=>URL.revokeObjectURL(e)))})),gs({chooseFile:()=>{o.value&&!e.disabled&&o.value.click()},closeImagePreview:()=>{a&&a.close()}}),Sr((()=>e.modelValue)),()=>Li("div",{class:pc()},[Li("div",{class:pc("wrapper",{disabled:e.disabled})},[m(),y()])])}});const Bc=Jr(Nc);a(3064);var[Fc,Uc]=so("switch");const jc=Ga({name:Fc,props:{size:co,loading:Boolean,disabled:Boolean,modelValue:lo,activeColor:String,inactiveColor:String,activeValue:{type:lo,default:!0},inactiveValue:{type:lo,default:!1}},emits:["change","update:modelValue"],setup(e,t){var{emit:a}=t,n=()=>e.modelValue===e.activeValue,i=()=>{if(!e.disabled&&!e.loading){var t=n()?e.inactiveValue:e.activeValue;a("update:modelValue",t),a("change",t)}},r=()=>{if(e.loading){var t=n()?e.activeColor:e.inactiveColor;return Li(Ml,{class:Uc("loading"),color:t},null)}};return Sr((()=>e.modelValue)),()=>{var{size:t,loading:a,disabled:o,activeColor:s,inactiveColor:l}=e,c=n(),d={fontSize:Gr(t),backgroundColor:c?s:l};return Li("div",{role:"switch",class:Uc({on:c,loading:a,disabled:o}),style:d,tabindex:o?void 0:0,"aria-checked":c,onClick:i},[Li("div",{class:Uc("node")},[r()])])}}});const zc=Jr(jc);a(9357),a(3479);function Vc(e,t){return(!t.required||!function(e){return Array.isArray(e)?!e.length:0!==e&&!e}(e))&&!(t.pattern&&!t.pattern.test(String(e)))}function Gc(e,t){var{message:a}=t;return Lr(a)?a(e,t):a||""}function Hc(e){var{target:t}=e;t.composing=!0}function qc(e){var{target:t}=e;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}function Kc(e){return[...e].length}var[Yc,Wc]=so("cell"),Xc={icon:String,size:String,title:co,value:co,label:co,center:Boolean,isLink:Boolean,border:uo,required:Boolean,iconPrefix:String,valueClass:lo,labelClass:lo,titleClass:lo,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}};const Zc=Ga({name:Yc,props:i({},Xc,ps),setup(e,t){var{slots:a}=t,n=ms(),i=()=>{if(a.label||kr(e.label))return Li("div",{class:[Wc("label"),e.labelClass]},[a.label?a.label():e.label])},r=()=>{if(a.title||kr(e.title))return Li("div",{class:[Wc("title"),e.titleClass],style:e.titleStyle},[a.title?a.title():Li("span",null,[e.title]),i()])},o=()=>{var t=a.value||a.default;if(t||kr(e.value)){var n=a.title||kr(e.title);return Li("div",{class:[Wc("value",{alone:!n}),e.valueClass]},[t?t():Li("span",null,[e.value])])}},s=()=>{if(a["right-icon"])return a["right-icon"]();if(e.isLink){var t=e.arrowDirection?"arrow-"+e.arrowDirection:"arrow";return Li(sl,{name:t,class:Wc("right-icon")},null)}};return()=>{var t,{size:i,center:l,border:c,isLink:d,required:u}=e,h=null!=(t=e.clickable)?t:d,f={center:l,required:u,clickable:h,borderless:!c};return i&&(f[i]=!!i),Li("div",{class:Wc(f),role:h?"button":void 0,tabindex:h?0:void 0,onClick:n},[a.icon?a.icon():e.icon?Li(sl,{name:e.icon,class:Wc("left-icon"),classPrefix:e.iconPrefix},null):void 0,r(),o(),s(),null==a.extra?void 0:a.extra()])}}});var Qc=Jr(Zc);const Jc=Qc;var[$c,ed]=so("field"),td={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:co,formatter:Function,clearIcon:mo("clear"),modelValue:vo(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,clearTrigger:mo("focus"),formatTrigger:mo("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}};const ad=Ga({name:$c,props:i({},Xc,td,{rows:co,type:mo("text"),rules:Array,autosize:[Boolean,Object],labelWidth:co,labelClass:lo,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,t){var{emit:a,slots:n}=t,i=fs(),r=dt({focused:!1,validateFailed:!1,validateMessage:""}),o=Tt(),s=Tt(),{parent:l}=ur(wo),c=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},d=t=>kr(e[t])?e[t]:l&&kr(l.props[t])?l.props[t]:void 0,u=tr((()=>{var t=d("readonly");if(e.clearable&&!t){var a=""!==c(),n="always"===e.clearTrigger||"focus"===e.clearTrigger&&r.focused;return a&&n}return!1})),h=tr((()=>s.value&&n.input?s.value():e.modelValue)),f=e=>e.reduce(((e,t)=>e.then((()=>{if(!r.validateFailed){var{value:e}=h;return t.formatter&&(e=t.formatter(e,t)),Vc(e,t)?t.validator?function(e,t){return new Promise((a=>{var n=t.validator(e,t);if(Dr(n))return n.then(a);a(n)}))}(e,t).then((a=>{a&&"string"==typeof a?(r.validateFailed=!0,r.validateMessage=a):!1===a&&(r.validateFailed=!0,r.validateMessage=Gc(e,t))})):void 0:(r.validateFailed=!0,void(r.validateMessage=Gc(e,t)))}}))),Promise.resolve()),p=()=>{r.validateFailed&&(r.validateFailed=!1,r.validateMessage="")},v=function(t){return void 0===t&&(t=e.rules),new Promise((a=>{p(),t?f(t).then((()=>{r.validateFailed?a({name:e.name,message:r.validateMessage}):a()})):a()}))},m=t=>{if(l&&e.rules){var a=l.props.validateTrigger===t,n=e.rules.filter((e=>e.trigger?e.trigger===t:a));n.length&&v(n)}},g=function(t,n){if(void 0===n&&(n="onChange"),t=(t=>{var{maxlength:a}=e;if(kr(a)&&Kc(t)>a){var n=c();return n&&Kc(n)===+a?n:function(e,t){return[...e].slice(0,t).join("")}(t,+a)}return t})(t),"number"===e.type||"digit"===e.type){var i="number"===e.type;t=function(e,t,a){void 0===t&&(t=!0),void 0===a&&(a=!0),e=t?Qr(e,".",/\./g):e.split(".")[0];var n=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=a?Qr(e,"-",/-/g):e.replace(/-/,"")).replace(n,"")}(t,i,i)}e.formatter&&n===e.formatTrigger&&(t=e.formatter(t)),o.value&&o.value.value!==t&&(o.value.value=t),t!==e.modelValue&&a("update:modelValue",t)},y=e=>{e.target.composing||g(e.target.value)},b=()=>{var e;return null==(e=o.value)?void 0:e.blur()},_=()=>{var t=o.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){var a=Pr();e.style.height="auto";var n=e.scrollHeight;if(Ar(t)){var{maxHeight:i,minHeight:r}=t;void 0!==i&&(n=Math.min(n,i)),void 0!==r&&(n=Math.max(n,r))}n&&(e.style.height=n+"px",Or(a))}(t,e.autosize)},x=e=>{r.focused=!0,a("focus",e),Ht(_),d("readonly")&&b()},E=e=>{d("readonly")||(r.focused=!1,g(c(),"onBlur"),a("blur",e),m("onBlur"),Ht(_),Nr&&Or(Pr()))},w=e=>a("click-input",e),T=e=>a("click-left-icon",e),S=e=>a("click-right-icon",e),k=e=>{Fr(e),a("update:modelValue",""),a("clear",e)},L=tr((()=>"boolean"==typeof e.error?e.error:!!(l&&l.props.showError&&r.validateFailed)||void 0)),A=tr((()=>{var e=d("labelWidth");if(e)return{width:Gr(e)}})),D=t=>{13===t.keyCode&&(l&&l.props.submitOnEnter||"textarea"===e.type||Fr(t),"search"===e.type&&b());a("keypress",t)},I=()=>e.id||i+"-input",C=()=>{var t=ed("control",[d("inputAlign"),{error:L.value,custom:!!n.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(n.input)return Li("div",{class:t,onClick:w},[n.input()]);var a,r={id:I(),ref:o,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,value:e.modelValue,disabled:d("disabled"),readonly:d("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,"aria-labelledby":e.label?i+"-label":void 0,onBlur:E,onFocus:x,onInput:y,onClick:w,onChange:qc,onKeypress:D,onCompositionend:qc,onCompositionstart:Hc};return"textarea"===e.type?Li("textarea",r,null):Li("input",Mi("number"===(a=e.type)?{type:"text",inputmode:"decimal"}:"digit"===a?{type:"tel",inputmode:"numeric"}:{type:a},r),null)},R=()=>{var t=n["right-icon"];if(e.rightIcon||t)return Li("div",{class:ed("right-icon"),onClick:S},[t?t():Li(sl,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},P=()=>{if(e.showWordLimit&&e.maxlength){var t=Kc(c());return Li("div",{class:ed("word-limit")},[Li("span",{class:ed("word-num")},[t]),Ii("/"),e.maxlength])}},O=()=>{if(!l||!1!==l.props.showErrorMessage){var t=e.errorMessage||r.validateMessage;if(t){var a=n["error-message"],i=d("errorMessageAlign");return Li("div",{class:ed("error-message",i)},[a?a({message:t}):t])}}},M=()=>[Li("div",{class:ed("body")},[C(),u.value&&Li(sl,{name:e.clearIcon,class:ed("clear"),onTouchstart:k},null),R(),n.button&&Li("div",{class:ed("button")},[n.button()])]),P(),O()];return gs({blur:b,focus:()=>{var e;return null==(e=o.value)?void 0:e.focus()},validate:v,formValue:h,resetValidation:p}),Ta(Tr,{customValue:s,resetValidation:p,validateWithTrigger:m}),Aa((()=>e.modelValue),(()=>{g(c()),p(),m("onChange"),Ht(_)})),an((()=>{g(c(),e.formatTrigger),Ht(_)})),()=>{var t,a=d("disabled"),r=d("labelAlign"),o=(t=d("colon")?":":"",n.label?[n.label(),t]:e.label?Li("label",{id:i+"-label",for:I()},[e.label+t]):void 0),s=(()=>{var t=n["left-icon"];if(e.leftIcon||t)return Li("div",{class:ed("left-icon"),onClick:T},[t?t():Li(sl,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return Li(Qc,{size:e.size,icon:e.leftIcon,class:ed({error:L.value,disabled:a,["label-"+r]:r}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:A.value,valueClass:ed("value"),titleClass:[ed("label",[r,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:s?()=>s:null,title:o?()=>o:null,value:M,extra:n.extra})}}});var nd=Jr(ad);const id=nd;var[rd,od]=so("form");const sd=Ga({name:rd,props:{colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:co,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:uo,validateTrigger:mo("onBlur"),showErrorMessage:uo,errorMessageAlign:String},emits:["submit","failed"],setup(e,t){var{emit:a,slots:n}=t,{children:i,linkChildren:r}=fr(wo),o=e=>e?i.filter((t=>e.includes(t.name))):i,s=t=>{return"string"==typeof t?(e=>{var t=i.find((t=>t.name===e));return t?new Promise(((e,a)=>{t.validate().then((t=>{t?a(t):e()}))})):Promise.reject()})(t):e.validateFirst?(a=t,new Promise(((e,t)=>{var n=[];o(a).reduce(((e,t)=>e.then((()=>{if(!n.length)return t.validate().then((e=>{e&&n.push(e)}))}))),Promise.resolve()).then((()=>{n.length?t(n):e()}))}))):(e=>new Promise(((t,a)=>{var n=o(e);Promise.all(n.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?a(e):t()}))})))(t);var a},l=(e,t)=>{i.some((a=>a.name===e&&(a.$el.scrollIntoView(t),!0)))},c=()=>{var t=i.reduce(((e,t)=>(e[t.name]=t.formValue.value,e)),{});s().then((()=>a("submit",t))).catch((n=>{a("failed",{values:t,errors:n}),e.scrollToError&&n[0].name&&l(n[0].name)}))},d=e=>{Fr(e),c()};return r({props:e}),gs({submit:c,validate:s,scrollToField:l,resetValidation:e=>{"string"==typeof e&&(e=[e]),o(e).forEach((e=>{e.resetValidation()}))}}),()=>Li("form",{class:od(),onSubmit:d},[null==n.default?void 0:n.default()])}});const ld=Jr(sd);a(4432);var[cd,dd]=so("cell-group");const ud=Jr(Ga({name:cd,inheritAttrs:!1,props:{title:String,inset:Boolean,border:uo},setup(e,t){var{slots:a,attrs:n}=t,i=()=>Li("div",Mi({class:[dd({inset:e.inset}),{[xo]:e.border&&!e.inset}]},n),[null==a.default?void 0:a.default()]);return()=>e.title||a.title?Li(li,null,[Li("div",{class:dd("title",{inset:e.inset})},[a.title?a.title():e.title]),i()]):i()}}));a(4405);var[hd,fd]=so("button");const pd=Ga({name:hd,props:i({},ps,{tag:mo("button"),text:String,icon:String,type:mo("default"),size:mo("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:mo("button"),loadingSize:co,loadingText:String,loadingType:String,iconPosition:mo("left")}),emits:["click"],setup(e,t){var{emit:a,slots:n}=t,i=ms(),r=()=>e.loading?n.loading?n.loading():Li(Ml,{size:e.loadingSize,type:e.loadingType,class:fd("loading")},null):n.icon?Li("div",{class:fd("icon")},[n.icon()]):e.icon?Li(sl,{name:e.icon,class:fd("icon"),classPrefix:e.iconPrefix},null):void 0,o=()=>{var t;if(t=e.loading?e.loadingText:n.default?n.default():e.text)return Li("span",{class:fd("text")},[t])},s=()=>{var{color:t,plain:a}=e;if(t){var n={color:a?t:"white"};return a||(n.background=t),t.includes("gradient")?n.border=0:n.borderColor=t,n}},l=t=>{e.loading?Fr(t):e.disabled||(a("click",t),i())};return()=>{var{tag:t,type:a,size:n,block:i,round:c,plain:d,square:u,loading:h,disabled:f,hairline:p,nativeType:v,iconPosition:m}=e,g=[fd([a,n,{plain:d,block:i,round:c,square:u,loading:h,disabled:f,hairline:p}]),{[_o]:p}];return Li(t,{type:v,class:g,style:s(),disabled:f,onClick:l},{default:()=>[Li("div",{class:fd("content")},["left"===m&&r(),o(),"right"===m&&r()])]})}}});var vd=Jr(pd);const md=vd;a(2238);var[gd,yd]=so("row"),bd=Symbol(gd);const _d=Jr(Ga({name:gd,props:{tag:mo("div"),wrap:uo,align:String,gutter:vo(0),justify:String},setup(e,t){var{slots:a}=t,{children:n,linkChildren:i}=fr(bd),r=tr((()=>{var e=[[]],t=0;return n.forEach(((a,n)=>{(t+=Number(a.span))>24?(e.push([n]),t-=24):e[e.length-1].push(n)})),e}));return i({spaces:tr((()=>{var t=Number(e.gutter),a=[];return t?(r.value.forEach((e=>{var n=t*(e.length-1)/e.length;e.forEach(((e,i)=>{if(0===i)a.push({right:n});else{var r=t-a[e-1].right,o=n-r;a.push({left:r,right:o})}}))})),a):a}))}),()=>{var{tag:t,wrap:n,align:i,justify:r}=e;return Li(t,{class:yd({["align-"+i]:i,["justify-"+r]:r,nowrap:!n})},{default:()=>[null==a.default?void 0:a.default()]})}}}));a(4480);var[xd,Ed]=so("col");const wd=Jr(Ga({name:xd,props:{tag:mo("div"),span:vo(0),offset:co},setup(e,t){var{slots:a}=t,{parent:n,index:i}=ur(bd),r=tr((()=>{if(n){var{spaces:e}=n;if(e&&e.value&&e.value[i.value]){var{left:t,right:a}=e.value[i.value];return{paddingLeft:t?t+"px":null,paddingRight:a?a+"px":null}}}}));return()=>{var{tag:t,span:n,offset:i}=e;return Li(t,{style:r.value,class:Ed({[n]:n,["offset-"+i]:i})},{default:()=>[null==a.default?void 0:a.default()]})}}}));a(9851);var[Td,Sd,kd]=so("search");const Ld=Ga({name:Td,props:i({},td,{label:String,shape:mo("square"),leftIcon:mo("search"),clearable:uo,actionText:String,background:String,showAction:Boolean}),emits:["search","cancel","update:modelValue"],setup(e,t){var{emit:a,slots:n,attrs:r}=t,o=fs(),l=Tt(),c=()=>{n.action||(a("update:modelValue",""),a("cancel"))},d=t=>{13===t.keyCode&&(Fr(t),a("search",e.modelValue))},u=()=>e.id||o+"-input",h=()=>{if(n.label||e.label)return Li("label",{class:Sd("label"),for:u()},[n.label?n.label():e.label])},f=()=>{if(e.showAction){var t=e.actionText||kd("cancel");return Li("div",{class:Sd("action"),role:"button",tabindex:0,onClick:c},[n.action?n.action():t])}},p=Object.keys(td);return gs({focus:()=>{var e;return null==(e=l.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=l.value)?void 0:e.blur()}}),()=>{return Li("div",{class:Sd({"show-action":e.showAction}),style:{background:e.background}},[null==n.left?void 0:n.left(),Li("div",{class:Sd("content",e.shape)},[h(),(t=i({},r,s(e,p),{id:u()}),Li(nd,Mi({ref:l,type:"search",class:Sd("field"),border:!1,onKeypress:d,"onUpdate:modelValue":e=>a("update:modelValue",e)},t),s(n,["left-icon","right-icon"])))]),f()]);var t}}});const Ad=Jr(Ld);a(3257),a(7356),a(7189);var[Dd,Id]=so("action-bar"),Cd=Symbol(Dd);var Rd=Jr(Ga({name:Dd,props:{safeAreaInsetBottom:uo},setup(e,t){var{slots:a}=t,{linkChildren:n}=fr(Cd);return n(),()=>Li("div",{class:[Id(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==a.default?void 0:a.default()])}}));var[Pd,Od]=so("action-bar-button");const Md=Ga({name:Pd,props:i({},ps,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,t){var{slots:a}=t,n=ms(),{parent:i,index:r}=ur(Cd),o=tr((()=>{if(i){var e=i.children[r.value-1];return!(e&&"isButton"in e)}})),s=tr((()=>{if(i){var e=i.children[r.value+1];return!(e&&"isButton"in e)}}));return gs({isButton:!0}),()=>{var{type:t,icon:i,text:r,color:l,loading:c,disabled:d}=e;return Li(vd,{class:Od([t,{last:s.value,first:o.value}]),size:"large",type:t,icon:i,color:l,loading:c,disabled:d,onClick:n},{default:()=>[a.default?a.default():r]})}}});var Nd=Jr(Md);var[Bd,Fd,Ud]=so("dialog"),jd=i({},gl,{title:String,theme:String,width:co,message:[String,Function],callback:Function,allowHtml:Boolean,className:lo,transition:mo("van-dialog-bounce"),messageAlign:String,closeOnPopstate:uo,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:uo,closeOnClickOverlay:Boolean}),zd=[...yl,"transition","closeOnPopstate"];const Vd=Ga({name:Bd,props:jd,emits:["confirm","cancel","update:show"],setup(e,t){var{emit:a,slots:n}=t,i=dt({confirm:!1,cancel:!1}),r=e=>a("update:show",e),o=t=>{r(!1),null==e.callback||e.callback(t)},l=t=>()=>{e.show&&(a(t),e.beforeClose?(i[t]=!0,us(e.beforeClose,{args:[t],done(){o(t),i[t]=!1},canceled(){i[t]=!1}})):o(t))},c=l("cancel"),d=l("confirm"),u=()=>{var t=n.title?n.title():e.title;if(t)return Li("div",{class:Fd("header",{isolated:!e.message&&!n.default})},[t])},h=t=>{var{message:a,allowHtml:n,messageAlign:i}=e,r=Fd("message",{"has-title":t,[i]:i}),o=Lr(a)?a():a;return n&&"string"==typeof o?Li("div",{class:r,innerHTML:o},null):Li("div",{class:r},[o])},f=()=>{if(n.default)return Li("div",{class:Fd("content")},[n.default()]);var{title:t,message:a,allowHtml:i}=e;if(a){var r=!(!t&&!n.title);return Li("div",{key:i?1:0,class:Fd("content",{isolated:!r})},[h(r)])}},p=()=>n.footer?n.footer():"round-button"===e.theme?Li(Rd,{class:Fd("footer")},{default:()=>[e.showCancelButton&&Li(Nd,{type:"warning",text:e.cancelButtonText||Ud("cancel"),class:Fd("cancel"),color:e.cancelButtonColor,loading:i.cancel,onClick:c},null),e.showConfirmButton&&Li(Nd,{type:"danger",text:e.confirmButtonText||Ud("confirm"),class:Fd("confirm"),color:e.confirmButtonColor,loading:i.confirm,onClick:d},null)]}):Li("div",{class:[yo,Fd("footer")]},[e.showCancelButton&&Li(vd,{size:"large",text:e.cancelButtonText||Ud("cancel"),class:Fd("cancel"),style:{color:e.cancelButtonColor},loading:i.cancel,onClick:c},null),e.showConfirmButton&&Li(vd,{size:"large",text:e.confirmButtonText||Ud("confirm"),class:[Fd("confirm"),{[bo]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:i.confirm,onClick:d},null)]);return()=>{var{width:t,title:a,theme:n,message:i,className:o}=e;return Li(Il,Mi({role:"dialog",class:[Fd([n]),o],style:{width:Gr(t)},"aria-labelledby":a||i,"onUpdate:show":r},s(e,zd)),{default:()=>[u(),f(),p()]})}}});var Gd;function Hd(e){return r?new Promise(((t,a)=>{var n;Gd||(n={setup(){var{state:e,toggle:t}=pl();return()=>Li(Vd,Mi(e,{"onUpdate:show":t}),null)}},({instance:Gd}=vl(n))),Gd.open(i({},Hd.currentOptions,e,{callback:e=>{("confirm"===e?t:a)(e)}}))})):Promise.resolve()}Hd.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},Hd.currentOptions=i({},Hd.defaultOptions),Hd.alert=Hd,Hd.confirm=e=>Hd(i({showCancelButton:!0},e)),Hd.close=()=>{Gd&&Gd.toggle(!1)},Hd.setDefaultOptions=e=>{i(Hd.currentOptions,e)},Hd.resetDefaultOptions=()=>{Hd.currentOptions=i({},Hd.defaultOptions)},Hd.Component=Jr(Vd),Hd.install=e=>{e.use(Hd.Component),e.config.globalProperties.$dialog=Hd};const qd=Hd;a(9475);var[Kd,Yd,Wd]=so("pagination"),Xd=(e,t,a)=>({number:e,text:t,active:a});const Zd=Ga({name:Kd,props:{mode:mo("multi"),prevText:String,nextText:String,pageCount:vo(0),modelValue:po(0),totalItems:vo(0),showPageSize:vo(5),itemsPerPage:vo(10),forceEllipses:Boolean},emits:["change","update:modelValue"],setup(e,t){var{emit:a,slots:n}=t,i=tr((()=>{var{pageCount:t,totalItems:a,itemsPerPage:n}=e,i=+t||Math.ceil(+a/+n);return Math.max(1,i)})),r=tr((()=>{var t=[],a=i.value,n=+e.showPageSize,{modelValue:r,forceEllipses:o}=e,s=1,l=a,c=n<a;c&&(l=(s=Math.max(r-Math.floor(n/2),1))+n-1)>a&&(s=(l=a)-n+1);for(var d=s;d<=l;d++){var u=Xd(d,d,d===r);t.push(u)}if(c&&n>0&&o){if(s>1){var h=Xd(s-1,"...");t.unshift(h)}if(l<a){var f=Xd(l+1,"...");t.push(f)}}return t})),o=(t,n)=>{t=Zr(t,1,i.value),e.modelValue!==t&&(a("update:modelValue",t),n&&a("change",t))};ka((()=>o(e.modelValue)));var s=()=>{var{mode:t,modelValue:a}=e,i=n["prev-text"],r=1===a;return Li("li",{class:[Yd("item",{disabled:r,border:"simple"===t,prev:!0}),_o]},[Li("button",{type:"button",disabled:r,onClick:()=>o(a-1,!0)},[i?i():e.prevText||Wd("prev")])])},l=()=>{var{mode:t,modelValue:a}=e,r=n["next-text"],s=a===i.value;return Li("li",{class:[Yd("item",{disabled:s,border:"simple"===t,next:!0}),_o]},[Li("button",{type:"button",disabled:s,onClick:()=>o(a+1,!0)},[r?r():e.nextText||Wd("next")])])};return()=>Li("nav",{role:"navigation",class:Yd()},[Li("ul",{class:Yd("items")},[s(),"simple"===e.mode?Li("li",{class:Yd("page-desc")},[n.pageDesc?n.pageDesc():e.modelValue+"/"+i.value]):r.value.map((e=>Li("li",{class:[Yd("item",{active:e.active,page:!0}),_o]},[Li("button",{type:"button","aria-current":e.active||void 0,onClick:()=>o(e.number,!0)},[n.page?n.page(e):e.text])]))),l()])])}});const Qd=Jr(Zd);a(8519);var[Jd,$d]=so("notify");const eu=Ga({name:Jd,props:i({},gl,{type:mo("danger"),color:String,message:co,className:lo,background:String,lockScroll:Boolean}),emits:["update:show"],setup(e,t){var{emit:a,slots:n}=t,i=e=>a("update:show",e);return()=>Li(Il,{show:e.show,class:[$d([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:"top",duration:.2,lockScroll:e.lockScroll,"onUpdate:show":i},{default:()=>[n.default?n.default():e.message]})}});var tu,au;function nu(e){var t;if(r)return au||({instance:au}=vl({setup(){var{state:e,toggle:t}=pl();return()=>Li(eu,Mi(e,{"onUpdate:show":t}),null)}})),e=i({},nu.currentOptions,Ar(t=e)?t:{message:t}),au.open(e),clearTimeout(tu),e.duration>0&&(tu=window.setTimeout(nu.clear,e.duration)),au}nu.clear=()=>{au&&au.toggle(!1)},nu.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,className:"",lockScroll:!1,background:void 0},nu.setDefaultOptions=e=>{i(nu.currentOptions,e)},nu.resetDefaultOptions=()=>{nu.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,className:"",lockScroll:!1,background:void 0}},nu.Component=Jr(eu),nu.install=e=>{e.use(nu.Component),e.config.globalProperties.$notify=nu};const iu=nu,ru={id:"app-option-page"};const ou={name:"OptionApp"};a(2431);var su=a(3744);const lu=(0,su.Z)(ou,[["render",function(e,t,a,n,i,r){const o=vn("router-view");return pi(),bi("div",ru,[Li(o)])}]]);function cu(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==a.g?a.g:{}}const du="function"==typeof Proxy;let uu,hu;function fu(){return function(){var e;return void 0!==uu||("undefined"!=typeof window&&window.performance?(uu=!0,hu=window.performance):void 0!==a.g&&(null===(e=a.g.perf_hooks)||void 0===e?void 0:e.performance)?(uu=!0,hu=a.g.perf_hooks.performance):uu=!1),uu}()?hu.now():Date.now()}class pu{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const a={};if(e.settings)for(const t in e.settings){const n=e.settings[t];a[t]=n.defaultValue}const n=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},a);try{const e=localStorage.getItem(n),t=JSON.parse(e);Object.assign(i,t)}catch(e){}this.fallbacks={getSettings:()=>i,setSettings(e){try{localStorage.setItem(n,JSON.stringify(e))}catch(e){}i=e},now:()=>fu()},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((a=>{this.targetQueue.push({method:t,args:e,resolve:a})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function vu(e,t){const a=e,n=cu(),i=cu().__VUE_DEVTOOLS_GLOBAL_HOOK__,r=du&&a.enableEarlyProxy;if(!i||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&r){const e=r?new pu(a,i):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:a,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit("devtools-plugin:setup",e,t)}
/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const mu="undefined"!=typeof window;function gu(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const yu=Object.assign;function bu(e,t){const a={};for(const n in t){const i=t[n];a[n]=xu(i)?i.map(e):e(i)}return a}const _u=()=>{},xu=Array.isArray;const Eu=/\/$/;function wu(e,t,a="/"){let n,i={},r="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(n=t.slice(0,l),r=t.slice(l+1,s>-1?s:t.length),i=e(r)),s>-1&&(n=n||t.slice(0,s),o=t.slice(s,t.length)),n=function(e,t){if(e.startsWith("/"))return e;0;if(!e)return t;const a=t.split("/"),n=e.split("/");let i,r,o=a.length-1;for(i=0;i<n.length;i++)if(r=n[i],"."!==r){if(".."!==r)break;o>1&&o--}return a.slice(0,o).join("/")+"/"+n.slice(i-(i===n.length?1:0)).join("/")}(null!=n?n:t,a),{fullPath:n+(r&&"?")+r+o,path:n,query:i,hash:o}}function Tu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Su(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(!ku(e[a],t[a]))return!1;return!0}function ku(e,t){return xu(e)?Lu(e,t):xu(t)?Lu(t,e):e===t}function Lu(e,t){return xu(t)?e.length===t.length&&e.every(((e,a)=>e===t[a])):1===e.length&&e[0]===t}var Au,Du;!function(e){e.pop="pop",e.push="push"}(Au||(Au={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(Du||(Du={}));function Iu(e){if(!e)if(mu){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Eu,"")}const Cu=/^[^#]+#/;function Ru(e,t){return e.replace(Cu,"#")+t}const Pu=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ou(e){let t;if("el"in e){const a=e.el,n="string"==typeof a&&a.startsWith("#");0;const i="string"==typeof a?n?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!i)return;t=function(e,t){const a=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-a.left-(t.left||0),top:n.top-a.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function Mu(e,t){return(history.state?history.state.position-t:-1)+e}const Nu=new Map;function Bu(e){return"string"==typeof e||"symbol"==typeof e}const Fu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Uu=Symbol("");var ju;!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(ju||(ju={}));function zu(e,t){return yu(new Error,{type:e,[Uu]:!0},t)}function Vu(e,t){return e instanceof Error&&Uu in e&&(null==t||!!(e.type&t))}const Gu="[^/]+?",Hu={sensitive:!1,strict:!1,start:!0,end:!0},qu=/[.+*?^${}()[\]/\\]/g;function Ku(e,t){let a=0;for(;a<e.length&&a<t.length;){const n=t[a]-e[a];if(n)return n;a++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Yu(e,t){let a=0;const n=e.score,i=t.score;for(;a<n.length&&a<i.length;){const e=Ku(n[a],i[a]);if(e)return e;a++}if(1===Math.abs(i.length-n.length)){if(Wu(n))return 1;if(Wu(i))return-1}return i.length-n.length}function Wu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Xu={type:0,value:""},Zu=/[a-zA-Z0-9_]/;function Qu(e,t,a){const n=function(e,t){const a=yu({},Hu,t),n=[];let i=a.start?"^":"";const r=[];for(const t of e){const e=t.length?[]:[90];a.strict&&!t.length&&(i+="/");for(let n=0;n<t.length;n++){const o=t[n];let s=40+(a.sensitive?.25:0);if(0===o.type)n||(i+="/"),i+=o.value.replace(qu,"\\$&"),s+=40;else if(1===o.type){const{value:e,repeatable:a,optional:l,regexp:c}=o;r.push({name:e,repeatable:a,optional:l});const d=c||Gu;if(d!==Gu){s+=10;try{new RegExp(`(${d})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+t.message)}}let u=a?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;n||(u=l&&t.length<2?`(?:/${u})`:"/"+u),l&&(u+="?"),i+=u,s+=20,l&&(s+=-8),a&&(s+=-20),".*"===d&&(s+=-50)}e.push(s)}n.push(e)}if(a.strict&&a.end){const e=n.length-1;n[e][n[e].length-1]+=.7000000000000001}a.strict||(i+="/?"),a.end?i+="$":a.strict&&(i+="(?:/|$)");const o=new RegExp(i,a.sensitive?"":"i");return{re:o,score:n,keys:r,parse:function(e){const t=e.match(o),a={};if(!t)return null;for(let e=1;e<t.length;e++){const n=t[e]||"",i=r[e-1];a[i.name]=n&&i.repeatable?n.split("/"):n}return a},stringify:function(t){let a="",n=!1;for(const i of e){n&&a.endsWith("/")||(a+="/"),n=!1;for(const e of i)if(0===e.type)a+=e.value;else if(1===e.type){const{value:r,repeatable:o,optional:s}=e,l=r in t?t[r]:"";if(xu(l)&&!o)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const c=xu(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${r}"`);i.length<2&&(a.endsWith("/")?a=a.slice(0,-1):n=!0)}a+=c}}return a||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[Xu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${a})/"${c}": ${e}`)}let a=0,n=a;const i=[];let r;function o(){r&&i.push(r),r=[]}let s,l=0,c="",d="";function u(){c&&(0===a?r.push({type:0,value:c}):1===a||2===a||3===a?(r.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:d,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function h(){c+=s}for(;l<e.length;)if(s=e[l++],"\\"!==s||2===a)switch(a){case 0:"/"===s?(c&&u(),o()):":"===s?(u(),a=1):h();break;case 4:h(),a=n;break;case 1:"("===s?a=2:Zu.test(s)?h():(u(),a=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==d[d.length-1]?d=d.slice(0,-1)+s:a=3:d+=s;break;case 3:u(),a=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,d="";break;default:t("Unknown state")}else n=a,a=4;return 2===a&&t(`Unfinished custom RegExp for param "${c}"`),u(),o(),i}(e.path),a);const i=yu(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Ju(e,t){const a=[],n=new Map;function i(e,a,n){const s=!n,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:eh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);l.aliasOf=n&&n.record;const c=nh(t,e),d=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)d.push(yu({},l,{components:n?n.record.components:l.components,path:e,aliasOf:n?n.record:l}))}let u,h;for(const t of d){const{path:d}=t;if(a&&"/"!==d[0]){const e=a.record.path,n="/"===e[e.length-1]?"":"/";t.path=a.record.path+(d&&n+d)}if(u=Qu(t,a,c),n?n.alias.push(u):(h=h||u,h!==u&&h.alias.push(u),s&&e.name&&!th(u)&&r(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)i(e[t],u,n&&n.children[t])}n=n||u,(u.record.components&&Object.keys(u.record.components).length||u.record.name||u.record.redirect)&&o(u)}return h?()=>{r(h)}:_u}function r(e){if(Bu(e)){const t=n.get(e);t&&(n.delete(e),a.splice(a.indexOf(t),1),t.children.forEach(r),t.alias.forEach(r))}else{const t=a.indexOf(e);t>-1&&(a.splice(t,1),e.record.name&&n.delete(e.record.name),e.children.forEach(r),e.alias.forEach(r))}}function o(e){let t=0;for(;t<a.length&&Yu(e,a[t])>=0&&(e.record.path!==a[t].record.path||!ih(e,a[t]));)t++;a.splice(t,0,e),e.record.name&&!th(e)&&n.set(e.record.name,e)}return t=nh({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>i(e))),{addRoute:i,resolve:function(e,t){let i,r,o,s={};if("name"in e&&e.name){if(i=n.get(e.name),!i)throw zu(1,{location:e});0,o=i.record.name,s=yu($u(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&$u(e.params,i.keys.map((e=>e.name)))),r=i.stringify(s)}else if("path"in e)r=e.path,i=a.find((e=>e.re.test(r))),i&&(s=i.parse(r),o=i.record.name);else{if(i=t.name?n.get(t.name):a.find((e=>e.re.test(t.path))),!i)throw zu(1,{location:e,currentLocation:t});o=i.record.name,s=yu({},t.params,e.params),r=i.stringify(s)}const l=[];let c=i;for(;c;)l.unshift(c.record),c=c.parent;return{name:o,path:r,params:s,matched:l,meta:ah(l)}},removeRoute:r,getRoutes:function(){return a},getRecordMatcher:function(e){return n.get(e)}}}function $u(e,t){const a={};for(const n of t)n in e&&(a[n]=e[n]);return a}function eh(e){const t={},a=e.props||!1;if("component"in e)t.default=a;else for(const n in e.components)t[n]="boolean"==typeof a?a:a[n];return t}function th(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ah(e){return e.reduce(((e,t)=>yu(e,t.meta)),{})}function nh(e,t){const a={};for(const n in e)a[n]=n in t?t[n]:e[n];return a}function ih(e,t){return t.children.some((t=>t===e||ih(e,t)))}const rh=/#/g,oh=/&/g,sh=/\//g,lh=/=/g,ch=/\?/g,dh=/\+/g,uh=/%5B/g,hh=/%5D/g,fh=/%5E/g,ph=/%60/g,vh=/%7B/g,mh=/%7C/g,gh=/%7D/g,yh=/%20/g;function bh(e){return encodeURI(""+e).replace(mh,"|").replace(uh,"[").replace(hh,"]")}function _h(e){return bh(e).replace(dh,"%2B").replace(yh,"+").replace(rh,"%23").replace(oh,"%26").replace(ph,"`").replace(vh,"{").replace(gh,"}").replace(fh,"^")}function xh(e){return null==e?"":function(e){return bh(e).replace(rh,"%23").replace(ch,"%3F")}(e).replace(sh,"%2F")}function Eh(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function wh(e){const t={};if(""===e||"?"===e)return t;const a=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<a.length;++e){const n=a[e].replace(dh," "),i=n.indexOf("="),r=Eh(i<0?n:n.slice(0,i)),o=i<0?null:Eh(n.slice(i+1));if(r in t){let e=t[r];xu(e)||(e=t[r]=[e]),e.push(o)}else t[r]=o}return t}function Th(e){let t="";for(let a in e){const n=e[a];if(a=_h(a).replace(lh,"%3D"),null==n){void 0!==n&&(t+=(t.length?"&":"")+a);continue}(xu(n)?n.map((e=>e&&_h(e))):[n&&_h(n)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+a,null!=e&&(t+="="+e))}))}return t}function Sh(e){const t={};for(const a in e){const n=e[a];void 0!==n&&(t[a]=xu(n)?n.map((e=>null==e?null:""+e)):null==n?n:""+n)}return t}const kh=Symbol(""),Lh=Symbol(""),Ah=Symbol(""),Dh=Symbol(""),Ih=Symbol("");function Ch(){let e=[];return{add:function(t){return e.push(t),()=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)}},list:()=>e,reset:function(){e=[]}}}function Rh(e,t,a,n,i){const r=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise(((o,s)=>{const l=e=>{!1===e?s(zu(4,{from:a,to:t})):e instanceof Error?s(e):!function(e){return"string"==typeof e||e&&"object"==typeof e}(e)?(r&&n.enterCallbacks[i]===r&&"function"==typeof e&&r.push(e),o()):s(zu(2,{from:t,to:e}))},c=e.call(n&&n.instances[i],t,a,l);let d=Promise.resolve(c);e.length<3&&(d=d.then(l)),d.catch((e=>s(e)))}))}function Ph(e,t,a,n){const i=[];for(const o of e){0;for(const e in o.components){let s=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if("object"==typeof(r=s)||"displayName"in r||"props"in r||"__vccOpts"in r){const r=(s.__vccOpts||s)[t];r&&i.push(Rh(r,a,n,o,e))}else{let r=s();0,i.push((()=>r.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const r=gu(i)?i.default:i;o.components[e]=r;const s=(r.__vccOpts||r)[t];return s&&Rh(s,a,n,o,e)()}))))}}}var r;return i}function Oh(e){const t=Sa(Ah),a=Sa(Dh),n=tr((()=>t.resolve(Lt(e.to)))),i=tr((()=>{const{matched:e}=n.value,{length:t}=e,i=e[t-1],r=a.matched;if(!i||!r.length)return-1;const o=r.findIndex(Tu.bind(null,i));if(o>-1)return o;const s=Nh(e[t-2]);return t>1&&Nh(i)===s&&r[r.length-1].path!==s?r.findIndex(Tu.bind(null,e[t-2])):o})),r=tr((()=>i.value>-1&&function(e,t){for(const a in t){const n=t[a],i=e[a];if("string"==typeof n){if(n!==i)return!1}else if(!xu(i)||i.length!==n.length||n.some(((e,t)=>e!==i[t])))return!1}return!0}(a.params,n.value.params))),o=tr((()=>i.value>-1&&i.value===a.matched.length-1&&Su(a.params,n.value.params)));if(__VUE_PROD_DEVTOOLS__&&mu){const e=zi();if(e){const t={route:n.value,isActive:r.value,isExactActive:o.value};e.__vrl_devtools=e.__vrl_devtools||[],e.__vrl_devtools.push(t),ka((()=>{t.route=n.value,t.isActive=r.value,t.isExactActive=o.value}),{flush:"post"})}}return{route:n,href:tr((()=>n.value.href)),isActive:r,isExactActive:o,navigate:function(a={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(a)?t[Lt(e.replace)?"replace":"push"](Lt(e.to)).catch(_u):Promise.resolve()}}}const Mh=Ga({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Oh,setup(e,{slots:t}){const a=dt(Oh(e)),{options:n}=Sa(Ah),i=tr((()=>({[Bh(e.activeClass,n.linkActiveClass,"router-link-active")]:a.isActive,[Bh(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive})));return()=>{const n=t.default&&t.default(a);return e.custom?n:ar("a",{"aria-current":a.isExactActive?e.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:i.value},n)}}});function Nh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Bh=(e,t,a)=>null!=e?e:null!=t?t:a,Fh=Ga({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:a}){const n=Sa(Ih),i=tr((()=>e.route||n.value)),r=Sa(Lh,0),o=tr((()=>{let e=Lt(r);const{matched:t}=i.value;let a;for(;(a=t[e])&&!a.components;)e++;return e})),s=tr((()=>i.value.matched[o.value]));Ta(Lh,tr((()=>o.value+1))),Ta(kh,s),Ta(Ih,i);const l=Tt();return Aa((()=>[l.value,s.value,e.name]),(([e,t,a],[n,i,r])=>{t&&(t.instances[a]=e,i&&i!==t&&e&&e===n&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&Tu(t,i)&&n||(t.enterCallbacks[a]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const n=i.value,r=e.name,c=s.value,d=c&&c.components[r];if(!d)return Uh(a.default,{Component:d,route:n});const u=c.props[r],h=u?!0===u?n.params:"function"==typeof u?u(n):u:null,f=ar(d,yu({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(c.instances[r]=null)},ref:l}));if(__VUE_PROD_DEVTOOLS__&&mu&&f.ref){const e={depth:o.value,name:c.name,path:c.path,meta:c.meta};(xu(f.ref)?f.ref.map((e=>e.i)):[f.ref.i]).forEach((t=>{t.__vrv_devtools=e}))}return Uh(a.default,{Component:f,route:n})||f}}});function Uh(e,t){if(!e)return null;const a=e(t);return 1===a.length?a[0]:a}const jh=Fh;function zh(e,t){const a=yu({},e,{matched:e.matched.map((e=>function(e,t){const a={};for(const n in e)t.includes(n)||(a[n]=e[n]);return a}(e,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:a}}}function Vh(e){return{_custom:{display:e}}}let Gh=0;function Hh(e,t,a){if(t.__hasDevtools)return;t.__hasDevtools=!0;const n=Gh++;vu({id:"org.vuejs.router"+(n?"."+n:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},(i=>{"function"!=typeof i.now&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent(((e,a)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:zh(t.currentRoute.value,"Current Route")})})),i.on.visitComponentTree((({treeNode:e,componentInstance:t})=>{if(t.__vrv_devtools){const a=t.__vrv_devtools;e.tags.push({label:(a.name?`${a.name.toString()}: `:"")+a.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:Kh})}xu(t.__vrl_devtools)&&(t.__devtoolsApi=i,t.__vrl_devtools.forEach((t=>{let a=Xh,n="";t.isExactActive?(a=Wh,n="This is exactly active"):t.isActive&&(a=Yh,n="This link is active"),e.tags.push({label:t.route.path,textColor:0,tooltip:n,backgroundColor:a})})))})),Aa(t.currentRoute,(()=>{l(),i.notifyComponentUpdate(),i.sendInspectorTree(s),i.sendInspectorState(s)}));const r="router:navigations:"+n;i.addTimelineLayer({id:r,label:`Router${n?" "+n:""} Navigations`,color:4237508}),t.onError(((e,t)=>{i.addTimelineEvent({layerId:r,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:i.now(),data:{error:e},groupId:t.meta.__navigationId}})}));let o=0;t.beforeEach(((e,t)=>{const a={guard:Vh("beforeEach"),from:zh(t,"Current Location during this navigation"),to:zh(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:o++}),i.addTimelineEvent({layerId:r,event:{time:i.now(),title:"Start of navigation",subtitle:e.fullPath,data:a,groupId:e.meta.__navigationId}})})),t.afterEach(((e,t,a)=>{const n={guard:Vh("afterEach")};a?(n.failure={_custom:{type:Error,readOnly:!0,display:a?a.message:"",tooltip:"Navigation Failure",value:a}},n.status=Vh("❌")):n.status=Vh("✅"),n.from=zh(t,"Current Location during this navigation"),n.to=zh(e,"Target location"),i.addTimelineEvent({layerId:r,event:{title:"End of navigation",subtitle:e.fullPath,time:i.now(),data:n,logType:a?"warning":"default",groupId:e.meta.__navigationId}})}));const s="router-inspector:"+n;function l(){if(!c)return;const e=c;let n=a.getRoutes().filter((e=>!e.parent));n.forEach(ef),e.filter&&(n=n.filter((t=>tf(t,e.filter.toLowerCase())))),n.forEach((e=>$h(e,t.currentRoute.value))),e.rootNodes=n.map(Zh)}let c;i.addInspector({id:s,label:"Routes"+(n?" "+n:""),icon:"book",treeFilterPlaceholder:"Search routes"}),i.on.getInspectorTree((t=>{c=t,t.app===e&&t.inspectorId===s&&l()})),i.on.getInspectorState((t=>{if(t.app===e&&t.inspectorId===s){const e=a.getRoutes().find((e=>e.record.__vd_id===t.nodeId));e&&(t.state={options:qh(e)})}})),i.sendInspectorTree(s),i.sendInspectorState(s)}))}function qh(e){const{record:t}=e,a=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&a.push({editable:!1,key:"name",value:t.name}),a.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&a.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`)).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&a.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&a.push({editable:!1,key:"aliases",value:e.alias.map((e=>e.record.path))}),Object.keys(e.record.meta).length&&a.push({editable:!1,key:"meta",value:e.record.meta}),a.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((e=>e.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),a}const Kh=15485081,Yh=2450411,Wh=8702998,Xh=16486972;function Zh(e){const t=[],{record:a}=e;null!=a.name&&t.push({label:String(a.name),textColor:0,backgroundColor:2282478}),a.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:Xh}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:Kh}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:Wh}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:Yh}),a.redirect&&t.push({label:"string"==typeof a.redirect?`redirect: ${a.redirect}`:"redirects",textColor:16777215,backgroundColor:6710886});let n=a.__vd_id;return null==n&&(n=String(Qh++),a.__vd_id=n),{id:n,label:a.path,tags:t,children:e.children.map(Zh)}}let Qh=0;const Jh=/^\/(.*)\/([a-z]*)$/;function $h(e,t){const a=t.matched.length&&Tu(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=a,a||(e.__vd_active=t.matched.some((t=>Tu(t,e.record)))),e.children.forEach((e=>$h(e,t)))}function ef(e){e.__vd_match=!1,e.children.forEach(ef)}function tf(e,t){const a=String(e.re).match(Jh);if(e.__vd_match=!1,!a||a.length<3)return!1;if(new RegExp(a[1].replace(/\$$/,""),a[2]).test(t))return e.children.forEach((e=>tf(e,t))),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const n=e.record.path.toLowerCase(),i=Eh(n);return!(t.startsWith("/")||!i.includes(t)&&!n.includes(t))||(!(!i.startsWith(t)&&!n.startsWith(t))||(!(!e.record.name||!String(e.record.name).includes(t))||e.children.some((e=>tf(e,t)))))}function af(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}const nf={id:"option-home"};const rf={id:"video-player-home"};const of={style:{display:"flex","align-items":"center"}},sf=["src"],lf={style:{margin:"0 5px"}},cf=ki("div",{class:"video-player-tools"},[Ci(' <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="down" />下载</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="back-top" />上传</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="tv-o" />投屏</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="setting-o" />工具</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="fire-o" />解析</van-button>\r\n          <van-button\r\n            size="mini"\r\n            color="linear-gradient(2deg, #311d52, black, #252d5c)"\r\n            ><van-icon name="records" />笔记</van-button> ')],-1);const df={name:"Header",components:{},data:()=>({logo_path:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA3lBMVEUAAAD//yL//yD//yL//yL//x7/9Bz/9Bz//yH//yL/9Bz/9Bz//yH//yD85hr/9Bz//yL//x7//yD//yH/9Bz//yD//yL/9Bz/9Bz//yL//yD/9Bz//yH//x7/9Bz//x7//yD//yL//yL/9Bz/9Bz//yH//xz/9Bz//x7//yD//yLsdjfhgy7//xz//yL/qTP/kyvsdjf/mzD/oTH/ky3/mzD85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr85hr/7Bn///9z8lvjAAAANnRSTlMAFhoAJcb/2k4G2/1ZSP/mBF8sM8goI/LZAoXnM5zXZlQLE9f5RYzjo5EvD+CWHimDDqkwHBh2QuA1AAAAAWJLR0RJhwXkfAAAAIBJREFUGNNjYMAJGJmYkbksrGxm7BwIPieXuYWlFTcPXIDX2tLGhs+SXwAmIGhrAwJ2QlC+sIg9WMBBFMIXE3e0BAtISEIEpJyAfGcXF2kZqA5ZV6CsnLyCIpSvpOzm7K6iinCEmoe6hqYWgq+to6uH7Gh9A0NUTxkZo/JNTFH5AKODEJwJddfwAAAAAElFTkSuQmCC",pageTitle:"时空葫芦播放器"}),computed:{},mounted(){document.title=this.pageTitle},unmounted(){},created(){},methods:{}},uf=(0,su.Z)(df,[["render",function(e,t,a,n,i,r){const o=vn("van-row");return pi(),_i(o,{class:"height-top"},{default:ma((()=>[ki("div",of,[ki("img",{src:i.logo_path,style:{width:"18px",height:"18px"}},null,8,sf),ki("span",lf,y(i.pageTitle),1)]),cf])),_:1})}]]),hf={style:{display:"flex","margin-bottom":"5px"}},ff={style:{flex:"10"}},pf=["onClick"],vf={class:"live-span"},mf={key:0,class:"live-text"},gf={class:"top-bar-tools"},yf={key:0},bf={key:1},_f={key:2},xf=["onClick"],Ef=["onClick","onMouseover"],wf=["src","scrolling","onClick","onMouseover"],Tf={class:"video-categories-title"},Sf={class:"video-categories"},kf=["title","onClick"],Lf={class:"van-ellipsis"},Af={key:0},Df=["onClick"],If={class:"video-play-list"},Cf=["title"],Rf=["title"],Pf=["title","onClick"],Of={class:"video-bottom-tools"};var Mf=a(7631),Nf=a.n(Mf),Bf=a(510),Ff=a.n(Bf),Uf=a(7745),jf=a.n(Uf);class zf{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}uint8ArrayToUint32Array_(e){let t=new DataView(e),a=new Uint32Array(4);for(let e=0;e<4;e++)a[e]=t.getUint32(4*e);return a}initTable(){let e=this.sBox,t=this.invSBox,a=this.subMix,n=a[0],i=a[1],r=a[2],o=a[3],s=this.invSubMix,l=s[0],c=s[1],d=s[2],u=s[3],h=new Uint32Array(256),f=0,p=0,v=0;for(v=0;v<256;v++)h[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){let a=p^p<<1^p<<2^p<<3^p<<4;a=a>>>8^255&a^99,e[f]=a,t[a]=f;let s=h[f],v=h[s],m=h[v],g=257*h[a]^16843008*a;n[f]=g<<24|g>>>8,i[f]=g<<16|g>>>16,r[f]=g<<8|g>>>24,o[f]=g,g=16843009*m^65537*v^257*s^16843008*f,l[a]=g<<24|g>>>8,c[a]=g<<16|g>>>16,d[a]=g<<8|g>>>24,u[a]=g,f?(f=s^h[h[h[m^s]]],p^=h[h[p]]):f=p=1}}expandKey(e){let t=this.uint8ArrayToUint32Array_(e),a=!0,n=0;for(;n<t.length&&a;)a=t[n]===this.key[n],n++;if(a)return;this.key=t;let i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);let r,o,s,l,c=this.ksRows=4*(i+6+1),d=this.keySchedule=new Uint32Array(c),u=this.invKeySchedule=new Uint32Array(c),h=this.sBox,f=this.rcon,p=this.invSubMix,v=p[0],m=p[1],g=p[2],y=p[3];for(r=0;r<c;r++)r<i?s=d[r]=t[r]:(l=s,r%i==0?(l=l<<8|l>>>24,l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l],l^=f[r/i|0]<<24):i>6&&r%i==4&&(l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l]),d[r]=s=(d[r-i]^l)>>>0);for(o=0;o<c;o++)r=c-o,l=3&o?d[r]:d[r-4],u[o]=o<4||r<=4?l:v[h[l>>>24]]^m[h[l>>>16&255]]^g[h[l>>>8&255]]^y[h[255&l]],u[o]=u[o]>>>0}networkToHostOrderSwap(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}decrypt(e,t,a,n){let i,r,o,s,l,c,d,u,h,f,p,v,m,g,y=this.keySize+6,b=this.invKeySchedule,_=this.invSBox,x=this.invSubMix,E=x[0],w=x[1],T=x[2],S=x[3],k=this.uint8ArrayToUint32Array_(a),L=k[0],A=k[1],D=k[2],I=k[3],C=new Int32Array(e),R=new Int32Array(C.length),P=this.networkToHostOrderSwap;for(;t<C.length;){for(h=P(C[t]),f=P(C[t+1]),p=P(C[t+2]),v=P(C[t+3]),l=h^b[0],c=v^b[1],d=p^b[2],u=f^b[3],m=4,g=1;g<y;g++)i=E[l>>>24]^w[c>>16&255]^T[d>>8&255]^S[255&u]^b[m],r=E[c>>>24]^w[d>>16&255]^T[u>>8&255]^S[255&l]^b[m+1],o=E[d>>>24]^w[u>>16&255]^T[l>>8&255]^S[255&c]^b[m+2],s=E[u>>>24]^w[l>>16&255]^T[c>>8&255]^S[255&d]^b[m+3],l=i,c=r,d=o,u=s,m+=4;i=_[l>>>24]<<24^_[c>>16&255]<<16^_[d>>8&255]<<8^_[255&u]^b[m],r=_[c>>>24]<<24^_[d>>16&255]<<16^_[u>>8&255]<<8^_[255&l]^b[m+1],o=_[d>>>24]<<24^_[u>>16&255]<<16^_[l>>8&255]<<8^_[255&c]^b[m+2],s=_[u>>>24]<<24^_[l>>16&255]<<16^_[c>>8&255]<<8^_[255&d]^b[m+3],m+=3,R[t]=P(i^L),R[t+1]=P(s^A),R[t+2]=P(o^D),R[t+3]=P(r^I),L=h,A=f,D=p,I=v,t+=4}return n?this.removePadding(R.buffer):R.buffer}destroy(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}removePadding(e){const t=e.byteLength,a=t&&new DataView(e).getUint8(t-1);return a?e.slice(0,t-a):e}}const Vf=console.log,Gf={config:e=>({server:"https://api.uutool.cn/network/html/",method:"POST",param:{url:encodeURIComponent(e)},responseType:"json",headers:[{name:"content-type",value:"application/x-www-form-urlencoded; charset=UTF-8"}],responseCallback:e=>{try{return{response:e.response.data.html.replace(/\'/gi,'"')}}catch(e){console.log("~responseCallback~error",e)}return null}})};function Hf(e){var t=["福利","伦理","倫理"].join("|"),a=new RegExp(`(${t})`,"gi");for(const t of e)if(null!=t.match(a))return!0;return!1}function qf(e,t=2){let a=Math.floor(Math.log(e)/Math.log(1024));return e&&a!=-1/0?(e/Math.pow(1024,a)).toFixed(t)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][a]:0}function Kf(e,t){if(e="number"==typeof e?e:e instanceof Date?e.getTime():parseInt(e),isNaN(e))return null;"string"==typeof t&&t||(t="yyyy-MM-dd hh:mm:ss");let a=new Date(e);(e=a.toString().split(/[\s\:]/g).slice(0,-2))[1]=["01","02","03","04","05","06","07","08","09","10","11","12"][a.getMonth()];let n={MM:1,dd:2,yyyy:3,hh:4,mm:5,ss:6};return t.replace(/([Mmdhs]|y{2})\1/g,(t=>e[n[t]]))}function Yf(e){if(!e)return"";const t=parseInt(e/3600),a=parseInt(e/60%60),n=Math.ceil(e%60),i=t<10?"0"+t:t,r=n>59?59:n;return`${i>0?`${i}:`:""}${a<10?"0"+a:a}:${r<10?"0"+r:r}`}function Wf(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"',"#40":"(","#41":")","#39":"'"};return e.replace(/&(lt|gt|nbsp|amp|quot|#40|#41|#39);/gi,(function(e,a){return t[a]}))}function Xf(e){let t=e.split("?")[0].split("/"),a=t[t.length-1]||t[t.length-2]||t[1]||"<url>",n=a?a.split("."):[],i="";try{n.length>1&&(i=n[n.length-1].toLowerCase())}catch(e){}return{filename:a,fileExt:i}}async function Zf(e){const t=(await ep({url:e})).response.match(/<title>([\S\s]*?)<\/title>/);return null!=t?t[1]:""}function Qf(e){return e.then((e=>[null,e])).catch((e=>[e,null]))}function Jf(e){let t=[];for(const a in e){let n=e[a];t.push(a+"="+n)}return t.join("&")}async function $f(e){let t={url:e.server,body:e.hasOwnProperty("param")?Jf(e.param):"",...e};const[a,n]=await Qf(ep(t));return new Promise(((t,i)=>{n&&e.responseCallback&&t(e.responseCallback(n)),n&&!e.responseCallback&&t(n),a&&i(a)}))}async function ep(e){var{xhr:t=new XMLHttpRequest,method:a="GET",url:n="",async:i=!0,responseType:r="",body:o=null,username:s=null,password:l=null,done:c=null,error:d=null,progress:u=null,headers:h=[]}=e;return console.log("xhrSend: ",{config:e}),new Promise(((f,p)=>{t.responseType=r||"",t.open(a,n,i,s,l),h&&h.length>0&&h.forEach((e=>{t.setRequestHeader(e.name,e.value)})),t.onload=function(){4===t.readyState&&(200===t.status?(c&&c({xhr:t,response:this.response}),f(t)):(console.error("ERROR",t.statusText),d&&d(t),p(t)))},t.onerror=function(){console.log("ERROR",t.status,t,e),d&&d(t),p(t)},t.onprogress=function(e){u&&u({xhr:t,event:e}),u&&f(t)},t.send(o)}))}function tp(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var a=0;a<e.attributes.length;a++){var n=e.attributes.item(a);t["@attributes"][n.nodeName]=n.nodeValue}}}else(3==e.nodeType||4==e.nodeType)&&(t=e.nodeValue);if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes.item(i),o=r.nodeName;if(void 0===t[o])t[o]=tp(r);else{if(void 0===t[o].length){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(tp(r))}}return t}const ap={"Content-Type(Mime-Type)":"Extension","x-world/x-3dmf":"qd3d","video/3gpp2":"3g2","video/3gpp":"3gp","application/x-7z-compressed":"7z","application/octet-stream":"zoo","application/x-authorware-bin":"aab","audio/aac":"aac","application/x-authorware-map":"aam","application/x-authorware-seg":"aas","text/vnd.abc":"abc","application/x-abiword":"abw","text/html":"shtml","video/animaflex":"afl","application/postscript":"ps","audio/aiff":"aiff","audio/x-aiff":"aiff","application/x-aim":"aim","text/x-audiosoft-intra":"aip","application/x-navi-animation":"ani","application/x-nokia-9000-communicator-add-on-software":"aos","application/vnd.android.package-archive":"apk","application/mime":"aps","application/x-freearc":"arc","application/arj":"arj","image/x-jg":"art","video/x-ms-asf":"asx","text/x-asm":"s","text/asp":"asp","application/x-mplayer2":"asx","video/x-ms-asf-plugin":"asx","audio/basic":"snd","audio/x-au":"au","application/x-troff-msvideo":"avi","video/avi":"avi","video/msvideo":"avi","video/x-msvideo":"avi","video/avs-video":"avs","application/vnd.amazon.ebook":"azw","application/x-bcpio":"bcpio","application/mac-binary":"bin","application/macbinary":"bin","application/x-binary":"bin","application/x-macbinary":"bin","image/bmp":"bmp","image/x-windows-bmp":"bmp","application/book":"book","application/x-bzip2":"bz2","application/x-bsh":"shar","application/x-bzip":"bz","text/plain":"txt","text/x-c":"cpp","application/vnd.ms-pki.seccat":"cat","application/clariscad":"ccad","application/x-cocoa":"cco","application/cdf":"cdf","application/x-cdf":"cdf","application/x-netcdf":"nc","application/pkix-cert":"crt","application/x-x509-ca-cert":"der","application/x-chat":"chat","application/java":"class","application/java-byte-code":"class","application/x-java-class":"class","application/x-cpio":"cpio","application/mac-compactpro":"cpt","application/x-compactpro":"cpt","application/x-cpt":"cpt","application/pkcs-crl":"crl","application/pkix-crl":"crl","application/x-x509-user-cert":"crt","application/x-csh":"csh","text/x-script.csh":"csh","application/x-pointplus":"css","text/css":"css","text/csv":"csv","application/x-director":"dxr","application/x-deepv":"deepv","video/x-dv":"dv","image/vnd.djvu":"djvu","video/dl":"dl","video/x-dl":"dl","application/msword":"word","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/commonground":"dp","application/drafting":"drw","application/x-dvi":"dvi","drawing/x-dwf (old)":"dwf","model/vnd.dwf":"dwf","application/acad":"dwg","image/vnd.dwg":"svf","image/x-dwg":"svf","application/dxf":"dxf","text/x-script.elisp":"el","application/x-bytecode.elisp (compiled elisp)":"elc","application/x-elc":"elc","application/x-envoy":"evy","application/vnd.ms-fontobject":"eot","application/epub+zip":"epub","application/x-esrehber":"es","text/x-setext":"etx","application/envoy":"evy","text/x-fortran":"for","application/x-fictionbook":"fb2","text/fb2":"fb2","application/vnd.fdf":"fdf","application/fractals":"fif","image/fif":"fif","video/fli":"fli","video/x-fli":"fli","image/florian":"turbot","text/vnd.fmi.flexstor":"flx","video/x-atomic3d-feature":"fmf","image/vnd.fpx":"fpx","image/vnd.net-fpx":"fpx","application/freeloader":"frl","audio/make":"pfunk","image/g3fax":"g3","image/gif":"gif","video/gl":"gl","video/x-gl":"gl","audio/x-gsm":"gsm","application/x-gsp":"gsp","application/x-gss":"gss","application/x-gtar":"gtar","application/x-compressed":"z","application/x-gzip":"gzip","multipart/x-gzip":"gzip","text/x-h":"hh","application/x-hdf":"hdf","application/x-helpfile":"hlp","application/vnd.hp-hpgl":"hpgl","text/x-script":"hlb","application/hlp":"hlp","application/x-winhelp":"hlp","application/binhex":"hqx","application/binhex4":"hqx","application/mac-binhex":"hqx","application/mac-binhex40":"hqx","application/x-binhex40":"hqx","application/x-mac-binhex40":"hqx","application/hta":"hta","text/x-component":"htc","text/webviewhtml":"htt","x-conference/x-cooltalk":"ice","image/vnd.microsoft.icon":"ico","image/x-icon":"ico","text/calendar":"ics","image/ief":"iefs","application/iges":"igs","model/iges":"igs","application/x-ima":"ima","application/x-httpd-imap":"imap","application/inf":"inf","application/x-internett-signup":"ins","application/x-ip2":"ip","video/x-isvideo":"isu","audio/it":"it","application/x-inventor":"iv","i-world/i-vrml":"ivr","application/x-livescreen":"ivy","audio/x-jam":"jam","application/java-archive":"jar","text/x-java-source":"java","application/x-java-commerce":"jcm","image/jpeg":"jpg","image/pjpeg":"jpg","image/x-jps":"jps","application/ecmascript":"js","application/javascript":"js","application/x-javascript":"js","text/ecmascript":"js","text/javascript":"mjs","application/json":"json","application/ld+json":"jsonld","image/jutvision":"jut","audio/midi":"midi","music/x-karaoke":"kar","application/x-ksh":"ksh","text/x-script.ksh":"ksh","audio/nspaudio":"lma","audio/x-nspaudio":"lma","audio/x-liveaudio":"lam","application/x-latex":"ltx","application/lha":"lha","application/x-lha":"lha","application/x-lisp":"lsp","text/x-script.lisp":"lsp","text/x-la-asf":"lsx","application/x-lzh":"lzh","application/lzx":"lzx","application/x-lzx":"lzx","text/x-m":"m","video/mpeg":"mpg","audio/mpeg":"mpga","audio/x-mpequrl":"m3u","audio/x-mpegurl":"m3u","application/x-mpegurl":"m3u8","application/x-troff-man":"man","application/x-navimap":"map","application/mbedlet":"mbd","application/x-magic-cap-package-1.0":"mc$","application/mcad":"mcd","application/x-mathcad":"mcd","image/vasa":"mcf","text/mcf":"mcf","application/netmc":"mcp","application/x-troff-me":"me","message/rfc822":"mime","application/x-midi":"midi","audio/x-mid":"midi","audio/x-midi":"midi","music/crescendo":"midi","x-music/x-midi":"midi","application/x-frame":"mif","application/x-mif":"mif","www/mime":"mime","audio/x-vnd.audioexplosion.mjuicemediafile":"mjf","video/x-motion-jpeg":"mjpg","application/base64":"mme","application/x-meme":"mm","audio/mod":"mod","audio/x-mod":"mod","video/quicktime":"qt","video/x-sgi-movie":"mv","audio/x-mpeg":"mp2","video/x-mpeg":"mp2","video/x-mpeq2a":"mp2","audio/mp3":"mp3","video/mp4":"mp4","application/x-project":"mpx","application/vnd.apple.installer+xml":"mpkg","application/vnd.ms-project":"mpp","application/marc":"mrc","application/x-troff-ms":"ms","application/x-vnd.audioexplosion.mzz":"mzz","image/naplps":"naplps","application/vnd.nokia.configuration-message":"ncm","image/x-niff":"niff","application/x-mix-transfer":"nix","application/x-conference":"nsc","application/x-navidoc":"nvd","application/oda":"oda","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.text":"odt","audio/ogg":"oga","video/ogg":"ogv","application/ogg":"ogx","application/x-omc":"omc","application/x-omcdatamaker":"omcd","application/x-omcregerator":"omcr","font/otf":"otf","text/x-pascal":"p","application/pkcs10":"p10","application/x-pkcs10":"p10","application/pkcs-12":"p12","application/x-pkcs12":"p12","application/x-pkcs7-signature":"p7a","application/pkcs7-mime":"p7m","application/x-pkcs7-mime":"p7m","application/x-pkcs7-certreqresp":"p7r","application/pkcs7-signature":"p7s","application/pro_eng":"prt","text/pascal":"pas","image/x-portable-bitmap":"pbm","application/vnd.hp-pcl":"pcl","application/x-pcl":"pcl","image/x-pict":"pct","image/x-pcx":"pcx","chemical/x-pdb":"xyz","application/pdf":"pdf","audio/make.my.funk":"pfunk","image/x-portable-graymap":"pgm","image/x-portable-greymap":"pgm","image/pict":"pict","application/x-newton-compatible-pkg":"pkg","application/vnd.ms-pki.pko":"pko","text/x-script.perl":"pl","application/x-pixclscript":"plx","image/x-xpixmap":"xpm","text/x-script.perl-module":"pm","application/x-pagemaker":"pm5","image/png":"x-png","application/x-portable-anymap":"pnm","image/x-portable-anymap":"pnm","application/mspowerpoint":"ppz","application/vnd.ms-powerpoint":"pwz","model/x-pov":"pov","image/x-portable-pixmap":"ppm","application/powerpoint":"ppt","application/x-mspowerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/x-freelance":"pre","paleovu/x-pv":"pvu","text/x-script.phyton":"py","applicaiton/x-bytecode.python":"pyc","audio/vnd.qcelp":"qcp","image/x-quicktime":"qtif","video/x-qtc":"qtc","audio/x-pn-realaudio":"rmp","audio/x-pn-realaudio-plugin":"rpm","audio/x-realaudio":"ra","application/x-rar-compressed":"rar","application/x-cmu-raster":"ras","image/cmu-raster":"rast","image/x-cmu-raster":"ras","text/x-script.rexx":"rexx","image/vnd.rn-realflash":"rf","image/x-rgb":"rgb","application/vnd.rn-realmedia":"rm","audio/mid":"rmi","application/ringing-tones":"rng","application/vnd.nokia.ringing-tone":"rng","application/vnd.rn-realplayer":"rnx","application/x-troff":"tr","image/vnd.rn-realpix":"rp","text/richtext":"rtx","text/vnd.rn-realtext":"rt","application/rtf":"rtx","application/x-rtf":"rtf","video/vnd.rn-realvideo":"rv","audio/s3m":"s3m","application/x-tbook":"tbk","application/x-lotusscreencam":"scm","text/x-script.guile":"scm","text/x-script.scheme":"scm","video/x-scm":"scm","application/sdp":"sdp","application/x-sdp":"sdp","application/sounder":"sdr","application/sea":"sea","application/x-sea":"sea","application/set":"set","text/sgml":"sgml","text/x-sgml":"sgml","application/x-sh":"sh","application/x-shar":"shar","text/x-script.sh":"sh","text/x-server-parsed-html":"ssi","audio/x-psid":"sid","application/x-sit":"sit","application/x-stuffit":"sit","application/x-koan":"skt","application/x-seelogo":"sl","application/smil":"smil","audio/x-adpcm":"snd","application/solids":"sol","application/x-pkcs7-certificates":"spc","text/x-speech":"talk","application/futuresplash":"spl","application/x-sprite":"sprite","application/x-wais-source":"wsrc","application/streamingmedia":"ssm","application/vnd.ms-pki.certstore":"sst","application/step":"stp","application/sla":"stl","application/vnd.ms-pki.stl":"stl","application/x-navistyle":"stl","application/x-sv4cpio":"sv4cpio","application/x-sv4crc":"sv4crc","image/svg+xml":"svg","application/x-world":"wrl","x-world/x-svr":"svr","application/x-shockwave-flash":"swf","application/x-tar":"tar","application/toolbook":"tbk","application/x-tcl":"tcl","text/x-script.tcl":"tcl","text/x-script.tcsh":"tcsh","application/x-tex":"tex","application/x-texinfo":"texinfo","application/plain":"text","application/gnutar":"tgz","image/tiff":"tiff","image/x-tiff":"tiff","video/mp2t":"ts","audio/tsp-audio":"tsi","application/dsptype":"tsp","audio/tsplayer":"tsp","text/tab-separated-values":"tsv","font/ttf":"ttf","text/x-uil":"uil","text/uri-list":"uris","application/i-deas":"unv","application/x-ustar":"ustar","multipart/x-ustar":"ustar","text/x-uuencode":"uue","application/x-cdlink":"vcd","text/x-vcalendar":"vcs","application/vda":"vda","video/vdo":"vdo","application/groupwise":"vew","video/vivo":"vivo","video/vnd.vivo":"vivo","application/vocaltec-media-desc":"vmd","application/vocaltec-media-file":"vmf","audio/voc":"voc","audio/x-voc":"voc","video/vosaic":"vos","audio/voxware":"vox","audio/x-twinvq-plugin":"vql","audio/x-twinvq":"vqf","application/x-vrml":"vrml","model/vrml":"wrz","x-world/x-vrml":"wrz","x-world/x-vrt":"vrt","application/vnd.visio":"vsd","application/x-visio":"vsw","application/wordperfect6.0":"wp5","application/wordperfect6.1":"w61","audio/wav":"wav","audio/x-wav":"wav","application/x-qpro":"wb1","image/vnd.wap.wbmp":"wbmp","application/vnd.xara":"web","audio/webm":"weba","video/webm":"webm","image/webp":"webp","application/x-123":"wk1","windows/metafile":"wmf","text/vnd.wap.wml":"wml","application/vnd.wap.wmlc":"wmlc","text/vnd.wap.wmlscript":"wmls","application/vnd.wap.wmlscriptc":"wmlsc","font/woff":"woff","font/woff2":"woff2","application/wordperfect":"wpd","application/x-wpwin":"wpd","application/x-lotus":"wq1","application/mswrite":"wri","application/x-wri":"wri","text/scriplet":"wsc","application/x-wintalk":"wtk","image/x-xbitmap":"xbm","image/x-xbm":"xbm","image/xbm":"xbm","video/x-amt-demorun":"xdr","xgl/drawing":"xgz","application/xhtml+xml":"xhtml","image/vnd.xiff":"xif","application/excel":"xlw","application/x-excel":"xlw","application/x-msexcel":"xlw","application/vnd.ms-excel":"xlw","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","audio/xm":"xm","application/xml":"xml","text/xml":"xml","xgl/movie":"xmz","application/x-vnd.ls-xpix":"xpix","image/xpm":"xpm","video/x-amt-showrun":"xsr","application/vnd.mozilla.xul+xml":"xul","image/x-xwd":"xwd","image/x-xwindowdump":"xwd","application/x-compress":"z","application/zip":"zip","text/x-script.zsh":"zsh"};class np{constructor(e){this.m3u8Data={url:"",host:window.location.href,filename:Kf(new Date),fileExt:"mp4",fileArrayBuffer:[],fileInfo:{type:"Media",version:3,allowCache:!0,hasEndListTag:!1,targetDuration:null,mediaSequence:null,key:"",mediaList:[],masterList:[],groupList:{},duration:0},downloader:{count:0,completed:0,cursor:0,total:0,parallel:16,byteLength:0},onprogress:null,ondone:null,onerror:null,...e}}init(){const e=this.m3u8Data?.url;e&&this.loadM3U8(e)}getHost(e){let t=e.split("/");return`${t[0]}//${t[2]}`}async loadM3U8(e){let t=e.match(/(m3u|m3u8)/gi);this.m3u8Data.host=this.getHost(e),console.log("m3u8文件开始解析: ",{m3u8Data:this.m3u8Data,m3u8:t});var a=await this.xhrSend({url:e,responseType:t?"":"arraybuffer",progress:function(e){console.log("~~loadM3U8:progress",e)}});return t&&-1!=["200","0"].indexOf(`${a.status}`)?this.parse(a.responseText):t?void 0:(this.m3u8Data={...this.m3u8Data,fileArrayBuffer:[a.response]},this.saveToMP4(),{error:"请输入正确的m3u8文件地址."})}async parse(e){const t=this;if(e.split("\n").forEach(((e,a,n)=>{if(0==a&&"#EXTM3U"!=e)return{error:"这不是标准m3u8文件。"};var i={info:t.m3u8Data.fileInfo,value:e,index:a,arr:n};this.parse_x(i,"#EXT-X-VERSION:","version"),this.parse_x(i,"#EXT-X-ALLOW-CACHE:","allowCache"),this.parse_x(i,"#EXT-X-TARGETDURATION:","targetDuration"),this.parse_x(i,"#EXT-X-MEDIA-SEQUENCE:","mediaSequence"),this.parse_x_key(i),this.parse_x_stream_inf(i),this.parse_inf(i),this.parse_x(i,"#EXT-X-ENDLIST:","hasEndListTag",!0)})),t.m3u8Data.fileInfo.key){let e=await this.require_x_key(t.m3u8Data.fileInfo.key),a=e;console.log("查看code,key",{code:a,key:e,type:e instanceof Uint8Array}),t.m3u8Data.fileInfo.key.code=a,t.m3u8Data.fileInfo.key.decryptor=new zf,t.m3u8Data.fileInfo.key.decryptor.expandKey(a)}t.m3u8Data.downloader.total=t.m3u8Data.fileInfo.mediaList.length,console.log("m3u8文件解析完成: ",t.m3u8Data);const{mediaList:a,masterList:n}=this.m3u8Data.fileInfo;return t.m3u8Data.isDownload&&(a.length>0&&this.download(),n.length>0&&0==a.length)?(this.m3u8Data.url=n[0].url,void this.init()):t.m3u8Data}parse_full_url(e){if(-1!=e.toLowerCase().indexOf("http"))return e;if(this.m3u8Data.url){let t=this.m3u8Data.url.split("/");return"/"===e[0]?`${t[0]}//${t[2]}${e}`:(t.pop(),`${t.join("/")}/${e}`)}return e}parse_str_to_obj(e){var t=e.split(","),a={};return t.length>0&&t.forEach((e=>{try{let[t,...n]=e.split("=");a[t.toLowerCase().trim()]=n.join("=").replace(/\"/gi,"")}catch(e){console.log(e)}})),a}parse_x(e,t,a,n=null){let i=e.value.split(t);i.length>1&&(e.info[a]=n||parseFloat(i[1].match(/[0-9.]+/gi))||i[1]||0)}parse_x_key(e){let t=e.value.split("#EXT-X-KEY:");if(t.length>1){let a=this.parse_str_to_obj(t[1]);a.vi=a.vi?(new TextEncoder).encode(a.vi):"",e.info.key={...a}}}async require_x_key(e){var t={url:this.parse_full_url(e.uri),responseType:"arraybuffer"};return(await this.xhrSend(t)).response}parse_x_stream_inf(e){let t=e.value.split("#EXT-X-STREAM-INF:");if(t.length>1){e.info.type="Master";let a=e.arr[e.index+1],n=this.parse_full_url(a),i=this.parse_str_to_obj(t[1]);e.info.masterList.push({...i,src:a,url:n})}}parse_inf(e){let t=e.value.split("#EXTINF:");if(t.length>1){e.info.type="Media";let a=t[1].split(","),n=a.length,i=a[n-1],r=(a[n-2]||i).split(" "),o=r.shift(),s={};r&&r.length>0&&(s=this.parse_str_to_obj(r.join(",")));let l=parseFloat(o.match(/[-0-9.]+/gi))||0,c=e.arr[e.index+1],d=this.parse_full_url(c);e.info.duration+=l;let u=d.match(/\.(m3u|m3u8)/gi),h=d.match(/\.(ts)/gi);if(u&&null==h?(e.info.type="Master",e.info.masterList.push({duration:l,src:c,url:d,title:i,...s})):e.info.mediaList.push({duration:l,src:c,url:d,title:i}),e.info.groupList[s["group-title"]]||s["group-title"]&&(e.info.groupList[s["group-title"]]=[]),s&&s["group-title"]){e.info.groupList[s["group-title"]].push({duration:l,src:c,url:d,title:i,...s})}}}download(){let{total:e,cursor:t,parallel:a}=this.m3u8Data.downloader;if(this.m3u8Data?.fileInfo?.mediaList){this.m3u8Data.downloader.count=0;for(let n=0;n<a&&!(t>=e);n++){this.m3u8Data.downloader.cursor++;const e=this.m3u8Data.downloader.cursor-1,t=this.m3u8Data.fileInfo.mediaList[e]||null;t&&this.downloadTSFile(t,e)}}}downloadTSFile(e,t,a=5){if(!this.m3u8Data.isDownload||a<0)return;const{url:n}=e;this.xhrFile({url:n,progress:a=>{this.progressTSFile(a,e,t)},error:n=>{console.log("下载报错：",{retryTime:a,index:t,item:e,err:n}),this.m3u8Data.onerror&&this.m3u8Data.onerror({index:t,item:e,err:n}),this.m3u8Data.isDownload&&this.downloadTSFile(e,t,--a)},done:e=>{this.handleTSFile(e,t)}})}stopDownload(){this.m3u8Data.isDownload=!1}startDownload(){this.m3u8Data.isDownload=!0}progressTSFile(e,t,a){this.m3u8Data.onprogress&&this.m3u8Data.onprogress({index:a,item:t,data:e,downloader:this.m3u8Data.downloader})}async xhrFile(e){return(await this.xhrSend({...e,responseType:"arraybuffer"})).response}async xhrSend(e){var{xhr:t=new XMLHttpRequest,method:a="GET",url:n="",async:i=!0,responseType:r="",body:o=null,username:s=null,password:l=null,done:c=null,error:d=null,progress:u=null}=e;return console.log("xhrSend: ",{xhrSend:e,m3u8Data:this.m3u8Data}),new Promise(((h,f)=>{t.responseType=r||"",t.open(a,n,i,s,l),t.onload=function(){4===t.readyState&&(200===t.status?(c&&c({xhr:t,response:this.response}),h(t)):(console.error("ERROR",t.statusText),d&&d(t),f(t)))},t.onerror=function(){console.log("ERROR",t.status,e),d&&d(t),f(t)},t.onprogress=function(e){u&&u({xhr:t,event:e})},t.send(o)}))}downloadTracker(e){++this.m3u8Data.downloader.count,++this.m3u8Data.downloader.completed,this.m3u8Data.downloader.byteLength+=e;const{count:t,cursor:a,completed:n,parallel:i,total:r}=this.m3u8Data.downloader;return console.log(`完成当前${a}下载任务`,this.m3u8Data.downloader),r==n?(console.log("全部下载完成!",[t,n,r,i,e]),this.saveToMP4()):t==i&&this.m3u8Data.isDownload?(console.log("并行量下载任务完成",[t,n,r,i,e]),this.download()):void 0}handleTSFile(e,t){const a=this;console.log("已下载文件:",{index:t,file:e,m3u8Data:a.m3u8Data});let n=e.response.byteLength,i=e.response,r=i,o=a.m3u8Data.fileInfo.key||"",s=a.m3u8Data.fileExt||"";if(console.log("handleTSFile:",{byteLength:n,fileArrayBuffer:i,fileDecoded:r,key:o,fileExt:s}),o){let e=o.iv||new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t]);try{r=o.decryptor.decrypt(i,0,e.buffer||e,!0)}catch(e){return console.log("Key:error",{key:o,error:e}),a.m3u8Data.fileArrayBuffer[t]=r,void a.downloadTracker(n)}}if("mp4"!=s)return a.m3u8Data.fileArrayBuffer[t]=r,void a.downloadTracker(n);a.tsToMp4(r,(function(e){a.m3u8Data.fileArrayBuffer[t]=e,a.downloadTracker(n)}))}tsToMp4(e,t=null){var a=new(jf().Transmuxer)({keepOriginalTimestamps:!0,duration:this.m3u8Data.duration||1});a.on("data",(function(e){let a=new Uint8Array(e.initSegment.byteLength+e.data.byteLength);a.set(e.initSegment,0),a.set(e.data,e.initSegment.byteLength),t&&t(a)})),a.push(new Uint8Array(e)),a.flush()}saveToMP4(){if(0==this.m3u8Data.fileArrayBuffer.length)return console.log("下载媒体流为空!"),{error:"下载媒体流为空!"};var e,t=Kf(new Date),{filename:a,fileExt:n}=this.m3u8Data,i=document.title,r="video/MP2T",o="ts";-1!=["mp4","m3u8"].indexOf(n)?(r="video/mp4",o="mp4"):-1!=["mp3"].indexOf(n)?(r="audio/mp3",o="mp3"):-1!=["ts"].indexOf(n)?(r="video/MP2T",o="ts"):n&&(e=n,r=Object.keys(ap).filter((t=>e==ap[t])).join(),o=n);let s=new Blob(this.m3u8Data.fileArrayBuffer,{contentType:r}),l=document.createElement("a");l.download=`${a||i}_${t}.${o}`,l.href=URL.createObjectURL(s),l.style.display="none",document.body.appendChild(l),l.click(),l.remove(),this.m3u8Data.ondone&&this.m3u8Data.ondone()}}var ip=[],rp=!1;class op{constructor(e,t,a,n="mp4",i=null){this.videoDOM=e,this.videoPlayerInstance=t,this.errorCallback=i,this.url=a,this.fileExt=n,this.recordDuration=0,this.recordChunks=[],this.mediaRcorder=null,this.errorRetryList=[],this.init()}init(){if(this.url&&this.videoDOM){switch(this.fileExt.toLowerCase()){case"xs":case"ts":case"m4s":case"m3u":case"m3u8":this.createVideoHls(this.url);break;case"f4v":case"flv":this.createVideoFlv(this.url);break;default:this.videoDOM.src=this.url,this.videoDOM.play()}Vf("VideoPlayer:init",{fileExt:this.fileExt,v:this.videoDOM,p:this.videoPlayerInstance,url:this.url}),this.onVideoEvents()}}getInstance(){return this.videoPlayerInstance}getNetworkState(){return[{NETWORK_EMPTY:"音频/视频尚未初始化"},{NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络"},{NETWORK_LOADING:"浏览器正在下载数据"},{NETWORK_NO_SOURCE:"未找到音频/视频来源"}][this.videoDOM?.networkState||0]}clearRecord(){this.recordChunks=[],rp=!1}startRecord(){this.recordChunks=[],rp=!0}stopRecord(){rp=!1,this.downloadRecord()}playRecord(){const e=new Blob([...this.recordChunks],{type:"video/MP2T"}),t=URL.createObjectURL(e);this.videoDOM.src=t;let a=Kf(new Date,"yyyy_MM_dd-hh_mm_ss");this.videoDOM.title=document.title+a}downloadRecord(){console.log("~downloadRecord",this.recordChunks);let e=new Blob(ip,{type:"video/MP2T"}),t=Kf(new Date,"yyyy_MM_dd-hh_mm_ss"),a=document.title,n=document.createElement("a");n.download=`${a}_${t}.mp4`,n.href=URL.createObjectURL(e),n.style.display="none",document.body.appendChild(n),n.click(),n.remove()}onVideoEvents(){const e=this,t={loadstart:function(e){},durationchange:function(e){},loadedmetadata:function(e){},loadeddata:function(e){},progress:function(e){},play:function(e){},playing:function(e){},canplay:function(e){},canplaythrough:function(e){},abort:function(e){},error:function(t){e.errorRetry()},stalled:function(t){e.errorRetry()},pause:function(e){},ended:function(e){},timeupdate:function(e){},suspend:function(e){},seeked:function(e){},seeking:function(e){}};for(const e of Object.keys(t)){const a=t[e];this.videoDOM.addEventListener(e,a)}try{e.mediaRcorder=new MediaRecorder(e.videoDOM.captureStream()),Vf("new mediaRcorder,录制视频!",e.mediaRcorder),e.mediaRcorder.ondataavailable=function(t){if(e.isRecord){++e.recordDuration;var a=t.data;e.recordChunks.push(a),Vf("视频事件:ondataavailable,录制视频!",e.recordDuration,a)}}}catch(e){}}errorRetry(){const e=["flv","m3u8","mp4"];let t=this.errorRetryList.length;t<e.length&&(this.errorRetryList.push(e[t]),this.fileExt=e[t],this.init())}destroyVideo(){try{this.videoDOM.pause()}catch(e){}try{this.videoPlayerInstance&&this.videoPlayerInstance.unload()}catch(e){}try{this.videoPlayerInstance&&this.videoPlayerInstance.detachMediaElement()}catch(e){}try{this.videoPlayerInstance&&this.videoPlayerInstance.destroy()}catch(e){}this.videoPlayerInstance=null}createVideoHls(e){if(this.destroyVideo(),Nf().isSupported()){const t={fLoader:sp,maxBufferLength:30,maxMaxBufferLength:600,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.5,highBufferWatchdogPeriod:2,fetchSetup:function(e,t){return t.credentials="include",new Request(e.url,t)},xhrSetup:function(e,t){},licenseXhrSetup:function(e,t){}};this.videoPlayerInstance=new(Nf())(t),this.videoPlayerInstance.loadSource(e),this.videoPlayerInstance.attachMedia(this.videoDOM),this.onHlsEvents()}}onHlsEvents(){const e=this,t={MANIFEST_LOADING:function(e,t){},MANIFEST_LOADED:function(e,t){},MANIFEST_PARSED:function(e,t){},LEVEL_LOADING:function(e,t){},LEVEL_LOADED:function(e,t){},FRAG_LOADING:function(e,t){},FRAG_LOADED:function(e,t){},FRAG_BUFFERED:function(e,t){},FRAG_DECRYPTED:function(e,t){},FPS_DROP:function(e,t){},BUFFER_APPENDED:function(e,t){},BUFFER_APPENDING:function(e,t){},BUFFER_CREATED:function(e,t){},FRAG_CHANGED:function(e,t){},ERROR:function(t,a){e.errorCallback&&e.errorCallback(t,a)}};for(const e of Object.keys(t))this.videoPlayerInstance.on(Nf().Events[e],t[e])}createVideoFlv(e){this.destroyVideo(),Ff().isSupported()&&(this.videoPlayerInstance=Ff().createPlayer({type:"flv",isLive:!0,url:e,withCredentials:!1,cors:!0},{lazyLoad:!1,enableWorker:!1,enableStashBuffer:!1,reuseRedirectedURL:!0,autoCleanupSourceBuffer:!0}),this.videoPlayerInstance.attachMediaElement(this.videoDOM),this.videoPlayerInstance.load(),this.videoPlayerInstance.play())}}class sp extends Nf().DefaultConfig.loader{constructor(e){super(e);var t=this.load.bind(this),a=new np;this.load=function(e,n,i){e.progressData=!0;var r=i.onSuccess;i.onSuccess=function(e,t,n){const i=n.url||"";rp&&a.xhrSend({url:i,responseType:"arraybuffer",done:e=>{ip.push(e.response)}}),r(e,t,n)},t(e,n,i)}}}const lp=[{group:"央视频道",channel:{CCTV13新闻:[{name:"线路1",value:"https://live-play.cctvnews.cctv.com/cctv/merge_cctv13_mud.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225638/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv13_2.m3u8"}],CCTV1综合:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv1_2/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225642/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv1_2.m3u8"}],CCTV2财经:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv2_2/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225643/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv2_2.m3u8"}],CCTV3综艺:[{name:"线路1",value:"https://tvplay.sxyssj.com/live/CZliveCCTV3.m3u8?txSecret=20afab3b4da84a0c71ad909c1b052b18&txTime=63eadead"},{name:"线路2",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225647/index.m3u8"},{name:"线路3",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225634/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv3_2.m3u8"}],CCTV4国际:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225621/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225621/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv4_2.m3u8"}],CCTV5体育:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv5_2/index.m3u8"},{name:"线路2",value:"https://node1.olelive.com:6443/live/CCTV5HD/hls.m3u8"},{name:"线路3",value:"http://icvplay.zonekey.com.cn/live/35b1420d208c75932899beca05952b20.flv"},{name:"线路4",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225633/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv5_2.m3u8"}],"CCTV5+HD体育":[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv5plus_2/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225706/index.m3u8"},{name:"线路3",value:"http://icvplay.zonekey.com.cn/live/35b1420d208c75932899beca05952b20.flv"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv5plus_2.m3u8"}],CCTV6电影:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225650/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225632/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv6_2.m3u8"}],CCTV7国防军事:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225650/index.m3u8"},{name:"线路2",value:"https://tvplay.sxyssj.com/live/CZliveCCTV7.m3u8?txSecret=ca07b3d9b883cbce84afbb13620884d6&txTime=63eadcb7"},{name:"线路3",value:"http://39.134.66.66/PLTV/88888888/224/3221225671/index.m3u8"},{name:"线路4",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225624/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv7_2.m3u8"}],CCTV8电视剧:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225635/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225631/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv8_2.m3u8"}],CCTV9纪录:[{name:"线路1",value:"https://tvplay.sxyssj.com/live/CZliveCCTV9.m3u8?txSecret=0eb066472cd4b20c01e23b6352254407&txTime=63eadf24"},{name:"线路2",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225646/index.m3u8"},{name:"线路3",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225646/index.m3u8"},{name:"audio",value:"https://piccpndali.v.myalicdn.com/audio/cctv9_2.m3u8"}],CCTV10科教:[{name:"线路1",value:"https://tvplay.sxyssj.com/live/CZlivetimeCCTV10.m3u8?txSecret=80b50118faa789a765fbe87bc586f850&txTime=63eadc9b"},{name:"线路2",value:"http://39.134.66.66/PLTV/88888888/224/3221225677/index.m3u8"},{name:"线路3",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225636/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv10_2.m3u8"}],CCTV11戏曲:[{name:"线路1",value:"http://39.135.138.59:18890/PLTV/88888910/224/3221225628/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225628/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv11_2.m3u8"}],CCTV12社会法制:[{name:"线路1",value:"http://39.134.66.66/PLTV/88888888/224/3221225669/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225637/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv12_2.m3u8"}],CCTV14少儿:[{name:"线路1",value:"https://tvplay.sxyssj.com/live/CZliveCCTV14.m3u8?txSecret=b3bf7e03fc987aa95048698607859231&txTime=63eade0b"},{name:"线路2",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225639/index.m3u8"},{name:"线路3",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225640/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv14_2.m3u8"}],CCTV15音乐:[{name:"线路1",value:"http://116.199.5.52:8114/00000000/index.m3u8?Fsv_CMSID=&Fsv_SV_PARAM1=0&Fsv_ShiftEnable=0&Fsv_ShiftTsp=0&Fsv_chan_hls_se_idx=54&Fsv_cid=0&Fsv_ctype=LIVES&Fsv_ctype=LIVES&Fsv_filetype=1&Fsv_otype=1&Fsv_otype=1&Fsv_rate_id=0&FvSeid=5abd1660af1babb4&Pcontent_id=&Provider_id="},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225641/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv15_2.m3u8"}],CCTV16奥林匹克:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv16_2/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221226230/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv16_2.m3u8"}],CCTV17农业:[{name:"线路1",value:"https://cctvwbndks.v.kcdnvip.com/cctvwbnd/cctv17_2/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221225909/index.m3u8"},{name:"audio",value:"https://piccpndks.v.kcdnvip.com/audio/cctv17_2.m3u8"}]}},{group:"中央人民广播电台",channel:{中国之声:[{name:"线路1",value:"https://ngcdn001.cnr.cn/live/zgzs/index.m3u8"}],经济之声:[{name:"线路1",value:"https://ngcdn002.cnr.cn/live/jjzs/index.m3u8"}],音乐之声:[{name:"线路1",value:"https://ngcdn003.cnr.cn/live/yyzs/index.m3u8"}],经典音乐:[{name:"线路1",value:"https://ngcdn004.cnr.cn/live/dszs/index.m3u8"}],台海之声:[{name:"线路1",value:"https://ngcdn005.cnr.cn/live/zhzs/index.m3u8"}],神州之声:[{name:"线路1",value:"https://ngcdn006.cnr.cn/live/szzs/index.m3u8"}],大湾区之声:[{name:"线路1",value:"https://ngcdn007.cnr.cn/live/hxzs/index.m3u8"}],香港之声:[{name:"线路1",value:"https://ngcdn008.cnr.cn/live/xgzs/index.m3u8"}],民族之声:[{name:"线路1",value:"https://ngcdn009.cnr.cn/live/mzzs/index.m3u8"}],文艺之声:[{name:"线路1",value:"https://ngcdn010.cnr.cn/live/wyzs/index.m3u8"}],老年之声:[{name:"线路1",value:"https://ngcdn011.cnr.cn/live/lnzs/index.m3u8"}],戏曲之声:[{name:"线路1",value:"https://ngcdn017.cnr.cn/live/xczs/index.m3u8"}],乡村之声:[{name:"线路1",value:"https://ngcdn017.cnr.cn/live/xczs/index.m3u8"}],阅读之声:[{name:"线路1",value:"https://ngcdn014.cnr.cn/live/ylgb/index.m3u8"}],交通广播:[{name:"线路1",value:"https://ngcdn016.cnr.cn/live/gsgljtgb/index.m3u8"}],海南之声:[{name:"线路1",value:"https://cnlive.cnr.cn/hls/nanhaizhisheng.m3u8"}],国际流行音乐:[{name:"线路1",value:"https://sk.cri.cn/915.m3u8"}],环球资讯:[{name:"线路1",value:"https://cnlive.cnr.cn/hls/huanqiuzixunguangbo.m3u8"}],HITFM:[{name:"线路1",value:"https://cnlive.cnr.cn/hls/HITFM.m3u8"}],藏语:[{name:"线路1",value:"https://ngcdn012.cnr.cn/live/zygb/index.m3u8"}],维吾尔语:[{name:"线路1",value:"https://ngcdn013.cnr.cn/live/wygb/index.m3u8"}],哈萨克语:[{name:"线路1",value:"https://ngcdn025.cnr.cn/live/hygb/index.m3u8"}]}},{group:"CGTN",channel:{CETV1综合:[{name:"线路1",value:"http://txycsbl.centv.cn/zb/0628cetv1.m3u8"}],CETV2继续教育:[{name:"线路1",value:"http://txycsbl.centv.cn/zb/0822cetv2.m3u8"}],CETV3人文纪录:[{name:"线路1",value:"http://txycsbl.centv.cn/zb/0822cetv3.m3u8"}],CETV4空中课堂:[{name:"线路1",value:"http://txycsbl.centv.cn/zb/0822cetv4.m3u8"}],"CGTN.NEWS":[{name:"线路1",value:"https://news.cgtn.com/resource/live/english/cgtn-news.m3u8"}],"CGTN.DOC":[{name:"线路1",value:"https://livedoc.cgtn.com/1000d/prog_index.m3u8"}],CGTN俄语:[{name:"线路1",value:"http://news.cgtn.com/resource/live/russian/cgtn-r.m3u8"}],CGTN法语:[{name:"线路1",value:"https://livefr.cgtn.com/1000f/prog_index.m3u8"}],CGTN阿语:[{name:"线路1",value:"https://livear.cgtn.com/1000a/prog_index.m3u8"}],CGTN西班牙:[{name:"线路1",value:"https://livees.cgtn.com/1000e/prog_index.m3u8"}]}},{group:"地方频道",channel:{清华大学电视台:[{name:"线路1",value:"http://live.cic.tsinghua.edu.cn/hls/tsinghuatv.m3u8"}],北京卫视:[{name:"线路1",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888888/224/3221225600/2/index.m3u8"},{name:"线路2",value:"http://39.135.138.60:18890/PLTV/88888910/224/3221225673/index.m3u8"}],北京纪实科教频道:[{name:"线路1",value:"https://hsplay-360.v.btime.com/live_btime/btv_sn_20170706_s3/index.m3u8?time=1676317042&sign=78d9a81f828d14613db20f9fd5a33bf9"}],北京卡酷少儿卫视:[{name:"线路1",value:"http://[2409:8087:5011:1020::2b]/180000001002/00000001000000000090000000215608/main.m3u8?IASHttpSessionId=OTT"}],北京新闻频道:[{name:"线路1",value:"http://111.31.106.45/downlive.brtvcloud.com/brtv8kapptv/brtv8kappxinwen.m3u8"}],北京财经频道:[{name:"线路1",value:"http://111.31.106.45/downlive.brtvcloud.com/brtv8kapptv/brtv8kappcaijing.m3u8"}],北京文艺频道:[{name:"线路1",value:"http://111.31.106.45/downlive.brtvcloud.com/brtv8kapptv/brtv8kappwenyi.m3u8"}],北京影视频道:[{name:"线路1",value:"http://111.31.106.45/downlive.brtvcloud.com/brtv8kapptv/brtv8kappyingshi.m3u8"}],北京生活频道:[{name:"线路1",value:"http://111.31.106.45/downlive.brtvcloud.com/brtv8kapptv/brtv8kappshenghuo.m3u8"}],中国交通北京频道:[{name:"线路1",value:"https://tv.lanjingfm.com/cctbn/heibei.m3u8"}],浙江卫视:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel01/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=6df39222f74eb12d899322a51e25f672&t=1670254786"}],钱江都市:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel02/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=0616e508d41d39782aa42641910f716e&t=1670254876"}],浙江经济生活:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel03/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=b1776013e8cb06dd962cb2d7c7076eee&t=1670254989"}],浙江教科影视:[{name:"线路1",value:"http://ali-vl.cztv.com/channels/lantian/channel04/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=1047928b74abc3f8ea503afaf9b27870&t=1670255051"}],浙江民生休闲:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel06/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=5da5883eac7e1c203b764975705411f1&t=1670255113"}],浙江新闻:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel07/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=70cb4362715f246668bc30b5280c4f37&t=1670255170"}],浙江少儿频道:[{name:"线路1",value:"http://hw-vl.cztv.com/channels/lantian/channel08/360p.m3u8?a=1000&d=1f87b5d61e6b800b6ce9ea091b9bcdb7&k=0d04eeba5ac82e2dfb77eaa21adfe635&t=1670255206"}],广西卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225731/index.m3u8"},{name:"线路2",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888888/224/3221225731/2/index.m3u8"}],广西综艺旅游:[{name:"线路1",value:"http://111.59.189.40:8445/tsfile/live/1023_1.m3u8"}],广西影视:[{name:"线路1",value:"http://111.59.189.40:8445/tsfile/live/1024_1.m3u8"}],广西新闻:[{name:"线路1",value:"http://111.59.189.40:8445/tsfile/live/1025_1.m3u8"}],广西都市:[{name:"线路1",value:"http://111.59.189.40:8445/tsfile/live/1027_1.m3u8"}],南宁新闻综合:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_NEWS_A.m3u8"}],南宁都市生活:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_METRO_A.m3u8"}],南宁影视娱乐:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_VOD_A.m3u8"}],南宁公共:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_PUB_A.m3u8"}],南宁马山电视台:[{name:"线路1",value:"https://hls.nntv.cn/nnlive/MSTV_A.m3u8"}],南宁上林电视台:[{name:"线路1",value:"https://hls.nntv.cn/nnlive/SLTV_A.m3u8"}],南宁老友直播:[{name:"线路1",value:"http://hls.nntv.cn/nnlive/NNTV_LYOU.m3u8"}],东方卫视:[{name:"线路1",value:"https://livemixer1.kksmg.com/tvlive/dfws/d32b1f63-26ff-48be-87db-96224974c2d2.m3u8?se=kankan&ct=7&_mode=1&_cp=1&_fk=3B1AE6D9E04BAD7510E83FC4465F597C761C70DBD0E9D561C7F364B1F44A20E5&ts=1672248125&rand=3a0ef8e50c7272075f7c36f63fe77218"}],深圳卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225741/index.m3u8"}],湖南经视:[{name:"线路1",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTg4MzRjYTI1ODQ4YzY0NGQ0ZTA4ZjExZGNkNzdjMjc3JmVzPTE2NzAyODI1OTEmdXVpZD1iNjY3ZDRiNmFhMzE3ZTIzMDk0NDg1NzIwZjlmYWE5Yy03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/HNJSMPP360.m3u8?_t=1670253791265&_t=1670253806391"}],湖南娱乐:[{name:"线路1",value:"https://phoneqq.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPWFkMmJmOTBhMWJhZjEzZmUxYjZkYzY3YTcxN2NiZjU5JmVzPTE2NzAyODI3MTcmdXVpZD0zM2YyNzgyYTBmZmYxYzc0Mjg2YWY1YjdiOWFlYjM4ZC03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD1xcV9waG9uZV9saXZl/HNYLMPP360.m3u8?_t=1670253917844&_t=1670253922933"}],湖南电影:[{name:"线路1",value:"https://phoneal.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTk1OTMyNTIxZWU0YTVlOTJmZWVlNDQ2OTdlYTVkYzMzJmVzPTE2NzAyODI3NDYmdXVpZD04ZDcwYzY0ZGYzY2ZlNzYxMjgxMGQzMmI5ZjQwMmE3Ni03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD1hbF9waG9uZTM,/HNDYMPP360.m3u8?_t=1670253946262&_t=1670253996485"}],湖南都市:[{name:"线路1",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTBhZGJkZDczMjk3NzVjZWEzYzNlMjc1OTQxYzAyNTUzJmVzPTE2NzAyODI4MjAmdXVpZD05Mzk0OWIwZjg5NTJlMGE1MDI5MTJkMGQyODMzOTllYi03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/JYKTMPP360.m3u8?_t=1670254021040&_t=1670254033789"}],湖南电视剧:[{name:"线路1",value:"https://phoneqq.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPWFlNDRlZTUyMWYzMTgxN2MzZTcyY2YzMWVjNThjY2MxJmVzPTE2NzAyODMwMzkmdXVpZD02ZWMyNjlmZGM1ZTEyZWMzZjBiNGM2MDZjMGRjN2ExMi03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD1xcV9waG9uZV9saXZl/HNDSJMPP360.m3u8?_t=1670254239966&_t=1670254255102"}],金鹰卡通:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225721/index.m3u8"},{name:"线路2",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTdjYWFjYTUwNWY2YzlhMWFjMDVhZWU2MjFhMTEyOGI1JmVzPTE2NzAyODI5MDcmdXVpZD1mNGEyNjU5NmVkOTU0YmMxNDJhZDQzZDM0NzJhYjk5ZC03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/JYKTMPP360.m3u8?_t=1670254107881"}],国际频道:[{name:"线路1",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPWFmMTJlYmNmYjIzM2M4ODQ0MDk5YTRkM2YzNjAwNWNmJmVzPTE2NzAyODI5MzMmdXVpZD01YWFjZGViODA3NzAxNWYzZDQ4NmVjMGU5ZmUwNjc5MS03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/HNGJMPP360.m3u8?_t=1670254133093"}],金鹰纪实:[{name:"线路1",value:"https://phonews.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPThkMjBkZmM2MmQyYzExY2M5MTBiMGJhYjg4Y2IzOTgxJmVzPTE2NzAyODI5NTEmdXVpZD0yYjU2Y2I5MWUwMmI2M2E3MTllNWRkMzg0NTFlNDMwYy03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD13c19waG9uZTM,/JYJSMPP360.m3u8?_t=1670254151936&_t=1670254182121"}],湖南爱晚:[{name:"线路1",value:"https://phonetx.qing.mgtv.com/nn_live/nn_x64/cWlkPSZzPTU5MWUzNWM0MGUxMzgzMTYxYzFlM2Q2N2RmODhhNDQ5JmVzPTE2NzAyODI5OTQmdXVpZD1iMzRkOWZlY2JiNjUxNWI1YjJkMmMyYzM4Njk0ZGI2ZS03MTEwYTI2YyZ2PTImYXM9MCZjZG5leF9pZD10eF9waG9uZV9saXZl/HNGGMPP360.m3u8?_t=1670254194688&_t=1670254222444"}],山东卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225738/index.m3u8"}],广东卫视:[{name:"线路2",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225742/index.m3u8"},{name:"线路3",value:"http://222.188.112.68:10000/tsfile/live/0125_1.m3u8?key=txiptv&playlive=1&authid=0"}],广东移动:[{name:"线路1",value:"https://sztctv.gdtv.cn/live/ydpd.m3u8?auth_key=1670263420-0-0-3560b05d1941acfd603ea2283756069b"}],广东珠江:[{name:"线路1",value:"https://tcdn.itouchtv.cn/live/gdzj.m3u8?t_token=f16eb636a9ab072bf326e4e90caa7648-JFGOXcmqIdE4uDCFCJ32zja6wCVUhWydceaj5T1fUVguzK%2Fh5hiJVQWYjq5KBG1gWGM184UTh9LC8azzM%2FzMbSRPlB2QZMGwIDfu7Ee%2FX2eBYN7oVGT%2BClDkLoeUMQ0cbO%2BZGRkQ2kV83nLUb9WD0B1KuURJyUFVECdC9e1OgS3YVIsx7k7NtjFME5DvkkOMQLmJ3MP9XQNIL%2Bh8cjyagRYp8%2F6Hq0qgB8J0trr37TuGwwRMe%2Ff37dgUa15Pv18unXDMaqPFrYHPoweR%2BkbuOZh2K2tw4ELNU8toR6GCcxRL0rWTeLCMPkr0zrylHQkAQShaXrze3E9WTNXyteZGaffFbLKkN3dt1ob2xQ8M2CclaDXgh2XvfzdRvD3S5OkkRZWMLCK6HeGmPzbiZRk%2Bi7%2FVhKPyUUe9f4mttFQfrkZQBpcTa4ZE%2FTrrA6WDo9ksx%2Fu8Qh4Vx4reuzHsuFjo5Q%3D%3D"}],广州综合:[{name:"线路1",value:"https://aplays.gztv.com/sec/zhonghes.m3u8?auth_key=1676320438-0-0-b98b7bc2fcd9f2494c7da8c599355531"}],广州新闻:[{name:"线路1",value:"https://aplays.gztv.com/sec/xinwen.m3u8?auth_key=1676320487-0-0-30ab3654629be48ffd208464bbbb0c3e"}],"南国都市(4K)":[{name:"线路1",value:"https://aplays.gztv.com/sec/shenghuos.m3u8?auth_key=1676320533-0-0-226eeae1e50951abc94ff68ff4f35c5b"}],湖南卫视:[{name:"线路1",value:"http://222.188.112.68:10000/tsfile/live/0128_1.m3u8?key=txiptv&playlive=1&authid=0"}],安徽卫视:[{name:"线路1",value:"http://222.188.112.68:10000/tsfile/live/0130_1.m3u8?key=txiptv&playlive=1&authid=0"}],江苏卫视:[{name:"线路1",value:"https://live-hls.jstv.com/livezhuzhan/jsws.m3u8?upt=ee4798cb1670257815"}],江苏影视:[{name:"线路1",value:"https://live-hls.jstv.com/livezhuzhan/jsys.m3u8?upt=174db1d91670257893"}],江西卫视:[{name:"线路1",value:"https://live.jxtvcn.com.cn/live-jxtv/tv_jxtv1.m3u8?source=pc&t=167025769139948&token=f23d11d775514e65fc48d3b3d6eb6ea6"}],陕西卫视:[{name:"线路1",value:"http://stream.snrtv.com/sxbc-star-anoqDF.m3u8"}],河南卫视:[{name:"线路1",value:"https://tvcdn.stream3.hndt.com/tv/65c4a6d5017e1000b2b6ea2500000000_transios/playlist.m3u8?wsSecret=954dc59064254a937b8bdac5baec5327&wsTime=1670271901"}],黑龙江卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225690/index.m3u8"}],重庆卫视:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225692/index.m3u8"},{name:"线路2",value:"https://sjlivecdn9.cbg.cn/202212060032/app_2/_definst_/ls_2.stream/chunklist.m3u8"}],重庆新闻:[{name:"线路1",value:"https://sjlivecdn9.cbg.cn/202212060032/app_2/_definst_/ls_3.stream/chunklist.m3u8"}]}},{group:"地方广播",channel:{香港电台:[{name:"普通話台",value:"https://rthkaudio6-lh.akamaihd.net/i/radiopth_1@355869/master.m3u8?audio"},{name:"第一台",value:"https://rthkaudio1-lh.akamaihd.net/i/radio1_1@355864/master.m3u8"},{name:"第二台",value:"https://rthkaudio2-lh.akamaihd.net/i/radio2_1@355865/master.m3u8"},{name:"第三台",value:"https://rthkaudio3-lh.akamaihd.net/i/radio3_1@355866/master.m3u8"},{name:"第四台",value:"https://rthkaudio4-lh.akamaihd.net/i/radio4_1@355867/master.m3u8"},{name:"第五台",value:"https://rthkaudio5-lh.akamaihd.net/i/radio5_1@355868/master.m3u8"}],南宁广播电视台:[{name:"南宁1074交通台",value:"http://hls.nntv.cn/nnradio/FM1074.m3u8"},{name:"南宁1049经典",value:"http://hls.nntv.cn/nnradio/FM1049.m3u8"},{name:"南宁990新闻台",value:"http://hls.nntv.cn/nnradio/FM1014.m3u8"},{name:"南宁895快乐",value:"http://hls.nntv.cn/nnradio/FM895.m3u8"}],广东荔枝广播:[{name:"广东新闻广播",value:"https://rlizhi.gdtv.cn/audio/fm914.m3u8?auth_key=1676310716-0-0-eceda8720f472f3467552d5c9255a18c"},{name:"珠江经济台",value:"https://rlizhi.gdtv.cn/audio/fm974.m3u8?auth_key=1676310840-0-0-c049865a49d3baf825f98b7ef7acc36b"},{name:"音乐之声",value:"https://rlizhi.gdtv.cn/audio/fm993.m3u8?auth_key=1676310864-0-0-77ce477d111c8f671c0eed876502127e"},{name:"交通之声",value:"https://rlizhi.gdtv.cn/audio/fm1052.m3u8?auth_key=1676310882-0-0-3bec36ba5a2bcc2fc4ac10ee2d0f5047"},{name:"南方生活广播",value:"https://rlizhi.gdtv.cn/audio/fm936.m3u8?auth_key=1676311027-0-0-0669ac010407ff65242bb359184de74d"},{name:"南方生活广播",value:"https://lhttp.qtfm.cn/live/468/64k.mp3?app_id=web&ts=63eaa6f4&sign=b84e5a73430c592e77fed4ddad968250"},{name:"城市之声",value:"https://rlizhi.gdtv.cn/audio/fm1036.m3u8?auth_key=1676311087-0-0-0b5f4836465bc3fb6bbe59552518a94d"},{name:"股市广播",value:"https://rlizhi.gdtv.cn/audio/fm953.m3u8?auth_key=1676311102-0-0-be971c38520fe398b4a521f9b8bf1313"},{name:"文体广播",value:"https://rlizhi.gdtv.cn/audio/fm1077.m3u8?auth_key=1676311124-0-0-1baa4cc16135b251330cb6870641278d"},{name:"珠江之声",value:"https://rlizhi.gdtv.cn/audio/fm1057.m3u8?auth_key=1676311147-0-0-26988d6c88d71f7e7b5ca2b04be17eac"}],浙江广播电视台:[{name:"浙江之声",value:"http://ali-m-l.cztv.com/channels/lantian/fm88/128k.m3u8"},{name:"广播经济",value:"http://ali-m-l.cztv.com/channels/lantian/fm95/128k.m3u8"},{name:"音乐调频",value:"http://ali-m-l.cztv.com/channels/lantian/fm968/128k.m3u8"},{name:"民生资讯",value:"http://ali-m-l.cztv.com/channels/lantian/fm996/128k.m3u8"},{name:"交通之声",value:"http://ali-m-l.cztv.com/channels/lantian/fm93/128k.m3u8"},{name:"旅游之声",value:"http://ali-m-l.cztv.com/channels/lantian/fm1045/128k.m3u8"},{name:"城市之声",value:"http://ali-m-l.cztv.com/channels/lantian/fm107/128k.m3u8"},{name:"新闻广播",value:"http://ali-m-l.cztv.com/channels/lantian/fm988/128k.m3u8"}],河南广播电视台:[{name:"新闻广播",value:"https://stream.hndt.com/live/xinwen/playlist.m3u8?audio"},{name:"交通广播",value:"https://stream.hndt.com/live/jiaotong/playlist.m3u8?audio"},{name:"戏曲广播",value:"https://stream.hndt.com/live/yule/playlist.m3u8?audio"},{name:"音乐广播",value:"https://stream.hndt.com/live/yinyue/playlist.m3u8?audio"},{name:"经济广播",value:"https://stream.hndt.com/live/jingji/playlist.m3u8?audio"},{name:"教育广播",value:"https://stream.hndt.com/live/jiaoyu/playlist.m3u8?audio"}]}},{group:"外文广播",channel:{美国广播电台:[{name:"国家公共广播",value:"https://npr-ice.streamguys1.com/live.mp3"},{name:"FOX News Radio",value:"https://live.wostreaming.net/direct/foxnewsradio-foxnewsradioaac-imc?source=fnr.web"},{name:"MSNBC News Radio",value:"https://tunein.ord.streamguys1.com/msnbc-free"},{name:"美国之声VOA",value:"https://voa-ingest.akamaized.net/hls/live/2035200/161_352R/playlist.m3u8?audio"}],澳大利亚广播电台:[{name:"News",value:"https://mediaserviceslive.akamaized.net/hls/live/2038311/newsradio/master.m3u8?audio"},{name:"774-Melbourne",value:"https://mediaserviceslive.akamaized.net/hls/live/2038300/localmelbourne/master.m3u8?audio"},{name:"612-Brisbane",value:"https://mediaserviceslive.akamaized.net/hls/live/2038304/localbrisbane/master.m3u8?audio"},{name:"National-2RN",value:"https://mediaserviceslive.akamaized.net/hls/live/2038318/rnnsw/master.m3u8?audio"},{name:"720-Perth",value:"https://mediaserviceslive.akamaized.net/hls/live/2038301/localperth/master.m3u8?audio"},{name:"666-Canberra",value:"https://mediaserviceslive.akamaized.net/hls/live/2038303/localcanberra/master.m3u8?audio"},{name:"702-Sydney",value:"https://mediaserviceslive.akamaized.net/hls/live/2038302/localsydney/master.m3u8?audio"},{name:"Radio-Adelaide",value:"https://mediaserviceslive.akamaized.net/hls/live/2038311/newsradio/masterhq.m3u8?audio"},{name:"Radio-Australia",value:"https://mediaserviceslive.akamaized.net/hls/live/2038311/newsradio/masterhq.m3u8?audio"},{name:"Newsradio",value:"https://mediaserviceslive.akamaized.net/hls/live/2038311/newsradio/master.m3u8?audio"},{name:"Kids-listen",value:"https://mediaserviceslive.akamaized.net/hls/live/2038321/abcextra/index.m3u8?audio"},{name:"Country",value:"https://mediaserviceslive.akamaized.net/hls/live/2038322/abccountry/masterhq.m3u8?audio"},{name:"Jazz",value:"https://mediaserviceslive.akamaized.net/hls/live/2038319/abcjazz/masterhq.m3u8?audio"},{name:"Classic",value:"https://mediaserviceslive.akamaized.net/hls/live/2038316/classicfmnsw/master.m3u8?audio"},{name:"Classic-2",value:"https://mediaserviceslive.akamaized.net/hls/live/2038317/classic2/masterhq.m3u8"},{name:"triple-j-Unearthed",value:"https://mediaserviceslive.akamaized.net/hls/live/2038305/triplejunearthed/masterhq.m3u8?audio"},{name:"triple-j",value:"https://mediaserviceslive.akamaized.net/hls/live/2038308/triplejnsw/masterhq.m3u8?audio"},{name:"Double-J",value:"https://mediaserviceslive.akamaized.net/hls/live/2038315/doublejnsw/masterhq.m3u8?audio"}],"113FM Radio":[{name:"Bang Bang!",value:"https://113fm-atunwadigital.streamguys1.com/1006?audio"},{name:"Pop’d",value:"https://113fm-atunwadigital.streamguys1.com/1052?audio"},{name:"Big Kickin’ Country",value:"https://113fm-atunwadigital.streamguys1.com/1004?audio"},{name:"Power!",value:"https://113fm-atunwadigital.streamguys1.com/1053?audio"},{name:"Blues Town",value:"https://113fm-atunwadigital.streamguys1.com/1005?audio"},{name:"Salsa!",value:"https://113fm-atunwadigital.streamguys1.com/1059?audio"},{name:"Chill Zone",value:"https://113fm-atunwadigital.streamguys1.com/1007?audio"},{name:"Synthetic!",value:"https://113fm-atunwadigital.streamguys1.com/1061?audio"},{name:"Classic One",value:"https://113fm-atunwadigital.streamguys1.com/1008?audio"},{name:"Zen",value:"https://113fm-atunwadigital.streamguys1.com/1068?audio"},{name:"Elevator!",value:"https://113fm-atunwadigital.streamguys1.com/1010?audio"},{name:"The Lounge",value:"https://113fm-atunwadigital.streamguys1.com/1064?audio"},{name:"Energy!",value:"https://113fm-atunwadigital.streamguys1.com/1011?audio"},{name:"Flashback!",value:"https://113fm-atunwadigital.streamguys1.com/1012?audio"},{name:"Free Bird",value:"https://113fm-atunwadigital.streamguys1.com/1013?audio"},{name:"113.FM Hits!",value:"https://113fm-atunwadigital.streamguys1.com/1046?audio"},{name:"Indie Nation",value:"https://113fm-atunwadigital.streamguys1.com/1047?audio"},{name:"Jazzy!",value:"https://113fm-atunwadigital.streamguys1.com/1067?audio"},{name:"Jitterbug",value:"https://113fm-atunwadigital.streamguys1.com/1048?audio"},{name:"Alt-X",value:"https://113fm-atunwadigital.streamguys1.com/1001?audio"},{name:"113.FM BPM RADIO",value:"https://113fm.cdnstream1.com/1736_128?cb=139271.mp3"}],AsiaFM:[{name:"HD音乐台",value:"https://lhttp.qingting.fm/live/5022405/64k.mp3"},{name:"亚洲天空台",value:"https://lhttp.qingting.fm/live/20071/64k.mp3"},{name:"亚洲经典台",value:"https://lhttp.qingting.fm/live/5021912/64k.mp3"},{name:"亚洲音乐台",value:"https://lhttp.qtfm.cn/live/4581/64k.mp3"}],"Asia DREAM Radio":[{name:"亚洲梦想电台",value:"https://igor.torontocast.com:1025/;?shoutcast"},{name:"Jazz Sakura",value:"https://kathy.torontocast.com:3330/;?shoutcast"},{name:"Jazz Club Bandstand",value:"https://daniel.torontocast.com:2630/;?shoutcast"},{name:"J-Pop Christmas Radio",value:"https://ruby.torontocast.com:1120/;?shoutcast"},{name:"J-Pop Powerplay",value:"https://kathy.torontocast.com:3560/;?shoutcast"},{name:"Japan Hits",value:"https://igor.torontocast.com:1025/;?shoutcast"},{name:"J-Pop Powerplay Kawaii",value:"https://kathy.torontocast.com:3060/;?shoutcast"},{name:"J-Pop Sakura 懐かしい",value:"https://igor.torontocast.com:1710/;?shoutcast"},{name:"J-Rock Powerplay",value:"https://kathy.torontocast.com:3340/;?shoutcast"},{name:"J-Club Powerplay HipHop",value:"https://kathy.torontocast.com:3350/;?shoutcast"}],BBC:[{name:"World Service",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_world_service"},{name:"Music",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_6music"},{name:"London 94.9",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_london"},{name:"Radio 1",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_one"},{name:"Radio 2",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_two"},{name:"Radio 3",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_three"},{name:"Radio 4 FM",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_fourfm"},{name:"Radio 5 live",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_radio_five_live_online_nonuk"},{name:"Asian Network",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_asian_network"}]}},{group:"港澳频道",channel:{凤凰香港:[{name:"路线1",value:"http://[2409:8087:3869:8021:1001::e5]:6610/PLTV/88888910/224/3221226251/index.m3u8",iframe:!1,error:!1}],凤凰卫视:[{name:"线路1",value:"https://playtv-live.ifeng.com/live/06OLEGEGM4G_tv1.m3u8"},{name:"线路2",value:"http://zhibo.hkstv.tv/livestream/mutfysrq.flv"},{name:"线路3",value:"http://zhibo.hkstv.tv/livestream/mutfysrq/playlist.m3u8"},{name:"线路4",value:"http://[2409:8087:3428:20:500::100f]:6610/PLTV/88888888/224/3221227222/index.m3u8?servicetype=1"}],凤凰资讯:[{name:"线路1",value:"https://playtv-live.ifeng.com/live/06OLEEWQKN4_tv1.m3u8"},{name:"线路2",value:"http://[2409:8087:3428:20:500::100f]:6610/PLTV/88888888/224/3221227226/index.m3u8?servicetype=1"}],澳门衛視:[{name:"线路1",value:"https://live.mastvnet.com/lsdream/lY44pmm/2000/live.m3u8"}],澳视卫星:[{name:"线路1",value:"http://61.244.22.5/ch3/_definst_/ch3.live/playlist.m3u8"}],澳视资讯:[{name:"线路1",value:"http://103.233.191.134:1935/ch5/info_ch5.live/playlist.m3u8"}],蓮花衛視:[{name:"线路1",value:"https://2754871298.cloudvdn.com/a.m3u8?domain=live-hls.macaulotustv.com&player=OcwAAMJRMYgyOJsW&secondToken=secondToken%3A-FfW5vp8w7LfoQufgUk_2Ata6CY&streamid=lotustv%3Alotustv%2Fmacaulotustv&v3=1"}],香港无线新闻台:[{name:"线路1",value:"https://bcovlive-a.akamaihd.net/38974baa695d47bbb231665ca52b8b3c/us-west-2/5324042807001/95ea73e414b14b7ea6406050a5293f17/playlist_ssaiM.m3u8"}],香港无线电视:[{name:"线路1",value:"https://61.147.122.14/flv.live.xylive.tv/live/00wxxw.flv"},{name:"线路1",value:"https://bcovlive-a.akamaihd.net/38974baa695d47bbb231665ca52b8b3c/us-west-2/5324042807001/profile_0/01d75fde5b444c3a96bff88089d67084/chunklist_ssaiV.m3u8"}],香港电台RTHK:[{name:"线路1",value:"https://rthkcnews-live.akamaized.net/hls/live/2043518/633065/CNewsLive/master.m3u8"},{name:"线路2",value:"https://rthkvod1-vh.akamaihd.net/i/mp4/tv/2021/THKCCT2021M06000048.smil/master.m3u8"}],香港卫视:[{name:"线路1",value:"http://zhibo.hkstv.tv/livestream/mutfysrq/playlist.m3u8"}],耀才财经:[{name:"线路1",value:"http://202.69.67.66:443/webcast/bshdlive-pc/playlist.m3u8?wowzasessionid=64000?zgangd"}],"TVB J2":[{name:"线路1",value:"https://j3.lhlh.app/mv.m3u8?checkedby:iptvcat.com"}],台湾大愛:[{name:"线路1",value:"https://pulltv1.wanfudaluye.com/live/tv1.m3u8"}],淨宗學院網絡電臺:[{name:"线路1",value:"https://live.ciguang.tv/live/hdtv.m3u8?auth_key=5216465889-0-0-701a98b03302233fc07fa2ee9e85d39b"}],东森新闻:[{name:"线路1",value:"http://50.7.220.74:8278/ettvnews/playlist.m3u8?tid=m208c21bf386611408694&ct=17874&tsum=d1b4de373c886cd8015974fa8c5d6d12"}],台湾TVBS新闻:[{name:"线路1",value:"http://38.64.72.148:80/hls/modn/list/4006/chunklist1.m3u8#http://38.64.72.148:80/hls/modn/list/4006/chunklist0.m3u8"}],台湾台视新闻:[{name:"线路1",value:"http://38.64.72.148:80/hls/modn/list/4013/chunklist0.m3u8#http://38.64.72.148:80/hls/modn/list/4013/chunklist1.m3u8"}],台湾民视新闻:[{name:"线路1",value:"http://38.64.72.148:80/hls/modn/list/4012/chunklist0.m3u8"}]}},{group:"台湾频道",channel:{国立教育高雄:[{name:"线路1",value:"https://cast.ner.gov.tw/5"}],国立教育台东:[{name:"线路1",value:"https://cast.ner.gov.tw/6"}],国立教育台东2:[{name:"线路1",value:"https://cast.ner.gov.tw/7"}],台北百家知识:[{name:"线路1",value:"http://livestream.1766.today:1768/live1.mp3"}],中广新闻网:[{name:"线路1",value:"http://n05a-eu.rcs.revma.com/78fm9wyy2tzuv?rj-ttl=5&rj-tok=AAABgNbkEy8ABT_5ZlPby5oz3g"}],时刻新闻:[{name:"线路1",value:"http://n29a-eu.rcs.revma.com/55tyxsy4qtzuv.m4a?rj-ttl=5&rj-tok=AAABgNbkd3IA1UYuWKM3EfouAA"}],竹科广播:[{name:"线路1",value:"https://n08a-eu.rcs.revma.com/7mnq8rt7k5zuv?rj-ttl=5&rj-tok=AAABgo42HEIA4mKJbXtsAAi0GA"}],台视:[{name:"线路1",value:"http://61.219.170.95:18543/.m3u8"}],年代:[{name:"线路1",value:"http://61.219.170.95:18558/.m3u8"}],八大1台:[{name:"线路1",value:"http://61.219.170.95:18539/.m3u8"}],卫视中文:[{name:"线路1",value:"http://61.219.170.95:18522/.m3u8"}]}},{group:"英语频道",channel:{AU:[{name:"ABC-News",value:"https://abc-iview-mediapackagestreams-2.akamaized.net/out/v1/6e1cc6d25ec0480ea099a5399d73bc4b/index.m3u8"},{name:"channel-news",value:"https://austchannel-live.akamaized.net/hls/live/2002729/austchannel-news/master.m3u8"},{name:"wonder",value:"https://lds-wonder-samsungau.amagi.tv/playlist.m3u8"},{name:"zoomoo",value:"https://zoomoo-samsungau.amagi.tv/playlist.m3u8"},{name:"BBC-new",value:"https://livecdn.fptplay.net/sdb/bbcnew_2000.stream/chunklist_b2500000.m3u8"}],USA:[{name:"ABC-News",value:"http://cms-wowza.lunabyte.io/wbrz-live-1/_definst_/smil:wbrz-live.smil/chunklist_b1300000.m3u8"},{name:"NBC-News",value:"https://nbcnews2.akamaized.net/hls/live/723426/NBCNewsPlaymaker24x7Linear99a3a827-ua/master.m3u8"},{name:"Fox-News",value:"http://fox-foxnewsnow-samsungus.amagi.tv/playlist.m3u8"},{name:"Fox-sport",value:"https://austchannel-live.akamaized.net/hls/live/2002736/austchannel-sport/master1280x720_v3.m3u8"},{name:"FOX.LiveNOW",value:"https://cdn-ue1-prod.tsv2.amagi.tv/linear/samsungus-fox-newsnow-samsung/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"},{name:"ABC.News.USA",value:"https://d202koqm588atp.cloudfront.net/v1/master/3fec3e5cac39a52b2132f9c66c83dae043dc17d4/prod-samsungtvplus-stitched-publica/samsungtvplus_us_abcnewslive_001.m3u8?ads.caid=ABCNewsLive&ads.csid=samsungtvplus_us_abcnewslive_ssai&ads.xumo_platform=samsung&ads._fw_is_lat=%7BTARGETOPT%7D&ads._fw_us_privacy=1YNY&ads._fw_coppa=0&ads._fw_did=%7BPSID%7D&ads._fw_content_category=IAB12&ads._fw_content_genre=news&ads._fw_content_language=en&ads._fw_content_rating=tv-g&ads._fw_deviceMake=samsung&ads._fw_gdpr=0&ads.appName=%7BAPP_NAME%7D&ads.xumo_contentId=58&ads.xumo_contentName=ABCNewsLive&ads.xumo_providerId=58&ads.xumo_providerName=ABCNewsLive&ads.xumo_channelId=9999533&ads.xumo_channelName=ABCNewsLive&ads.xumo_adsystem=mediatailor&ads.tpcl=MIDROLL&ads._fw_app_store_url=%7BAPP_DOMAIN%7D"},{name:"NBC.News.NOW",value:"https://d2gjhy8g9ziabr.cloudfront.net/v1/master/3fec3e5cac39a52b2132f9c66c83dae043dc17d4/prod-samsungtvplus-stitched/samsungtvplus_us_nbcnewsnow_001.m3u8?ads.caid=NBCNewsNOW&ads.csid=samsungtvplus_us_nbcnewsnow_ssai&ads.xumo_platform=samsung&ads._fw_is_lat=%7BTARGETOPT%7D&ads._fw_us_privacy=1YNY&ads._fw_coppa=0&ads._fw_did=%7BPSID%7D&ads._fw_content_category=IAB12&ads._fw_content_genre=News&ads._fw_content_language=en&ads._fw_content_rating=tv-g&ads._fw_deviceMake=samsung&ads._fw_gdpr=0&ads.appName=%7BAPP_NAME%7D&ads.xumo_contentId=1828&ads.xumo_contentName=NBCNewsNOW&ads.xumo_providerId=1828&ads.xumo_providerName=NBCNewsNOW&ads.xumo_channelId=9999542&ads.xumo_adsystem=mediatailor&ads.tpcl=MIDROLL&ads._fw_app_store_url=%7BAPP_DOMAIN%7D"},{name:"Cheddar.News",value:"https://bcf66772c67a40ec839611926b59b041.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_Cheddar/playlist.m3u8?ads.wurl_channel=575&ads.wurl_name=Cheddar&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"Yahoo.Finance",value:"https://cdn-ue1-prod.tsv2.amagi.tv/linear/yahoofina-samsungyahoofinance/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"CNN",value:"https://225f14f181b14665bde8b60479eed3d2.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/Samsung-at_CNN/playlist.m3u8?ads.wurl_channel=662&ads.wurl_name=CNN&ads.coppa=0&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"}],"NASA-Television":[{name:"Media",value:"https://ntv2.akamaized.net/hls/live/2013923/NASA-NTV2-HLS/master.m3u8"},{name:"Public",value:"https://ntv1.akamaized.net/hls/live/2014075/NASA-NTV1-HLS/master.m3u8"}],UniTV:[{name:"线路1",value:"https://vblive-c.viebit.com/65ea794b-dd82-41ce-8e98-a9177289a063/playlist.m3u8"},{name:"线路2",value:"https://vblive-c.viebit.com/65ea794b-dd82-41ce-8e98-a9177289a063/chunklist.m3u8"}],"ABC-Radio":[{name:"ABC-News-Radio",value:"http://live-radio01.mediahubaustralia.com/PBW/aac/"},{name:"ABC-National-Radio",value:"http://live-radio01.mediahubaustralia.com/2RNW/aac/"},{name:"ABC-Sydney-Radio",value:"http://live-radio01.mediahubaustralia.com/2LRW/aac/"},{name:"ABC-Classic-Radio",value:"http://live-radio01.mediahubaustralia.com/2FMW/aac/"},{name:"ABC-Brisbane-Radio",value:"http://live-radio01.mediahubaustralia.com/4LRW/aac/"},{name:"BBC-World-Radio",value:"https://stream.live.vc.bbcmedia.co.uk/bbc_world_service"},{name:"VOA-EN-Radio",value:"http://n04.radiojar.com/t2n88q0st5quv?rj-tok=AAABgo4NE1QArW6dTYSHdicQzQ&rj-ttl=5"}],Movie:[{name:"MovieSphere",value:"https://moviesphere-samsung-samsungus.amagi.tv/playlist.m3u8"},{name:"Xplore1",value:"http://xlpore-samsungus.amagi.tv/playlist.m3u8"},{name:"Xplore2",value:"https://cdn-ue1-prod.tsv2.amagi.tv/linear/samsungus-xplore-samsungus/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"},{name:"AsianCrush",value:"https://479cc5aa923d4f399f440d76bc53da92.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_AsianCrush/playlist.m3u8?ads.wurl_channel=269&ads.wurl_name=AsianCrush&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"MovieHub",value:"https://dje6yassknq8t.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/MovieHub2-prod/playlist.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"},{name:"NEW.KMOVIES",value:"https://bd281c27a16f4a7fb4a88260378e8082.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_NewMovies/playlist.m3u8?ads.wurl_channel=618&ads.wurl_name=NewMovies&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"MyTime.Movie.Network",value:"https://amg00500-studiocitypictu-mytimegerman-samsungat-166eh.amagi.tv/playlist/amg00500-studiocitypictu-mytimegerman-samsungat/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.tc_string=%7BTC_STRING%7D&ads.coppa=0"},{name:"T2",value:"https://d3qg0hadt0dkov.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-3sfgyrfz9zduo-prod/amgtennisus/playlist.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"},{name:"Baywatch",value:"https://d3vdwtqqboxhm9.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/BayWatch2-prod/playlist.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"},{name:"Stories.by.AMC",value:"https://fe0423aba9c44b9e92576576e4d3189a.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_AMCPresentsClean/playlist.m3u8?ads.wurl_channel=663&ads.wurl_name=AMCPresentsClean&ads.coppa=0&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],Sports:[{name:"Edgesports",value:"https://edgesport-samsungus.amagi.tv/playlist.m3u8"},{name:"FreeSports",value:"https://d3cq7cdp2cfi92.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-2ff27mp9b8422-prod/hls-harvester2-1293-prod/us-east-1/cc-2ff27mp9b8422/master.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"},{name:"ACC-DigitalNetwork",value:"https://1a8f69077b904368aedb538ed5045ac1.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_ACCDigitalNetwork/playlist.m3u8?ads.wurl_channel=599&ads.wurl_name=ACCDigitalNetwork&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"MAVTVSelect",value:"https://5e40ddae915641febc61168f0f1d612a.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_MavTV/playlist.m3u8?ads.wurl_channel=303&ads.wurl_name=MavTV&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"Fashion.TV",value:"https://ec803f4d4e7245028d0f34620ccb702d.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/Samsung-at_FashionTV/playlist.m3u8?ads.wurl_channel=689&ads.wurl_name=FashionTV&ads.coppa=0&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"}],Discovery:[{name:"Discovery",value:"https://livecdn.fptplay.net/hda2/discovery_vhls.smil/chunklist_b5000000.m3u8"},{name:"NatGeoHD",value:"http://vips-livecdn.fptplay.net/hda2/natgeohd_vhls.smil/playlist.m3u8"},{name:"NatGeDWild",value:"https://livecdn.fptplay.net/hda3/natgeowild_vhls.smil/chunklist_b5000000.m3u8"},{name:"PBS.America",value:"https://pbs-samsunguk.amagi.tv/playlist.m3u8"},{name:"PBS.KIDS",value:"https://d3afonbm0qxmbc.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-elbbbj7vf6xsf-prod/est.m3u8"},{name:"HistoryHit",value:"https://ldsaaaaaa-timeline-samsung-uk-azlgu.amagi.tv/playlist/ldsAAAAAA-timeline-samsung-uk/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.tc_string=%7BTC_STRING%7D&ads.coppa=0"},{name:"Discovery.Kids",value:"https://cdn-apse1-prod.tsv2.amagi.tv/linear/amg01448-samsungin-discoverykids-samsungin/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=1"},{name:"Discovery.Science",value:"https://cdn-apse1-prod.tsv2.amagi.tv/linear/amg01448-samsungin-discoverysciin-samsungin/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"Discovery.HD",value:"https://cdn-apse1-prod.tsv2.amagi.tv/linear/amg01448-samsungin-discoveryhdin-samsungin/playlist.m3u8?ads.did=%7BPSID%7D&ads.dnt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"BBC.History",value:"https://7a0978fa08424aa3b473d22dc144bd01.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/Samsung-de_BBCHistory/playlist.m3u8?ads.wurl_channel=947&ads.wurl_name=BBCHistory&ads.coppa=0&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"},{name:"TheWalkingDeadUniverse",value:"https://645c5b3f342a4329a847a557fbe77b05.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_TWDUniverseTV14/playlist.m3u8?ads.wurl_channel=844&ads.wurl_name=TWDUniverseTV14&ads.coppa=0&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"},{name:"TODAY.All.Day",value:"https://d2gjhy8g9ziabr.cloudfront.net/v1/master/3fec3e5cac39a52b2132f9c66c83dae043dc17d4/prod-samsungtvplus-stitched/samsungtvplus_us_todayallday_001.m3u8?ads.caid=TodayAllDay&ads.csid=samsungtvplus_us_todayallday_ssai&ads.xumo_platform=samsung&ads._fw_is_lat=%7BTARGETOPT%7D&ads._fw_us_privacy=1YNY&ads._fw_coppa=0&ads._fw_did=%7BPSID%7D&ads._fw_content_category=IAB1-7&ads._fw_content_genre=lifestyle&ads._fw_content_language=en&ads._fw_content_rating=tv-g&ads._fw_deviceMake=samsung&ads._fw_gdpr=0&ads.appName=%7BAPP_NAME%7D&ads.xumo_contentId=179&ads.xumo_contentName=NBCToday&ads.xumo_providerId=179&ads.xumo_providerName=NBCToday&ads.xumo_channelId=9999545&ads.xumo_adsystem=mediatailor&ads.tpcl=MIDROLL&ads._fw_app_store_url=%7BAPP_DOMAIN%7D"},{name:"Crime360",value:"https://dab88d35ef5b44ec99be60adef855bf2.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung_Crime360/playlist.m3u8?ads.wurl_channel=393&ads.wurl_name=Crime360&ads.psid=%7BPSID%7D&ads.us_privacy=1YNY&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0"},{name:"WeatherNation",value:"https://d2ferbiwcx1539.cloudfront.net/v1/master/3722c60a815c199d9c0ef36c5b73da68a62b09d1/cc-8zd06wicndthf-ssai-prd/WNNationalSamsung/WNNationalSamsung.m3u8?ads.device_did=%7BPSID%7D&ads.device_dnt=%7BTARGETOPT%7D&ads.us_privacy=1YNY&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}],FamilyTV:[{name:"FamilyRakutenTV",value:"https://ad66907c364a4e7eb47c7f61e1d50ee3.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung-at_RakutenFamily/playlist.m3u8?ads.wurl_channel=725&ads.wurl_name=RakutenFamily&ads.coppa=1&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.consent=%7BTC_STRING%7D"},{name:"RakutenTV",value:"https://696c8ef0d3824ac28f38d6277481fbe5.mediatailor.us-east-1.amazonaws.com/v1/master/44f73ba4d03e9607dcd9bebdcb8494d86964f1d8/Samsung-at_RakutenActionMovies/playlist.m3u8?ads.wurl_channel=439&ads.wurl_name=RakutenActionMovies&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D&ads.coppa=0&ads.consent=%7BTC_STRING%7D"},{name:"BounceXL",value:"https://c217322ca48e4d1e98ab33fe41a5ed01.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/Samsung_BounceXL/playlist.m3u8?ads.wurl_channel=938&ads.wurl_name=BounceXL&ads.coppa=0&ads.us_privacy=1YNY&ads.psid=%7BPSID%7D&ads.targetopt=%7BTARGETOPT%7D&ads.app_domain=%7BAPP_DOMAIN%7D&ads.app_name=%7BAPP_NAME%7D"}]}},{group:"其他地区",channel:{日本新闻:[{name:"线路1",value:"https://n24-cdn-live.ntv.co.jp/ch01/index.m3u8"}],NHK华语:[{name:"线路1",value:"https://nhkw-zh-hlscomp.akamaized.net/ixxemlzk1vqvy44o/playlist.m3u8"}],NHKworld:[{name:"线路1",value:"https://cdn.nhkworld.jp/www11/nhkworld-tv/bmcc-live/zh/playlist.m3u8"},{name:"线路2",value:"https://livecdn.fptplay.net/hda2/nhkworld_vhls.smil/chunklist_b5000000.m3u8"}],"日本AT-X":[{name:"线路1",value:"https://sub2.neetball.net/live/neet.m3u8"}],新加坡CNA:[{name:"线路1",value:"http://d2e1asnsl7br7b.cloudfront.net/7782e205e72f43aeb4a48ec97f66ebbe/index_4.m3u8"}],新加坡TLC:[{name:"线路1",value:"https://s6.hopslan.com/tlc/index.m3u8"}],爱尔兰CorkCommunity:[{name:"线路1",value:"https://s6.hopslan.com/tlc/index.m3u8"}],越南HBTV:[{name:"线路1",value:"https://dacastmmd.mmdlive.lldns.net/dacastmmd/896cad7d35a847f585551378cd7ba4d2/manifest.m3u8?p=79&s=1676317945&e=1676318065&h=9c6c01b3df48d5461ad885e9b3468b28"}],佛得角TCSM:[{name:"线路1",value:"https://stream.internet.one/RadioCaboVerde/video.m3u8"}],新西兰Firstlight:[{name:"线路1",value:"https://uni01rtmp.tulix.tv/firstlight/firstlight.smil/playlist.m3u8"}],新西兰Juice:[{name:"线路1",value:"https://juicex.nz/hls/mystream.m3u8"}],新西兰Parliament:[{name:"线路1",value:"https://ptvlive.kordia.net.nz/out/v1/daf20b9a9ec5449dadd734e50ce52b74/index.m3u8"}],"俄罗斯RT.Doc":[{name:"线路1",value:"https://rt-rtd.rttv.com/live/rtdoc/playlist.m3u8"}],"RedBull-TV":[{name:"线路1",value:"https://rbmn-live.akamaized.net/hls/live/590964/BoRB-AT/master.m3u8"}],"韩国KBS-World":[{name:"线路1",value:"https://livecdn.fptplay.net/sdb/kbs_hls.smil/playlist.m3u8"}],韩国Arirang:[{name:"线路1",value:"http://amdlive.ctnd.com.edgesuite.net/arirang_1ch/smil:arirang_1ch.smil/playlist.m3u8"}],SpaceX:[{name:"线路1",value:"https://c1--cn-gotcha208.bilivideo.com/live-bvc/837435/live_13945088_2879895_1500/index.m3u8?expires=1660423245&len=0&oi=3738723966&pt=web&qn=0&trid=1007211554f5809e4dedbdebedeb05843ad4&sigparams=cdn,expires,len,oi,pt,qn,trid&cdn=cn-gotcha208&sign=c96c05db4735909b53e7794cf9353129&sk=c9c6154426932efa80d25af02e87a3bd&p2p_type=1&src=57345&sl=1&free_type=0&pp=rtmp&machinezone=jd&source=onetier&site=72eea5b1ba20fb9ba0c62ae1c4c92ed1&order=1"}]}},{group:"电影电视剧",channel:{精品记录:[{name:"线路1",value:"http://39.134.115.163:8080/TVOD/88888910/224/3221225710/index.m3u8"}],黑莓电影:[{name:"线路1",value:"http://39.134.115.163:8080/TVOD/88888910/224/3221225718/index.m3u8"}],超级电影:[{name:"线路1",value:"http://39.134.115.163:8080/PLTV/88888910/224/3221225623/index.m3u8"}],超级综艺:[{name:"线路1",value:"http://39.134.115.163:8080/TVOD/88888910/224/3221225620/index.m3u8"}]}},{group:"直播中国",channel:{贡嘎雪山:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/emsyh_1/index.m3u8?contentid=2820180516001"}],南天一柱:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjntyz_1/index.m3u8?contentid=2820180516001"}],普高老寨:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/hnttpgsz_1_md.m3u8"}],蓝印花布:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zjwzlyhb_1_md.m3u8"}],云梦仙顶:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/tms04_1_md.m3u8"}],梅州梅江:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/gllj01_1_md.m3u8"}],泰山主峰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/taishan01_1/index.m3u8?contentid=2820180516001"}],天涯鸟瞰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjtynl_1/index.m3u8?contentid=2820180516001"}],十八洞村:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/sbd01_1/index.m3u8"}],厦门第一:[{name:"线路1",value:"http://cctvtxyh5ca.liveplay.myqcloud.com/cstv/xiamen1_2/index.m3u8"}],天津海河:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/tjhh02_1_md.m3u8"}],黄河漂流:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nxspthhpl_1_md.m3u8"}],大漠孤烟:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nxsptdmgy_1_md.m3u8"}],湘潭综合:[{name:"线路1",value:"http://21084.liveplay.myqcloud.com/live/21084_13241b8296ee11e892905cb9018cf0d4.m3u8"}],嘉峪关03:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/jyg04_1_md.m3u8"}],"崂山-太清":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/qdls04_1_md.m3u8"}],泰山大观峰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/taishan03_1/index.m3u8?contentid=2820180516001"}],印象大红袍:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wysyxdhp_1/index.m3u8?contentid=2820180516001"}],韶音亭:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/dxssyt_1_md.m3u8"}],厦门鼓浪屿:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/gly01_1_md.m3u8"}],千岛湖:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/caqdh_1_md.m3u8"}],隆珠措:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/sgns02_1_md.m3u8"}],九华山:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/jhs05_1_md.m3u8"}],河南二七塔:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xysrf_1_md.m3u8"}],舟山东极岛:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/djd01_1_md.m3u8"}],九寨沟:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wygjt1_1/index.m3u8?contentid=2820180516001"}],黄山始信峰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hssxf_1/index.m3u8?contentid=2820180516001"}],泰山黄岘岭:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/taishan01_1/index.m3u8?contentid=2820180516001"}],重庆洪崖洞:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjtys_1/index.m3u8?contentid=2820180516001"}],江苏聚龙湖:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nxsptdmgy_1_md.m3u8"}],湘潭县综合:[{name:"线路1",value:"http://21084.liveplay.myqcloud.com/live/21084_13241b8296ee11e892905cb9018cf0d4.m3u8"}],嘉峪关长城:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/jyg04_1/index.m3u8?contentid=2820180516001"}],泰山太平岭:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hkts09_1/index.m3u8"}],都江堰鱼嘴:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/djyqyl1_1/index.m3u8"}],天涯石:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjtys_1/index.m3u8?contentid=2820180516001"}],双乳峰:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xysrf_1_md.m3u8"}],日月石:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/tyhjrys_1_md.m3u8"}],长津湖:[{name:"线路1",value:"https://cdn.oss-cn-hangzhou-shanghai.myqcloud.com.zhegeyuming.top/video/1647245120032.m3u"}],"天山-马牙山":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xjtcmys_1_md.m3u8"}],"天山-灯杆山":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xjtcdgs_1_md.m3u8"}],"都江堰-鱼嘴":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/djyqyl1_1_md.m3u8"}],朱鹮03:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zh03_1_md.m3u8"}],朱鹮04:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zh04_1_md.m3u8"}],"CCTV-15":[{name:"线路1",value:"http://21084.liveplay.myqcloud.com/live/21084_13241b8296ee11e892905cb9018cf0d4.m3u8"}],黟县宏村月沼:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/yxhcyz_1/index.m3u8?contentid=2820180516001"}],峨眉云海日出:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/emsarm_1/index.m3u8?contentid=2820180516001"}],雪乡梦幻家园:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/mdjxxmhjyxj_1/index.m3u8?contentid=2820180516001"}],宁夏黄河漂流:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nxspthhpl_1_md.m3u8"}],华山:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hkhs01_1_md.m3u8"}],桂林漓江景区:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/gllj01_1_md.m3u8"}],云台山红石峡:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ytshsx_1/index.m3u8"}],泰山玉皇顶西:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hkts11_1/index.m3u8"}],乐山大佛全景:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/lsdfgfl_1_md.m3u8"}],中央电视塔北:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/ztb_1_md.m3u8"}],张掖七彩丹霞:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zyqcdx01_1_md.m3u8"}],"云台山-小寨沟":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/ytsxzg_1_md.m3u8"}],"天山-定海神针":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xjtcdhsz_1_md.m3u8"}],"天山-海西平台":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xjtchxpt_1_md.m3u8"}],"中影-新科动漫":[{name:"线路1",value:"http://cctvtxyh5ca.liveplay.myqcloud.com/live/xinkedongman_2/index.m3u8"}],"都江堰-飞沙堰":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/djyewm_1_md.m3u8"}],"黄山-梦笔生花":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/hsmbsh_1_md.m3u8"}],张家界将军列队:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zjjjjdl_1/index.m3u8?contentid=2820180516001"}],丹霞山丹梯铁锁:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/dxsdtts_1/index.m3u8"}],凤凰古城南华山:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/fhgcdnhs_1_md.m3u8"}],云龙山观景台南:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/ylh03_1_md.m3u8"}],大容山莲花山顶:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/drs01_1_md.m3u8"}],江苏南京牛首山:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nss01_1_md.m3u8"}],江西武功山云顶:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/jyg04_1/index.m3u8?contentid=2820180516001"}],宁夏回族上滩村:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/tyhjrys_1_md.m3u8"}],宁夏黄河大峡谷:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hhdxg01_1/index.m3u8"}],丽江古城大水车:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ljgcdsc_1/index.m3u8"}],恒山悬空寺全景:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hsxksqj_1/index.m3u8"}],恒山悬空寺侧景:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/hsxkscj_1_md.m3u8"}],"CCTV-11戏曲 (1080p)":[{name:"线路1",value:"http://cctvtxyh5ca.liveplay.myqcloud.com/live/xinkedongman_2/index.m3u8"}],浙江舟山东极岛:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/djd01_1_md.m3u8"}],福建厦门第一台:[{name:"线路1",value:"http://cctvtxyh5ca.liveplay.myqcloud.com/cstv/xiamen1_2/index.m3u8"}],西汉南越王博物馆:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/nywbwg01_1_md.m3u8"}],郑东新区千玺广场:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zdxq01_1_md.m3u8"}],四川凉山邛海景区:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/xcqh01_1_md.m3u8"}],西藏米林拉林铁路:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zyqcdx01_1_md.m3u8"}],武夷山大红袍茶园:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wysdhpcy_1/index.m3u8?contentid=2820180516001"}],浙江乌镇蓝印花布:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zjwzlyhb_1/index.m3u8"}],中央电视塔中塔西:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ztx_1/index.m3u8"}],嵩山少林寺胜观峰:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zsslstpt_1/index.m3u8"}],直播中国精编直播:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/wgw05_1_md.m3u8"}],伊犁巩留县蝶湖公园:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tyhjtynl_1/index.m3u8?contentid=2820180516001"}],湘西凤凰古城南华山:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/fhgcdnhs_1/index.m3u8"}],峨眉山远眺贡嘎雪山:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/emsyh_1/index.m3u8"}],牡丹江雪乡梦幻家园:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/mdjxxmhjyxj_1/index.m3u8"}],六盘山红军长征景区:[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/lpsgmjng01_1_md.m3u8"}],"张家界-阿凡达悬浮山":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/zjjafdxfs_1_md.m3u8"}],无锡惠山二茅峰望锡城:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wysdhpcy_1/index.m3u8?contentid=2820180516001"}],张家界天门山云梦仙顶:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/tms04_1/index.m3u8"}],丽江古城大研花巷观景:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ljgcdyhxgjt_1/index.m3u8"}],福建武夷山印象大红袍:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/wysyxdhp_1/index.m3u8"}],云南大理崇圣寺三塔中景:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/dlst03_1/index.m3u8"}],张家界武陵源景区迷魂台:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zjjmht_1/index.m3u8"}],张家界武陵源景区宝峰湖:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/zjjbfh_1/index.m3u8"}],黄果树瀑布银链坠潭瀑布:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/hgsylztpb_1/index.m3u8"}],"广东-广州塔与海心桥视角":[{name:"线路1",value:"http://gctxyc.liveplay.myqcloud.com/gc/ztb_1_md.m3u8"}],广东省深圳市甘坑客家小镇:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/szgk01_1/index.m3u8"}],安徽省池州市九华山风景区:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/jhs05_1/index.m3u8"}],四川凉山彝族自治州西昌市邛海景区:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/xcqh01_1/index.m3u8"}],江苏徐州云龙湖风景区云龙山观景台南:[{name:"线路1",value:"https://gctxyc.liveplay.myqcloud.com/gc/ylh03_1/index.m3u8"}]}}],cp="https://api.1080zyku.com/inc/ldg_api_all.php",dp="ZYK1080";const up="https://api.tiankongapi.com/api.php/provide/vod/",hp={NAME:"ZYTIANKONG"};const fp={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"Connection Closed Without Response",451:"Unavailable For Legal Reasons",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",599:"Network Connect Timeout Error","1××":"Informational","2××":"Success","3××":"Redirection","4××":"Client Error","5××":"Server Error"},pp="ZYYPARSE";const vp="https://api.apibdzy.com/api.php/provide/vod/",mp={NAME:"ZYBD"};var gp="https://api.1080zyku.com/inc/ldg_api_all.php";class yp{constructor(e){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.pageCount=1,this.showPageSize=6,this.itemsPerPage=20,this.vInfo={},this.PLATFORM=e?.PLATFORM||{NAME:"ZYK1080"},this.filterENABLE=e?.filterENABLE||!1,this.proxyENABLE=e?.proxyENABLE||!1,gp=e?.apiUrl||"https://api.1080zyku.com/inc/ldg_api_all.php",console.log("~~~~ZYXML",{config:e,apiUrl:gp,PLATFORM:this.PLATFORM})}getURLByTId(e,t=1){return`${gp}?ac=list&t=${e}&pg=${t}`}getURLById(e){return`${gp}?ac=videolist&ids=${e}`}getURLByKeyword(e="",t=1){return`${gp}?wd=${e}&pg=${t}`}getProxyConfig(e){return this.proxyENABLE?Gf.config(e):{url:e}}async searchByKeyword(e,t=""){const a=this;this.resultText="";let n=""==t?e:t,i=""==t?this.getURLByKeyword(n,this.currentPage):this.getURLByTId(n,this.currentPage),r=this.getProxyConfig(i);const[o,s]=await Qf($f(r));if(console.log("~~searchByKeyword~awaitFunc:",{err:o,data:s,proxyConfig:r}),!s||o||null==s?.response)return this.resultText="结果:空",{};const l=s.response;console.log("~~searchByKeyword~xmlResponse:",{xmlResponse:l,proxyConfig:r});const c=tp((new DOMParser).parseFromString(l,"application/xml"));let d=c?.rss?.class?.ty,u=c?.rss?.list?.video;if(!this.resultText&&d&&d.length>0&&(this.groupList=[],d.forEach((e=>{let t=e["@attributes"].id,n=e["#text"];(this.filterENABLE&&!Hf([n])||!this.filterENABLE)&&a.groupList.push({tid:t,name:n})}))),!u)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let e=c?.rss?.list["@attributes"],{page:t,pagecount:n,total:i,limit:r,pagesize:o,recordcount:s}=e;a.currentPage=t,a.totalItems=s||i,a.pageCount=n,a.itemsPerPage=r}catch(e){}if(u&&"Array"!=u?.constructor?.name){let e=JSON.parse(JSON.stringify(u));u=[],u.push(e)}return console.log({xmlObj:c,groupList:d,videoList:u}),this.videoList=[],u&&u.forEach(((e,t,n)=>{let i="",r="",o="",s="",l="",c="",d="",u="";try{i=e?.name["#cdata-section"]}catch(e){}try{r=e?.des["#cdata-section"]||"",r=r.trim()}catch(e){}try{o=e?.note["#cdata-section"]}catch(e){}try{s=e?.last["#text"]}catch(e){}try{c=e?.pic["#text"]}catch(e){}try{u=e?.year["#text"]}catch(e){}try{d=e?.type["#text"]}catch(e){}try{l=`${i}\n${o}\n${u||s}\n来源:${a.PLATFORM.NAME}\n${r}`}catch(e){}(this.filterENABLE&&!Hf([d])||!this.filterENABLE)&&a.videoList.push({des:r,note:o,info:l,pic:c,year:u,name:e?.name["#cdata-section"],id:e?.id["#text"],tid:e?.tid["#text"],type:e?.type["#text"],last:e?.last["#text"],url:`${gp}?ac=videolist&ids=${e?.id["#text"]}`})})),console.log({videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:a.totalItems,pageCount:a.pageCount,itemsPerPage:a.itemsPerPage}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e,t=3,a=null){let n=this.getURLById(e),i=this.getProxyConfig(n);const[r,o]=await Qf($f(i));if(r||!o)return;const s=o.response;const l=tp((new DOMParser).parseFromString(s,"application/xml"));let c=l?.rss?.class?.ty,d=l?.rss?.list?.video;if(console.log({xmlObj:l,groupList:c,video:d}),!c&&!d)return{newGroup:null};let u=d?.dl?.dd,h="";"Array"==u.constructor.name&&u.length>0&&u.forEach(((e,t,a)=>{h=e["#cdata-section"]})),"Object"==u.constructor.name&&Object.keys(u).length>0&&(h=u["#cdata-section"]);let f={name:d?.name["#cdata-section"],id:d?.id["#text"],tid:d?.tid["#text"],type:d?.type["#text"],last:d?.last["#text"],url:this.getURLById(d?.id["#text"])},p={group:f.type,channel:{}};if(p.channel[f.name]=[],h){let e=h.split("#"),{id:t,tid:a,type:n}=f;e.forEach(((e,i,r)=>{let[o,s,...l]=e.split("$");-1==s.indexOf("/share/")&&-1!=s.indexOf(".m3u8")&&p.channel[f.name].push({name:o,value:s,search:{id:t,tid:a,type:n,line:l.join(),from:this.PLATFORM.NAME}})}))}return{newGroup:p}}async searchDetailByVideoID(e){const t=this;let a=this.getURLById(e),n=this.getProxyConfig(a);const[i,r]=await Qf($f(n));if(i||!r)return;const o=r.response;const s=tp((new DOMParser).parseFromString(o,"application/xml"));s?.rss?.class?.ty;let l=s?.rss?.list?.video,c="",d="",u="",h="",f="",p="",v="",m="",g="",y="",b="";try{c=l?.name["#cdata-section"]}catch(e){}try{d=l?.des["#cdata-section"]||"",d=d.trim()}catch(e){}try{u=l?.note["#cdata-section"]}catch(e){}try{m=l?.actor["#cdata-section"]}catch(e){}try{g=l?.area["#text"]}catch(e){}try{y=l?.director["#cdata-section"]}catch(e){}try{b=l?.lang["#text"]}catch(e){}try{h=l?.last["#text"]}catch(e){}try{p=l?.pic["#text"]}catch(e){}try{v=l?.year["#text"]}catch(e){}try{f=`${c}\n${u}\n${v||h}\n来源:${t.PLATFORM.NAME}\n${d}`}catch(e){}let _={des:d,note:u,info:f,pic:p,year:v,actor:m,area:g,director:y,lang:b,name:l?.name["#cdata-section"],id:l?.id["#text"],tid:l?.tid["#text"],type:l?.type["#text"],last:l?.last["#text"],url:this.getURLById(l?.id["#text"])};for(const e in _)if(Object.hasOwnProperty.call(_,e)){let t=_[e]||"";_[e]=t,this.vInfo[e]=t}return console.log({xmlObj:s,video:l,vInfo:_}),{vInfo:_}}}const bp={URL:"https://api.yparse.com/api/json/",PLATFORM:"ZYJSON"};class _p{constructor(e){this.groupList=[],this.videoList=[],this.audioList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.pageCount=1,this.showPageSize=6,this.itemsPerPage=20,this.mediaInfo={},this.playfrom=e?.PLATFORM||"ZYJSON",this.iframe=e?.iframe||!1,this.filterENABLE=e?.filterENABLE||!1,this.proxyENABLE=e?.proxyENABLE||!1,this.API={getURL_ByID:e=>`${this.getFullURL()}?ac=detail&ids=${e}`,getURL_ByKeyword:(e="",t=1)=>`${this.getFullURL()}?wd=${e}&pg=${t}`,getURL_ByTypeId:(e,t=1)=>`${this.getFullURL()}?ac=list&t=${e}&pg=${t}`},bp.PLATFORM=e?.PLATFORM||bp.PLATFORM,bp.URL=e?.apiUrl||bp.URL,console.log(`~~~~${bp.PLATFORM}`,{config:e,apiUrl:bp.URL})}getFullURL(){return bp.URL+this.playfrom}awaitFunc(e){return e.then((e=>[null,e])).catch((e=>[e,null]))}getProxyConfig(e){return this.proxyENABLE?Gf.config(e):{url:e}}async searchByKeyword(e="",t="",a=3,n=null){this.resultText="";let i=""==t?e:t,r=""==t?this.API.getURL_ByKeyword(i,this.currentPage):this.API.getURL_ByTypeId(i,this.currentPage),o=this.getProxyConfig(r);const[s,l]=await this.awaitFunc($f(o));console.log("~~searchByKeyword~awaitFunc:",{err:s,data:l}),l&&this.handle_keyword().success(l,n),s&&this.handle_keyword().error(s,n)}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e,t=3,a=null){this.resultText="";let n=this.API.getURL_ByID(e),i=this.getProxyConfig(n);const[r,o]=await this.awaitFunc($f(i));o&&this.handle_id().success(o,a),r&&this.handle_id().error(r,a)}async searchDetailByVideoID(e,t=3){let a=this.API.getURL_ByID(e),n=this.getProxyConfig(a);const[i,r]=await this.awaitFunc($f(n));return i?this.handle_detail().error(i):r?this.handle_detail().success(r):void 0}handle_detail(){const e=this;return{error:(t,a=null)=>(console.log("~~!!handle_detail::error",{error:t}),e.resultText="结果:空",null),success:(t,a=null)=>{let n=t.response;console.log("~~jsonResponse",{data:t,responseText:n});let i=null;try{"object"==typeof n&&(i=n),"string"==typeof n&&(i=JSON.parse(n))}catch(e){console.error(e)}return console.log("~~jsonResponse:response",{response:i}),i&&i.list&&0!=i?.list.length?e.handle_detail().handle(i):(e.resultText="结果:空",null)},handle:t=>{let a=t?.list[0];console.log("~~jsonResponse:video",{video:a});let n={des:a?.vod_blurb,note:a?.vod_sub,info:a?.vod_content,pic:a?.vod_pic,year:a?.vod_year,actor:a?.vod_actor,area:a?.vod_area,director:a?.vod_director,lang:a?.vod_lang,name:a?.vod_name,id:a?.vod_id,tid:a?.type_id,type:a?.type_name,last:a?.vod_time,url:e.API.getURL_ByID(a?.vod_id)};console.log("~~jsonResponse:vInfo",{vInfo:n});for(const e in n)if(Object.hasOwnProperty.call(n,e)){const t=n[e]||"";n[e]=t}return console.log({response:t,video:a,vInfo:n}),{vInfo:n}}}}handle_keyword(){const e=this;return{error:(t,a=null)=>{console.log("~~!!handle_keyword::error",{error:t});let{status:n}=t;return e.resultText=`错误: Code: ${n} ${fp[n]||""}，请稍后重试。`,a&&a(null),null},success:(t,a=null)=>{console.log("~~!!handle_keyword::success",{data:t}),setTimeout((()=>{let n=t?.response;console.log("~~jsonResponse",{data:t,responseText:n});let i=null;try{"object"==typeof n&&(i=n),"string"==typeof n&&(i=JSON.parse(n))}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:i}),!i)return e.resultText="结果:空",a&&a(null),null;{let t=e.handle_keyword().handle(i);a&&a(t)}}),500)},handle:t=>{let a=t?.class,n=t?.list;if(!e.resultText&&a&&a.length>0&&(e.groupList=[],a.forEach((t=>{let a=t.type_id,n=t.type_name;(this.filterENABLE&&!Hf([n])||!this.filterENABLE)&&e.groupList.push({tid:a,name:n})}))),!n)return e.videoList=[],e.resultText="结果:空",{videoList:e.videoList,groupList:e.groupList};try{let{page:a,pagecount:n,total:i,limit:r,pagesize:o,recordcount:s}=t;e.currentPage=a,e.totalItems=i,e.pageCount=n,e.itemsPerPage=r}catch(e){}return e.videoList=[],n&&n.forEach(((t,a,n)=>{let i="",r="",o="",s="",l="",c="",d="",u="";try{i=t?.vod_name}catch(e){}try{r=t?.vod_blurb||"",r=r.trim()}catch(e){}try{o=t?.vod_remarks}catch(e){}try{s=t?.vod_time}catch(e){}try{c=t?.vod_pic}catch(e){}try{u=t?.vod_year}catch(e){}try{d=t?.type_name}catch(e){}try{l=`${i}\n${o}\n${u||s}\n来源:${e.playfrom}\n${r}`}catch(e){}(this.filterENABLE&&!Hf([d])||!this.filterENABLE)&&e.videoList.push({des:r,note:o,info:l,pic:c,year:u,name:t?.vod_name,id:t?.vod_id,tid:t?.type_id,type:t?.type_name,last:t?.vod_time,url:e.API.getURL_ByID(t?.vod_id)})})),console.log("结果：",{videoList:e.videoList,groupList:e.groupList}),{videoList:e.videoList,groupList:e.groupList,currentPage:e.currentPage,totalItems:e.totalItems,pageCount:e.pageCount,itemsPerPage:e.itemsPerPage}}}}handle_id(){const e=this;return{error:t=>(console.log("~~!!handle_id::error",{error:t}),e.resultText="错误:请求被中断，请查看是否有请求跨域限制。",null),success:(t,a=null)=>{console.log("~~!!handle_id::success",{data:t});let n=t?.response;console.log("~~jsonResponse",{data:t,responseText:n});let i=null;try{"object"==typeof n&&(i=n),"string"==typeof n&&(i=JSON.parse(n))}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:i}),!i)return e.resultText="结果:空",null;{let t=e.handle_id().handle(i);a&&a(t)}},handle:t=>{let a=t?.class,n=t?.list;if(console.log({response:t,groupList:a,videoList:n}),!a&&!n&&0==n.length)return{newGroup:null};let i=n[0],r=i?.vod_play_url?.split("$$$").join("#"),o={des:i?.vod_blurb,note:i?.vod_sub,info:i?.vod_content,pic:i?.vod_pic,year:i?.vod_year,actor:i?.vod_actor,area:i?.vod_area,director:i?.vod_director,lang:i?.vod_lang,name:i?.vod_name,id:i?.vod_id,tid:i?.type_id,type:i?.type_name,last:i?.vod_time,url:e.API.getURL_ByID(i?.vod_id)},s={group:o.type,channel:{}};s.channel[o.name]=[];let{id:l,tid:c,type:d}=o;if(r){r.split("#").forEach(((t,a,n)=>{let[i,r,...u]=t.split("$");-1==r.indexOf("/share/")&&-1!=r.indexOf(".m3u8")&&s.channel[o.name].push({name:i,value:r,iframe:e.iframe,search:{id:l,tid:c,type:d,line:u.join(),from:bp.PLATFORM,playfrom:this.playfrom}})}))}else s.channel[o.name].push({name:"空",value:"空",iframe:e.iframe,search:{id:l,tid:c,type:d,from:bp.PLATFORM,playfrom:this.playfrom}});return{newGroup:s}}}}}const xp={URL:"https://search.kuwo.cn/",PLATFORM:"ZYMUSIC"};const Ep=[{text:"云音乐资源",value:"ZYMUSIC",children:[{text:"酷我",value:"kuwo"},{text:"酷狗",value:"kugou"},{text:"QQ",value:"qq"},{text:"B站",value:"bilibili"},{text:"咪咕",value:"migu"},{text:"网易云",value:"163"},{text:"千千",value:"taihe"},{text:"一听",value:"1ting"},{text:"荔枝",value:"lizhi"},{text:"蜻蜓",value:"qingting"},{text:"喜马拉雅",value:"taihe"},{text:"全民K歌",value:"kg"}]},{text:"云解析资源",value:"ZYYPARSE",ref:"ZYJSON",children:[{text:"腾讯",value:"qq"},{text:"奇艺",value:"qiyi"},{text:"优酷",value:"youku"},{text:"芒果",value:"mgtv"},{text:"乐视",value:"letv"},{text:"PPTV",value:"pptv"},{text:"电影网",value:"m1905"},{text:"CNTV高清",value:"cntv"},{text:"搜狐",value:"sohu"},{text:"华数",value:"wasu"},{text:"新闻娱乐",value:"news"},{text:"云播",value:"m3u8"}],iframe:!0,apiUrl:"https://api.yparse.com/api/json/"},{text:"优质资源库",value:"ZYK1080SON",ref:"ZYJSON",apiUrl:"https://api.1080zyku.com/inc/api_mac10.php"},{text:"八戒资源库",value:"ZYK8J",ref:"ZYXML",apiUrl:"http://cj.bajiecaiji.com/inc/bjm3u8.php"},{text:"百度资源库",value:"ZYBD",ref:"ZYJSON",apiUrl:"https://api.apibdzy.com/api.php/provide/vod/"},{text:"新浪资源库",value:"ZYXL",ref:"ZYJSON",apiUrl:"https://api.xinlangapi.com/xinlangapi.php/provide/vod/"},{text:"红牛资源库",value:"ZYHN",ref:"ZYJSON",apiUrl:"https://www.hongniuzy2.com/api.php/provide/vod/"},{text:"天空资源网",value:"ZYTIANKONG",ref:"ZYJSON",apiUrl:"https://api.tiankongapi.com/api.php/provide/vod/"},{text:"无尽资源网",value:"ZYWJ",ref:"ZYJSON",apiUrl:"https://api.wujinapi.me/api.php/provide/vod/"},{text:"闪电资源网",value:"ZYSD",ref:"ZYJSON",apiUrl:"https://sdzyapi.com/api.php/provide/vod/from/sdm3u8"},{text:"快车资源网",value:"ZYKC",ref:"ZYJSON",apiUrl:"https://caiji.kczyapi.com/api.php/provide/vod/from/kcm3u8"},{text:"快播资源网",value:"ZYKBY",ref:"ZYJSON",apiUrl:"http://www.kuaibozy.com/api.php/provide/vod/"},{text:"淘片资源网",value:"ZYKTP",ref:"ZYJSON",apiUrl:"https://taopianapi.com/home/cjapi/as/mc10/vod/json"},{text:"飞速资源网",value:"ZYKFS",ref:"ZYJSON",apiUrl:"https://www.feisuzyapi.com/api.php/provide/vod/"},{text:"乐播资源档",value:"ZYLB",ref:"ZYJSON",apiUrl:"https://lbapi9.com/api.php/provide/vod/",filterENABLE:!0},{text:"鲨鱼资源档",value:"ZYSY",ref:"ZYXML",apiUrl:"https://shayuapi.com/api.php/Seacms/vod/",filterENABLE:!0},{text:"大地资源档",value:"ZYDD",ref:"ZYXML",apiUrl:"https://dadiapi.com/api.php",filterENABLE:!0},{text:"环亚资源档",value:"ZYHY",ref:"ZYXML",apiUrl:"http://wmcj8.com/inc/sapi.php",filterENABLE:!0}],wp=(e,t=!1,a=!1)=>{console.log("~~getMovieSearchInstance",{name:e,ZYlist:Tp,c:Tp[e]});for(const n of Ep)if(n.value==e){if(n.hasOwnProperty("ref")&&"ZYXML"==n.ref){const i={apiUrl:n.apiUrl,iframe:n?.iframe||!1,PLATFORM:{NAME:e},filterENABLE:t,proxyENABLE:a};return new yp(i)}if(n.hasOwnProperty("ref")&&"ZYJSON"==n.ref){const i={apiUrl:n.apiUrl,iframe:n?.iframe||!1,PLATFORM:e,filterENABLE:t,proxyENABLE:a};return new _p(i)}return new(0,Tp[e])}},Tp={ZYK1080:class{constructor(){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={}}async getURLByTId(e,t=1){const a={url:`${cp}?ac=list&t=${e}&pg=${t}`,responseType:""};return await ep(a)}getURLById(e){return`${cp}?ac=videolist&ids=${e}`}async getURLByKeyword(e="",t=1){const a={url:`${cp}?wd=${e}&pg=${t}`,responseType:""};return await ep(a)}async searchByKeyword(e,t=""){let a=""==t?this.getURLByKeyword:this.getURLByTId,n=""==t?e:t,i=await a(n,this.currentPage);console.log("~~~searchByKeyword",{keyword:e,tid:t,result:i});const r=i.response;if(!r)return this.resultText="结果:空",{};const o=tp((new DOMParser).parseFromString(r,"application/xml"));let s=o?.rss?.class?.ty,l=o?.rss?.list?.video;if(!this.resultText&&s&&s.length>0&&(this.groupList=[],s.forEach((e=>{this.groupList.push({tid:e["@attributes"].id,name:e["#text"]})}))),!l)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let e=o?.rss?.list["@attributes"],{page:t,pagecount:a,pagesize:n,recordcount:i}=e;this.currentPage=t,this.totalItems=a}catch(e){}if(l&&"Array"!=l?.constructor?.name){let e=JSON.parse(JSON.stringify(l));l=[],l.push(e)}return console.log({xmlObj:o,groupList:s,videoList:l}),this.videoList=[],l&&l.forEach(((e,t,a)=>{let n="",i="",r="",o="",s="",l="",c="";try{n=e?.name["#cdata-section"]}catch(e){}try{i=e?.des["#cdata-section"]}catch(e){}try{r=e?.note["#cdata-section"]}catch(e){}try{o=e?.last["#text"]}catch(e){}try{l=e?.pic["#text"]}catch(e){}try{c=e?.year["#text"]}catch(e){}try{s=`${n}\n${r}\n${c||o}\n${i.trim()}`}catch(e){}this.videoList.push({des:i,note:r,info:s,pic:l,year:c,name:e?.name["#cdata-section"],id:e?.id["#text"],tid:e?.tid["#text"],type:e?.type["#text"],last:e?.last["#text"],url:`${cp}?ac=videolist&ids=${e?.id["#text"]}`})})),console.log({videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=(await ep(t)).response;const n=tp((new DOMParser).parseFromString(a,"application/xml"));let i=n?.rss?.class?.ty,r=n?.rss?.list?.video;if(console.log({xmlObj:n,groupList:i,video:r}),!i&&!r)return{newGroup:null};let o=r?.dl?.dd,s="";o&&o.forEach(((e,t,a)=>{"1080zyk"==e["@attributes"].flag&&(s=e["#cdata-section"])}));let l={name:r?.name["#cdata-section"],id:r?.id["#text"],tid:r?.tid["#text"],type:r?.type["#text"],last:r?.last["#text"],url:this.getURLById(r?.id["#text"])},c={group:l.type,channel:{}};if(c.channel[l.name]=[],s){let e=s.split("#"),{id:t,tid:a,type:n}=l;e.forEach(((e,i,r)=>{let[o,s,...d]=e.split("$");c.channel[l.name].push({name:o,value:s,search:{id:t,tid:a,type:n,line:d.join(),from:dp}})}))}return{newGroup:c}}async searchDetailByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=(await ep(t)).response;const n=tp((new DOMParser).parseFromString(a,"application/xml"));n?.rss?.class?.ty;let i=n?.rss?.list?.video,r="",o="",s="",l="",c="",d="",u="",h="",f="",p="",v="";try{r=i?.name["#cdata-section"]}catch(e){}try{o=i?.des["#cdata-section"],o=o.trim()}catch(e){}try{s=i?.note["#cdata-section"]}catch(e){}try{h=i?.actor["#cdata-section"]}catch(e){}try{f=i?.area["#text"]}catch(e){}try{p=i?.director["#cdata-section"]}catch(e){}try{v=i?.lang["#text"]}catch(e){}try{l=i?.last["#text"]}catch(e){}try{d=i?.pic["#text"]}catch(e){}try{u=i?.year["#text"]}catch(e){}try{c=`${r}\n${s}\n${u||l}\n${o}`}catch(e){}let m={des:o,note:s,info:c,pic:d,year:u,actor:h,area:f,director:p,lang:v,name:i?.name["#cdata-section"],id:i?.id["#text"],tid:i?.tid["#text"],type:i?.type["#text"],last:i?.last["#text"],url:this.getURLById(i?.id["#text"])};for(const e in m)if(Object.hasOwnProperty.call(m,e)){let t=m[e]||"";m[e]=t,this.vInfo[e]=t}return console.log({xmlObj:n,video:i,vInfo:m}),{vInfo:m}}},ZYTIANKONG:class{constructor(){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={}}getURLByTId(e,t=1){return`${up}?ac=list&t=${e}&pg=${t}`}getURLById(e){return`${up}?ac=detail&ids=${e}`}getURLByKeyword(e="",t=1){return`${up}?wd=${e}&pg=${t}`}async searchByKeyword(e="",t=""){let a=""==t?e:t,n="";n=""==t?this.getURLByKeyword(a,this.currentPage):this.getURLByTId(a,this.currentPage);const i={url:n,responseType:""},r=await ep(i);let{responseText:o}=r,s=JSON.parse(o);if(console.log("~~jsonResponse",{result:r,response:s}),!s)return this.resultText="结果:空",{};let l=s?.class,c=s?.list;if(!this.resultText&&l&&l.length>0&&(this.groupList=[],l.forEach((e=>{this.groupList.push({tid:e.type_id,name:e.type_name})}))),!c)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let{page:e,pagecount:t,pagesize:a,recordcount:n}=s;this.currentPage=e,this.totalItems=t}catch(e){}return this.videoList=[],c&&c.forEach(((e,t,a)=>{let n="",i="",r="",o="",s="",l="",c="";try{n=e?.vod_name}catch(e){}try{i=e?.vod_blurb||"",i=i.trim()}catch(e){}try{r=e?.vod_remarks}catch(e){}try{o=e?.vod_time}catch(e){}try{l=e?.vod_pic}catch(e){}try{c=e?.vod_year}catch(e){}try{s=`${n}\n${r}\n${c||o}\n来源:${hp.name}\n${i}`}catch(e){}this.videoList.push({des:i,note:r,info:s,pic:l,year:c,name:e?.vod_name,id:e?.vod_id,tid:e?.type_id,type:e?.type_name,last:e?.vod_time,url:this.getURLById(e?.vod_id)})})),console.log({videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=await ep(t);let n=a.response;console.log("~~jsonResponse",{result:a,responseText:n});let i=null;try{i=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:i}),!i)return this.resultText="结果:空",null;let r=i?.class,o=i?.list;if(console.log({response:i,groupList:r,videoList:o}),!r&&!o&&0==o.length)return{newGroup:null};let s=o[0],l=s?.vod_play_url.split("$$$").join("#"),c={des:s?.vod_blurb,note:s?.vod_sub,info:s?.vod_content,pic:s?.vod_pic,year:s?.vod_year,actor:s?.vod_actor,area:s?.vod_area,director:s?.vod_director,lang:s?.vod_lang,name:s?.vod_name,id:s?.vod_id,tid:s?.type_id,type:s?.type_name,last:s?.vod_time,url:this.getURLById(s?.vod_id)},d={group:c.type,channel:{}};if(d.channel[c.name]=[],l){let e=l.split("#"),{id:t,tid:a,type:n}=c;e.forEach(((e,i,r)=>{let[o,s,...l]=e.split("$");-1==s.indexOf("/share/")&&-1!=s.indexOf(".m3u8")&&d.channel[c.name].push({name:o,value:s,search:{id:t,tid:a,type:n,line:l.join(),from:hp.NAME}})}))}return{newGroup:d}}async searchDetailByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=await ep(t);console.log("~~searchDetailByVideoID",a);let n=a.response;console.log("~~jsonResponse",{result:a,responseText:n});let i=null;try{i=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:i}),!i||!i.list||0==i?.list.length)return this.resultText="结果:空",null;let r=i?.list[0],o={des:r?.vod_blurb,note:r?.vod_sub,info:r?.vod_content,pic:r?.vod_pic,year:r?.vod_year,actor:r?.vod_actor,area:r?.vod_area,director:r?.vod_director,lang:r?.vod_lang,name:r?.vod_name,id:r?.vod_id,tid:r?.type_id,type:r?.type_name,last:r?.vod_time,url:this.getURLById(r?.vod_id)};for(const e in o)if(Object.hasOwnProperty.call(o,e)){const t=o[e]||"";o[e]=t,this.vInfo[e]=t}return console.log({response:i,video:r,vInfo:o}),{vInfo:o}}},ZYYPARSE:class{constructor(){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={},this.playfrom="qq"}getFullURL(){return"https://api.yparse.com/api/json/"+this.playfrom}getURLByTId(e,t=1){return`${this.getFullURL()}?ac=list&t=${e}&pg=${t}`}getURLById(e){return`${this.getFullURL()}?ac=videolist&ids=${e}`}getURLByKeyword(e="",t=1){return`${this.getFullURL()}?wd=${e}&pg=${t}`}retry(e=null,t=2e3){console.log("~~~~~!!!重新连接!!!~~~~~~",t),e&&setTimeout((()=>{e()}),t)}async searchByKeyword(e="",t="",a=3,n=null){const i=this;this.resultText="";let r=""==t?e:t,o="";o=""==t?this.getURLByKeyword(r,this.currentPage):this.getURLByTId(r,this.currentPage),ep({url:o,responseType:""}).then((r=>{console.log("~~!!!!result",{result:r}),setTimeout((()=>{let o=r?.response;console.log("~~jsonResponse",{result:r,responseText:o});let s=null;try{s=JSON.parse(o)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:s}),!s)return a>0&&i.retry((()=>{i.searchByKeyword(e,t,--a,n)}),3e3),i.resultText="结果:空",n&&n(null),null;{let e=i.handle_keyword(s);n&&n(e)}}),1e3)})).catch((e=>{console.log("~~!!!!error",{error:e});let{status:t}=e;return i.resultText=`错误: Code: ${t} ${fp[t]||""}，请稍后重试。`,n&&n(null),null}))}handle_keyword(e){const t=this;let a=e?.class,n=e?.list;if(!this.resultText&&a&&a.length>0&&(this.groupList=[],a.forEach((e=>{this.groupList.push({tid:e.type_id,name:e.type_name})}))),!n)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let{page:t,pagecount:a,pagesize:n,recordcount:i}=e;this.currentPage=t,this.totalItems=a}catch(e){}return this.videoList=[],n&&n.forEach(((e,a,n)=>{let i="",r="",o="",s="",l="",c="",d="";try{i=e?.vod_name}catch(e){}try{r=e?.vod_blurb||"",r=r.trim()}catch(e){}try{o=e?.vod_remarks}catch(e){}try{s=e?.vod_time}catch(e){}try{c=e?.vod_pic}catch(e){}try{d=e?.vod_year}catch(e){}try{l=`${i}\n${o}\n${d||s}\n来源:${t.playfrom}\n${r}`}catch(e){}this.videoList.push({des:r,note:o,info:l,pic:c,year:d,name:e?.vod_name,id:e?.vod_id,tid:e?.type_id,type:e?.type_name,last:e?.vod_time,url:this.getURLById(e?.vod_id)})})),console.log("结果：",{videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e,t=3,a=null){const n=this;this.resultText="";ep({url:this.getURLById(e),responseType:""}).then((i=>{console.log("~~!!!!result",{result:i});let r=i?.response;console.log("~~jsonResponse",{result:i,responseText:r});let o=null;try{o=JSON.parse(r)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:o}),!o)return t>0&&n.retry((()=>{n.searchByVideoID(e,--t,a)}),2e3),n.resultText="结果:空",null;{let e=n.handle_videoID(o);a&&a(e)}})).catch((e=>(console.log("~~!!!!error",{error:e}),n.resultText="错误:请求被中断，请查看是否有请求跨域限制。",null)))}handle_videoID(e){let t=e?.class,a=e?.list;if(console.log({response:e,groupList:t,videoList:a}),!t&&!a&&0==a.length)return{newGroup:null};let n=a[0],i=n?.vod_play_url?.split("$$$").join("#"),r={des:n?.vod_blurb,note:n?.vod_sub,info:n?.vod_content,pic:n?.vod_pic,year:n?.vod_year,actor:n?.vod_actor,area:n?.vod_area,director:n?.vod_director,lang:n?.vod_lang,name:n?.vod_name,id:n?.vod_id,tid:n?.type_id,type:n?.type_name,last:n?.vod_time,url:this.getURLById(n?.vod_id)},o={group:r.type,channel:{}};o.channel[r.name]=[];let{id:s,tid:l,type:c}=r;if(i){i.split("#").forEach(((e,t,a)=>{let[n,i,...d]=e.split("$");-1==i.indexOf("/share/")&&-1!=i.indexOf(".m3u8")&&o.channel[r.name].push({name:n,value:i,iframe:!0,search:{id:s,tid:l,type:c,line:d.join(),from:pp,playfrom:this.playfrom}})}))}else o.channel[r.name].push({name:"空",value:"空",iframe:!0,search:{id:s,tid:l,type:c,from:pp,playfrom:this.playfrom}});return{newGroup:o}}async searchDetailByVideoID(e,t=3){const a=this;this.resultText="";const n={url:this.getURLById(e),responseType:""},i=await ep(n);console.log("~~searchDetailByVideoID",i);let r=i.response;console.log("~~jsonResponse",{result:i,responseText:r});let o=null;try{o=JSON.parse(r)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:o}),!o||!o.list||0==o?.list.length)return t>0&&a.retry((()=>{a.searchDetailByVideoID(e,--t)}),2e3),this.resultText="结果:空",{};let s=o?.list[0],l={des:s?.vod_blurb,note:s?.vod_sub,info:s?.vod_content,pic:s?.vod_pic,year:s?.vod_year,actor:s?.vod_actor,area:s?.vod_area,director:s?.vod_director,lang:s?.vod_lang,name:s?.vod_name,id:s?.vod_id,tid:s?.type_id,type:s?.type_name,last:s?.vod_time,url:this.getURLById(s?.vod_id)};for(const e in l)if(Object.hasOwnProperty.call(l,e)){const t=l[e]||"";l[e]=t,this.vInfo[e]=t}return console.log({response:o,video:s,vInfo:l}),{vInfo:l}}},ZYBD:class{constructor(){this.groupList=[],this.videoList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.showPageSize=6,this.vInfo={}}getURLByTId(e,t=1){return`${vp}?ac=list&t=${e}&pg=${t}`}getURLById(e){return`${vp}?ac=detail&ids=${e}`}getURLByKeyword(e="",t=1){return`${vp}?wd=${e}&pg=${t}`}async searchByKeyword(e="",t=""){let a=""==t?e:t,n="";n=""==t?this.getURLByKeyword(a,this.currentPage):this.getURLByTId(a,this.currentPage);const i={url:n,responseType:""},r=await ep(i);let{responseText:o}=r,s=JSON.parse(o);if(console.log("~~jsonResponse",{result:r,response:s}),!s)return this.resultText="结果:空",{};let l=s?.class,c=s?.list;if(!this.resultText&&l&&l.length>0&&(this.groupList=[],l.forEach((e=>{this.groupList.push({tid:e.type_id,name:e.type_name})}))),!c)return this.videoList=[],this.resultText="结果:空",{videoList:this.videoList,groupList:this.groupList};try{let{page:e,pagecount:t,pagesize:a,recordcount:n}=s;this.currentPage=e,this.totalItems=t}catch(e){}return this.videoList=[],c&&c.forEach(((e,t,a)=>{let n="",i="",r="",o="",s="",l="",c="";try{n=e?.vod_name}catch(e){}try{i=e?.vod_blurb||"",i=i.trim()}catch(e){}try{r=e?.vod_remarks}catch(e){}try{o=e?.vod_time}catch(e){}try{l=e?.vod_pic}catch(e){}try{c=e?.vod_year}catch(e){}try{s=`${n}\n${r}\n${c||o}\n来源:${mp.name}\n${i}`}catch(e){}this.videoList.push({des:i,note:r,info:s,pic:l,year:c,name:e?.vod_name,id:e?.vod_id,tid:e?.type_id,type:e?.type_name,last:e?.vod_time,url:this.getURLById(e?.vod_id)})})),console.log({videoList:this.videoList,groupList:this.groupList}),{videoList:this.videoList,groupList:this.groupList,currentPage:this.currentPage,totalItems:this.totalItems}}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=await ep(t);let n=a.response;console.log("~~jsonResponse",{result:a,responseText:n});let i=null;try{i=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:i}),!i)return this.resultText="结果:空",null;let r=i?.class,o=i?.list;if(console.log({response:i,groupList:r,videoList:o}),!r&&!o&&0==o.length)return{newGroup:null};let s=o[0],l=s?.vod_play_url.split("$$$").join("#"),c={des:s?.vod_blurb,note:s?.vod_sub,info:s?.vod_content,pic:s?.vod_pic,year:s?.vod_year,actor:s?.vod_actor,area:s?.vod_area,director:s?.vod_director,lang:s?.vod_lang,name:s?.vod_name,id:s?.vod_id,tid:s?.type_id,type:s?.type_name,last:s?.vod_time,url:this.getURLById(s?.vod_id)},d={group:c.type,channel:{}};if(d.channel[c.name]=[],l){let e=l.split("#"),{id:t,tid:a,type:n}=c;e.forEach(((e,i,r)=>{let[o,s,...l]=e.split("$");-1==s.indexOf("/share/")&&-1!=s.indexOf(".m3u8")&&d.channel[c.name].push({name:o,value:s,search:{id:t,tid:a,type:n,line:l.join(),from:mp.NAME}})}))}return{newGroup:d}}async searchDetailByVideoID(e){const t={url:this.getURLById(e),responseType:""},a=await ep(t);console.log("~~searchDetailByVideoID",a);let n=a.response;console.log("~~jsonResponse",{result:a,responseText:n});let i=null;try{i=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:i}),!i||!i.list||0==i?.list.length)return this.resultText="结果:空",null;let r=i?.list[0],o={des:r?.vod_blurb,note:r?.vod_sub,info:r?.vod_content,pic:r?.vod_pic,year:r?.vod_year,actor:r?.vod_actor,area:r?.vod_area,director:r?.vod_director,lang:r?.vod_lang,name:r?.vod_name,id:r?.vod_id,tid:r?.type_id,type:r?.type_name,last:r?.vod_time,url:this.getURLById(r?.vod_id)};for(const e in o)if(Object.hasOwnProperty.call(o,e)){const t=o[e]||"";o[e]=t,this.vInfo[e]=t}return console.log({response:i,video:r,vInfo:o}),{vInfo:o}}},ZYMUSIC:class{constructor(e){this.groupList=[],this.videoList=[],this.audioList=[],this.resultText="",this.searchValue="",this.currentPage=1,this.totalItems=0,this.pageCount=1,this.showPageSize=6,this.itemsPerPage=20,this.mediaInfo={},this.playfrom="",this.iframe=e?.iframe||!1,this.filterENABLE=e?.filterENABLE||!1,this.proxyENABLE=e?.proxyENABLE||!1,this.API={getURL_ByID:(e,t="mp3|aac",a="url")=>`https://antiserver.kuwo.cn/anti.s?type=convert_url&rid=${e}&format=${t}&response=${a}`,getURL_ByKeyword:(e="",t=1,a=this.itemsPerPage)=>`https://search.kuwo.cn/r.s?client=kt&all=${encodeURIComponent(e)}&pn=${t}&rn=${a}&ft=music&plat=pc&cluster=1&result=json&rformat=json&ver=mbox&show_copyright_off=1&vipver=MUSIC_8.1.2.0_W4&encoding=utf8`,getURL_LyricById:e=>`https://m.kuwo.cn/newh5/singles/songinfoandlrc?musicId=${e}`,getURL_PicById:(e,t="128")=>`http://artistpicserver.kuwo.cn/pic.web?corp=kuwo&type=rid_pic&pictype=url&content=list&size=${t}&rid=${e}`},xp.PLATFORM=e?.PLATFORM||xp.PLATFORM,xp.URL=e?.apiUrl||xp.URL,console.log(`~~~~${xp.PLATFORM}`,{config:e,apiUrl:xp.URL})}getFullURL(){return xp.URL+this.playfrom}awaitFunc(e){return e.then((e=>[null,e])).catch((e=>[e,null]))}getProxyConfig(e){return this.proxyENABLE?Gf.config(e):{url:e}}getToken(e,t=1){const a=this,n={url:"https://www.kuwo.cn",name:"kw_token"};!function(e,t){if(chrome&&chrome.cookies)chrome.cookies.get(e,(e=>{t(e)}))}(n,(i=>null==i?t?ep({url:n.url}).then((()=>{a.getToken(e,--t)})):e(""):e(i.value)))}xhrSendWithCookie(e,t,a=1){const n=this;this.getToken((i=>{ep({url:e,headers:[{name:"csrf",value:i}]}).then((i=>{!1===i.data.success&&a>0?n.xhrSendWithCookie(e,t,--a):!0===i.data.success?t(i):t("")})).catch((e=>{t()}))}))}async searchByKeyword(e="",t="",a=3,n=null){this.resultText=e;let i=""==t?e:t,r=""==t?this.API.getURL_ByKeyword(i,this.currentPage):this.API.getURL_ByTypeId(i,this.currentPage),o=this.getProxyConfig(r);const[s,l]=await this.awaitFunc($f(o));console.log("~~searchByKeyword~awaitFunc:",{err:s,data:l}),l&&this.handle_keyword().success(l,n),s&&this.handle_keyword().error(s,n)}async searchByGroupID(e){let{tid:t}=e;t&&this.searchByKeyword("",t)}async searchByVideoID(e,t=3,a=null){let n=this.API.getURL_ByID(e),i=this.getProxyConfig(n);const[r,o]=await this.awaitFunc($f(i));console.log("~~searchByVideoID~awaitFunc:",{err:r,data:o}),o.id=e;let s=null;return null!=o&&(s=await this.handle_id().success(o,a)),r&&(s=this.handle_id().error(r,a)),console.log("~~~~searchByVideoID:[err, data]",{err:r,data:o,result:s}),s}async searchDetailByVideoID(e,t=3){let a=e.match(/\d+/gi);a&&(a=a[0]);let n=this.API.getURL_LyricById(a);console.log("~~~searchDetailByVideoID",{id:e,mid:a,url:n});let i=this.getProxyConfig(n);const[r,o]=await this.awaitFunc($f(i));return console.log("~~searchDetailByVideoID~awaitFunc:",{err:r,data:o}),r?this.handle_detail().error(r):o?this.handle_detail().success(o):void 0}handle_detail(){const e=this;return{error:(t,a=null)=>(console.log("~~!!handle_detail::error",{error:t}),e.resultText="结果:空",null),success:(t,a=null)=>{let n=t.response;console.log("~~jsonResponse",{data:t,responseText:n});let i=null;try{i=JSON.parse(n)}catch(e){console.error(e)}return console.log("~~jsonResponse:response",{response:i}),i&&i?.data&&i?.data.songinfo?e.handle_detail().handle(i):(e.resultText="结果:空",null)},handle:t=>{let a=t?.data.songinfo;console.log("~~jsonResponse:song",{song:a});let n={des:a?.blurb,note:a?.sub,info:a?.content,year:a?.year,area:a?.area,director:a?.artist,lang:a?.lang,pic:a?.pic,artist:a?.artist,actor:a?.artist,name:a?.songName,id:a?.id,tid:a?.albumId,type:Wf(a?.album),last:a?.songTimeMinutes,url:e.API.getURL_ByID(a?.id)};console.log("~~jsonResponse:vInfo",{vInfo:n});for(const e in n)if(Object.hasOwnProperty.call(n,e)){const t=n[e]||"";n[e]=t}return console.log({response:t,song:a,vInfo:n}),{vInfo:n}}}}handle_keyword(){const e=this;return{error:(t,a=null)=>{console.log("~~!!handle_keyword::error",{error:t});let{status:n}=t;return e.resultText=`错误: Code: ${n} ${fp[n]||""}，请稍后重试。`,a&&a(null),null},success:(t,a=null)=>{console.log("~~!!handle_keyword::success",{data:t}),setTimeout((()=>{let n=t?.response;n=n.replace(/\'/gi,'"'),console.log("~~jsonResponse",{data:t,responseText:n});let i=null;try{i=JSON.parse(n)}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:i}),!i)return e.resultText="结果:空",a&&a(null),null;{let t=e.handle_keyword().handle(i);a&&a(t)}}),500)},handle:t=>{console.log("~~jsonResponse:handle",{response:t});let{PN:a,RN:n,SHOW:i,TOTAL:r,abslist:o}=t,s=t?.abslist,l=t?.abslist;if(!e.resultText&&s&&s.length>0&&(e.groupList=[],s.forEach((t=>{e.groupList.push({tid:t.ALBUMID,name:t.ALBUM})}))),!l)return e.videoList=[],e.resultText="结果:空",{videoList:e.videoList,groupList:e.groupList};try{let{PN:a,SHOW:n,TOTAL:i,RN:r,pagesize:o,recordcount:s}=t;e.currentPage=a,e.totalItems=i,e.pageCount=n,e.itemsPerPage=r}catch(e){}return e.videoList=[],l&&l.forEach(((t,a,n)=>{var{ALBUM:i,ALBUMID:r,ARTISTID:o,ARTIST:s,MUSICRID:l,hts_MVPIC:c,NAME:d,SONGNAME:u,DURATION:h}=t;let f="",p="",v="",m="",g="",y="",b="";try{f=t?.NAME}catch(e){}try{p=t?.vod_blurb||"",p=p.trim()}catch(e){}try{v=t?.vod_remarks||""}catch(e){}try{m=t?.vod_time||""}catch(e){}try{y=t?.hts_MVPIC}catch(e){}try{b=t?.vod_year||""}catch(e){}try{g=`歌名:${f}\n歌手:${s}\n时长:${Yf(h)}\n来源:${e.playfrom}\n专辑:${i}`}catch(e){}e.videoList.push({des:p,note:v,info:g,pic:y,year:b,name:Wf(t?.NAME),artist:s,id:t?.MUSICRID,tid:t?.ALBUMID,type:Wf(t?.ALBUM),last:t?.vod_time,url:e.API.getURL_ByID(t?.MUSICRID)})})),console.log("结果：",{videoList:e.videoList,groupList:e.groupList}),{videoList:e.videoList,groupList:e.groupList,currentPage:e.currentPage,totalItems:e.totalItems,pageCount:e.pageCount,itemsPerPage:e.itemsPerPage}}}}handle_id(){const e=this;return{error:t=>(console.log("~~!!handle_id::error",{error:t}),e.resultText="错误:请求被中断，请查看是否有请求跨域限制。",null),success:async(t,a=null)=>{console.log("~~!!handle_id::success",{data:t});let n=t?.response,i=t?.id;console.log("~~jsonResponse",{data:t,responseText:n});let r=null;try{r=n}catch(e){console.error(e)}if(console.log("~~jsonResponse:response",{response:r}),!r)return e.resultText="结果:空",null;{let t=await e.handle_id().handle({response:r,musicid:i});a&&a(t)}},handle:async t=>{console.log("~~jsonResponse:handle",{data:t,videoList:e.videoList});let{response:a,musicid:n}=t,i={},r=this.resultText,o=this.resultText;if(!e.videoList||e.videoList&&0==e.videoList.length){let t=n.match(/\d+/gi);t&&(t=t[0]);let a=e.API.getURL_LyricById(t),r=e.getProxyConfig(a);const[o,s]=await e.awaitFunc($f(r));console.log("~~searchByVideoID~awaitFunc:",{err:o,data:s});try{let e=JSON.parse(s.response),{songinfo:t}=e.data;console.log("~~searchByVideoID,songinfo:",{songObj:e,songinfo:t}),i={pic:t?.pic,artist:t?.artist,actor:t?.artist,name:t?.songName,id:t?.id,tid:t?.albumId,type:Wf(t?.album),last:t?.songTimeMinutes}}catch(e){console.log("~~~error",e)}}else i=e.videoList.filter((e=>e.id==n));if(console.log("~~jsonResponse:video",{video:i,videoList:e.videoList,grouplName:r,musicid:n}),i&&i.length>0&&(i=i[0]),null==i)return null;let s={...i,url:a},{id:l,tid:c,type:d,artist:u,name:h,url:f}=s;r=u||e.resultText,o=h;let p=`《${d}》`,v={group:r||d,channel:{}};return v.channel[o]=[],v.channel[o].push({name:d?p:"mp3",value:f,poster:i.pic,iframe:e.iframe,search:{id:l,tid:c,type:d,from:xp.PLATFORM,playfrom:this.playfrom}}),console.log("newGroup",v),{newGroup:v}}}}}},Sp=Tp,kp={key:0},Lp={class:"body-content"},Ap={key:0,class:"message-text"},Dp=["title"],Ip=["title","onClick"],Cp={key:0};const Rp=0,Pp=1,Op={name:"SearchMedia",components:{},inject:["playerdata"],data:()=>({vInfo:{showLoading:!1,filterENABLE:!0,proxyENABLE:!1},searchValue:"",resultText:"",groupList:[],videoList:[],listType:Pp,currentPage:1,totalItems:0,showPageSize:6,itemsPerPage:20,pageCount:1,retryTimes:5,typeid:"",platformLabel:"优质资源库",cascaderValue:"优质资源库",showDropdownMenu:!1,showResult:!0,platformCode:"ZYK1080SON",platformValue:"qq"}),computed:{dataSource(){return wp(this.platformCode,this.vInfo.filterENABLE,this.vInfo.proxyENABLE)},platformList(){return Ep.filter((e=>(!this.vInfo.filterENABLE||1!=e?.filterENABLE)&&e))},resultList(){return[this.groupList,this.videoList][this.listType]},showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={showLoading:!1};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){},created(){},methods:{open(){let{vParserURL:e,videoInstanceList:t,activeVideoDOM:a,filterENABLE:n,proxyENABLE:i,platformCode:r,platformLabel:o}=this.playerdata;this.vInfo.PARSER=e,this.vInfo.filterENABLE=n,this.vInfo.proxyENABLE=i,this.platformCode=r,this.platformLabel=o,console.log("~~open:searchMedia",{platformList:this.platformList,PARSER:this.vInfo.PARSER});try{this.platformValue=this.dataSource.playfrom}catch(e){console.log("~~error:searchMedia",e)}},loadingClick(){this.vInfo.showLoading=!1},scrollTop(){document.querySelector(".van-dialog__content").scrollTop=0},dropdownOpen(){this.showDropdownMenu=!0,this.showResult=!1},dropdownFinish(e){let{selectedOptions:t}=e;if(this.showDropdownMenu=!1,this.showResult=!0,this.videoList=[],this.groupList=[],this.totalItems=0,this.currentPage=1,this.listType=Pp,this.resultText="",t&&0==t.length)return;let a=t.length;console.log("~~已选中：",t,this.platformLabel);const{text:n,value:i}=t[0];if(this.platformLabel=n,this.playerdata.platformLabel=n,this.platformCode=i,this.playerdata.platformCode=i,a>1){this.platformLabel=t.map((e=>e.text)).join("/"),this.platformValue=t[a-1].value;try{this.dataSource.playfrom=`${this.platformValue}`}catch(e){console.log("~~error:dropdownFinish",e)}}console.log("~~dropdownFinish:",e,this.platformCode,this.platformLabel,this.platformValue)},pageChange(e){console.log("~~pageChange:",e),this.currentPage=e,this.dataSource.currentPage=this.currentPage,this.onSearchMedia(this.searchValue,this.typeid)},groupClick(e){console.log("~~groupClick:",e,this.listType,this.groupList),this.listType==Pp&&this.groupList.length>0?(this.listType=Rp,this.currentPage=1):this.listType==Pp&&0==this.groupList.length?(this.onSearchMedia(),this.listType=Rp):this.listType=Pp},itemTypeClick(e){console.log("~~itemTypeClick:",e);let{tid:t}=e;this.currentPage=1,this.typeid=t,this.dataSource.currentPage=this.currentPage,this.onSearchMedia(this.searchValue,t)},async itemClick(e){const t=this;if(this.retryTimes=5,this.dataSource.currentPage=this.currentPage,this.listType==Rp&&this.groupList.length>0)return void this.itemTypeClick(e);let a=await this.dataSource.searchByVideoID(e.id,this.retryTimes,(e=>{console.log("~~!!!!handleVIDResult：callback",{data:e}),null!=e&&t.handleVIDResult(e),this.vInfo.showLoading=!1}));a&&(console.log("~~!!!!handleVIDResult：await",{result:a}),t.handleVIDResult(a),this.vInfo.showLoading=!1),this.retryTimes||(this.vInfo.showLoading=!1)},handleVIDResult(e){let{newGroup:t}=e;console.log("~~newGroup",t,e);const a={cmd:"update-dataSource-playlist-from-3rd-party",data:t};t&&window.postMessage(a,window.location.origin)},async onSearchMedia(e=this.searchValue,t=""){const a=this;console.log("~~~onSearchMedia",{tid:t,keyword:e}),this.retryTimes=5,this.vInfo.showLoading=!0,this.resultText="",this.typeid=t,this.listType=Pp;let n=await this.dataSource.searchByKeyword(e,t,this.retryTimes,(e=>{console.log("~~!!!!handleResult：callback",{data:e}),a.handleResult(e),a.vInfo.showLoading=!1}));n&&(console.log("~~!!!!handleResult：await",{result:n}),a.handleResult(n)),this.retryTimes||(this.vInfo.showLoading=!1),this.scrollTop()},handleResult(e){const t=this;if(console.log("~~!!!!handleResult",{result:e}),!e)return void(this.resultText=this.dataSource.resultText||"");let{videoList:a,groupList:n,currentPage:i,itemsPerPage:r,pageCount:o,totalItems:s}=e;this.videoList=a||[],this.groupList=n||[],this.currentPage=i||1,this.totalItems=s||0,this.pageCount=o||1,this.itemsPerPage=r||20,console.log("~~~handleResult",{resultList:this.resultList,listType:this.listType,videoList:this.videoList,groupList:this.groupList,currentPage:i,itemsPerPage:r,pageCount:o,totalItems:s}),this.$nextTick((()=>{t.vInfo.showLoading=!1}))}}};a(1868);const Mp=(0,su.Z)(Op,[["render",function(e,t,a,n,i,r){const o=vn("van-field"),s=vn("van-cascader"),l=vn("van-popup"),c=vn("van-icon"),d=vn("van-search"),u=vn("van-loading"),h=vn("van-cell"),f=vn("van-cell-group"),p=vn("van-pagination");return pi(),bi(li,null,[Ci(" 标题 "),ki("div",null,[ki("div",null,[Li(o,{modelValue:i.platformLabel,"onUpdate:modelValue":t[0]||(t[0]=e=>i.platformLabel=e),"is-link":"",readonly:"",label:"资源库",placeholder:"请选择搜索资源库",onClick:r.dropdownOpen},null,8,["modelValue","onClick"]),hn(Li(l,{round:"",position:"bottom"},{default:ma((()=>[Li(s,{modelValue:i.cascaderValue,"onUpdate:modelValue":t[1]||(t[1]=e=>i.cascaderValue=e),title:"请选择资源库","show-header":!1,options:r.platformList,onClose:t[2]||(t[2]=e=>i.showDropdownMenu=!1),onFinish:r.dropdownFinish},{options:ma((()=>[e.title?(pi(),bi("span",kp,y(e.title),1)):Ci("v-if",!0)])),_:1},8,["modelValue","options","onFinish"])])),_:1},512),[[is,i.showDropdownMenu]])]),Li(d,{modelValue:i.searchValue,"onUpdate:modelValue":t[3]||(t[3]=e=>i.searchValue=e),placeholder:"请输入搜索关键词",onSearch:r.onSearchMedia},{label:ma((()=>[Li(c,{style:{cursor:"pointer"},color:"white",title:"显示分类",name:"bars",onClick:r.groupClick},null,8,["onClick"])])),_:1},8,["modelValue","onSearch"]),i.vInfo.showLoading?(pi(),_i(u,{key:0,class:"van-loading-custom",vertical:"",onClick:r.loadingClick},{default:ma((()=>[Ii("加载中...")])),_:1},8,["onClick"])):Ci("v-if",!0)]),Ci(" 搜索 "),ki("div",Lp,[i.resultText.length>0?(pi(),bi("span",Ap,y(i.resultText),1)):Ci("v-if",!0),i.showResult&&r.resultList&&r.resultList.length>0?(pi(),_i(f,{key:1},{default:ma((()=>[(pi(!0),bi(li,null,bn(r.resultList,((e,t)=>(pi(),_i(h,{key:t+e,class:"",title:e.name,value:e.type,onClick:t=>r.itemClick(e)},{title:ma((()=>[ki("span",{title:e.info||e.des||e.name,class:"van-text-ellipsis",style:{"max-width":"210px"}},y(t+1+(i.currentPage-1)*r.resultList.length)+".《"+y(e.name)+"》"+y(e.note),9,Dp)])),value:ma((()=>[ki("span",{class:"van-text-ellipsis",style:{"font-size":"12px"},title:e.type,onClick:ns((t=>r.itemTypeClick(e)),["stop"])},y(e.type),9,Ip)])),_:2},1032,["title","value","onClick"])))),128))])),_:1})):Ci("v-if",!0)]),Ci(" 分页 "),i.totalItems>0?(pi(),bi("div",Cp,[Li(p,{modelValue:i.currentPage,"onUpdate:modelValue":t[4]||(t[4]=e=>i.currentPage=e),"total-items":i.totalItems,"show-page-size":i.showPageSize,"items-per-page":i.itemsPerPage,"page-count":i.pageCount,onChange:r.pageChange},{"prev-text":ma((()=>[Li(c,{name:"arrow-left"})])),"next-text":ma((()=>[Li(c,{name:"arrow"})])),page:ma((({text:e})=>[Ii(y(e),1)])),_:1},8,["modelValue","total-items","show-page-size","items-per-page","page-count","onChange"])])):Ci("v-if",!0)],64)}],["__scopeId","data-v-4958c851"]]),Np=e=>(pa("data-v-4a62eebe"),e=e(),va(),e),Bp=Np((()=>ki("span",{class:"label-field"},"资源数据信息",-1))),Fp=Np((()=>ki("span",{class:"label-field"},"辅助",-1))),Up={class:"group-switch"},jp={class:"text-switch"},zp=Np((()=>ki("span",null,"跳过片头片尾",-1))),Vp={class:"text-switch"},Gp=Np((()=>ki("span",null,"自动连播",-1)));const Hp={name:"Setting",components:{},inject:["playerdata"],emits:["dialogCallback"],data:()=>({vInfo:{SKIP_OPEN_END:!0,AUTO_PLAY:!0,channelName:"",grouplName:"",lineName:"",fromName:"",videoURL:"",timeOPEN:null,timeEND:null,timeUPDATE:null,poster:""},formatTime:Kf,formateSecToHourMin:Yf}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={SKIP_OPEN_END:!0,AUTO_PLAY:!0,channelName:"",grouplName:"",lineName:"",fromName:"",videoURL:"",timeOPEN:null,timeEND:null,timeUPDATE:null,poster:""};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{getCurrentTime(e){let{videoDOM:t}=this.playerdata;this.vInfo[e]=t.currentTime,console.log("getCurrentTime",{videoDOM:t,currentTime:this.vInfo[e]})},update(e){console.log("update",e);let{activePLTab:t,activeChannel:a,activeCategory:n,activeLine:i,activeVideoDOM:r,sourceNameList:o,videoInstanceList:s}=this.playerdata,l=this.playerdata[o[t]],{group:c,channel:d}=l[n],u=d[Object.keys(d)[a]];u[i].name=this.vInfo.lineName,u[i].value=this.vInfo.videoURL,u[i].poster=this.vInfo.poster,u[i].SKIP_OPEN_END=this.vInfo.SKIP_OPEN_END,u[i].AUTO_PLAY=this.vInfo.AUTO_PLAY,u[i].timeOPEN=this.vInfo.timeOPEN,u[i].timeEND=this.vInfo.timeEND,u[i].timeUPDATE=this.vInfo.timeUPDATE,u.forEach((e=>{e.SKIP_OPEN_END=this.vInfo.SKIP_OPEN_END,e.AUTO_PLAY=this.vInfo.AUTO_PLAY,e.timeOPEN=parseFloat(this.vInfo.timeOPEN)||0,e.timeEND=parseFloat(this.vInfo.timeEND)||0,e.timeUPDATE=parseFloat(this.vInfo.timeUPDATE)||0})),this.$notify({type:"success",className:"custom-notify",message:"设置成功！"}),this.$emit("dialogCallback")},open(){let{activePLTab:e,activeChannel:t,activeCategory:a,activeLine:n,sourceNameList:i}=this.playerdata,r=this.playerdata[i[e]],{group:o,channel:s}=r[a],l=Object.keys(s)[t],c=s[l];-1==n&&(n=0);let{name:d,value:u,SKIP_OPEN_END:h,AUTO_PLAY:f,timeOPEN:p,timeEND:v,timeUPDATE:m}=c[n];try{let{search:{from:e,id:t,playfrom:a}}=c[n];this.vInfo.fromName=`${e||"未知"}(${a||""}):${t}`}catch(e){}try{let{poster:e}=c[n];this.vInfo.poster=e}catch(e){}this.vInfo.channelName=l,this.vInfo.grouplName=o,this.vInfo.lineName=d,this.vInfo.videoURL=u,this.vInfo.SKIP_OPEN_END=h||!1,this.vInfo.AUTO_PLAY=f||!1,this.vInfo.timeOPEN=p,this.vInfo.timeEND=v,this.vInfo.timeUPDATE=m,console.log("open",[o,l,c,this.playerdata],{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:i,dataSource:r})}}};a(226);const qp=(0,su.Z)(Hp,[["render",function(e,t,a,n,i,r){const o=vn("van-field"),s=vn("van-switch"),l=vn("van-button");return pi(),bi("div",null,[Li(o,{class:"field-bg",readonly:""},{input:ma((()=>[Bp])),_:1}),Li(o,{modelValue:i.vInfo.channelName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.vInfo.channelName=e),label:"名称",placeholder:"名称..."},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.grouplName,"onUpdate:modelValue":t[1]||(t[1]=e=>i.vInfo.grouplName=e),label:"类型",placeholder:"类型..."},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.lineName,"onUpdate:modelValue":t[2]||(t[2]=e=>i.vInfo.lineName=e),label:"线路",placeholder:"线路..."},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.videoURL,"onUpdate:modelValue":t[3]||(t[3]=e=>i.vInfo.videoURL=e),label:"地址",rows:"3",autosize:"",type:"textarea",spellcheck:!1,placeholder:"http://...",style:{"line-height":"15px"}},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.fromName,"onUpdate:modelValue":t[4]||(t[4]=e=>i.vInfo.fromName=e),label:"来源",placeholder:"来源..."},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.poster,"onUpdate:modelValue":t[5]||(t[5]=e=>i.vInfo.poster=e),label:"海报",placeholder:"海报..."},null,8,["modelValue"]),Li(o,{class:"field-bg",readonly:""},{input:ma((()=>[Fp])),_:1}),Li(o,{name:"",label:""},{input:ma((()=>[ki("span",Up,[ki("span",jp,[zp,Li(s,{modelValue:i.vInfo.SKIP_OPEN_END,"onUpdate:modelValue":t[6]||(t[6]=e=>i.vInfo.SKIP_OPEN_END=e),size:"20"},null,8,["modelValue"])]),ki("span",Vp,[Gp,Li(s,{modelValue:i.vInfo.AUTO_PLAY,"onUpdate:modelValue":t[7]||(t[7]=e=>i.vInfo.AUTO_PLAY=e),size:"20"},null,8,["modelValue"])])])])),_:1}),Li(o,{modelValue:i.vInfo.timeOPEN,"onUpdate:modelValue":t[9]||(t[9]=e=>i.vInfo.timeOPEN=e),name:"片头",label:"片头时刻",placeholder:"00:00:00"},{button:ma((()=>[Ci(' <van-slider v-model="vInfo.timeOPEN" active-color="#7232dd">\r\n                    <template #button>\r\n                        <div class="custom-button">{{ vInfo.timeOPEN }}</div>\r\n                    </template>\r\n                </van-slider> '),Li(l,{size:"small",color:"#7232dd",onClick:t[8]||(t[8]=e=>r.getCurrentTime("timeOPEN"))},{default:ma((()=>[Ii("当前时刻")])),_:1})])),_:1},8,["modelValue"]),Li(o,{modelValue:i.vInfo.timeEND,"onUpdate:modelValue":t[11]||(t[11]=e=>i.vInfo.timeEND=e),name:"片尾",label:"片尾时刻",placeholder:"00:00:00"},{button:ma((()=>[Ci(' <van-slider v-model="vInfo.timeEND" active-color="#7232dd">\r\n                    <template #button>\r\n                        <div class="custom-button">{{ vInfo.timeEND }}</div>\r\n                    </template>\r\n                </van-slider> '),Li(l,{size:"small",color:"#7232dd",onClick:t[10]||(t[10]=e=>r.getCurrentTime("timeEND"))},{default:ma((()=>[Ii("当前时刻")])),_:1})])),_:1},8,["modelValue"]),Li(o,{modelValue:i.vInfo.timeUPDATE,"onUpdate:modelValue":t[12]||(t[12]=e=>i.vInfo.timeUPDATE=e),name:"更新",label:"更新周期",placeholder:"周/10:00:00"},{button:ma((()=>[Li(l,{size:"small",color:"#7232dd",onClick:r.getCurrentTime},{default:ma((()=>[Ii("当前时刻")])),_:1},8,["onClick"])])),_:1},8,["modelValue"]),Li(o,{class:"sticky-bottom"},{input:ma((()=>[Li(l,{size:"small",color:"#7232dd",onClick:r.update},{default:ma((()=>[Ii("更新")])),_:1},8,["onClick"])])),_:1})])}],["__scopeId","data-v-4a62eebe"]]);const Kp={name:"UploadFile",components:{},inject:["playerdata"],data:()=>({showLoading:!1,fileList:[],acceptList:["json","xml","m3u8","m3u","dpl","txt"],acceptListStr:"",urlSource:"",source:"",textarea:"",shareCode:"",fileName:"",fileExt:""}),computed:{},mounted(){},unmounted(){},created(){this.acceptListStr=this.acceptList.join(",")},methods:{loadingClick(){this.showLoading=!1},beforeRead(e){var t;console.log("~~~beforeRead",{file:e,type:e.type,MType:(t=e.type,ap[t]||""),fileList:this.fileList});let a=e.name.split("."),n=a[a.length-1];return this.showLoading=!0,-1!=this.acceptList.indexOf(n.toLowerCase())},afterRead(e){let{content:t,file:a}=e;console.log("~~~afterRead",a),this.source=t;let n=`${a.name}`.split("."),i=n[n.length-1];this.fileName=a.name,this.fileExt=i,console.log("~~~afterRead",{extArr:n,ext:i,file:a,fileList:this.fileList}),this.playerdata.activePLTab=1,this.playerdata.activeChannel=0,this.playerdata.showPlayListGroup=!0,this.showLoading=!1},clickPreview(e){let{content:t,file:a}=e;console.log("~~~clickPreview",{file:a,content:t}),this.source=t},parseTextarea(){this.showLoading=!0,console.log("~~~parseTextarea",{textarea:this.textarea}),this.parser(this.textarea),this.showLoading=!1},async parseRemote(){console.log("~~~parseRemote",{urlSource:this.urlSource});let e=this.urlSource;if(!e)return;this.playerdata.activePLTab=1,this.playerdata.activeChannel=0,this.playerdata.showPlayListGroup=!0,this.showLoading=!0;let t=e.match(/\.(m3u|m3u8)/gi),a=e.match(/\.(json)/gi);const{filename:n,fileExt:i}=Xf(e);this.fileName=n||"默认",t&&(this.fileExt="m3u8"),a&&(this.fileExt="json"),!this.fileExt&&(this.fileExt=i);const r={url:this.urlSource,done:({xhr:e,response:t})=>{console.log("~~~done",{xhr:e,response:t})},error:e=>{console.log("~~~error",{xhr:e}),this.showLoading=!1,this.textarea=e.response||"错误"}},o=await ep(r);console.log("~~~result",{result:o}),this.textarea=o.response,this.showLoading=!1},async parser(e=this.source){if(this.showLoading=!0,-1!=["m3u8","m3u"].indexOf(this.fileExt)){if(console.log("~~~M3U8Parser",{source:e}),!e)return;const t={url:"",filename:this.fileName,fileExt:this.fileExt,isDownload:!1};let a=new np(t),n=await a.parse(e);console.log("~~~parser:result",{result:n});try{let{groupList:e={},masterList:t=[],mediaList:a=[]}=n.fileInfo;console.log("~~~parser",{groupList:e,masterList:t,mediaList:a}),this.loadM3u8({groupList:e,masterList:t,mediaList:a})}catch(e){console.log(e)}}if(-1!=["json"].indexOf(this.fileExt)){console.log("~~~JSONParser");try{var t=JSON.parse(e);this.playerdata.dataSourcePLAYLIST=t,this.$notify({type:"success",className:"custom-notify",message:`已更新到《${this.fileName}》分类中!`})}catch(e){}}this.showLoading=!1},loadM3u8({groupList:e,masterList:t,mediaList:a}){let{activePLTab:n,activeChannel:i,activeCategory:r,activeLine:o,sourceNameList:s,activeVideoDOM:l,videoInstanceList:c}=this.playerdata,d=c[l];if(console.log("~~loadM3u8",{groupList:e,playItem:d,activeVideoDOM:l}),!d)return;let u=this.playerdata.dataSourcePLAYLIST,h=Object.keys(e||{});if(0==h.length){let e=[...t,...a],n={};for(let t=0;t<e.length;t++){const a=e[t];let i=!1;console.log("~~添加新频道",{newCh:a,channel:n});for(const e in n)if(e==a.title&&n[e]){const t=n[e].filter(((e,t)=>e.value==a.url.trim()));if(t&&t.length>0){i=!0;break}}if(!i){n[a.title]||(n[a.title]=[]);let e=`路线${n[a.title].length+1}`;n[a.title].unshift({name:e.trim(),value:a.url.trim(),iframe:!1})}}const i=u.findIndex((e=>e.group==this.fileName));-1==i?this.playerdata.dataSourcePLAYLIST.push({group:this.fileName,channel:n}):this.playerdata.dataSourcePLAYLIST[i]={group:this.fileName,channel:n},console.log("~~~~newGIndex",{newGIndex:i,dataSource:u})}h.length>0&&h.forEach(((t,a)=>{0==u.filter((e=>e.group==t)).length&&u.push({group:t,channel:{}}),this.handleList(e,t)})),this.$notify({type:"success",className:"custom-notify",message:`已更新到《${this.fileName}》分类中!`})},handleList(e,t){let a=e[t];this.playerdata.dataSourcePLAYLIST.map((e=>{if(e.group==t){let t=!1;for(const n of a){console.log("~~添加新频道",{newCh:n,channel:e.channel}),e.channel[n.title]||(e.channel[n.title]=[]);for(const a in e.channel)if(a==n.title&&e.channel[a]){const i=e.channel[a].filter(((e,t)=>e.value==n.url.trim()));if(i&&i.length>0){t=!0;break}}if(!t){e.channel[n.title]||(e.channel[n.title]=[]);let t=`路线${e.channel[n.title].length+1}`;e.channel[n.title].unshift({name:t.trim(),value:n.url.trim(),iframe:!1})}}}})),console.log("~~添加新",{PLAYLIST:this.playerdata.dataSourcePLAYLIST})}}};a(2896);const Yp=(0,su.Z)(Kp,[["render",function(e,t,a,n,i,r){const o=vn("van-uploader"),s=vn("van-field"),l=vn("van-button"),c=vn("van-loading");return pi(),bi("div",null,[Li(s,{name:"uploader",label:"文件上传"},{input:ma((()=>[Li(o,{modelValue:i.fileList,"onUpdate:modelValue":t[0]||(t[0]=e=>i.fileList=e),"after-read":r.afterRead,"before-read":r.beforeRead,accept:i.acceptListStr,"result-type":"text",onClickPreview:r.clickPreview},null,8,["modelValue","after-read","before-read","accept","onClickPreview"])])),_:1}),Li(s,null,{input:ma((()=>[Li(l,{style:{"margin-right":"5px"},size:"small",color:"#7232dd",onClick:t[1]||(t[1]=e=>r.parser())},{default:ma((()=>[Ii("解析")])),_:1})])),_:1}),hn(Li(c,{class:"van-loading-custom",vertical:"",onClick:r.loadingClick},{default:ma((()=>[Ii("加载中...")])),_:1},8,["onClick"]),[[is,i.showLoading]]),Li(s,{modelValue:i.acceptListStr,"onUpdate:modelValue":t[2]||(t[2]=e=>i.acceptListStr=e),name:"上传格式",label:"支持上传格式",readonly:""},null,8,["modelValue"]),Li(s,{modelValue:i.urlSource,"onUpdate:modelValue":t[3]||(t[3]=e=>i.urlSource=e),name:"资源",label:"远程资源",placeholder:"http://..."},{button:ma((()=>[Li(l,{size:"small",color:"#7232dd",onClick:r.parseRemote},{default:ma((()=>[Ii("载入")])),_:1},8,["onClick"])])),_:1},8,["modelValue"]),Li(s,{modelValue:i.shareCode,"onUpdate:modelValue":t[4]||(t[4]=e=>i.shareCode=e),name:"分享码",label:"分享码",placeholder:"code..."},{button:ma((()=>[Li(l,{size:"small",color:"#7232dd"},{default:ma((()=>[Ii("载入")])),_:1})])),_:1},8,["modelValue"]),Li(s,{modelValue:i.textarea,"onUpdate:modelValue":t[5]||(t[5]=e=>i.textarea=e),name:"",label:"",rows:"4",autosize:{maxHeight:150,minHeight:50},type:"textarea",placeholder:"粘贴文本...",spellcheck:"false"},null,8,["modelValue"]),Li(s,{class:"sticky-bottom"},{input:ma((()=>[Li(l,{size:"small",color:"#7232dd",onClick:r.parseTextarea},{default:ma((()=>[Ii("载入")])),_:1},8,["onClick"])])),_:1})])}],["__scopeId","data-v-ee2787a0"]]),Wp=(e=>(pa("data-v-e51df0ea"),e=e(),va(),e))((()=>ki("span",{class:"text-field"},"列表名 ",-1))),Xp={class:"body-content"};const Zp={name:"ExportFile",components:{},inject:["playerdata"],data:()=>({tabsTitle:[],tabSelected:"列表",buttonList:[{name:"导出",label:"时空葫芦格式",ext:".json"},{name:"导出",label:"M3U8",ext:".m3u8"},{name:"导出",label:"PotPlayer",ext:".dpl"},{name:"导出",label:"自定义格式",ext:".txt"},{name:"导出",label:"XSPF",ext:".xspf"},{name:"导出",label:"mitv",ext:".mitv"},{name:"导出",label:"MTV",ext:".mtv"},{name:"导出",label:"TestN",ext:".txt"},{name:"导出",label:"HLFM",ext:".txt"},{name:"导出",label:"NewTV",ext:".txt"},{name:"导出",label:"TestC",ext:".txt"}],acceptList:[".json",".xml",".m3u8",".m3u"].join(","),fileName:"output",shareCode:""}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={tabsTitle:[],tabSelected:"",fileName:"output",shareCode:""};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{open(){let{activePLTab:e,tabsTitle:t}=this.playerdata;this.tabsTitle=t,this.tabSelected=t[e],this.radioChange(this.tabSelected)},radioChange(e){let t=this.tabsTitle.indexOf(e);console.log("~~~radioChange",e,t),this.playerdata.activePLTab=t},exportFile(e){let{activePLTab:t,activeChannel:a,activeCategory:n,activeLine:i,vParserURL:r,sourceNameList:o,activeVideoDOM:s,videoInstanceList:l}=this.playerdata,c=this.playerdata[o[t]];console.log("~~exportFile:",{filename:e,dataSource:c});let d=new Blob([JSON.stringify(c)]),u=URL.createObjectURL(d);const h=document.createElement("a");h.href=u,h.download=e,h.click(),h.remove()}}};a(1278);const Qp=(0,su.Z)(Zp,[["render",function(e,t,a,n,i,r){const o=vn("van-radio"),s=vn("van-radio-group"),l=vn("van-field"),c=vn("van-button");return pi(),bi("div",null,[Li(l,{name:"radio",label:""},{input:ma((()=>[Wp,Li(s,{modelValue:i.tabSelected,"onUpdate:modelValue":t[0]||(t[0]=e=>i.tabSelected=e),direction:"horizontal",onChange:r.radioChange},{default:ma((()=>[(pi(!0),bi(li,null,bn(i.tabsTitle,((e,t)=>(pi(),_i(o,{key:t,name:e},{default:ma((()=>[Ii(y(e),1)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1}),Li(l,{modelValue:i.acceptList,"onUpdate:modelValue":t[1]||(t[1]=e=>i.acceptList=e),name:"导出格式",label:"支持导出格式",readonly:""},null,8,["modelValue"]),Li(l,{modelValue:i.fileName,"onUpdate:modelValue":t[2]||(t[2]=e=>i.fileName=e),name:"文件名",label:"文件名",placeholder:"filename"},null,8,["modelValue"]),Li(l,{modelValue:i.shareCode,"onUpdate:modelValue":t[3]||(t[3]=e=>i.shareCode=e),name:"分享码",label:"分享码",placeholder:"code..."},{button:ma((()=>[Li(c,{size:"small",color:"#7232dd"},{default:ma((()=>[Ii("生成")])),_:1})])),_:1},8,["modelValue"]),ki("div",Xp,[(pi(!0),bi(li,null,bn(i.buttonList,((e,t)=>(pi(),_i(l,{key:t+e,name:e.name,label:e.label,placeholder:"filename"},{input:ma((()=>[ki("span",null,y(i.fileName+i.tabSelected+e.ext),1)])),button:ma((()=>[Li(c,{size:"small",color:"#7232dd",onClick:t=>r.exportFile(i.fileName+i.tabSelected+(new Date).getTime()+e.ext)},{default:ma((()=>[Ii("导出"+y(e.ext),1)])),_:2},1032,["onClick"])])),_:2},1032,["name","label"])))),128))])])}],["__scopeId","data-v-e51df0ea"]]),Jp=Qp;const $p={name:"AddGroup",components:{},inject:["playerdata"],data:()=>({groupName:""}),computed:{},mounted(){},unmounted(){},created(){},methods:{addNewGroup(){let{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n}=this.playerdata,i=this.playerdata[n[e]];console.log("addNewGroup",[this.groupName,this.playerdata],{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n,dataSource:i}),-1==i.findIndex((e=>e.group==this.groupName))&&i.push({group:this.groupName,channel:{}})}}};a(4632);const ev=(0,su.Z)($p,[["render",function(e,t,a,n,i,r){const o=vn("van-button"),s=vn("van-field");return pi(),bi("div",null,[Li(s,{modelValue:i.groupName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.groupName=e),name:"名称",label:"新分类名",placeholder:"新分类名..."},{button:ma((()=>[Li(o,{size:"small",color:"#7232dd",onClick:r.addNewGroup},{default:ma((()=>[Ii("添加")])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])}],["__scopeId","data-v-7a9d0828"]]),tv=(e=>(pa("data-v-fc517caa"),e=e(),va(),e))((()=>ki("span",{class:"label-field"},"资源数据信息",-1)));const av={name:"AddChannel",components:{},inject:["playerdata","playerThis"],data:()=>({vInfo:{groupName:"",channelName:"",lineName:"",videoURL:""}}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={groupName:""};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{async addNewChannel(){let{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n}=this.playerdata,i=this.playerdata[n[e]],{group:r="默认",channel:o={}}=i[a]||{},s=Object.keys(o);if(console.log("addNewChannel",[r,this.vInfo,this.playerdata],{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n,dataSource:i}),this.vInfo.channelName&&this.vInfo.lineName&&(-1==s.findIndex((e=>e==this.vInfo.channelName))&&(o[this.vInfo.channelName]=[]),-1==o[this.vInfo.channelName].findIndex((e=>e.name==this.vInfo.lineName))&&o[this.vInfo.channelName].push({name:this.vInfo.lineName,value:this.vInfo.videoURL})),!this.vInfo.channelName||!this.vInfo.lineName){let e=this.vInfo.channelName;try{e=await Zf(this.vInfo.videoURL)}catch(e){}let t=`${window.location.origin}?url=${this.vInfo.videoURL}&title=${e||""}&line=${this.vInfo.lineName}`;this.playerThis.parseURL(t)}},open(){let{activePLTab:e,activeCategory:t,sourceNameList:a}=this.playerdata,n=this.playerdata[a[e]],{group:i,channel:r}=n[t]||{};this.vInfo.groupName=i||""}}};a(4745);const nv=(0,su.Z)(av,[["render",function(e,t,a,n,i,r){const o=vn("van-field"),s=vn("van-button");return pi(),bi("div",null,[Li(o,{class:"field-bg",readonly:""},{input:ma((()=>[tv])),_:1}),Li(o,{modelValue:i.vInfo.groupName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.vInfo.groupName=e),label:"类型",placeholder:"类型..."},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.channelName,"onUpdate:modelValue":t[1]||(t[1]=e=>i.vInfo.channelName=e),label:"名称",placeholder:"名称..."},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.lineName,"onUpdate:modelValue":t[2]||(t[2]=e=>i.vInfo.lineName=e),label:"线路",placeholder:"线路..."},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.videoURL,"onUpdate:modelValue":t[3]||(t[3]=e=>i.vInfo.videoURL=e),label:"地址",rows:"3",autosize:"",type:"textarea",placeholder:"http(s)://...m3u8,mp4,flv..或者...qq,bilibili,youku,iqiyi,mgtv..官方视频页面网址.."},null,8,["modelValue"]),Li(o,{class:"sticky-bottom"},{input:ma((()=>[Li(s,{size:"small",color:"#7232dd",onClick:r.addNewChannel},{default:ma((()=>[Ii("添加")])),_:1},8,["onClick"])])),_:1})])}],["__scopeId","data-v-fc517caa"]]),iv=e=>(pa("data-v-4a9e9fc2"),e=e(),va(),e),rv=["src","alt"],ov={class:"content-box"},sv=iv((()=>ki("span",null,"名称：",-1))),lv=iv((()=>ki("span",null,"类型：",-1))),cv=iv((()=>ki("span",null,"语言：",-1))),dv=iv((()=>ki("span",null,"区域：",-1))),uv=iv((()=>ki("span",null,"年：",-1))),hv=iv((()=>ki("span",null,"导演：",-1))),fv=iv((()=>ki("span",null,"演员：",-1))),pv=iv((()=>ki("span",null,"简介：",-1)));const vv={name:"InfoChannel",components:{},inject:["playerdata"],data:()=>({vInfo:{pic:"",name:"",type:"",lang:"",area:"",year:"",director:"",actor:"",des:"",douban:"",imdb:""}}),computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else for(const e in this.vInfo)Object.hasOwnProperty.call(this.vInfo,e)&&(this.vInfo[e]="")}},mounted(){this.open()},unmounted(){},created(){},methods:{open(){document.querySelector(".content-box").scrollTop=0;let{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n}=this.playerdata,i=this.playerdata[n[e]],{group:r,channel:o}=i[a],s=Object.keys(o)[t],l=o[s];try{let{search:{id:e,from:t}}=l[0];console.log("~~~search",{id:e,from:t,movieSearch:Sp}),e&&t&&wp(t).searchDetailByVideoID(e).then((e=>{this.vInfo=e.vInfo})).catch((e=>{}))}catch(e){console.log("~~~error",e)}console.log("open",[r,s,l,this.playerdata],{activePLTab:e,activeChannel:t,activeCategory:a,sourceNameList:n,dataSource:i})}}};a(6069);const mv=(0,su.Z)(vv,[["render",function(e,t,a,n,i,r){const o=vn("van-field");return pi(),bi("div",null,[Li(o,{class:"cover-field"},{input:ma((()=>[ki("img",{src:i.vInfo.pic,alt:i.vInfo.name,class:"movie-cover"},null,8,rv)])),_:1}),ki("div",ov,[Li(o,{readonly:""},{input:ma((()=>[ki("div",null,[sv,ki("span",null,y(i.vInfo.name),1)])])),_:1}),Li(o,{readonly:""},{input:ma((()=>[ki("div",null,[lv,ki("span",null,y(i.vInfo.type),1)]),ki("div",null,[cv,ki("span",null,y(i.vInfo.lang),1)]),ki("div",null,[dv,ki("span",null,y(i.vInfo.area),1)]),ki("div",null,[uv,ki("span",null,y(i.vInfo.year),1)])])),_:1}),Li(o,{readonly:""},{input:ma((()=>[ki("div",null,[hv,ki("span",null,y(i.vInfo.director),1)]),ki("div",null,[fv,ki("span",null,y(i.vInfo.actor),1)])])),_:1}),Li(o,{readonly:""},{input:ma((()=>[ki("div",null,[pv,ki("span",null,y(i.vInfo.des),1)])])),_:1}),Ci(' <van-field v-model="douban" name="豆瓣" label="豆瓣" placeholder="豆瓣..." readonly />\r\n            <van-field v-model="imdb" name="IMDB" label="IMDB" placeholder="IMDB..." readonly /> ')])])}],["__scopeId","data-v-4a9e9fc2"]]),gv=e=>(pa("data-v-3df19130"),e=e(),va(),e),yv=gv((()=>ki("span",{class:"label-field"},"内嵌解析器",-1))),bv={class:"text-switch"},_v=gv((()=>ki("span",{title:"借助第三方代理服务器传递，解决跨域请求相关数据的同源限制",class:"label-field"},"资源跨域请求",-1))),xv={class:"group-switch"},Ev={class:"text-switch"},wv={class:"group-switch"},Tv={class:"text-switch"};const Sv=[{name:"高速接口",category:1,url:"https://jx.jsonplayer.com/player/?url=",showType:3,mobile:1},{name:"综合/B站",category:1,url:"https://jx.bozrc.com:4433/player/?url=",showType:3},{name:"pjy/B站",category:1,url:"https://jx.playerjy.com/?ads=0&url=",showType:3},{name:"纯净/B站",url:"https://z1.m1907.top/?eps=0&jx=",mobile:1},{name:"老板",url:"https://vip.laobandq.com/jiexi.php?url=",mobile:0},{name:"高清资源",url:"https://vip.zykbf.com/?url=",mobile:0},{name:"红牛",url:"https://www.hnjiexi.com/m3u8/?url=",mobile:0},{name:"百度云",url:"https://jx.jxbdzyw.com/m3u8/?url=",mobile:0},{name:"BL",url:"https://vip.bljiex.com/?v=",mobile:0},{name:"M3U8",url:"https://jx.m3u8.tv/jiexi/?url=",mobile:0},{name:"冰豆",url:"https://api.qianqi.net/vip/?url=",mobile:0},{name:"爱豆",url:"https://jx.aidouer.net/?url=",mobile:1},{name:"百域",url:"https://jx.618g.com/?url=",mobile:0},{name:"云端",url:"https://sb.5gseo.net/?url=",mobile:0},{name:"云析",url:"https://jx.yparse.com/index.php?url=",mobile:0},{name:"0523",url:"https://go.yh0523.cn/y.cy?url=",mobile:0},{name:"17云",url:"https://www.1717yun.com/jx/ty.php?url=",mobile:0},{name:"180",url:"https://jx.000180.top/jx/?url=",mobile:0},{name:"8090",url:"https://www.8090g.cn/?url=",mobile:0},{name:"CK",url:"https://www.ckplayer.vip/jiexi/?url=",mobile:0},{name:"CHok",url:"https://www.gai4.com/?url=",mobile:1},{name:"ckmov",url:"https://www.ckmov.vip/api.php?url=",mobile:0},{name:"H8",url:"https://www.h8jx.com/jiexi.php?url=",mobile:0},{name:"JY",url:"https://jx.playerjy.com/?url=",mobile:0},{name:"MAO",url:"https://www.mtosz.com/m3u8.php?url=",mobile:0},{name:"OK",url:"https://okjx.cc/?url=",mobile:1},{name:"PM",url:"https://www.playm3u8.cn/jiexi.php?url=",mobile:0},{name:"RDHK",url:"https://jx.rdhk.net/?v=",mobile:1},{name:"解析",url:"https://ckmov.ccyjjd.com/ckmov/?url=",mobile:0},{name:"解析la",url:"https://api.jiexi.la/?url=",mobile:0},{name:"诺讯",url:"https://www.nxflv.com/?url=",mobile:0},{name:"盘古",url:"https://www.pangujiexi.cc/jiexi.php?url=",mobile:0},{name:"人人迷",url:"https://jx.blbo.cc:4433/?url=",mobile:1},{name:"思云",url:"https://jx.ap2p.cn/?url=",mobile:0},{name:"思古3",url:"https://jsap.attakids.com/?url=",mobile:1},{name:"维多",url:"https://jx.ivito.cn/?url=",mobile:0},{name:"虾米(广告)",url:"https://jx.xmflv.com/?url=",mobile:0},{name:"4K(广告)",url:"https://jx.4kdv.com/?url=",mobile:1},{name:"听乐(广告)",url:"https://jx.dj6u.com/?url=",mobile:1},{name:"七哥(广告)",url:"https://jx.nnxv.cn/tv.php?url=",mobile:0}],kv={name:"SettingPlayer",components:{},inject:["playerdata"],data(){return{onlinePlayerLines:Sv,vInfo:{proxyENABLE:!0,filterENABLE:!0,AUTO_PLAY:!0,AUTO_TIPS:!0,AUTO_COUNT:!0,PARSER:"",timeRECON:3,timeRECON_NUMBER:5,proxyURL:""},parentData:this.playerdata}},computed:{showDialog(){let{showDialog:e}=this.playerdata;return e}},watch:{showDialog(e,t){if(e)this.open();else{let e={proxyENABLE:!0,filterENABLE:!0,AUTO_PLAY:!0,AUTO_TIPS:!0,AUTO_COUNT:!0,PARSER:this.vInfo.PARSER,timeRECON:3,timeRECON_NUMBER:5,proxyURL:""};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{chooseParser(e){console.log("~~chooseParser",e,this.vInfo.PARSER);let{activePLTab:t,activeChannel:a,activeCategory:n,activeLine:i,vParserURL:r,sourceNameList:o,activeVideoDOM:s,videoInstanceList:l}=this.playerdata,c=l[s];if(console.log("~~chooseParser",{playItem:c,name:e,activeVideoDOM:s},this.vInfo.PARSER),!c)return;let d=this.playerdata[o[c.tab.id]][c.group.id];if(!d)return;let{group:u,channel:h}=d,f=h[Object.keys(h)[c.channel.id]];this.playerdata.vParserURL=e,c&&1==c?.iframe?.show&&(c.iframe.url=e+f[c.line.id].value)},update(e){console.log("~~update:setPlayer",e)},open(){let{vParserURL:e,proxyENABLE:t,filterENABLE:a}=this.playerdata;this.vInfo.PARSER=e,this.vInfo.proxyENABLE=t,this.vInfo.filterENABLE=a,console.log("~~open:setPlayer",[this.vInfo.PARSER])}}};a(8809);const Lv=(0,su.Z)(kv,[["render",function(e,t,a,n,i,r){const o=vn("van-field"),s=vn("van-radio"),l=vn("van-radio-group"),c=vn("van-switch"),d=vn("van-button");return pi(),bi("div",null,[Li(o,{class:"field-bg",readonly:""},{input:ma((()=>[yv])),_:1}),Li(o,null,{input:ma((()=>[Li(l,{modelValue:i.vInfo.PARSER,"onUpdate:modelValue":t[0]||(t[0]=e=>i.vInfo.PARSER=e),direction:"horizontal",onChange:r.chooseParser},{default:ma((()=>[ki("span",bv,[Li(s,{name:""},{default:ma((()=>[Ii("空")])),_:1})]),(pi(!0),bi(li,null,bn(i.onlinePlayerLines,((e,t)=>(pi(),bi("span",{key:t+e.name,class:"text-switch"},[Li(s,{name:e.url},{default:ma((()=>[Ii(y(e.name),1)])),_:2},1032,["name"])])))),128))])),_:1},8,["modelValue","onChange"])])),_:1}),Li(o,{class:"field-bg",readonly:""},{input:ma((()=>[_v])),_:1}),Li(o,{modelValue:i.vInfo.proxyURL,"onUpdate:modelValue":t[1]||(t[1]=e=>i.vInfo.proxyURL=e),label:"代理地址:",placeholder:"https://..."},null,8,["modelValue"]),Li(o,{label:"开启代理:"},{input:ma((()=>[ki("span",xv,[ki("span",Ev,[Li(c,{modelValue:i.vInfo.proxyENABLE,"onUpdate:modelValue":t[2]||(t[2]=e=>i.vInfo.proxyENABLE=e),size:"20",onChange:t[3]||(t[3]=e=>i.parentData.proxyENABLE=i.vInfo.proxyENABLE)},null,8,["modelValue"])])])])),_:1}),Li(o,{label:"开启过滤:"},{input:ma((()=>[ki("span",wv,[ki("span",Tv,[Li(c,{modelValue:i.vInfo.filterENABLE,"onUpdate:modelValue":t[4]||(t[4]=e=>i.vInfo.filterENABLE=e),size:"20",onChange:t[5]||(t[5]=e=>i.parentData.filterENABLE=i.vInfo.filterENABLE)},null,8,["modelValue"])])])])),_:1}),Ci(' <van-field>\r\n                <template #input>\r\n                    <span class="group-switch">\r\n                        <span class="text-switch">\r\n                            <span>提示信息</span>\r\n                            <van-switch v-model="vInfo.AUTO_TIPS" size="20" />\r\n                        </span>\r\n                        <span class="text-switch">\r\n                            <span>重连</span>\r\n                            <van-switch v-model="vInfo.proxyENABLE" size="20" />\r\n                        </span>\r\n                        <span class="text-switch">\r\n                            <span>自动跳过</span>\r\n                            <van-switch v-model="vInfo.AUTO_PLAY" size="20" />\r\n                        </span>\r\n                        <span class="text-switch">\r\n                            <span>统计错误</span>\r\n                            <van-switch v-model="vInfo.AUTO_COUNT" size="20" />\r\n                        </span>\r\n                    </span>\r\n                </template>\r\n            </van-field>\r\n            <van-field v-model="vInfo.timeRECON_NUMBER" name="重连次数" label="重连次数" placeholder="重连次数..." />\r\n            <van-field v-model="vInfo.timeRECON" name="重连时间间隔" label="重连时间间隔" placeholder="网络重连间隔时间...(秒)" /> '),Li(o,{class:"sticky-bottom"},{input:ma((()=>[Li(d,{size:"small",color:"#7232dd",onClick:r.update},{default:ma((()=>[Ii("设置")])),_:1},8,["onClick"])])),_:1})])}],["__scopeId","data-v-3df19130"]]),Av=e=>(pa("data-v-2b0cc4ba"),e=e(),va(),e),Dv=Av((()=>ki("span",{class:"label-field"},"自动连接测试",-1))),Iv=Av((()=>ki("span",{class:"label-field"},"播放报错处理",-1))),Cv={class:"group-switch"},Rv={class:"text-switch"},Pv=Av((()=>ki("span",null,"提示信息",-1))),Ov={class:"text-switch"},Mv=Av((()=>ki("span",null,"重连",-1))),Nv={class:"text-switch"},Bv=Av((()=>ki("span",null,"自动跳过",-1))),Fv={class:"text-switch"},Uv=Av((()=>ki("span",null,"统计错误",-1)));const jv={name:"AutoTestPlayList",components:{},inject:["playerdata","playerThis"],data(){return{vInfo:{AUTO_RECONNTECT:!0,AUTO_PLAY:!0,AUTO_TIPS:!0,AUTO_COUNT:!0,SHOW_REPORT:!0,timeRECON:3,timeRECON_NUMBER:5,threads:6,runBtnText:"启动",stopBtnText:"停止",isRun:!1,isPaused:!1},parentData:this.playerdata}},computed:{showDialog(){let{showDialog:e}=this.playerdata;return e},runBtnText(){return this.vInfo.isPaused?"暂停":this.vInfo.isRun?"继续":"启动"},runBtnColor(){return this.vInfo.isPaused?"#d5a82b":(this.vInfo.isRun,"green")}},watch:{showDialog(e,t){if(e)this.open();else{let e={AUTO_RECONNTECT:!0,AUTO_PLAY:!0,AUTO_TIPS:!0,AUTO_COUNT:!0,SHOW_REPORT:!0,timeRECON:3,timeRECON_NUMBER:5,threads:6,runBtnText:"启动",stopBtnText:"停止",isRun:!1,isPaused:!1,isStop:!1};for(const t in this.vInfo)Object.hasOwnProperty.call(this.vInfo,t)&&(this.vInfo[t]=e[t])}}},mounted(){this.open()},unmounted(){},created(){},methods:{update(e){console.log("~~update",{isRun:this.vInfo.isRun,text:this.runBtnText,event:e}),this.vInfo.isRun=!0,this.vInfo.isPaused^=!0,this.vInfo.isPaused&&this.runTest()},stop(e){console.log("~~stop",{isRun:this.vInfo.isRun,text:this.runBtnText,event:e}),this.vInfo.isRun=!1,this.vInfo.isPaused=!1,this.isStop=!0},open(){console.log("~~open"),this.vInfo.AUTO_PLAY=this.parentData.isSkipError},runTest(){console.log("~~runTest",{isRun:this.vInfo.isRun,isPaused:this.vInfo.isPaused,text:this.runBtnText}),this.initScreen(),this.initData()},initScreen(){this.playerdata.videoInstanceList=[];for(let e=0;e<=this.vInfo.threads-1;e++)this.playerThis.open_addScreen(null)},initData(){console.log("~~initData",{isRun:this.vInfo.isRun,isPaused:this.vInfo.isPaused,text:this.runBtnText}),this.playerdata.activeCategory=0,this.playerdata.activeChannel=0,this.playerdata.activeLine=0,this.playerdata.isSkipError=!0,this.playerdata.skipNumber=this.vInfo.threads;for(let e=0;e<=this.vInfo.threads-1;e++)this.playerdata.videoInstanceList[e]=this.playerThis.updateCurrentPlayItemInfo(),this.playerThis.nextPlayLine(e,0!=e,null,e)}}};a(396);const zv={name:"Player",components:{SearchMedia:Mp,Setting:qp,UploadFile:Yp,ExportFile:Jp,AddGroup:ev,AddChannel:nv,InfoChannel:mv,SettingPlayer:Lv,AutoTestPlayList:(0,su.Z)(jv,[["render",function(e,t,a,n,i,r){const o=vn("van-field"),s=vn("van-switch"),l=vn("van-button");return pi(),bi("div",null,[Li(o,{class:"field-bg",readonly:""},{input:ma((()=>[Dv])),_:1}),Li(o,{modelValue:i.vInfo.threads,"onUpdate:modelValue":t[0]||(t[0]=e=>i.vInfo.threads=e),name:"线程数",label:"线程数",placeholder:"同时进行测试线程数..."},null,8,["modelValue"]),Li(o,{class:"field-bg",readonly:""},{input:ma((()=>[Iv])),_:1}),Li(o,null,{input:ma((()=>[ki("span",Cv,[ki("span",Rv,[Pv,Li(s,{modelValue:i.vInfo.AUTO_TIPS,"onUpdate:modelValue":t[1]||(t[1]=e=>i.vInfo.AUTO_TIPS=e),size:"20"},null,8,["modelValue"])]),ki("span",Ov,[Mv,Li(s,{modelValue:i.vInfo.AUTO_RECONNTECT,"onUpdate:modelValue":t[2]||(t[2]=e=>i.vInfo.AUTO_RECONNTECT=e),size:"20"},null,8,["modelValue"])]),ki("span",Nv,[Bv,Li(s,{onChange:t[3]||(t[3]=e=>i.parentData.isSkipError=i.vInfo.AUTO_PLAY),modelValue:i.vInfo.AUTO_PLAY,"onUpdate:modelValue":t[4]||(t[4]=e=>i.vInfo.AUTO_PLAY=e),size:"20"},null,8,["modelValue"])]),ki("span",Fv,[Uv,Li(s,{modelValue:i.vInfo.AUTO_COUNT,"onUpdate:modelValue":t[5]||(t[5]=e=>i.vInfo.AUTO_COUNT=e),size:"20"},null,8,["modelValue"])])])])),_:1}),Li(o,{modelValue:i.vInfo.timeRECON_NUMBER,"onUpdate:modelValue":t[6]||(t[6]=e=>i.vInfo.timeRECON_NUMBER=e),name:"重连次数",label:"重连次数",placeholder:"重连次数..."},null,8,["modelValue"]),Li(o,{modelValue:i.vInfo.timeRECON,"onUpdate:modelValue":t[7]||(t[7]=e=>i.vInfo.timeRECON=e),name:"重连时间间隔",label:"重连时间间隔",placeholder:"网络重连间隔时间...(秒)"},null,8,["modelValue"]),Li(o,{label:"生成报告"},{input:ma((()=>[Li(s,{modelValue:i.vInfo.SHOW_REPORT,"onUpdate:modelValue":t[8]||(t[8]=e=>i.vInfo.SHOW_REPORT=e),size:"20"},null,8,["modelValue"])])),_:1}),Li(o,null,{input:ma((()=>[Li(l,{style:{"margin-right":"5px"},size:"small",color:r.runBtnColor,onClick:r.update},{default:ma((()=>[Ii(y(r.runBtnText),1)])),_:1},8,["color","onClick"]),i.vInfo.isRun?(pi(),_i(l,{key:0,size:"small",color:"red",onClick:r.stop},{default:ma((()=>[Ii(y(i.vInfo.stopBtnText),1)])),_:1},8,["onClick"])):Ci("v-if",!0)])),_:1})])}],["__scopeId","data-v-2b0cc4ba"]])},provide(){return{playerdata:this.$data,playerThis:this}},data(){return{activePLTab:0,activeChannel:-1,activeCategory:0,activeLine:0,activeVideoDOM:0,showDialog:!1,showPlayList:!0,showPlayListGroup:!0,isSkipError:!1,proxyENABLE:!1,filterENABLE:!0,platformCode:"ZYK1080SON",platformLabel:"优质资源库",skipNumber:0,UIConfig:{showGroupCount:!1},videoDOM:null,videoInstanceList:[null],videoPlayerList:[],videoPlayerMeta:{duration:0,volume:1,currentTime:0,currentSrc:""},videoPlayerInstance:null,currentDataSourceName:"",currentChannelName:"",playlistSearchValue:"",formateSecToHourMin:Yf,dataSourceTV:lp,dataSourcePLAYLIST:[],dataSourceCOLLECTION:[],dataSourceTHIRDPARTY:[],dataSourceExample:[{group:"分类1",channel:{频道名1:[{name:"线路1",value:"<url>",status:"畅通",currentTime:0}]}}],currentPlayItem:{tabId:0,groupId:-1,channelId:-1,lineId:-1},tabsTitle:["电视","列表","资源库"],currentDialogView:"SearchMedia",vParserURL:"https://jx.jsonplayer.com/player/?url=",iframeURL:"",dialogBox:{contentIndex:0,title:"",view:""},downloader:{received:0,speed:0},videoButtonList:{增视频屏:{icon:"plus",click:this.open_addScreen,component:"",showDialog:!1},减视频屏:{icon:"minus",click:this.open_removeScreen,component:"",showDialog:!1},设置播放器:{icon:"setting-o",click:this.open_settingPlayer,component:"SettingPlayer",showDialog:!0},搜索资源:{icon:"search",click:this.open_searchVideo,component:"SearchMedia",showDialog:!0},载入文件:{icon:"upgrade",click:this.open_uploadFile,component:"UploadFile",showDialog:!0},导出列表:{icon:"share-o",click:this.open_exportFile,component:"ExportFile",showDialog:!0},全屏:{icon:"enlarge",click:this.open_fullscreen,component:"",showDialog:!1}},localStorageKeyName:"app-crx-links-collector",sourceNameList:["dataSourceTV","dataSourcePLAYLIST","dataSourceTHIRDPARTY"]}},computed:{dataList(){return[this.dataSourceTV,this.dataSourcePLAYLIST,this.dataSourceTHIRDPARTY]},dataSource(){const e=this.activePLTab%this.tabsTitle.length;return this.dataList[e]},groupList(){var e=[];return this.dataSource&&this.dataSource.length>0&&this.dataSource.map((t=>{t.group&&e.push(t.group)})),e},channelList(){var e=Object.keys(this.dataSource[this.activeCategory]?.channel||{})||[];return this.playlistSearchValue&&(e=e.filter((e=>-1!=e.toLowerCase().indexOf(this.playlistSearchValue.toLowerCase())))),e},lineList(){let e=this.channelList[this.activeChannel],t=this.dataSource[this.activeCategory]?.channel[e];var a=[];return t?.forEach(((e,t,n)=>{e.name&&a.push(e.name)})),a},iframeScrolling(){return this.vParserURL?"no":"yes"}},mounted(){this.init()},unmounted(){},created(){},methods:{init(){this.loadStorage(),this.parseURL(),this.onMessage(),this.asyncPlayList(),this.screenEvent(),this.initVideoPlayerDOM(),this.unloadPage()},initVideoPlayerDOM(){const e=this;this.activeVideoDOM=0,this.$nextTick((()=>{const t=document.querySelectorAll(".media-player");this.videoDOM=t[this.activeVideoDOM],t.forEach(((t,a,n)=>{e.addVideoEventListener(t,a);try{let t=e.videoInstanceList[a].currentTime;t&&t>0&&(e.videoInstanceList[a].lastCurrentTime=parseFloat(t))}catch(e){console.log("~~~~error",e)}}))}))},screenEvent(){window.addEventListener("resize",(()=>{setTimeout((()=>{this.update_videoDOMList()}),500)}))},unloadPage(){const e=this,t=t=>{e.saveStorage(),t&&(t=t||window.event,console.log(t))};window.addEventListener("beforeunload",(e=>{console.log("~~beforeunload",e),t(e)})),window.addEventListener("unload",(e=>{console.log("~~unload",e),t(e)}))},addVideoEventListener(e,t=this.activeVideoDOM){const a=this;let n={loadedmetadata:n=>{console.log("loadedmetadata!",{vDOM:e,vInstanceIndex:t,vIList:a.videoInstanceList,event:n});let{lastCurrentTime:i,des:r}=a.videoInstanceList[t];i&&i>0&&i>e.currentTime&&(e.currentTime=i),a.videoInstanceList[t].error=!1,a.$notify({type:"success",className:"custom-notify",message:`正在播放：${r}`}),a.nextPlayLine(t,!1,!1)},error:e=>{console.log("播放error!",[e,a.videoInstanceList,this.videoDOM]);let n=window.location.href.split("#")[0];if(!this.videoDOM||!this.videoDOM.src||this.videoDOM.src==n)return;const{des:i,fileExt:r}=this.videoInstanceList[t];"mp3"!=r?(a.$notify({type:"danger",className:"custom-notify",message:`错误：无法播放 ${i}`}),a.videoInstanceList[t].error=!0,a.nextPlayLine(t,a.isSkipError,!0,a.skipNumber)):a.updateChannel(e,(function(){a.nextPlayLine(t,!1)}))},stalled:e=>{const{des:n,fileExt:i}=this.videoInstanceList[t];console.log("播放stalled! 数据不可用!",{event:e}),a.$notify({type:"danger",className:"custom-notify",message:`错误：播放媒体数据 ${n} 不可用!`}),"mp3"!=i?a.isSkipError&&a.nextPlayLine(t,a.isSkipError,!0,a.skipNumber):a.updateChannel(e,(function(){a.nextPlayLine(t,!1)}))},canplaythrough:e=>{console.log("播放canplaythrough! ",{vInstanceIndex:t,event:e}),a.skipNumber>0&&a.nextPlayLine(t,a.isSkipError,!0,a.skipNumber)},suspend:e=>{console.log("播放suspend! 数据中止!",{event:e})},ended:n=>{console.log("播放结束!",{vDOM:e,vInstanceIndex:t,vIList:a.videoInstanceList,event:n}),a.nextPlayLine(t)},timeupdate:n=>{try{let n=a.videoPlayerList[t].videoPlayerInstance?.bufferController?.details?.live;if(null!=n&&"undefined"!=n||(n=!1),a.videoInstanceList[t].live=n,0==n){a.videoInstanceList[t].currentTime=e.currentTime;let{SKIP_OPEN_END:n,AUTO_PLAY:i,timeOPEN:r,timeEND:o,timeUPDATE:s}=a.videoInstanceList[t].time;n&&r&&o&&r<o&&(e.currentTime<r&&(e.currentTime=r),e.currentTime>o&&a.nextPlayLine(t))}}catch(e){}}};Object.keys(n).forEach((t=>{e.addEventListener(t,n[t])}))},isLiveChannel(e){return 1==this.videoInstanceList[e]?.live},addNewGroupChannelData(e){const t=this;let a=[];a=t.dataSourceTHIRDPARTY.filter((t=>t.group==e.group)),0==a.length&&t.dataSourceTHIRDPARTY.push(e);let n=Object.keys(e.channel)[0];t.dataSourceTHIRDPARTY.map(((a,i)=>{if(a.group==e.group){a.channel={...a.channel,...e.channel},t.activeCategory=i,t.activeLine=-1;let r=Object.keys(a.channel),o=r.indexOf(n);t.activeChannel=-1!=o?o:r.length-1}})),t.$nextTick((()=>{t.activePLTab=2,t.saveStorage()})),a&&this.$notify({type:"success",className:"custom-notify",message:`已更新《${n}》到《${e.group}》分类中!`})},onWindowMessage(){const e=this;window.addEventListener("message",(function(t){if(t.origin!==window.location.origin||!t.data||!t.data.cmd)return;console.log("~~VideoPlayer:从("+t.origin+")，收到消息：",{e:t});let{tabId:a,cmd:n,data:i}=t.data;switch(n){case"delete-channel-from-playlist":console.log("~~~delete-channel-from-playlist事件：",{e:t,data:i});break;case"update-dataSource-playlist-from-3rd-party":console.log("~~~update-dataSource-playlist-from-3rd-party事件：",{e:t,data:i}),e.addNewGroupChannelData(i),t.data.hasOwnProperty("callback")&&t.data.callback&&t.data.callback()}})),console.log("VideoPlayer:开始监听message通信事件")},onChromeMessage(){const e=this;try{chrome?.runtime?.onMessage?.addListener((function(t,a,n=null){if(t&&"update-dataSource-playlist"===t.cmd)e.dataSourcePLAYLIST=t.data,e.$nextTick((()=>{console.log("~~~update-dataSource-playlist事件：",{request:t})}))}))}catch(e){}},onMessage(){this.onWindowMessage(),this.onChromeMessage()},asyncPlayList(){this.$nextTick((()=>{const e={cmd:"update-dataSource-playlist",data:this.dataSourcePLAYLIST};try{chrome.runtime.sendMessage(e,null,(e=>{console.log("后台返回信息：",e)}))}catch(e){console.log("Error:发送信息到后台:",e)}}))},loadStorage(){const e=localStorage.getItem(this.localStorageKeyName),t=JSON.parse(e);console.log("~~loadStorage:",[this.$data,t]);for(const e in t)if(Object.hasOwnProperty.call(t,e)){const a=t[e];this[e]=a}this.update_videoDOMList()},saveStorage(){this.videoDOM=document.querySelectorAll(".media-player")[this.activeVideoDOM],this.videoPlayerMeta={duration:this.videoDOM?.duration,volume:this.videoDOM?.volume,currentTime:this.videoDOM?.currentTime,currentSrc:this.videoDOM?.currentSrc};const e={activePLTab:0,activeChannel:-1,activeCategory:0,activeLine:0,showPlayList:!0,showPlayListGroup:!0,currentChannelName:"",playlistSearchValue:"",vParserURL:"",dataSourcePLAYLIST:[],dataSourceCOLLECTION:[],dataSourceTHIRDPARTY:[],videoInstanceList:[]};Object.keys(e).forEach((t=>{e[t]=this.$data[t]})),console.log("saveStorage",{vueData:e}),localStorage.setItem(this.localStorageKeyName,JSON.stringify(e))},async parseURL(e=window.location.href){let[t,...a]=e.split("?"),n=a.join().split("&"),i={};for(let e of n){let[t,a]=e.split("=");i[t]=a}var{url:r,title:o="默认",line:s="线路",group:l="默认"}=i,c=l||"默认",d=1;s=`线路${d}`,r=decodeURIComponent(decodeURI(r)),o=decodeURIComponent(decodeURI(o)),s=decodeURIComponent(decodeURI(s)),console.log("~~~~parseURL:",{url:r,title:o,line:s,urlQueryObj:i});if(r&&/(http|https):\/\/([\w.]+\/?)\S*/gi.test(r)){this.activePLTab=1,this.activeCategory=this.groupList.indexOf(c),this.activeChannel=-1,this.activeLine=0,this.showPlayListGroup=this.dataSourcePLAYLIST.length>1;let t=!1;if(!i.hasOwnProperty("fileExt")){r=e.split("?url=")[1];let a=new RegExp(`(${["qq","bilibili","youku","iqiyi","mgtv"].join("|")})`,"gi");const{filename:n,fileExt:i}=Xf(r),s=function(e,t=!1){let a={video:(e=e.toLowerCase()).match(/\.(wmv|asf|asx|rm|rmvb|mpg|mpeg|mpe|3gp|mov|mp4|m4v|avi|dat|mkv|flv|vob|m3u8|m4s|ts)/gi),audio:e.match(/\.(mp3|aac|wav|wma|cda|flac|m4a|mid|mka|mp2|mpa|mpc|ape|ofr|ogg|ra|wv|tta|ac3|dts)/gi),image:e.match(/\.(bmp|dib|pcp|dif|wmf|gif|jpg|tif|eps|psd|cdr|iff|tga|pcd|mpt|png|jpeg|tiff|pcx|exif|fpx|svg|dxf|ufo|ai|raw)/gi)};console.log("~getFileType:",a);for(let e in a)if(a[e]&&a[e].length>0)return t?a[e].join().slice(1):e;return"doc"}(n);let d=o||"默认";if("doc"==s&&""==o)try{d=await Zf(r)}catch(e){}let u=r.match(/https?:\/\/([^/]+)\//i)[1];console.log("~~~parseURL:iframe:",{pageTitle:d,url:r,originURL:u,groupName:c,group:l,filename:n,fileExt:i,fileType:s,isIframe:t}),d&&(o=d),null!=u&&(c=(l=u||"默认")||"默认",null!=u.match(a)&&"doc"==s&&(t=!0)),console.log("~~~parseURL:iframe2:",{title:o,url:r,originURL:u,groupName:c,group:l,filename:n,fileExt:i,fileType:s,isIframe:t})}0==this.dataSourcePLAYLIST.filter((e=>e.group==l)).length&&this.dataSourcePLAYLIST.push({group:c,channel:{[o]:[{name:s,value:r,iframe:t}]}}),this.activeCategory=this.groupList.indexOf(c),this.dataSourcePLAYLIST.map((e=>{if(e.group==c){let a=!1;for(const t in e.channel)if(t==o&&e.channel[t]){const n=e.channel[t].filter(((e,t)=>e.value==r));if(n&&n.length>0){a=!0;break}}a||(e.channel[o]||(e.channel[o]=[]),this.activeLine=e.channel[o].length,d=e.channel[o].length+1,s=`线路${d}`,e.channel[o].unshift({name:s,value:r,iframe:t}))}}));let a=this.channelList.indexOf(o);this.$notify({type:"success",className:"custom-notify",message:`已更新《${o}》到《${c}》分类中!`}),this.showChannel(a,o),this.saveStorage()}else this.activePLTab=0,this.activeCategory=0,this.activeChannel=-1},onPLTabsChange(e,t){console.log("onPLTabsChange",{index:e,title:t,route:this.$route}),this.activePLTab=e,this.groupList.length<=1&&(this.showPlayListGroup=!1,this.activeCategory=0);let a=this.videoInstanceList[this.activeVideoDOM];a&&a.tab.id==e?(this.activeCategory=a.group.id,this.activeChannel=a.channel.id,this.activeLine=a.line.id):(this.activeCategory=0,this.activeChannel=-1,this.activeLine=-1,this.videoInstanceList.forEach(((t,a,n)=>{this.activeVideoDOM!=a&&t&&t.tab.id==e&&(this.activeCategory=t.group.id,this.activeChannel=t.channel.id,this.activeLine=t.line.id)})))},onPlayListSearch(e){this.activeChannel=this.channelList.indexOf(this.currentChannelName)},removeGroup(e,t){this.dataSource.splice(t,1),this.saveStorage()},checkChannelError(e,t){const a=t[e];let n=!1;return a.forEach(((e,t,a)=>{e?.error&&(n=!0)})),n},showChannel(e,t){this.activeChannel=this.activeChannel!=e?e:-1,this.activeLine=-1;let{group:a,channel:n}=this.dataSource[this.activeCategory];this.currentChannelName=t;let i=n[t];console.log("showChannel",{index:e,currentChannel:i,activeChannel:this.activeChannel,channelKey:t,data:this.dataSource});let r=!1;if(this.videoInstanceList.forEach((e=>{e&&e.group.id==this.activeCategory&&e.channel.id==this.activeChannel&&e.line.id>-1&&(this.activeLine=e.line.id,r=!0)})),!r&&-1!=this.activeChannel){this.dataSource[this.activeCategory].channel[t]?.length<=3&&this.lineClicked(0)}this.update_dialogBox()},infoChannel(e){console.log("~~infoChannel",{event:e,active:this.currentPlayItem,data:this.dataSource}),this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"InfoChannel")},settingChannel(e){console.log("~~settingChannel",{event:e,active:this.currentPlayItem,data:this.dataSource}),this.open_settingChannel(e)},updateChannel(e=null,t=null){const a=this;console.log("~~updateChannel",{event:e,active:this.currentPlayItem,data:this.dataSource});let{group:n,channel:i}=this.dataSource[this.activeCategory],r=this.channelList[this.activeChannel],o=i[r];console.log("~~updateChannel:currentChannel",{currentChannel:o,channelName:r});const s=e=>{if(console.log("~~newGroup:res",e),!e)return;let{newGroup:a}=e;console.log("~~newGroup",a);const n={cmd:"update-dataSource-playlist-from-3rd-party",data:a};a&&window.postMessage(n,window.location.origin),setTimeout((()=>{t&&t()}),500)};try{let{name:e,type:t,search:{id:n,from:i}}=o[0];console.log("~~~search",{id:n,from:i,movieSearch:Sp}),n&&i&&wp(i,a.filterENABLE,a.proxyENABLE).searchByVideoID(n,3,s).then((e=>{s(e)})).catch((e=>{console.log("~~~newGroup:error",{error:e})}))}catch(e){console.log("~~~error",e)}},removeChannel(e){console.log("~~removeChannel",{event:e,active:this.currentPlayItem,data:this.dataSource}),Reflect.deleteProperty(this.dataSource[this.activeCategory].channel,this.channelList[this.activeChannel]),this.saveStorage(),console.log("vue:data:",[this.$data,localStorage])},nextPlayLine(e=this.activeVideoDOM,t=!0,a=null,n=0){let i=this.videoInstanceList[e];if(!i)return;if(t)try{Reflect.deleteProperty(i,"lastCurrentTime")}catch(a){}console.log("nextPlayLine",{playItem:i,vInstanceIndex:e,dataSource:this.dataSource,playNext:t,error:a,skipNum:n});let r=this.dataList[i.tab.id][i.group.id],o=r.channel[i.channel.name];if(1==a&&(o[i.line.id].error=!0),0==t&&0==a)return void(o[i.line.id].error=!1);if(0==t&&1==a)return;let s=Object.keys(r.channel),l=i.line.id;t&&++l,l>=o.length&&0==n&&(i.channel.id=(i.channel.id+1)%s.length,i.channel.name=s[i.channel.id],o=r.channel[i.channel.name],l=0,this.activeChannel=i.channel.id),i.line.id=l%o.length,i.line.name=o[i.line.id].name,i.des=`${i.group.name}-${i.channel.name}-${i.line.name}`;let c=o[i.line.id]?.value;i.group.id==this.activeCategory&&i.channel.id==this.activeChannel&&(this.activeLine=i.line.id),n>0?this.nextPlayLine(e,t,a,--n):(this.playMedia(c,e),this.saveStorage())},lineClicked(e,t=this.activeVideoDOM){this.iframeSHOW=!1,this.activeLine=e;let a=this.updateCurrentPlayItemInfo();this.videoInstanceList[t]=a;let n=this.dataSource[a.group.id].channel[a.channel.name][a?.line?.id],i=n?.value,r=n?.iframe,o=n?.poster;if(console.log("lineClicked",{iframe:r,line:n,url:i,playItem:a,index:e,activeLine:this.activeLine,vIList:this.videoInstanceList}),this.videoDOM||(this.videoDOM=document.querySelectorAll(".media-player")[t]),this.videoDOM.poster=o||"",1!=r)a.iframe.show=!1,a.iframe.url="",i&&(this.playMedia(i,t),this.updateDocumentTitle()),this.update_dialogBox();else{this.videoDOM.muted=!0,this.videoDOM.pause(),this.videoDOM.src="";try{a.iframe.show=!0,a.iframe.url=this.vParserURL+i}catch(e){}}},categoryClicked(e){this.activeChannel=this.activeCategory!=e?-1:this.activeChannel,this.activeCategory=e;let t=this.videoInstanceList[this.activeVideoDOM];t&&t.tab.id==this.activePLTab&&this.activeCategory==t.group.id?(this.activeChannel=t.channel.id,this.activeLine=t.line.id):(this.activeChannel=-1,this.activeLine=-1,this.videoInstanceList.forEach(((e,t,a)=>{this.activeVideoDOM!=t&&e&&e.tab.id==this.activePLTab&&this.activeCategory==e.group.id&&(this.activeChannel=e.channel.id,this.activeLine=e.line.id)}))),console.log("categoryClicked",{index:e,activeCategory:this.activeCategory})},updateDocumentTitle(e=""){const t=e||this.videoInstanceList[this.activeVideoDOM]?.des||"时空葫芦播放器";document.title=t},updateCurrentPlayItemInfo(){this.currentPlayItem={tab:{id:this.activePLTab,name:this.tabsTitle[this.activePLTab]},group:{id:this.activeCategory,name:this.groupList[this.activeCategory]},channel:{id:this.activeChannel,name:this.channelList[this.activeChannel]},line:{id:this.activeLine,name:this.lineList[this.activeLine]},iframe:{show:!1,url:""},fileExt:""};let e=`${this.currentPlayItem.group.name}-${this.currentPlayItem.channel.name}-${this.currentPlayItem.line.name}`;this.currentPlayItem.des=e;let t=this.dataSource[this.currentPlayItem.group.id].channel[this.currentPlayItem.channel.name],{SKIP_OPEN_END:a,AUTO_PLAY:n,timeOPEN:i,timeEND:r,timeUPDATE:o}=t[this.currentPlayItem.line.id];return this.currentPlayItem.time={SKIP_OPEN_END:a,AUTO_PLAY:n,timeOPEN:parseFloat(i),timeEND:parseFloat(r),timeUPDATE:o},JSON.parse(JSON.stringify(this.currentPlayItem))},playMedia(e,t=this.activeVideoDOM){const a=this;1==this.videoInstanceList.length&&(this.activeVideoDOM=0),this.videoDOM=document.querySelectorAll(".media-player")[t];var{filename:n,fileExt:i}=Xf(e),r=null;try{(r=this.videoPlayerList[t]).destroyVideo()}catch(e){}r=new op(this.videoDOM,this.videoInstanceList[t],e,i,((e,n)=>{console.log("~~hls~~ERROR",{event:e,data:n});const{des:i}=this.videoInstanceList[t],r="manifestLoadError"==n.details?"danger":"warning",o=`${"manifestLoadError"==n.details?"错误":"提示"}：${n.details} ${i}`;a.$notify({type:r,message:o,className:"custom-notify"}),a.videoInstanceList[t].error="danger"==r,a.nextPlayLine(t,!1,"danger"==r),(a.skipNumber>0||a.isSkipError)&&a.nextPlayLine(t,a.isSkipError,!0,a.skipNumber)})),this.videoPlayerList[t]=r,null==this.videoInstanceList[t]&&(this.videoInstanceList[t]=this.updateCurrentPlayItemInfo()),this.videoInstanceList[t].fileExt=i,console.log("playMedia:",{fileExt:i,vDOM:this.videoDOM,vPlayer:r,vUrl:r?.url,vPInstance:r?.videoPlayerInstance,vInstance:this.videoInstanceList[t]})},videoClick(e){this.activeVideoDOM=e,this.videoDOM=document.querySelectorAll(".media-player")[this.activeVideoDOM],this.updateDocumentTitle();let t=this.videoInstanceList[this.activeVideoDOM];if(t){if(this.activePLTab=t.tab.id,this.activeCategory=t.group.id,this.activeChannel=t.channel.id,this.activeLine=t.line.id,3==this.videoDOM?.networkState){let{lastCurrentTime:t}=this.videoInstanceList[this.activeVideoDOM];this.lineClicked(this.activeLine,this.activeVideoDOM),this.videoMouseOver(e,!1),t&&t>0&&(this.videoInstanceList[this.activeVideoDOM].lastCurrentTime=parseFloat(t))}else this.videoMouseOver(e);1==t?.iframe?.show&&(this.videoDOM.muted=!0,this.videoDOM.pause(),this.videoDOM.src="",this.lineClicked(this.activeLine)),console.log("~~videoClick",{vindex:e,playItem:t,videoDOM:this.videoDOM,networkState:this.videoDOM?.networkState,vPlayerList:this.videoPlayerList,vInstanceList:this.videoInstanceList}),this.update_videoDOMList()}else console.log("~~~videoClick",{index:this.activeVideoDOM,vdom:this.videoDOM,playItem:t,vinst:this.videoInstanceList})},videoMouseOver(e,t=!0){const a=document.querySelectorAll(".media-player"),n=a[e].networkState,i=a[e].paused;console.log("networkState",{vindex:e,networkState:n,paused:i}),t&&(3==n||i)||(this.videoInstanceList.length>1&&a.forEach(((t,a)=>{t.muted=e!=a})),1==this.videoInstanceList.length&&(a[0].muted=!1))},videoClose(e){console.log("videoClose",{vindex:e,vIList:this.videoInstanceList});try{this.videoPlayerList[e].destroyVideo()}catch(e){}try{this.videoPlayerList.splice(e,1),this.videoInstanceList.splice(e,1)}catch(e){}this.videoInstanceList.forEach(((e,t,a)=>{try{let t=e.currentTime;t&&t>0&&(e.lastCurrentTime=parseFloat(t))}catch(e){console.log("~~~~error",e)}})),this.saveStorage(),this.update_videoDOMList(),this.$nextTick((()=>{const e=document.querySelectorAll(".media-player");1==e.length&&(e[0].muted=!1),e.forEach(((e,t,a)=>{this.nextPlayLine(t,!1)}))}))},switchClick(){this.showPlayListGroup&&this.showPlayList?this.showPlayListGroup=!1:!this.showPlayListGroup&&this.showPlayList?this.showPlayList=!1:this.showPlayListGroup||this.showPlayList||(this.showPlayList=!0),setTimeout((()=>{this.update_videoDOMList()}),500)},update_dialogBox(){this.showDialog&&-1!=["设置","信息"].indexOf(this.dialogBox.title)&&(this.showDialog=!1,setTimeout((()=>{this.showDialog=!0}),100))},open_dialogBox(e,t){this.dialogBox.title=e,this.dialogBox.contentIndex=e,this.currentDialogView=t,setTimeout((()=>{this.showDialog=!0}),100)},open_box(e){this.showDialog=!1;const{target:{title:t}}=e;console.log("~~open_box",{title:t,event:e,data:this.dataSource}),this.videoButtonList[t]&&this.videoButtonList[t].showDialog&&this.open_dialogBox(t,this.videoButtonList[t].component),this.videoButtonList[t]&&this.videoButtonList[t].click(e)},open_addGroup(e){this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"AddGroup")},open_removeAllGroup(e){console.log("~~open_removeAllGroup",e,this.dataSource),this[this.sourceNameList[this.activePLTab]]=[],setTimeout((()=>{this.update_videoDOMList()}),500)},open_addChannel(e){this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"AddChannel")},open_testChannel(e){this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"AutoTestPlayList")},open_uploadFile(e){console.log("~~open_uploadFile",{event:e,data:this.dataSource})},open_searchVideo(e){this.onPLTabsChange(2,this.tabsTitle[2]),this.showPlayList=!0,this.showPlayListGroup=!0,console.log("~~open_searchVideo",{event:e,data:this.dataSource})},open_settingChannel(e){console.log("~~open_settingChannel",{event:e,data:this.dataSource}),this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"Setting")},open_settingPlayer(e){console.log("~~open_settingPlayer",{event:e,data:this.dataSource}),this.showDialog=!1;const{target:{title:t}}=e;this.open_dialogBox(t,"SettingPlayer")},open_exportFile(e){this.saveStorage(),console.log("~~open_exportFile",{event:e,data:this.dataSource})},open_addScreen(e){console.log("~~open_addScreen",{event:e,data:this.dataSource}),this.videoInstanceList.push(null),this.update_videoDOMList(),this.$nextTick((()=>{this.activeVideoDOM=this.videoInstanceList.length-1,this.videoDOM=document.querySelectorAll(".media-player")[this.activeVideoDOM],this.addVideoEventListener(this.videoDOM,this.activeVideoDOM)}))},open_removeScreen(e){console.log("~~open_removeScreen",{event:e,data:this.dataSource}),1!=this.videoInstanceList.length?(this.activeVideoDOM=this.videoInstanceList.length-1,this.videoClose(this.activeVideoDOM)):this.activeVideoDOM=0},open_fullscreen(e){console.log("~~open_fullscreen",{event:e,data:this.dataSource}),this.toggleFullScreen(),setTimeout((()=>{this.update_videoDOMList()}),500)},open_clearList(e){console.log("~~open_clearList",{event:e,data:this.dataSource})},toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},dialog_callback(){this.saveStorage()},download_video(e,t){const a=this.videoPlayerList[e],n=this.videoInstanceList[e];console.log("download_video",{vindex:e,vobj:t,vPlayer:a,vPlayItem:n,vPlayerList:this.videoPlayerList,vIList:this.videoInstanceList});const i=n.des;let{fileExt:r,url:o}=a;try{let e=a?.videoPlayerInstance?.bufferController?.details?.url;e&&(o=e)}catch(e){}let s=0;const l=this.$toast.loading({message:"正在下载...",duration:-1,closeOnClick:!1,className:"toast-message-big"}),c={url:o,filename:i,fileExt:r,isDownload:!0,onerror:()=>{++s,this.$toast.clear(),this.$toast({type:"fail",message:`下载错误! ${s}`,icon:"warning-o",duration:5e3,closeOnClick:!0,className:"toast-message-big"}),s>=5&&(d.stopDownload(),this.$toast({type:"fail",message:"多次连接失败，已结束下载!",icon:"warning",duration:1e4,closeOnClick:!0,className:"toast-message-big"}),s=0)},ondone:()=>{this.$toast.clear(),this.$toast({message:"下载完成!",icon:"checked",duration:5e3,closeOnClick:!0,className:"toast-message-big"})},onprogress:e=>{let{index:t,item:a,data:n,downloader:{byteLength:i,total:r,cursor:o,completed:s,count:c,parallel:d}}=e;this.downloader.received+=i;let u=(100*s/r).toFixed(0)+"%";(({receivedLengthUnit:e,contentLengthUint:t,percentage:a})=>{l.closeOnClick=!1,l.message=`正在下载：${a}\n(已使用流量：${e})`})({receivedLengthUnit:qf(i,0),contentLengthUint:qf(i,0),percentage:u})}};console.log("~~~downloadToMP4:",c);let d=new np(c);d.init()},setting_timeOPEN(e,t){console.log("setting_timeOPEN",{vindex:e,vIList:this.videoInstanceList});let a=this.videoDOM.currentTime;t.time.timeOPEN=a;let{channel:n}=this.dataSource[this.activeCategory];n[Object.keys(n)[this.activeChannel]].forEach((e=>{e.timeOPEN=parseFloat(a)||0,e.SKIP_OPEN_END=!0,e.AUTO_PLAY=!0})),this.$notify({type:"success",duration:8e3,className:"custom-notify",message:`已成功瞄点 ${Yf(a)} 为片头`})},setting_timeEND(e,t){console.log("setting_timeEND",{vindex:e,vIList:this.videoInstanceList});let a=this.videoDOM.currentTime;t.time.timeEND=a;let{channel:n}=this.dataSource[this.activeCategory];n[Object.keys(n)[this.activeChannel]].forEach((e=>{e.timeEND=parseFloat(a)||0,e.SKIP_OPEN_END=!0,e.AUTO_PLAY=!0})),this.$notify({type:"success",duration:8e3,className:"custom-notify",message:`已成功瞄点 ${Yf(a)} 为片尾`})},update_videoDOMList(){this.$nextTick((()=>{let e=3,t=33;const a=document.querySelectorAll(".video-player-box"),n=document.querySelector(".video-player-wrapper");a.length<5&&(e=2,t=50);const i=`height:calc(${Math.floor(100/Math.ceil(a.length/e))}% - 2px)`;n.style=i;const r=`width:calc(${Math.max(Math.floor(100/a.length),t)}% - 4px);height:100%;margin-inline:2px;`;a.forEach(((e,t)=>{let a=e.querySelector(".top-bar-tools");if(a){e.querySelector(".live-span").style.width=`calc( 100% - ${a.getBoundingClientRect().width}px )`}e.style=r;const n=e.getBoundingClientRect().top-45+"px",i=e.getBoundingClientRect().width-0+"px";e.querySelector(".top-media-info").style.top=n,e.querySelector(".top-media-info").style.width=i}))}))}}};a(3907);const Vv={name:"VideoPlayer",components:{Header:uf,Player:(0,su.Z)(zv,[["render",function(e,t,a,n,i,r){const o=vn("van-icon"),s=vn("van-dialog"),l=vn("van-col"),c=vn("van-cell"),d=vn("van-search"),u=vn("van-cell-group"),h=vn("van-row"),f=vn("van-tab"),v=vn("van-tabs");return pi(),bi(li,null,[Ci(" 播放器主体 "),Li(h,{class:"height-90vh"},{default:ma((()=>[Li(s,{show:i.showDialog,"onUpdate:show":t[1]||(t[1]=e=>i.showDialog=e),title:i.dialogBox.title,overlay:!0,"confirm-button-text":"关闭","show-confirm-button":!1,"close-on-click-overlay":!0},{title:ma((()=>[ki("span",hf,[ki("span",ff,y(i.dialogBox.title),1),ki("span",{style:{flex:"2",display:"flex","align-items":"center","justify-content":"center",cursor:"pointer"},onClick:t[0]||(t[0]=e=>i.showDialog=!1)},[Li(o,{color:"white",size:"20",name:"clear"})])])])),default:ma((()=>{return[(pi(),_i((e=i.currentDialogView,M(e)?gn(pn,e,!1)||e:e||mn),{onDialogCallback:r.dialog_callback},null,40,["onDialogCallback"]))];var e})),_:1},8,["show","title"]),Ci(" 播放器实例 "),Li(l,{span:"24",style:{overflow:"hidden"}},{default:ma((()=>[ki("div",{class:p(["video-player-wrapper",{"video-width-cut-200":i.showPlayList}])},[(pi(!0),bi(li,null,bn(i.videoInstanceList,((e,t)=>(pi(),bi("div",{key:t,class:"video-player-box"},[Ci(" 鼠标移动触发后，顶部下滑信息栏 "),ki("div",{class:"top-media-info van-text-ellipsis",onClick:e=>r.videoClick(t)},[ki("span",vf,[r.isLiveChannel(t)?(pi(),bi("span",mf,[Li(o,{color:"red",size:"20",name:"stop-circle"}),Ii("LIVE")])):Ci("v-if",!0),ki("span",null,y(e?.des||"空"),1)]),hn(ki("span",gf,[Ci(" 手机播放 "),Ci(" 录屏 "),Ci(" 下载 "),i.activeVideoDOM!=t||r.isLiveChannel(t)||1==e?.iframe?.show?Ci("v-if",!0):(pi(),bi("span",yf,[Li(o,{title:"下载",size:"20",name:"down",onClick:ns((a=>r.download_video(t,e)),["stop"])},null,8,["onClick"])])),Ci(" 瞄点片头 "),i.activeVideoDOM!=t||r.isLiveChannel(t)||1==e?.iframe?.show?Ci("v-if",!0):(pi(),bi("span",bf,[Li(o,{title:`片头瞄点 ${i.formateSecToHourMin(e?.time?.timeOPEN||"")}`,size:"20",name:"clock-o",onClick:ns((a=>r.setting_timeOPEN(t,e)),["stop"])},null,8,["title","onClick"])])),Ci(" 瞄点片尾 "),i.activeVideoDOM!=t||r.isLiveChannel(t)||1==e?.iframe?.show?Ci("v-if",!0):(pi(),bi("span",_f,[Li(o,{title:`片尾瞄点 ${i.formateSecToHourMin(e?.time?.timeEND||"")}`,size:"20",name:"clock",onClick:ns((a=>r.setting_timeEND(t,e)),["stop"])},null,8,["title","onClick"])])),Ci(" 开关 "),i.videoInstanceList.length>1?(pi(),bi("span",{key:3,title:"关闭",onClick:ns((e=>r.videoClose(t)),["stop"])},[Li(o,{color:"red",size:"20",name:"clear"})],8,xf)):Ci("v-if",!0)],512),[[is,!(1==i.videoInstanceList.length&&null==i.videoInstanceList[0])]])],8,pf),Ci(" 视频组件 "),hn(ki("video",{class:p(["media-player",{"active-video-player":i.videoInstanceList.length>1&&i.activeVideoDOM==t}]),src:"",controls:"",autoplay:"",onClick:e=>r.videoClick(t),onMouseover:e=>r.videoMouseOver(t)},null,42,Ef),[[is,1!=e?.iframe?.show]]),Ci(" iframe "),hn(ki("iframe",{class:p(["iframe-media-player",{"active-video-player":i.videoInstanceList.length>1&&i.activeVideoDOM==t}]),src:e?.iframe?.url,frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:r.iframeScrolling,allowfullscreen:"allowfullscreen",mozallowfullscreen:"mozallowfullscreen",msallowfullscreen:"msallowfullscreen",oallowfullscreen:"oallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",sandbox:"allow-top-navigation allow-same-origin allow-scripts",style:{width:"calc(100% - 2px)",height:"calc(100% - 2px)"},onClick:e=>r.videoClick(t),onMouseover:e=>r.videoMouseOver(t)},null,42,wf),[[is,1==e?.iframe?.show]])])))),128))],2)])),_:1}),Ci(" 播放器扩展栏开关 "),Li(l,{class:p(["video-playlist-switch",{"switch-right-0":!i.showPlayList},{"switch-right-200":i.showPlayList&&!i.showPlayListGroup}]),title:i.showPlayList?"关闭列表":"展开列表",onClick:r.switchClick},{default:ma((()=>[ki("span",null,[Li(o,{name:"arrow"+(i.showPlayList?"":"-left")},null,8,["name"])])])),_:1},8,["class","title","onClick"]),Ci(" 播放器分类栏 "),i.showPlayList&&i.showPlayListGroup?(pi(),_i(l,{key:0,class:"video-playlist-categories",onDblclick:t[2]||(t[2]=e=>(i.showPlayList=!1)&&(i.showPlayListGroup=!1))},{default:ma((()=>[ki("div",Tf,[Ii("分类"),Li(o,{name:"plus",title:"添加分类",size:"13",onClick:ns(r.open_addGroup,["stop"])},null,8,["onClick"]),Li(o,{name:"delete-o",title:"清空分类",size:"13",onClick:ns(r.open_removeAllGroup,["stop"])},null,8,["onClick"])]),ki("div",Sf,[ki("ul",null,[(pi(!0),bi(li,null,bn(r.groupList,((e,t)=>(pi(),bi("li",{key:e,title:e,class:p([{"active-category":i.activeCategory==t}]),onClick:ns((e=>r.categoryClicked(t)),["stop"])},[ki("span",Lf,[i.UIConfig.showGroupCount?(pi(),bi("span",Af,"("+y(Object.keys(r.dataSource[t].channel).length)+")",1)):Ci("v-if",!0),Ii(y(e),1)]),i.activeCategory==t?(pi(),bi("span",{key:0,onClick:ns((a=>r.removeGroup(e,t)),["stop"])},[Li(o,{title:"删除",name:"delete-o"})],8,Df)):Ci("v-if",!0)],10,kf)))),128))])])])),_:1})):Ci("v-if",!0),Ci(' 播放器列表  @dblclick="(showPlayList=false)&&(showPlayListGroup=false)"'),i.showPlayList?(pi(),_i(l,{key:1,class:"video-playlist"},{default:ma((()=>[Ci(" <PlayList /> "),ki("div",If,[Li(v,{active:i.activePLTab,"onUpdate:active":t[10]||(t[10]=e=>i.activePLTab=e),type:"card",background:"black",color:"#083208","title-inactive-color":"green","offset-top":"45px",border:!1,sticky:"",shrink:"",onChange:r.onPLTabsChange},{default:ma((()=>[Ci(" ['电视','列表'] "),(pi(!0),bi(li,null,bn(i.tabsTitle,((e,a)=>(pi(),_i(f,{key:e+a,title:e},{default:ma((()=>[ki("div",null,[Li(h,null,{default:ma((()=>[Li(u,null,{default:ma((()=>[Ci(" 功能按钮 "),Li(c,{class:"video-playlist-categories-btn",onClick:t[3]||(t[3]=e=>i.showPlayListGroup^=1)},{title:ma((()=>[Li(o,{name:"arrow-left"}),Ii("分类: "),Li(o,{name:"label"}),ki("span",{class:"group-title",title:r.dataSource[i.activeCategory]?.group},y(r.dataSource[i.activeCategory]?.group),9,Cf)])),value:ma((()=>[Li(o,{name:"plus",title:"添加入列表",size:"18",color:"green",onClick:ns(r.open_addChannel,["stop"])},null,8,["onClick"]),Li(o,{name:"certificate",title:"自动测试资源可连线状态",size:"18",color:"green",onClick:ns(r.open_testChannel,["stop"])},null,8,["onClick"])])),_:1}),Ci(" 搜索框 "),Li(c,{class:"video-playlist-categories-btn video-playlist-search-btn"},{title:ma((()=>[Li(d,{modelValue:i.playlistSearchValue,"onUpdate:modelValue":[t[4]||(t[4]=e=>i.playlistSearchValue=e),r.onPlayListSearch],placeholder:"请输入搜索关键词",onSearch:r.onPlayListSearch,onClear:t[5]||(t[5]=e=>i.playlistSearchValue="")},null,8,["modelValue","onUpdate:modelValue","onSearch"])])),_:1}),Ci(" 列表 "),(pi(!0),bi(li,null,bn(r.channelList,((e,a)=>(pi(),_i(c,{key:"channelKey"+a,class:p(["custom-cell","van-multi-ellipsis--l2",{"active-cell":i.activeChannel==a},{"error-cell":r.checkChannelError(e,r.dataSource[i.activeCategory]?.channel)}]),onClick:t=>r.showChannel(a,e)},function(e,t){for(let a=0;a<t.length;a++){const n=t[a];if(C(n))for(let t=0;t<n.length;t++)e[n[t].name]=n[t].fn;else n&&(e[n.name]=n.key?(...e)=>{const t=n.fn(...e);return t&&(t.key=n.key),t}:n.fn)}return e}({title:ma((()=>[ki("span",{title:e,class:"van-multi-ellipsis--l2"},y(e),9,Rf)])),_:2},[i.activeChannel==a&&r.dataSource[i.activeCategory]?.channel?{name:"label",fn:ma((()=>[(pi(!0),bi(li,null,bn(r.dataSource[i.activeCategory].channel[e],((e,t)=>(pi(),bi("span",{key:t+e.name,title:e.value,class:p(["custom-label",{"active-line":i.activeLine==t},{"error-line":e?.error}]),onClick:ns((e=>r.lineClicked(t)),["stop"])},y(e.name),11,Pf)))),128))])),key:"0"}:void 0,r.dataSource[i.activeCategory]?.channel?{name:"value",fn:ma((()=>[Ci(" <span :class=\"['custom-value',{ error: dataSource[activeCategory]?.channel?.status }]\">{{ dataSource[activeCategory]?.channel?.status||'通畅' }}</span> "),Ci(" 更新资源 "),i.activeChannel==a?(pi(),bi("span",{key:0,class:"custom-value",onClick:t[6]||(t[6]=ns(((...e)=>r.updateChannel&&r.updateChannel(...e)),["stop"]))},[Li(o,{title:"更新资源",size:"16",name:"replay"})])):Ci("v-if",!0),Ci(" 删除 "),i.activeChannel==a?(pi(),bi("span",{key:1,class:"custom-value",onClick:t[7]||(t[7]=ns(((...e)=>r.removeChannel&&r.removeChannel(...e)),["stop"]))},[Li(o,{title:"删除",size:"16",name:"delete-o"})])):Ci("v-if",!0),Ci(" 设置 "),i.activeChannel==a?(pi(),bi("span",{key:2,class:"custom-value",onClick:t[8]||(t[8]=ns(((...e)=>r.settingChannel&&r.settingChannel(...e)),["stop"]))},[Li(o,{title:"设置",size:"16",name:"setting-o"})])):Ci("v-if",!0),Ci(" 信息 "),i.activeChannel==a?(pi(),bi("span",{key:3,class:"custom-value",onClick:t[9]||(t[9]=ns(((...e)=>r.infoChannel&&r.infoChannel(...e)),["stop"]))},[Li(o,{title:"信息",size:"16",name:"warning-o"})])):Ci("v-if",!0)])),key:"1"}:void 0]),1032,["class","onClick"])))),128))])),_:1})])),_:1})])])),_:2},1032,["title"])))),128))])),_:1},8,["active","onChange"])]),Ci(" 底部功能按钮 "),ki("div",Of,[(pi(!0),bi(li,null,bn(Object.keys(i.videoButtonList),((e,t)=>(pi(),bi("span",{key:e+t},[Li(o,{size:"16",title:e,name:i.videoButtonList[e].icon,onClick:r.open_box},null,8,["title","name","onClick"])])))),128))])])),_:1})):Ci("v-if",!0)])),_:1})],2112)}],["__scopeId","data-v-7d616ece"]])},data:()=>({}),computed:{},mounted(){},unmounted(){},created(){},methods:{}};a(8109);const Gv={name:"PopupHome",components:{"Video-Player":(0,su.Z)(Vv,[["render",function(e,t,a,n,i,r){const o=vn("Header"),s=vn("Player"),l=vn("van-col");return pi(),bi("div",rf,[Ci(" 整页高占满 "),Li(l,{class:"height-100vh"},{default:ma((()=>[Ci(" 顶部栏 "),Li(o),Ci(" 播放器主体 "),Li(s),Ci(" 弹窗：设置、媒体信息、内容搜索、用户服务、账单、广告 ")])),_:1})])}],["__scopeId","data-v-857183a8"]])},data:()=>({}),computed:{},mounted(){},unmounted(){},created(){},methods:{}};a(4401);const Hv=[{path:"/",name:"Home",component:(0,su.Z)(Gv,[["render",function(e,t,a,n,i,r){const o=vn("Video-Player");return pi(),bi("div",nf,[Li(o)])}],["__scopeId","data-v-bac2fad2"]])}],qv=function(e){const t=Ju(e.routes,e),a=e.parseQuery||wh,n=e.stringifyQuery||Th,i=e.history,r=Ch(),o=Ch(),s=Ch(),l=St(Fu,!0);let c=Fu;mu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=bu.bind(null,(e=>""+e)),u=bu.bind(null,xh),h=bu.bind(null,Eh);function f(e,r){if(r=yu({},r||l.value),"string"==typeof e){const n=wu(a,e,r.path),o=t.resolve({path:n.path},r),s=i.createHref(n.fullPath);return yu(n,o,{params:h(o.params),hash:Eh(n.hash),redirectedFrom:void 0,href:s})}let o;if("path"in e)o=yu({},e,{path:wu(a,e.path,r.path).path});else{const t=yu({},e.params);for(const e in t)null==t[e]&&delete t[e];o=yu({},e,{params:u(e.params)}),r.params=u(r.params)}const s=t.resolve(o,r),c=e.hash||"";s.params=d(h(s.params));const f=function(e,t){const a=t.query?e(t.query):"";return t.path+(a&&"?")+a+(t.hash||"")}(n,yu({},e,{hash:(p=c,bh(p).replace(vh,"{").replace(gh,"}").replace(fh,"^")),path:s.path}));var p;const v=i.createHref(f);return yu({fullPath:f,hash:c,query:n===Th?Sh(e.query):e.query||{}},s,{redirectedFrom:void 0,href:v})}function p(e){return"string"==typeof e?wu(a,e,l.value.path):yu({},e)}function v(e,t){if(c!==e)return zu(8,{from:t,to:e})}function m(e){return y(e)}function g(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:a}=t;let n="function"==typeof a?a(e):a;return"string"==typeof n&&(n=n.includes("?")||n.includes("#")?n=p(n):{path:n},n.params={}),yu({query:e.query,hash:e.hash,params:"path"in n?{}:e.params},n)}}function y(e,t){const a=c=f(e),i=l.value,r=e.state,o=e.force,s=!0===e.replace,d=g(a);if(d)return y(yu(p(d),{state:"object"==typeof d?yu({},r,d.state):r,force:o,replace:s}),t||a);const u=a;let h;return u.redirectedFrom=t,!o&&function(e,t,a){const n=t.matched.length-1,i=a.matched.length-1;return n>-1&&n===i&&Tu(t.matched[n],a.matched[i])&&Su(t.params,a.params)&&e(t.query)===e(a.query)&&t.hash===a.hash}(n,i,a)&&(h=zu(16,{to:u,from:i}),I(i,i,!0,!1)),(h?Promise.resolve(h):_(u,i)).catch((e=>Vu(e)?Vu(e,2)?e:D(e):A(e,u,i))).then((e=>{if(e){if(Vu(e,2))return y(yu({replace:s},p(e.to),{state:"object"==typeof e.to?yu({},r,e.to.state):r,force:o}),t||u)}else e=E(u,i,!0,s,r);return x(u,i,e),e}))}function b(e,t){const a=v(e,t);return a?Promise.reject(a):Promise.resolve()}function _(e,t){let a;const[n,i,s]=function(e,t){const a=[],n=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const r=t.matched[o];r&&(e.matched.find((e=>Tu(e,r)))?n.push(r):a.push(r));const s=e.matched[o];s&&(t.matched.find((e=>Tu(e,s)))||i.push(s))}return[a,n,i]}(e,t);a=Ph(n.reverse(),"beforeRouteLeave",e,t);for(const i of n)i.leaveGuards.forEach((n=>{a.push(Rh(n,e,t))}));const l=b.bind(null,e,t);return a.push(l),af(a).then((()=>{a=[];for(const n of r.list())a.push(Rh(n,e,t));return a.push(l),af(a)})).then((()=>{a=Ph(i,"beforeRouteUpdate",e,t);for(const n of i)n.updateGuards.forEach((n=>{a.push(Rh(n,e,t))}));return a.push(l),af(a)})).then((()=>{a=[];for(const n of e.matched)if(n.beforeEnter&&!t.matched.includes(n))if(xu(n.beforeEnter))for(const i of n.beforeEnter)a.push(Rh(i,e,t));else a.push(Rh(n.beforeEnter,e,t));return a.push(l),af(a)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),a=Ph(s,"beforeRouteEnter",e,t),a.push(l),af(a)))).then((()=>{a=[];for(const n of o.list())a.push(Rh(n,e,t));return a.push(l),af(a)})).catch((e=>Vu(e,8)?e:Promise.reject(e)))}function x(e,t,a){for(const n of s.list())n(e,t,a)}function E(e,t,a,n,r){const o=v(e,t);if(o)return o;const s=t===Fu,c=mu?history.state:{};a&&(n||s?i.replace(e.fullPath,yu({scroll:s&&c&&c.scroll},r)):i.push(e.fullPath,r)),l.value=e,I(e,t,a,s),D()}let w;function T(){w||(w=i.listen(((e,t,a)=>{if(!O.listening)return;const n=f(e),r=g(n);if(r)return void y(yu(r,{replace:!0}),n).catch(_u);c=n;const o=l.value;var s,d;mu&&(s=Mu(o.fullPath,a.delta),d=Pu(),Nu.set(s,d)),_(n,o).catch((e=>Vu(e,12)?e:Vu(e,2)?(y(e.to,n).then((e=>{Vu(e,20)&&!a.delta&&a.type===Au.pop&&i.go(-1,!1)})).catch(_u),Promise.reject()):(a.delta&&i.go(-a.delta,!1),A(e,n,o)))).then((e=>{(e=e||E(n,o,!1))&&(a.delta&&!Vu(e,8)?i.go(-a.delta,!1):a.type===Au.pop&&Vu(e,20)&&i.go(-1,!1)),x(n,o,e)})).catch(_u)})))}let S,k=Ch(),L=Ch();function A(e,t,a){D(e);const n=L.list();return n.length?n.forEach((n=>n(e,t,a))):console.error(e),Promise.reject(e)}function D(e){return S||(S=!e,T(),k.list().forEach((([t,a])=>e?a(e):t())),k.reset()),e}function I(t,a,n,i){const{scrollBehavior:r}=e;if(!mu||!r)return Promise.resolve();const o=!n&&function(e){const t=Nu.get(e);return Nu.delete(e),t}(Mu(t.fullPath,0))||(i||!n)&&history.state&&history.state.scroll||null;return Ht().then((()=>r(t,a,o))).then((e=>e&&Ou(e))).catch((e=>A(e,t,a)))}const C=e=>i.go(e);let R;const P=new Set,O={currentRoute:l,listening:!0,addRoute:function(e,a){let n,i;return Bu(e)?(n=t.getRecordMatcher(e),i=a):i=e,t.addRoute(i,n)},removeRoute:function(e){const a=t.getRecordMatcher(e);a&&t.removeRoute(a)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:f,options:e,push:m,replace:function(e){return m(yu(p(e),{replace:!0}))},go:C,back:()=>C(-1),forward:()=>C(1),beforeEach:r.add,beforeResolve:o.add,afterEach:s.add,onError:L.add,isReady:function(){return S&&l.value!==Fu?Promise.resolve():new Promise(((e,t)=>{k.add([e,t])}))},install(e){const a=this;e.component("RouterLink",Mh),e.component("RouterView",jh),e.config.globalProperties.$router=a,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Lt(l)}),mu&&!R&&l.value===Fu&&(R=!0,m(i.location).catch((e=>{0})));const n={};for(const e in Fu)n[e]=tr((()=>l.value[e]));e.provide(Ah,a),e.provide(Dh,dt(n)),e.provide(Ih,l);const r=e.unmount;P.add(e),e.unmount=function(){P.delete(e),P.size<1&&(c=Fu,w&&w(),w=null,l.value=Fu,R=!1,S=!1),r()},__VUE_PROD_DEVTOOLS__&&mu&&Hh(e,a,t)}};return O}({mode:"history",history:function(e=""){let t=[],a=[""],n=0;function i(e){n++,n===a.length||a.splice(n),a.push(e)}const r={location:"",state:{},base:e=Iu(e),createHref:Ru.bind(null,e),replace(e){a.splice(n--,1),i(e)},push(e,t){i(e)},listen:e=>(t.push(e),()=>{const a=t.indexOf(e);a>-1&&t.splice(a,1)}),destroy(){t=[],a=[""],n=0},go(e,i=!0){const r=this.location,o=e<0?Du.back:Du.forward;n=Math.max(0,Math.min(n+e,a.length-1)),i&&function(e,a,{direction:n,delta:i}){const r={direction:n,delta:i,type:Au.pop};for(const n of t)n(e,a,r)}(this.location,r,{direction:o,delta:e})}};return Object.defineProperty(r,"location",{enumerable:!0,get:()=>a[n]}),r}(),routes:Hv}),Kv=qv,Yv=cs(lu);Yv.use(Kv),Yv.use(Nl),Yv.use(iu),Yv.use(Qd),Yv.use(qd),Yv.use(ll),Yv.use(Ad),Yv.use(wd),Yv.use(_d),Yv.use(Js),Yv.use(el),Yv.use(md),Yv.use(Jc),Yv.use(ud),Yv.use(ld),Yv.use(id),Yv.use(zc),Yv.use(Bc),Yv.use(hc),Yv.use(oc),Yv.use(ec),Yv.use(Zl),Yv.use(fl),Yv.mount("#app-option-page")},4226:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-action-bar-button-height:40px;--van-action-bar-button-warning-color:var(--van-gradient-orange);--van-action-bar-button-danger-color:var(--van-gradient-red)}.van-action-bar-button{flex:1;height:var(--van-action-bar-button-height);font-weight:var(--van-font-weight-bold);font-size:var(--van-font-size-md);border:none;border-radius:0}.van-action-bar-button--first{margin-left:5px;border-top-left-radius:var(--van-border-radius-max);border-bottom-left-radius:var(--van-border-radius-max)}.van-action-bar-button--last{margin-right:5px;border-top-right-radius:var(--van-border-radius-max);border-bottom-right-radius:var(--van-border-radius-max)}.van-action-bar-button--warning{background:var(--van-action-bar-button-warning-color)}.van-action-bar-button--danger{background:var(--van-action-bar-button-danger-color)}@media(max-width: 321px){.van-action-bar-button{font-size:13px}}",""]);const s=o},4692:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-action-bar-background-color:var(--van-background-color-light);--van-action-bar-height:50px}.van-action-bar{position:fixed;right:0;bottom:0;left:0;display:flex;align-items:center;box-sizing:content-box;height:var(--van-action-bar-height);background:var(--van-action-bar-background-color)}",""]);const s=o},336:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-badge-size:16px;--van-badge-color:var(--van-white);--van-badge-padding:0 3px;--van-badge-font-size:var(--van-font-size-sm);--van-badge-font-weight:var(--van-font-weight-bold);--van-badge-border-width:var(--van-border-width-base);--van-badge-background-color:var(--van-danger-color);--van-badge-dot-color:var(--van-danger-color);--van-badge-dot-size:8px;--van-badge-font-family:-apple-system-font,Helvetica Neue,Arial,sans-serif}.van-badge{display:inline-block;box-sizing:border-box;min-width:var(--van-badge-size);padding:var(--van-badge-padding);color:var(--van-badge-color);font-weight:var(--van-badge-font-weight);font-size:var(--van-badge-font-size);font-family:var(--van-badge-font-family);line-height:1.2;text-align:center;background:var(--van-badge-background-color);border:var(--van-badge-border-width) solid var(--van-background-color-light);border-radius:var(--van-border-radius-max)}.van-badge--fixed{position:absolute;transform-origin:100%}.van-badge--top-left{top:0;left:0;transform:translate(-50%, -50%)}.van-badge--top-right{top:0;right:0;transform:translate(50%, -50%)}.van-badge--bottom-left{bottom:0;left:0;transform:translate(-50%, 50%)}.van-badge--bottom-right{bottom:0;right:0;transform:translate(50%, 50%)}.van-badge--dot{width:var(--van-badge-dot-size);min-width:0;height:var(--van-badge-dot-size);background:var(--van-badge-dot-color);border-radius:100%;border:none;padding:0}.van-badge__wrapper{position:relative;display:inline-block}",""]);const s=o},2135:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,':root{--van-button-mini-height:24px;--van-button-mini-padding:0 var(--van-padding-base);--van-button-mini-font-size:var(--van-font-size-xs);--van-button-small-height:32px;--van-button-small-padding:0 var(--van-padding-xs);--van-button-small-font-size:var(--van-font-size-sm);--van-button-normal-padding:0 15px;--van-button-normal-font-size:var(--van-font-size-md);--van-button-large-height:50px;--van-button-default-height:44px;--van-button-default-line-height:1.2;--van-button-default-font-size:var(--van-font-size-lg);--van-button-default-color:var(--van-text-color);--van-button-default-background-color:var(--van-background-color-light);--van-button-default-border-color:var(--van-border-color);--van-button-primary-color:var(--van-white);--van-button-primary-background-color:var(--van-primary-color);--van-button-primary-border-color:var(--van-primary-color);--van-button-success-color:var(--van-white);--van-button-success-background-color:var(--van-success-color);--van-button-success-border-color:var(--van-success-color);--van-button-danger-color:var(--van-white);--van-button-danger-background-color:var(--van-danger-color);--van-button-danger-border-color:var(--van-danger-color);--van-button-warning-color:var(--van-white);--van-button-warning-background-color:var(--van-warning-color);--van-button-warning-border-color:var(--van-warning-color);--van-button-border-width:var(--van-border-width-base);--van-button-border-radius:var(--van-border-radius-sm);--van-button-round-border-radius:var(--van-border-radius-max);--van-button-plain-background-color:var(--van-white);--van-button-disabled-opacity:var(--van-disabled-opacity);--van-button-icon-size:1.2em;--van-button-loading-icon-size:20px}.van-button{position:relative;display:inline-block;box-sizing:border-box;height:var(--van-button-default-height);margin:0;padding:0;font-size:var(--van-button-default-font-size);line-height:var(--van-button-default-line-height);text-align:center;border-radius:var(--van-button-border-radius);cursor:pointer;transition:opacity var(--van-animation-duration-fast);-webkit-appearance:none}.van-button::before{position:absolute;top:50%;left:50%;width:100%;height:100%;background:var(--van-black);border:inherit;border-color:var(--van-black);border-radius:inherit;transform:translate(-50%, -50%);opacity:0;content:" "}.van-button:active::before{opacity:.1}.van-button--disabled::before,.van-button--loading::before{display:none}.van-button--default{color:var(--van-button-default-color);background:var(--van-button-default-background-color);border:var(--van-button-border-width) solid var(--van-button-default-border-color)}.van-button--primary{color:var(--van-button-primary-color);background:var(--van-button-primary-background-color);border:var(--van-button-border-width) solid var(--van-button-primary-border-color)}.van-button--success{color:var(--van-button-success-color);background:var(--van-button-success-background-color);border:var(--van-button-border-width) solid var(--van-button-success-border-color)}.van-button--danger{color:var(--van-button-danger-color);background:var(--van-button-danger-background-color);border:var(--van-button-border-width) solid var(--van-button-danger-border-color)}.van-button--warning{color:var(--van-button-warning-color);background:var(--van-button-warning-background-color);border:var(--van-button-border-width) solid var(--van-button-warning-border-color)}.van-button--plain{background:var(--van-button-plain-background-color)}.van-button--plain.van-button--primary{color:var(--van-button-primary-background-color)}.van-button--plain.van-button--success{color:var(--van-button-success-background-color)}.van-button--plain.van-button--danger{color:var(--van-button-danger-background-color)}.van-button--plain.van-button--warning{color:var(--van-button-warning-background-color)}.van-button--large{width:100%;height:var(--van-button-large-height)}.van-button--normal{padding:var(--van-button-normal-padding);font-size:var(--van-button-normal-font-size)}.van-button--small{height:var(--van-button-small-height);padding:var(--van-button-small-padding);font-size:var(--van-button-small-font-size)}.van-button__loading{color:inherit;font-size:inherit}.van-button__loading .van-loading__spinner{color:currentColor;width:var(--van-button-loading-icon-size);height:var(--van-button-loading-icon-size)}.van-button--mini{height:var(--van-button-mini-height);padding:var(--van-button-mini-padding);font-size:var(--van-button-mini-font-size)}.van-button--mini+.van-button--mini{margin-left:var(--van-padding-base)}.van-button--block{display:block;width:100%}.van-button--disabled{cursor:not-allowed;opacity:var(--van-button-disabled-opacity)}.van-button--loading{cursor:default}.van-button--round{border-radius:var(--van-button-round-border-radius)}.van-button--square{border-radius:0}.van-button__content{display:flex;align-items:center;justify-content:center;height:100%}.van-button__content::before{content:" "}.van-button__icon{font-size:var(--van-button-icon-size);line-height:inherit}.van-button__icon+.van-button__text,.van-button__loading+.van-button__text,.van-button__text+.van-button__icon,.van-button__text+.van-button__loading{margin-left:var(--van-padding-base)}.van-button--hairline{border-width:0}.van-button--hairline::after{border-color:inherit;border-radius:calc(var(--van-button-border-radius)*2)}.van-button--hairline.van-button--round::after{border-radius:var(--van-button-round-border-radius)}.van-button--hairline.van-button--square::after{border-radius:0}',""]);const s=o},8721:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-cascader-header-height:48px;--van-cascader-header-padding:0 var(--van-padding-md);--van-cascader-title-font-size:var(--van-font-size-lg);--van-cascader-title-line-height:20px;--van-cascader-close-icon-size:22px;--van-cascader-close-icon-color:var(--van-gray-5);--van-cascader-selected-icon-size:18px;--van-cascader-tabs-height:48px;--van-cascader-active-color:var(--van-danger-color);--van-cascader-options-height:384px;--van-cascader-option-disabled-color:var(--van-text-color-3);--van-cascader-tab-color:var(--van-text-color);--van-cascader-unselected-tab-color:var(--van-text-color-2)}.van-cascader__header{display:flex;align-items:center;justify-content:space-between;height:var(--van-cascader-header-height);padding:var(--van-cascader-header-padding)}.van-cascader__title{font-weight:var(--van-font-weight-bold);font-size:var(--van-cascader-title-font-size);line-height:var(--van-cascader-title-line-height)}.van-cascader__close-icon{color:var(--van-cascader-close-icon-color);font-size:var(--van-cascader-close-icon-size)}.van-cascader__tabs .van-tab{flex:none;padding:0 10px}.van-cascader__tabs.van-tabs--line .van-tabs__wrap{height:var(--van-cascader-tabs-height)}.van-cascader__tabs .van-tabs__nav--complete{padding-right:6px;padding-left:6px}.van-cascader__tab{color:var(--van-cascader-tab-color);font-weight:var(--van-font-weight-bold)}.van-cascader__tab--unselected{color:var(--van-cascader-unselected-tab-color);font-weight:400}.van-cascader__option{display:flex;align-items:center;justify-content:space-between;padding:10px var(--van-padding-md);font-size:var(--van-font-size-md);line-height:var(--van-line-height-md);cursor:pointer}.van-cascader__option:active{background-color:var(--van-active-color)}.van-cascader__option--selected{color:var(--van-cascader-active-color);font-weight:var(--van-font-weight-bold)}.van-cascader__option--disabled{color:var(--van-cascader-option-disabled-color);cursor:not-allowed}.van-cascader__option--disabled:active{background-color:rgba(0,0,0,0)}.van-cascader__selected-icon{font-size:var(--van-cascader-selected-icon-size)}.van-cascader__options{box-sizing:border-box;height:var(--van-cascader-options-height);padding-top:6px;overflow-y:auto;-webkit-overflow-scrolling:touch}",""]);const s=o},735:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-cell-group-background-color:var(--van-background-color-light);--van-cell-group-title-color:var(--van-text-color-2);--van-cell-group-title-padding:var(--van-padding-md) var(--van-padding-md) var(--van-padding-xs);--van-cell-group-title-font-size:var(--van-font-size-md);--van-cell-group-title-line-height:16px;--van-cell-group-inset-padding:0 var(--van-padding-md);--van-cell-group-inset-border-radius:var(--van-border-radius-lg);--van-cell-group-inset-title-padding:var(--van-padding-md) var(--van-padding-md) var(--van-padding-xs) var(--van-padding-xl)}.van-cell-group{background:var(--van-cell-group-background-color)}.van-cell-group--inset{margin:var(--van-cell-group-inset-padding);border-radius:var(--van-cell-group-inset-border-radius);overflow:hidden}.van-cell-group__title{padding:var(--van-cell-group-title-padding);color:var(--van-cell-group-title-color);font-size:var(--van-cell-group-title-font-size);line-height:var(--van-cell-group-title-line-height)}.van-cell-group__title--inset{padding:var(--van-cell-group-inset-title-padding)}",""]);const s=o},2123:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,':root{--van-cell-font-size:var(--van-font-size-md);--van-cell-line-height:24px;--van-cell-vertical-padding:10px;--van-cell-horizontal-padding:var(--van-padding-md);--van-cell-text-color:var(--van-text-color);--van-cell-background-color:var(--van-background-color-light);--van-cell-border-color:var(--van-border-color);--van-cell-active-color:var(--van-active-color);--van-cell-required-color:var(--van-danger-color);--van-cell-label-color:var(--van-text-color-2);--van-cell-label-font-size:var(--van-font-size-sm);--van-cell-label-line-height:var(--van-line-height-sm);--van-cell-label-margin-top:var(--van-padding-base);--van-cell-value-color:var(--van-text-color-2);--van-cell-icon-size:16px;--van-cell-right-icon-color:var(--van-gray-6);--van-cell-large-vertical-padding:var(--van-padding-sm);--van-cell-large-title-font-size:var(--van-font-size-lg);--van-cell-large-label-font-size:var(--van-font-size-md)}.van-cell{position:relative;display:flex;box-sizing:border-box;width:100%;padding:var(--van-cell-vertical-padding) var(--van-cell-horizontal-padding);overflow:hidden;color:var(--van-cell-text-color);font-size:var(--van-cell-font-size);line-height:var(--van-cell-line-height);background:var(--van-cell-background-color)}.van-cell::after{position:absolute;box-sizing:border-box;content:" ";pointer-events:none;right:var(--van-padding-md);bottom:0;left:var(--van-padding-md);border-bottom:1px solid var(--van-cell-border-color);transform:scaleY(0.5)}.van-cell--borderless::after,.van-cell:last-child::after{display:none}.van-cell__label{margin-top:var(--van-cell-label-margin-top);color:var(--van-cell-label-color);font-size:var(--van-cell-label-font-size);line-height:var(--van-cell-label-line-height)}.van-cell__title,.van-cell__value{flex:1}.van-cell__value{position:relative;overflow:hidden;color:var(--van-cell-value-color);text-align:right;vertical-align:middle;word-wrap:break-word}.van-cell__value--alone{color:var(--van-text-color);text-align:left}.van-cell__left-icon,.van-cell__right-icon{height:var(--van-cell-line-height);font-size:var(--van-cell-icon-size);line-height:var(--van-cell-line-height)}.van-cell__left-icon{margin-right:var(--van-padding-base)}.van-cell__right-icon{margin-left:var(--van-padding-base);color:var(--van-cell-right-icon-color)}.van-cell--clickable{cursor:pointer}.van-cell--clickable:active{background-color:var(--van-cell-active-color)}.van-cell--required{overflow:visible}.van-cell--required::before{position:absolute;left:var(--van-padding-xs);color:var(--van-cell-required-color);font-size:var(--van-cell-font-size);content:"*"}.van-cell--center{align-items:center}.van-cell--large{padding-top:var(--van-cell-large-vertical-padding);padding-bottom:var(--van-cell-large-vertical-padding)}.van-cell--large .van-cell__title{font-size:var(--van-cell-large-title-font-size)}.van-cell--large .van-cell__label{font-size:var(--van-cell-large-label-font-size)}',""]);const s=o},5263:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-checkbox-size:20px;--van-checkbox-border-color:var(--van-gray-5);--van-checkbox-transition-duration:var(--van-animation-duration-fast);--van-checkbox-label-margin:var(--van-padding-xs);--van-checkbox-label-color:var(--van-text-color);--van-checkbox-checked-icon-color:var(--van-primary-color);--van-checkbox-disabled-icon-color:var(--van-gray-5);--van-checkbox-disabled-label-color:var(--van-text-color-3);--van-checkbox-disabled-background-color:var(--van-border-color)}.van-checkbox{display:flex;align-items:center;overflow:hidden;cursor:pointer;-webkit-user-select:none;user-select:none}.van-checkbox--disabled{cursor:not-allowed}.van-checkbox--label-disabled{cursor:default}.van-checkbox--horizontal{margin-right:var(--van-padding-sm)}.van-checkbox__icon{flex:none;height:1em;font-size:var(--van-checkbox-size);line-height:1em;cursor:pointer}.van-checkbox__icon .van-icon{display:block;box-sizing:border-box;width:1.25em;height:1.25em;color:rgba(0,0,0,0);font-size:.8em;line-height:1.25;text-align:center;border:1px solid var(--van-checkbox-border-color);transition-duration:var(--van-checkbox-transition-duration);transition-property:color,border-color,background-color}.van-checkbox__icon--round .van-icon{border-radius:100%}.van-checkbox__icon--checked .van-icon{color:var(--van-white);background-color:var(--van-checkbox-checked-icon-color);border-color:var(--van-checkbox-checked-icon-color)}.van-checkbox__icon--disabled{cursor:not-allowed}.van-checkbox__icon--disabled .van-icon{background-color:var(--van-checkbox-disabled-background-color);border-color:var(--van-checkbox-disabled-icon-color)}.van-checkbox__icon--disabled.van-checkbox__icon--checked .van-icon{color:var(--van-checkbox-disabled-icon-color)}.van-checkbox__label{margin-left:var(--van-checkbox-label-margin);color:var(--van-checkbox-label-color);line-height:var(--van-checkbox-size)}.van-checkbox__label--left{margin:0 var(--van-checkbox-label-margin) 0 0}.van-checkbox__label--disabled{color:var(--van-checkbox-disabled-label-color)}",""]);const s=o},2386:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,".van-col{display:block;box-sizing:border-box;min-height:1px}.van-col--1{flex:0 0 4.16666667%;max-width:4.16666667%}.van-col--offset-1{margin-left:4.16666667%}.van-col--2{flex:0 0 8.33333333%;max-width:8.33333333%}.van-col--offset-2{margin-left:8.33333333%}.van-col--3{flex:0 0 12.5%;max-width:12.5%}.van-col--offset-3{margin-left:12.5%}.van-col--4{flex:0 0 16.66666667%;max-width:16.66666667%}.van-col--offset-4{margin-left:16.66666667%}.van-col--5{flex:0 0 20.83333333%;max-width:20.83333333%}.van-col--offset-5{margin-left:20.83333333%}.van-col--6{flex:0 0 25%;max-width:25%}.van-col--offset-6{margin-left:25%}.van-col--7{flex:0 0 29.16666667%;max-width:29.16666667%}.van-col--offset-7{margin-left:29.16666667%}.van-col--8{flex:0 0 33.33333333%;max-width:33.33333333%}.van-col--offset-8{margin-left:33.33333333%}.van-col--9{flex:0 0 37.5%;max-width:37.5%}.van-col--offset-9{margin-left:37.5%}.van-col--10{flex:0 0 41.66666667%;max-width:41.66666667%}.van-col--offset-10{margin-left:41.66666667%}.van-col--11{flex:0 0 45.83333333%;max-width:45.83333333%}.van-col--offset-11{margin-left:45.83333333%}.van-col--12{flex:0 0 50%;max-width:50%}.van-col--offset-12{margin-left:50%}.van-col--13{flex:0 0 54.16666667%;max-width:54.16666667%}.van-col--offset-13{margin-left:54.16666667%}.van-col--14{flex:0 0 58.33333333%;max-width:58.33333333%}.van-col--offset-14{margin-left:58.33333333%}.van-col--15{flex:0 0 62.5%;max-width:62.5%}.van-col--offset-15{margin-left:62.5%}.van-col--16{flex:0 0 66.66666667%;max-width:66.66666667%}.van-col--offset-16{margin-left:66.66666667%}.van-col--17{flex:0 0 70.83333333%;max-width:70.83333333%}.van-col--offset-17{margin-left:70.83333333%}.van-col--18{flex:0 0 75%;max-width:75%}.van-col--offset-18{margin-left:75%}.van-col--19{flex:0 0 79.16666667%;max-width:79.16666667%}.van-col--offset-19{margin-left:79.16666667%}.van-col--20{flex:0 0 83.33333333%;max-width:83.33333333%}.van-col--offset-20{margin-left:83.33333333%}.van-col--21{flex:0 0 87.5%;max-width:87.5%}.van-col--offset-21{margin-left:87.5%}.van-col--22{flex:0 0 91.66666667%;max-width:91.66666667%}.van-col--offset-22{margin-left:91.66666667%}.van-col--23{flex:0 0 95.83333333%;max-width:95.83333333%}.van-col--offset-23{margin-left:95.83333333%}.van-col--24{flex:0 0 100%;max-width:100%}.van-col--offset-24{margin-left:100%}",""]);const s=o},534:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-dialog-width:320px;--van-dialog-small-screen-width:90%;--van-dialog-font-size:var(--van-font-size-lg);--van-dialog-transition:var(--van-animation-duration-base);--van-dialog-border-radius:16px;--van-dialog-background-color:var(--van-background-color-light);--van-dialog-header-font-weight:var(--van-font-weight-bold);--van-dialog-header-line-height:24px;--van-dialog-header-padding-top:26px;--van-dialog-header-isolated-padding:var(--van-padding-lg) 0;--van-dialog-message-padding:var(--van-padding-lg);--van-dialog-message-font-size:var(--van-font-size-md);--van-dialog-message-line-height:var(--van-line-height-md);--van-dialog-message-max-height:60vh;--van-dialog-has-title-message-text-color:var(--van-gray-7);--van-dialog-has-title-message-padding-top:var(--van-padding-xs);--van-dialog-button-height:48px;--van-dialog-round-button-height:36px;--van-dialog-confirm-button-text-color:var(--van-danger-color)}.van-dialog{top:45%;left:50%;width:var(--van-dialog-width);overflow:hidden;font-size:var(--van-dialog-font-size);background:var(--van-dialog-background-color);border-radius:var(--van-dialog-border-radius);-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:var(--van-dialog-transition);transition-property:transform,opacity}@media(max-width: 321px){.van-dialog{width:var(--van-dialog-small-screen-width)}}.van-dialog__header{padding-top:var(--van-dialog-header-padding-top);font-weight:var(--van-dialog-header-font-weight);line-height:var(--van-dialog-header-line-height);text-align:center}.van-dialog__header--isolated{padding:var(--van-dialog-header-isolated-padding)}.van-dialog__content--isolated{display:flex;align-items:center;min-height:104px}.van-dialog__message{flex:1;max-height:var(--van-dialog-message-max-height);padding:26px var(--van-dialog-message-padding);overflow-y:auto;font-size:var(--van-dialog-message-font-size);line-height:var(--van-dialog-message-line-height);white-space:pre-wrap;text-align:center;word-wrap:break-word;-webkit-overflow-scrolling:touch}.van-dialog__message--has-title{padding-top:var(--van-dialog-has-title-message-padding-top);color:var(--van-dialog-has-title-message-text-color)}.van-dialog__message--left{text-align:left}.van-dialog__message--right{text-align:right}.van-dialog__footer{display:flex;overflow:hidden;-webkit-user-select:none;user-select:none}.van-dialog__cancel,.van-dialog__confirm{flex:1;height:var(--van-dialog-button-height);margin:0;border:0}.van-dialog__confirm,.van-dialog__confirm:active{color:var(--van-dialog-confirm-button-text-color)}.van-dialog--round-button .van-dialog__footer{position:relative;height:auto;padding:var(--van-padding-xs) var(--van-padding-lg) var(--van-padding-md)}.van-dialog--round-button .van-dialog__message{padding-bottom:var(--van-padding-md);color:var(--van-text-color)}.van-dialog--round-button .van-dialog__cancel,.van-dialog--round-button .van-dialog__confirm{height:var(--van-dialog-round-button-height)}.van-dialog--round-button .van-dialog__confirm{color:var(--van-white)}.van-dialog-bounce-enter-from{transform:translate3d(-50%, -50%, 0) scale(0.7);opacity:0}.van-dialog-bounce-leave-active{transform:translate3d(-50%, -50%, 0) scale(0.9);opacity:0}",""]);const s=o},7904:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,':root{--van-field-label-width:6.2em;--van-field-label-color:var(--van-gray-7);--van-field-label-margin-right:var(--van-padding-sm);--van-field-input-text-color:var(--van-text-color);--van-field-input-error-text-color:var(--van-danger-color);--van-field-input-disabled-text-color:var(--van-text-color-3);--van-field-placeholder-text-color:var(--van-text-color-3);--van-field-icon-size:16px;--van-field-clear-icon-size:16px;--van-field-clear-icon-color:var(--van-gray-5);--van-field-right-icon-color:var(--van-gray-6);--van-field-error-message-color:var(--van-danger-color);--van-field-error-message-font-size:12px;--van-field-text-area-min-height:60px;--van-field-word-limit-color:var(--van-gray-7);--van-field-word-limit-font-size:var(--van-font-size-sm);--van-field-word-limit-line-height:16px;--van-field-disabled-text-color:var(--van-text-color-3);--van-field-required-mark-color:var(--van-red)}.van-field__label{flex:none;box-sizing:border-box;width:var(--van-field-label-width);margin-right:var(--van-field-label-margin-right);color:var(--van-field-label-color);text-align:left;word-wrap:break-word}.van-field__label--center{text-align:center}.van-field__label--right{text-align:right}.van-field__label--required::before{margin-right:2px;color:var(--van-field-required-mark-color);content:"*"}.van-field--disabled .van-field__label{color:var(--van-field-disabled-text-color)}.van-field__value{overflow:visible}.van-field__body{display:flex;align-items:center}.van-field__control{display:block;box-sizing:border-box;width:100%;min-width:0;margin:0;padding:0;color:var(--van-field-input-text-color);line-height:inherit;text-align:left;background-color:rgba(0,0,0,0);border:0;resize:none;-webkit-user-select:auto;user-select:auto}.van-field__control::-webkit-input-placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control::placeholder{color:var(--van-field-placeholder-text-color)}.van-field__control:disabled{color:var(--van-field-input-disabled-text-color);cursor:not-allowed;opacity:1;-webkit-text-fill-color:var(--van-field-input-disabled-text-color)}.van-field__control:read-only{cursor:default}.van-field__control--center{justify-content:center;text-align:center}.van-field__control--right{justify-content:flex-end;text-align:right}.van-field__control--custom{display:flex;align-items:center;min-height:var(--van-cell-line-height)}.van-field__control--error::-webkit-input-placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--error,.van-field__control--error::placeholder{color:var(--van-field-input-error-text-color);-webkit-text-fill-color:currentColor}.van-field__control--min-height{min-height:var(--van-field-text-area-min-height)}.van-field__control[type=date],.van-field__control[type=datetime-local],.van-field__control[type=time]{min-height:var(--van-cell-line-height)}.van-field__control[type=search]{-webkit-appearance:none}.van-field__button,.van-field__clear,.van-field__icon,.van-field__right-icon{flex-shrink:0}.van-field__clear,.van-field__right-icon{margin-right:calc(var(--van-padding-xs)*-1);padding:0 var(--van-padding-xs);line-height:inherit}.van-field__clear{color:var(--van-field-clear-icon-color);font-size:var(--van-field-clear-icon-size);cursor:pointer}.van-field__left-icon .van-icon,.van-field__right-icon .van-icon{display:block;font-size:var(--van-field-icon-size);line-height:inherit}.van-field__left-icon{margin-right:var(--van-padding-base)}.van-field__right-icon{color:var(--van-field-right-icon-color)}.van-field__button{padding-left:var(--van-padding-xs)}.van-field__error-message{color:var(--van-field-error-message-color);font-size:var(--van-field-error-message-font-size);text-align:left}.van-field__error-message--center{text-align:center}.van-field__error-message--right{text-align:right}.van-field__word-limit{margin-top:var(--van-padding-base);color:var(--van-field-word-limit-color);font-size:var(--van-field-word-limit-font-size);line-height:var(--van-field-word-limit-line-height);text-align:right}',""]);const s=o},2748:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r),s=a(1667),l=a.n(s),c=new URL(a(3797),a.b),d=o()(i()),u=l()(c);d.push([e.id,'.van-icon{position:relative;display:inline-block;font:normal normal normal 14px/1 vant-icon;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased}.van-icon:before{display:inline-block}.van-icon-exchange:before{content:""}.van-icon-eye:before{content:""}.van-icon-enlarge:before{content:""}.van-icon-expand-o:before{content:""}.van-icon-eye-o:before{content:""}.van-icon-expand:before{content:""}.van-icon-filter-o:before{content:""}.van-icon-fire:before{content:""}.van-icon-fail:before{content:""}.van-icon-failure:before{content:""}.van-icon-fire-o:before{content:""}.van-icon-flag-o:before{content:""}.van-icon-font:before{content:""}.van-icon-font-o:before{content:""}.van-icon-gem-o:before{content:""}.van-icon-flower-o:before{content:""}.van-icon-gem:before{content:""}.van-icon-gift-card:before{content:""}.van-icon-friends:before{content:""}.van-icon-friends-o:before{content:""}.van-icon-gold-coin:before{content:""}.van-icon-gold-coin-o:before{content:""}.van-icon-good-job-o:before{content:""}.van-icon-gift:before{content:""}.van-icon-gift-o:before{content:""}.van-icon-gift-card-o:before{content:""}.van-icon-good-job:before{content:""}.van-icon-home-o:before{content:""}.van-icon-goods-collect:before{content:""}.van-icon-graphic:before{content:""}.van-icon-goods-collect-o:before{content:""}.van-icon-hot-o:before{content:""}.van-icon-info:before{content:""}.van-icon-hotel-o:before{content:""}.van-icon-info-o:before{content:""}.van-icon-hot-sale-o:before{content:""}.van-icon-hot:before{content:""}.van-icon-like:before{content:""}.van-icon-idcard:before{content:""}.van-icon-invitation:before{content:""}.van-icon-like-o:before{content:""}.van-icon-hot-sale:before{content:""}.van-icon-location-o:before{content:""}.van-icon-location:before{content:""}.van-icon-label:before{content:""}.van-icon-lock:before{content:""}.van-icon-label-o:before{content:""}.van-icon-map-marked:before{content:""}.van-icon-logistics:before{content:""}.van-icon-manager:before{content:""}.van-icon-more:before{content:""}.van-icon-live:before{content:""}.van-icon-manager-o:before{content:""}.van-icon-medal:before{content:""}.van-icon-more-o:before{content:""}.van-icon-music-o:before{content:""}.van-icon-music:before{content:""}.van-icon-new-arrival-o:before{content:""}.van-icon-medal-o:before{content:""}.van-icon-new-o:before{content:""}.van-icon-free-postage:before{content:""}.van-icon-newspaper-o:before{content:""}.van-icon-new-arrival:before{content:""}.van-icon-minus:before{content:""}.van-icon-orders-o:before{content:""}.van-icon-new:before{content:""}.van-icon-paid:before{content:""}.van-icon-notes-o:before{content:""}.van-icon-other-pay:before{content:""}.van-icon-pause-circle:before{content:""}.van-icon-pause:before{content:""}.van-icon-pause-circle-o:before{content:""}.van-icon-peer-pay:before{content:""}.van-icon-pending-payment:before{content:""}.van-icon-passed:before{content:""}.van-icon-plus:before{content:""}.van-icon-phone-circle-o:before{content:""}.van-icon-phone-o:before{content:""}.van-icon-printer:before{content:""}.van-icon-photo-fail:before{content:""}.van-icon-phone:before{content:""}.van-icon-photo-o:before{content:""}.van-icon-play-circle:before{content:""}.van-icon-play:before{content:""}.van-icon-phone-circle:before{content:""}.van-icon-point-gift-o:before{content:""}.van-icon-point-gift:before{content:""}.van-icon-play-circle-o:before{content:""}.van-icon-shrink:before{content:""}.van-icon-photo:before{content:""}.van-icon-qr:before{content:""}.van-icon-qr-invalid:before{content:""}.van-icon-question-o:before{content:""}.van-icon-revoke:before{content:""}.van-icon-replay:before{content:""}.van-icon-service:before{content:""}.van-icon-question:before{content:""}.van-icon-search:before{content:""}.van-icon-refund-o:before{content:""}.van-icon-service-o:before{content:""}.van-icon-scan:before{content:""}.van-icon-share:before{content:""}.van-icon-send-gift-o:before{content:""}.van-icon-share-o:before{content:""}.van-icon-setting:before{content:""}.van-icon-points:before{content:""}.van-icon-photograph:before{content:""}.van-icon-shop:before{content:""}.van-icon-shop-o:before{content:""}.van-icon-shop-collect-o:before{content:""}.van-icon-shop-collect:before{content:""}.van-icon-smile:before{content:""}.van-icon-shopping-cart-o:before{content:""}.van-icon-sign:before{content:""}.van-icon-sort:before{content:""}.van-icon-star-o:before{content:""}.van-icon-smile-comment-o:before{content:""}.van-icon-stop:before{content:""}.van-icon-stop-circle-o:before{content:""}.van-icon-smile-o:before{content:""}.van-icon-star:before{content:""}.van-icon-success:before{content:""}.van-icon-stop-circle:before{content:""}.van-icon-records:before{content:""}.van-icon-shopping-cart:before{content:""}.van-icon-tosend:before{content:""}.van-icon-todo-list:before{content:""}.van-icon-thumb-circle-o:before{content:""}.van-icon-thumb-circle:before{content:""}.van-icon-umbrella-circle:before{content:""}.van-icon-underway:before{content:""}.van-icon-upgrade:before{content:""}.van-icon-todo-list-o:before{content:""}.van-icon-tv-o:before{content:""}.van-icon-underway-o:before{content:""}.van-icon-user-o:before{content:""}.van-icon-vip-card-o:before{content:""}.van-icon-vip-card:before{content:""}.van-icon-send-gift:before{content:""}.van-icon-wap-home:before{content:""}.van-icon-wap-nav:before{content:""}.van-icon-volume-o:before{content:""}.van-icon-video:before{content:""}.van-icon-wap-home-o:before{content:""}.van-icon-volume:before{content:""}.van-icon-warning:before{content:""}.van-icon-weapp-nav:before{content:""}.van-icon-wechat-pay:before{content:""}.van-icon-warning-o:before{content:""}.van-icon-wechat:before{content:""}.van-icon-setting-o:before{content:""}.van-icon-youzan-shield:before{content:""}.van-icon-warn-o:before{content:""}.van-icon-smile-comment:before{content:""}.van-icon-user-circle-o:before{content:""}.van-icon-video-o:before{content:""}.van-icon-add-square:before{content:""}.van-icon-add:before{content:""}.van-icon-arrow-down:before{content:""}.van-icon-arrow-up:before{content:""}.van-icon-arrow:before{content:""}.van-icon-after-sale:before{content:""}.van-icon-add-o:before{content:""}.van-icon-alipay:before{content:""}.van-icon-ascending:before{content:""}.van-icon-apps-o:before{content:""}.van-icon-aim:before{content:""}.van-icon-award:before{content:""}.van-icon-arrow-left:before{content:""}.van-icon-award-o:before{content:""}.van-icon-audio:before{content:""}.van-icon-bag-o:before{content:""}.van-icon-balance-list:before{content:""}.van-icon-back-top:before{content:""}.van-icon-bag:before{content:""}.van-icon-balance-pay:before{content:""}.van-icon-balance-o:before{content:""}.van-icon-bar-chart-o:before{content:""}.van-icon-bars:before{content:""}.van-icon-balance-list-o:before{content:""}.van-icon-birthday-cake-o:before{content:""}.van-icon-bookmark:before{content:""}.van-icon-bill:before{content:""}.van-icon-bell:before{content:""}.van-icon-browsing-history-o:before{content:""}.van-icon-browsing-history:before{content:""}.van-icon-bookmark-o:before{content:""}.van-icon-bulb-o:before{content:""}.van-icon-bullhorn-o:before{content:""}.van-icon-bill-o:before{content:""}.van-icon-calendar-o:before{content:""}.van-icon-brush-o:before{content:""}.van-icon-card:before{content:""}.van-icon-cart-o:before{content:""}.van-icon-cart-circle:before{content:""}.van-icon-cart-circle-o:before{content:""}.van-icon-cart:before{content:""}.van-icon-cash-on-deliver:before{content:""}.van-icon-cash-back-record:before{content:""}.van-icon-cashier-o:before{content:""}.van-icon-chart-trending-o:before{content:""}.van-icon-certificate:before{content:""}.van-icon-chat:before{content:""}.van-icon-clear:before{content:""}.van-icon-chat-o:before{content:""}.van-icon-checked:before{content:""}.van-icon-clock:before{content:""}.van-icon-clock-o:before{content:""}.van-icon-close:before{content:""}.van-icon-closed-eye:before{content:""}.van-icon-circle:before{content:""}.van-icon-cluster-o:before{content:""}.van-icon-column:before{content:""}.van-icon-comment-circle-o:before{content:""}.van-icon-cluster:before{content:""}.van-icon-comment:before{content:""}.van-icon-comment-o:before{content:""}.van-icon-comment-circle:before{content:""}.van-icon-completed:before{content:""}.van-icon-credit-pay:before{content:""}.van-icon-coupon:before{content:""}.van-icon-debit-pay:before{content:""}.van-icon-coupon-o:before{content:""}.van-icon-contact:before{content:""}.van-icon-descending:before{content:""}.van-icon-desktop-o:before{content:""}.van-icon-diamond-o:before{content:""}.van-icon-description:before{content:""}.van-icon-delete:before{content:""}.van-icon-diamond:before{content:""}.van-icon-delete-o:before{content:""}.van-icon-cross:before{content:""}.van-icon-edit:before{content:""}.van-icon-ellipsis:before{content:""}.van-icon-down:before{content:""}.van-icon-discount:before{content:""}.van-icon-ecard-pay:before{content:""}.van-icon-envelop-o:before{content:""}.van-icon-shield-o:before{content:""}.van-icon-guide-o:before{content:""}@font-face{font-weight:400;font-family:vant-icon;font-style:normal;font-display:auto;src:url('+u+') format("woff2"),url("//at.alicdn.com/t/font_2553510_61agzg96wm8.woff?t=1631948257467") format("woff"),url("//at.alicdn.com/t/font_2553510_61agzg96wm8.ttf?t=1631948257467") format("truetype")}.van-icon__image{width:1em;height:1em;object-fit:contain}',""]);const h=d},8909:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-image-preview-index-text-color:var(--van-white);--van-image-preview-index-font-size:var(--van-font-size-md);--van-image-preview-index-line-height:var(--van-line-height-md);--van-image-preview-index-text-shadow:0 1px 1px var(--van-gray-8);--van-image-preview-overlay-background-color:rgba(0, 0, 0, 0.9);--van-image-preview-close-icon-size:22px;--van-image-preview-close-icon-color:var(--van-gray-5);--van-image-preview-close-icon-margin:var(--van-padding-md);--van-image-preview-close-icon-z-index:1}.van-image-preview{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0);transform:none}.van-image-preview__swipe{height:100%}.van-image-preview__swipe-item{display:flex;align-items:center;justify-content:center;overflow:hidden}.van-image-preview__cover{position:absolute;top:0;left:0}.van-image-preview__image{width:100%;transition-property:transform}.van-image-preview__image--vertical{width:auto;height:100%}.van-image-preview__image img{-webkit-user-drag:none}.van-image-preview__image .van-image__error{top:30%;height:40%}.van-image-preview__image .van-image__error-icon{font-size:36px}.van-image-preview__image .van-image__loading{background-color:rgba(0,0,0,0)}.van-image-preview__index{position:absolute;top:var(--van-padding-md);left:50%;color:var(--van-image-preview-index-text-color);font-size:var(--van-image-preview-index-font-size);line-height:var(--van-image-preview-index-line-height);text-shadow:var(--van-image-preview-index-text-shadow);transform:translate(-50%, 0)}.van-image-preview__overlay{background:var(--van-image-preview-overlay-background-color)}.van-image-preview__close-icon{position:absolute;z-index:var(--van-image-preview-close-icon-z-index);color:var(--van-image-preview-close-icon-color);font-size:var(--van-image-preview-close-icon-size);cursor:pointer}.van-image-preview__close-icon--top-left{top:var(--van-image-preview-close-icon-margin);left:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--top-right{top:var(--van-image-preview-close-icon-margin);right:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--bottom-left{bottom:var(--van-image-preview-close-icon-margin);left:var(--van-image-preview-close-icon-margin)}.van-image-preview__close-icon--bottom-right{right:var(--van-image-preview-close-icon-margin);bottom:var(--van-image-preview-close-icon-margin)}",""]);const s=o},8419:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-image-placeholder-text-color:var(--van-text-color-2);--van-image-placeholder-font-size:var(--van-font-size-md);--van-image-placeholder-background-color:var(--van-background-color);--van-image-loading-icon-size:32px;--van-image-loading-icon-color:var(--van-gray-4);--van-image-error-icon-size:32px;--van-image-error-icon-color:var(--van-gray-4)}.van-image{position:relative;display:inline-block}.van-image--round{overflow:hidden;border-radius:var(--van-border-radius-max)}.van-image--round .van-image__img{border-radius:inherit}.van-image__error,.van-image__img,.van-image__loading{display:block;width:100%;height:100%}.van-image__error,.van-image__loading{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--van-image-placeholder-text-color);font-size:var(--van-image-placeholder-font-size);background:var(--van-image-placeholder-background-color)}.van-image__loading-icon{color:var(--van-image-loading-icon-color);font-size:var(--van-image-loading-icon-size)}.van-image__error-icon{color:var(--van-image-error-icon-color);font-size:var(--van-image-error-icon-size)}",""]);const s=o},2475:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,':root{--van-loading-text-color:var(--van-text-color-2);--van-loading-text-font-size:var(--van-font-size-md);--van-loading-spinner-color:var(--van-gray-5);--van-loading-spinner-size:30px;--van-loading-spinner-animation-duration:0.8s}.van-loading{position:relative;color:var(--van-loading-spinner-color);font-size:0;vertical-align:middle}.van-loading__spinner{position:relative;display:inline-block;width:var(--van-loading-spinner-size);max-width:100%;height:var(--van-loading-spinner-size);max-height:100%;vertical-align:middle;animation:van-rotate var(--van-loading-spinner-animation-duration) linear infinite}.van-loading__spinner--spinner{animation-timing-function:steps(12)}.van-loading__spinner--circular{animation-duration:2s}.van-loading__line{position:absolute;top:0;left:0;width:100%;height:100%}.van-loading__line::before{display:block;width:2px;height:25%;margin:0 auto;background-color:currentColor;border-radius:40%;content:" "}.van-loading__circular{display:block;width:100%;height:100%}.van-loading__circular circle{animation:van-circular 1.5s ease-in-out infinite;stroke:currentColor;stroke-width:3;stroke-linecap:round}.van-loading__text{display:inline-block;margin-left:var(--van-padding-xs);color:var(--van-loading-text-color);font-size:var(--van-loading-text-font-size);vertical-align:middle}.van-loading--vertical{display:flex;flex-direction:column;align-items:center}.van-loading--vertical .van-loading__text{margin:var(--van-padding-xs) 0 0}@keyframes van-circular{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40}100%{stroke-dasharray:90,150;stroke-dashoffset:-120}}.van-loading__line--1{transform:rotate(30deg);opacity:1}.van-loading__line--2{transform:rotate(60deg);opacity:.9375}.van-loading__line--3{transform:rotate(90deg);opacity:.875}.van-loading__line--4{transform:rotate(120deg);opacity:.8125}.van-loading__line--5{transform:rotate(150deg);opacity:.75}.van-loading__line--6{transform:rotate(180deg);opacity:.6875}.van-loading__line--7{transform:rotate(210deg);opacity:.625}.van-loading__line--8{transform:rotate(240deg);opacity:.5625}.van-loading__line--9{transform:rotate(270deg);opacity:.5}.van-loading__line--10{transform:rotate(300deg);opacity:.4375}.van-loading__line--11{transform:rotate(330deg);opacity:.375}.van-loading__line--12{transform:rotate(360deg);opacity:.3125}',""]);const s=o},666:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-notify-text-color:var(--van-white);--van-notify-padding:var(--van-padding-xs) var(--van-padding-md);--van-notify-font-size:var(--van-font-size-md);--van-notify-line-height:var(--van-line-height-md);--van-notify-primary-background-color:var(--van-primary-color);--van-notify-success-background-color:var(--van-success-color);--van-notify-danger-background-color:var(--van-danger-color);--van-notify-warning-background-color:var(--van-warning-color)}.van-notify{display:flex;align-items:center;justify-content:center;box-sizing:border-box;padding:var(--van-notify-padding);color:var(--van-notify-text-color);font-size:var(--van-notify-font-size);line-height:var(--van-notify-line-height);white-space:pre-wrap;text-align:center;word-wrap:break-word}.van-notify--primary{background:var(--van-notify-primary-background-color)}.van-notify--success{background:var(--van-notify-success-background-color)}.van-notify--danger{background:var(--van-notify-danger-background-color)}.van-notify--warning{background:var(--van-notify-warning-background-color)}",""]);const s=o},1431:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-overlay-z-index:1;--van-overlay-background-color:rgba(0, 0, 0, 0.7)}.van-overlay{position:fixed;top:0;left:0;z-index:var(--van-overlay-z-index);width:100%;height:100%;background:var(--van-overlay-background-color)}",""]);const s=o},6266:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-pagination-height:40px;--van-pagination-font-size:var(--van-font-size-md);--van-pagination-item-width:36px;--van-pagination-item-default-color:var(--van-primary-color);--van-pagination-item-disabled-color:var(--van-gray-7);--van-pagination-item-disabled-background-color:var(--van-background-color);--van-pagination-background-color:var(--van-background-color-light);--van-pagination-desc-color:var(--van-gray-7);--van-pagination-disabled-opacity:var(--van-disabled-opacity)}.van-pagination{font-size:var(--van-pagination-font-size)}.van-pagination__items{display:flex}.van-pagination__item,.van-pagination__page-desc{display:flex;align-items:center;justify-content:center}.van-pagination__item{flex:1;box-sizing:border-box;min-width:var(--van-pagination-item-width);height:var(--van-pagination-height);color:var(--van-pagination-item-default-color);background:var(--van-pagination-background-color);cursor:pointer;-webkit-user-select:none;user-select:none}.van-pagination__item button{flex:1;height:100%;border:none;padding:0;background:0 0}.van-pagination__item button[disabled]{cursor:not-allowed}.van-pagination__item:active{color:var(--van-white);background-color:var(--van-pagination-item-default-color)}.van-pagination__item:not(:last-child)::after{border-right-width:0}.van-pagination__item--active{color:var(--van-white);background-color:var(--van-pagination-item-default-color)}.van-pagination__item--page{flex-grow:0}.van-pagination__item--next,.van-pagination__item--prev{padding:0 var(--van-padding-base);cursor:pointer}.van-pagination__item--border::after{border-width:var(--van-border-width-base)}.van-pagination__item--disabled{color:var(--van-pagination-item-disabled-color);background-color:var(--van-pagination-item-disabled-background-color);opacity:var(--van-pagination-disabled-opacity)}.van-pagination__page-desc{flex:1;height:var(--van-pagination-height);color:var(--van-pagination-desc-color)}",""]);const s=o},3195:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-popup-background-color:var(--van-background-color-light);--van-popup-transition:transform var(--van-animation-duration-base);--van-popup-round-border-radius:16px;--van-popup-close-icon-size:22px;--van-popup-close-icon-color:var(--van-gray-5);--van-popup-close-icon-margin:16px;--van-popup-close-icon-z-index:1}.van-overflow-hidden{overflow:hidden !important}.van-popup{position:fixed;max-height:100%;overflow-y:auto;background:var(--van-popup-background-color);transition:var(--van-popup-transition);-webkit-overflow-scrolling:touch}.van-popup--center{top:50%;left:50%;transform:translate3d(-50%, -50%, 0)}.van-popup--center.van-popup--round{border-radius:var(--van-popup-round-border-radius)}.van-popup--top{top:0;left:0;width:100%}.van-popup--top.van-popup--round{border-radius:0 0 var(--van-popup-round-border-radius) var(--van-popup-round-border-radius)}.van-popup--right{top:50%;right:0;transform:translate3d(0, -50%, 0)}.van-popup--right.van-popup--round{border-radius:var(--van-popup-round-border-radius) 0 0 var(--van-popup-round-border-radius)}.van-popup--bottom{bottom:0;left:0;width:100%}.van-popup--bottom.van-popup--round{border-radius:var(--van-popup-round-border-radius) var(--van-popup-round-border-radius) 0 0}.van-popup--left{top:50%;left:0;transform:translate3d(0, -50%, 0)}.van-popup--left.van-popup--round{border-radius:0 var(--van-popup-round-border-radius) var(--van-popup-round-border-radius) 0}.van-popup-slide-bottom-enter-active,.van-popup-slide-left-enter-active,.van-popup-slide-right-enter-active,.van-popup-slide-top-enter-active{transition-timing-function:var(--van-animation-timing-function-enter)}.van-popup-slide-bottom-leave-active,.van-popup-slide-left-leave-active,.van-popup-slide-right-leave-active,.van-popup-slide-top-leave-active{transition-timing-function:var(--van-animation-timing-function-leave)}.van-popup-slide-top-enter-from,.van-popup-slide-top-leave-active{transform:translate3d(0, -100%, 0)}.van-popup-slide-right-enter-from,.van-popup-slide-right-leave-active{transform:translate3d(100%, -50%, 0)}.van-popup-slide-bottom-enter-from,.van-popup-slide-bottom-leave-active{transform:translate3d(0, 100%, 0)}.van-popup-slide-left-enter-from,.van-popup-slide-left-leave-active{transform:translate3d(-100%, -50%, 0)}.van-popup__close-icon{position:absolute;z-index:var(--van-popup-close-icon-z-index);color:var(--van-popup-close-icon-color);font-size:var(--van-popup-close-icon-size);cursor:pointer}.van-popup__close-icon--top-left{top:var(--van-popup-close-icon-margin);left:var(--van-popup-close-icon-margin)}.van-popup__close-icon--top-right{top:var(--van-popup-close-icon-margin);right:var(--van-popup-close-icon-margin)}.van-popup__close-icon--bottom-left{bottom:var(--van-popup-close-icon-margin);left:var(--van-popup-close-icon-margin)}.van-popup__close-icon--bottom-right{right:var(--van-popup-close-icon-margin);bottom:var(--van-popup-close-icon-margin)}",""]);const s=o},5537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,".van-radio-group--horizontal{display:flex;flex-wrap:wrap}",""]);const s=o},3258:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-radio-size:20px;--van-radio-border-color:var(--van-gray-5);--van-radio-transition-duration:var(--van-animation-duration-fast);--van-radio-label-margin:var(--van-padding-xs);--van-radio-label-color:var(--van-text-color);--van-radio-checked-icon-color:var(--van-primary-color);--van-radio-disabled-icon-color:var(--van-gray-5);--van-radio-disabled-label-color:var(--van-text-color-3);--van-radio-disabled-background-color:var(--van-border-color)}.van-radio{display:flex;align-items:center;overflow:hidden;cursor:pointer;-webkit-user-select:none;user-select:none}.van-radio--disabled{cursor:not-allowed}.van-radio--label-disabled{cursor:default}.van-radio--horizontal{margin-right:var(--van-padding-sm)}.van-radio__icon{flex:none;height:1em;font-size:var(--van-radio-size);line-height:1em;cursor:pointer}.van-radio__icon .van-icon{display:block;box-sizing:border-box;width:1.25em;height:1.25em;color:rgba(0,0,0,0);font-size:.8em;line-height:1.25;text-align:center;border:1px solid var(--van-radio-border-color);transition-duration:var(--van-radio-transition-duration);transition-property:color,border-color,background-color}.van-radio__icon--round .van-icon{border-radius:100%}.van-radio__icon--checked .van-icon{color:var(--van-white);background-color:var(--van-radio-checked-icon-color);border-color:var(--van-radio-checked-icon-color)}.van-radio__icon--disabled{cursor:not-allowed}.van-radio__icon--disabled .van-icon{background-color:var(--van-radio-disabled-background-color);border-color:var(--van-radio-disabled-icon-color)}.van-radio__icon--disabled.van-radio__icon--checked .van-icon{color:var(--van-radio-disabled-icon-color)}.van-radio__label{margin-left:var(--van-radio-label-margin);color:var(--van-radio-label-color);line-height:var(--van-radio-size)}.van-radio__label--left{margin:0 var(--van-radio-label-margin) 0 0}.van-radio__label--disabled{color:var(--van-radio-disabled-label-color)}",""]);const s=o},4080:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,".van-row{display:flex;flex-wrap:wrap}.van-row--nowrap{flex-wrap:nowrap}.van-row--justify-center{justify-content:center}.van-row--justify-end{justify-content:flex-end}.van-row--justify-space-between{justify-content:space-between}.van-row--justify-space-around{justify-content:space-around}.van-row--align-center{align-items:center}.van-row--align-bottom{align-items:flex-end}",""]);const s=o},8232:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-search-padding:10px var(--van-padding-sm);--van-search-background-color:var(--van-background-color-light);--van-search-content-background-color:var(--van-gray-1);--van-search-input-height:34px;--van-search-label-padding:0 5px;--van-search-label-color:var(--van-text-color);--van-search-label-font-size:var(--van-font-size-md);--van-search-left-icon-color:var(--van-gray-6);--van-search-action-padding:0 var(--van-padding-xs);--van-search-action-text-color:var(--van-text-color);--van-search-action-font-size:var(--van-font-size-md)}.van-search{display:flex;align-items:center;box-sizing:border-box;padding:var(--van-search-padding);background:var(--van-search-background-color)}.van-search__content{display:flex;flex:1;padding-left:var(--van-padding-sm);background:var(--van-search-content-background-color);border-radius:var(--van-border-radius-sm)}.van-search__content--round{border-radius:var(--van-border-radius-max)}.van-search__label{padding:var(--van-search-label-padding);color:var(--van-search-label-color);font-size:var(--van-search-label-font-size);line-height:var(--van-search-input-height)}.van-search__field{flex:1;padding:5px var(--van-padding-xs) 5px 0;background-color:rgba(0,0,0,0)}.van-search__field .van-field__left-icon{color:var(--van-search-left-icon-color)}.van-search--show-action{padding-right:0}.van-search input::-webkit-search-cancel-button,.van-search input::-webkit-search-decoration,.van-search input::-webkit-search-results-button,.van-search input::-webkit-search-results-decoration{display:none}.van-search__action{padding:var(--van-search-action-padding);color:var(--van-search-action-text-color);font-size:var(--van-search-action-font-size);line-height:var(--van-search-input-height);cursor:pointer;-webkit-user-select:none;user-select:none}.van-search__action:active{background-color:var(--van-active-color)}",""]);const s=o},6030:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,':root{--van-slider-active-background-color:var(--van-primary-color);--van-slider-inactive-background-color:var(--van-gray-3);--van-slider-disabled-opacity:var(--van-disabled-opacity);--van-slider-bar-height:2px;--van-slider-button-width:24px;--van-slider-button-height:24px;--van-slider-button-border-radius:50%;--van-slider-button-background-color:var(--van-white);--van-slider-button-box-shadow:0 1px 2px rgba(0, 0, 0, 0.5)}.van-slider{position:relative;width:100%;height:var(--van-slider-bar-height);background:var(--van-slider-inactive-background-color);border-radius:var(--van-border-radius-max);cursor:pointer}.van-slider::before{position:absolute;top:calc(var(--van-padding-xs)*-1);right:0;bottom:calc(var(--van-padding-xs)*-1);left:0;content:""}.van-slider__bar{position:absolute;width:100%;height:100%;background:var(--van-slider-active-background-color);border-radius:inherit;transition:all var(--van-animation-duration-fast)}.van-slider__button{width:var(--van-slider-button-width);height:var(--van-slider-button-height);background:var(--van-slider-button-background-color);border-radius:var(--van-slider-button-border-radius);box-shadow:var(--van-slider-button-box-shadow)}.van-slider__button-wrapper{position:absolute;cursor:-webkit-grab;cursor:grab;top:50%}.van-slider__button-wrapper--right{right:0;transform:translate3d(50%, -50%, 0)}.van-slider__button-wrapper--left{left:0;transform:translate3d(-50%, -50%, 0)}.van-slider--disabled{cursor:not-allowed;opacity:var(--van-slider-disabled-opacity)}.van-slider--disabled .van-slider__button-wrapper{cursor:not-allowed}.van-slider--vertical{display:inline-block;width:var(--van-slider-bar-height);height:100%}.van-slider--vertical .van-slider__button-wrapper--right{top:auto;right:50%;bottom:0;transform:translate3d(50%, 50%, 0)}.van-slider--vertical .van-slider__button-wrapper--left{top:0;right:50%;left:auto;transform:translate3d(50%, -50%, 0)}.van-slider--vertical::before{top:0;right:calc(var(--van-padding-xs)*-1);bottom:0;left:calc(var(--van-padding-xs)*-1)}',""]);const s=o},7457:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-sticky-z-index:99}.van-sticky--fixed{position:fixed;z-index:var(--van-sticky-z-index)}",""]);const s=o},9969:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,':root{--van-black:#000;--van-white:#fff;--van-gray-1:#f7f8fa;--van-gray-2:#f2f3f5;--van-gray-3:#ebedf0;--van-gray-4:#dcdee0;--van-gray-5:#c8c9cc;--van-gray-6:#969799;--van-gray-7:#646566;--van-gray-8:#323233;--van-red:#ee0a24;--van-blue:#1989fa;--van-orange:#ff976a;--van-orange-dark:#ed6a0c;--van-orange-light:#fffbe8;--van-green:#07c160;--van-gradient-red:linear-gradient(to right, #ff6034, #ee0a24);--van-gradient-orange:linear-gradient(to right, #ffd01e, #ff8917);--van-primary-color:var(--van-blue);--van-success-color:var(--van-green);--van-danger-color:var(--van-red);--van-warning-color:var(--van-orange);--van-text-color:var(--van-gray-8);--van-text-color-2:var(--van-gray-6);--van-text-color-3:var(--van-gray-5);--van-text-link-color:#576b95;--van-active-color:var(--van-gray-2);--van-active-opacity:0.6;--van-disabled-opacity:0.5;--van-background-color:var(--van-gray-1);--van-background-color-light:var(--van-white);--van-padding-base:4px;--van-padding-xs:8px;--van-padding-sm:12px;--van-padding-md:16px;--van-padding-lg:24px;--van-padding-xl:32px;--van-font-size-xs:10px;--van-font-size-sm:12px;--van-font-size-md:14px;--van-font-size-lg:16px;--van-font-weight-bold:500;--van-line-height-xs:14px;--van-line-height-sm:18px;--van-line-height-md:20px;--van-line-height-lg:22px;--van-base-font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",Helvetica,Segoe UI,Arial,Roboto,"PingFang SC","miui","Hiragino Sans GB","Microsoft Yahei",sans-serif;--van-price-integer-font-family:Avenir-Heavy,PingFang SC,Helvetica Neue,Arial,sans-serif;--van-animation-duration-base:0.3s;--van-animation-duration-fast:0.2s;--van-animation-timing-function-enter:ease-out;--van-animation-timing-function-leave:ease-in;--van-border-color:var(--van-gray-3);--van-border-width-base:1px;--van-border-radius-sm:2px;--van-border-radius-md:4px;--van-border-radius-lg:8px;--van-border-radius-max:999px}html{-webkit-tap-highlight-color:rgba(0,0,0,0)}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",Helvetica,Segoe UI,Arial,Roboto,"PingFang SC",miui,"Hiragino Sans GB","Microsoft Yahei",sans-serif}a{text-decoration:none}button,input,textarea{color:inherit;font:inherit}[class*=van-]:focus,a:focus,button:focus,input:focus,textarea:focus{outline:0}ol,ul{margin:0;padding:0;list-style:none}@keyframes van-slide-up-enter{from{transform:translate3d(0, 100%, 0)}}@keyframes van-slide-up-leave{to{transform:translate3d(0, 100%, 0)}}@keyframes van-slide-down-enter{from{transform:translate3d(0, -100%, 0)}}@keyframes van-slide-down-leave{to{transform:translate3d(0, -100%, 0)}}@keyframes van-slide-left-enter{from{transform:translate3d(-100%, 0, 0)}}@keyframes van-slide-left-leave{to{transform:translate3d(-100%, 0, 0)}}@keyframes van-slide-right-enter{from{transform:translate3d(100%, 0, 0)}}@keyframes van-slide-right-leave{to{transform:translate3d(100%, 0, 0)}}@keyframes van-fade-in{from{opacity:0}to{opacity:1}}@keyframes van-fade-out{from{opacity:1}to{opacity:0}}@keyframes van-rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}.van-fade-enter-active{animation:var(--van-animation-duration-base) van-fade-in both var(--van-animation-timing-function-enter)}.van-fade-leave-active{animation:var(--van-animation-duration-base) van-fade-out both var(--van-animation-timing-function-leave)}.van-slide-up-enter-active{animation:van-slide-up-enter var(--van-animation-duration-base) both var(--van-animation-timing-function-enter)}.van-slide-up-leave-active{animation:van-slide-up-leave var(--van-animation-duration-base) both var(--van-animation-timing-function-leave)}.van-slide-down-enter-active{animation:van-slide-down-enter var(--van-animation-duration-base) both var(--van-animation-timing-function-enter)}.van-slide-down-leave-active{animation:van-slide-down-leave var(--van-animation-duration-base) both var(--van-animation-timing-function-leave)}.van-slide-left-enter-active{animation:van-slide-left-enter var(--van-animation-duration-base) both var(--van-animation-timing-function-enter)}.van-slide-left-leave-active{animation:van-slide-left-leave var(--van-animation-duration-base) both var(--van-animation-timing-function-leave)}.van-slide-right-enter-active{animation:van-slide-right-enter var(--van-animation-duration-base) both var(--van-animation-timing-function-enter)}.van-slide-right-leave-active{animation:van-slide-right-leave var(--van-animation-duration-base) both var(--van-animation-timing-function-leave)}.van-clearfix::after{display:table;clear:both;content:""}.van-ellipsis{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.van-multi-ellipsis--l2{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}.van-multi-ellipsis--l3{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:3;-webkit-box-orient:vertical}.van-safe-area-bottom{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}.van-haptics-feedback:active{opacity:var(--van-active-opacity)}[class*=van-hairline]::after{position:absolute;box-sizing:border-box;content:" ";pointer-events:none;top:-50%;right:-50%;bottom:-50%;left:-50%;border:0 solid var(--van-border-color);transform:scale(0.5)}.van-hairline,.van-hairline--bottom,.van-hairline--left,.van-hairline--right,.van-hairline--surround,.van-hairline--top,.van-hairline--top-bottom{position:relative}.van-hairline--top::after{border-top-width:1px}.van-hairline--left::after{border-left-width:1px}.van-hairline--right::after{border-right-width:1px}.van-hairline--bottom::after{border-bottom-width:1px}.van-hairline--top-bottom::after,.van-hairline-unset--top-bottom::after{border-width:1px 0}.van-hairline--surround::after{border-width:1px}',""]);const s=o},3421:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,".van-swipe-item{position:relative;flex-shrink:0;width:100%;height:100%}",""]);const s=o},2802:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-swipe-indicator-size:6px;--van-swipe-indicator-margin:var(--van-padding-sm);--van-swipe-indicator-active-opacity:1;--van-swipe-indicator-inactive-opacity:0.3;--van-swipe-indicator-active-background-color:var(--van-primary-color);--van-swipe-indicator-inactive-background-color:var(--van-border-color)}.van-swipe{position:relative;overflow:hidden;transform:translateZ(0);cursor:-webkit-grab;cursor:grab;-webkit-user-select:none;user-select:none}.van-swipe__track{display:flex;height:100%}.van-swipe__track--vertical{flex-direction:column}.van-swipe__indicators{position:absolute;bottom:var(--van-swipe-indicator-margin);left:50%;display:flex;transform:translateX(-50%)}.van-swipe__indicators--vertical{top:50%;bottom:auto;left:var(--van-swipe-indicator-margin);flex-direction:column;transform:translateY(-50%)}.van-swipe__indicators--vertical .van-swipe__indicator:not(:last-child){margin-bottom:var(--van-swipe-indicator-size)}.van-swipe__indicator{width:var(--van-swipe-indicator-size);height:var(--van-swipe-indicator-size);background-color:var(--van-swipe-indicator-inactive-background-color);border-radius:100%;opacity:var(--van-swipe-indicator-inactive-opacity);transition:opacity var(--van-animation-duration-fast),background-color var(--van-animation-duration-fast)}.van-swipe__indicator:not(:last-child){margin-right:var(--van-swipe-indicator-size)}.van-swipe__indicator--active{background-color:var(--van-swipe-indicator-active-background-color);opacity:var(--van-swipe-indicator-active-opacity)}",""]);const s=o},3993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-switch-size:30px;--van-switch-width:2em;--van-switch-height:1em;--van-switch-node-size:1em;--van-switch-node-background-color:var(--van-white);--van-switch-node-box-shadow:0 3px 1px 0 rgba(0, 0, 0, 0.05),0 2px 2px 0 rgba(0, 0, 0, 0.1),0 3px 3px 0 rgba(0, 0, 0, 0.05);--van-switch-background-color:var(--van-background-color-light);--van-switch-on-background-color:var(--van-primary-color);--van-switch-transition-duration:var(--van-animation-duration-base);--van-switch-disabled-opacity:var(--van-disabled-opacity);--van-switch-border:var(--van-border-width-base) solid rgba(0, 0, 0, 0.1)}.van-switch{position:relative;display:inline-block;box-sizing:content-box;width:var(--van-switch-width);height:var(--van-switch-height);font-size:var(--van-switch-size);background:var(--van-switch-background-color);border:var(--van-switch-border);border-radius:var(--van-switch-node-size);cursor:pointer;transition:background-color var(--van-switch-transition-duration)}.van-switch__node{position:absolute;top:0;left:0;width:var(--van-switch-node-size);height:var(--van-switch-node-size);font-size:inherit;background:var(--van-switch-node-background-color);border-radius:100%;box-shadow:var(--van-switch-node-box-shadow);transition:transform var(--van-switch-transition-duration) cubic-bezier(0.3, 1.05, 0.4, 1.05)}.van-switch__loading{top:25%;left:25%;width:50%;height:50%;line-height:1}.van-switch--on{background:var(--van-switch-on-background-color)}.van-switch--on .van-switch__node{transform:translateX(calc(var(--van-switch-width) - var(--van-switch-node-size)))}.van-switch--on .van-switch__loading{color:var(--van-switch-on-background-color)}.van-switch--disabled{cursor:not-allowed;opacity:var(--van-switch-disabled-opacity)}.van-switch--loading{cursor:default}",""]);const s=o},9473:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,".van-tab__panel,.van-tab__panel-wrapper{flex-shrink:0;box-sizing:border-box;width:100%}.van-tab__panel-wrapper--inactive{height:0;overflow:visible}",""]);const s=o},6959:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-tab-text-color:var(--van-gray-7);--van-tab-active-text-color:var(--van-text-color);--van-tab-disabled-text-color:var(--van-text-color-3);--van-tab-font-size:var(--van-font-size-md);--van-tab-line-height:var(--van-line-height-md);--van-tabs-default-color:var(--van-danger-color);--van-tabs-line-height:44px;--van-tabs-card-height:30px;--van-tabs-nav-background-color:var(--van-background-color-light);--van-tabs-bottom-bar-width:40px;--van-tabs-bottom-bar-height:3px;--van-tabs-bottom-bar-color:var(--van-danger-color)}.van-tab{position:relative;display:flex;flex:1;align-items:center;justify-content:center;box-sizing:border-box;padding:0 var(--van-padding-base);color:var(--van-tab-text-color);font-size:var(--van-tab-font-size);line-height:var(--van-tab-line-height);cursor:pointer}.van-tab--active{color:var(--van-tab-active-text-color);font-weight:var(--van-font-weight-bold)}.van-tab--disabled{color:var(--van-tab-disabled-text-color);cursor:not-allowed}.van-tab__text--ellipsis{display:-webkit-box;overflow:hidden;-webkit-line-clamp:1;-webkit-box-orient:vertical}.van-tabs{position:relative}.van-tabs__wrap{overflow:hidden}.van-tabs__wrap--page-top{position:fixed}.van-tabs__wrap--content-bottom{top:auto;bottom:0}.van-tabs__wrap--scrollable .van-tab{flex:1 0 auto;padding:0 var(--van-padding-sm)}.van-tabs__wrap--scrollable .van-tabs__nav{overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.van-tabs__wrap--scrollable .van-tabs__nav::-webkit-scrollbar{display:none}.van-tabs__nav{position:relative;display:flex;background:var(--van-tabs-nav-background-color);-webkit-user-select:none;user-select:none}.van-tabs__nav--line{box-sizing:content-box;height:100%;padding-bottom:15px}.van-tabs__nav--line.van-tabs__nav--complete{padding-right:var(--van-padding-xs);padding-left:var(--van-padding-xs)}.van-tabs__nav--card{box-sizing:border-box;height:var(--van-tabs-card-height);margin:0 var(--van-padding-md);border:var(--van-border-width-base) solid var(--van-tabs-default-color);border-radius:var(--van-border-radius-sm)}.van-tabs__nav--card .van-tab{color:var(--van-tabs-default-color);border-right:var(--van-border-width-base) solid var(--van-tabs-default-color)}.van-tabs__nav--card .van-tab:last-child{border-right:none}.van-tabs__nav--card .van-tab.van-tab--active{color:var(--van-white);background-color:var(--van-tabs-default-color)}.van-tabs__nav--card .van-tab--disabled{color:var(--van-tab-disabled-text-color)}.van-tabs__line{position:absolute;bottom:15px;left:0;z-index:1;width:var(--van-tabs-bottom-bar-width);height:var(--van-tabs-bottom-bar-height);background:var(--van-tabs-bottom-bar-color);border-radius:var(--van-tabs-bottom-bar-height)}.van-tabs__track{position:relative;display:flex;width:100%;height:100%;will-change:left}.van-tabs__content--animated{overflow:hidden}.van-tabs--line .van-tabs__wrap{height:var(--van-tabs-line-height)}.van-tabs--card>.van-tabs__wrap{height:var(--van-tabs-card-height)}",""]);const s=o},3476:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-toast-max-width:70%;--van-toast-font-size:var(--van-font-size-md);--van-toast-text-color:var(--van-white);--van-toast-loading-icon-color:var(--van-white);--van-toast-line-height:var(--van-line-height-md);--van-toast-border-radius:var(--van-border-radius-lg);--van-toast-background-color:rgba(0, 0, 0, 0.7);--van-toast-icon-size:36px;--van-toast-text-min-width:96px;--van-toast-text-padding:var(--van-padding-xs) var(--van-padding-sm);--van-toast-default-padding:var(--van-padding-md);--van-toast-default-width:88px;--van-toast-default-min-height:88px;--van-toast-position-top-distance:20%;--van-toast-position-bottom-distance:20%}.van-toast{display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:content-box;transition:all var(--van-animation-duration-fast);width:var(--van-toast-default-width);max-width:var(--van-toast-max-width);min-height:var(--van-toast-default-min-height);padding:var(--van-toast-default-padding);color:var(--van-toast-text-color);font-size:var(--van-toast-font-size);line-height:var(--van-toast-line-height);white-space:pre-wrap;text-align:center;word-break:break-all;background:var(--van-toast-background-color);border-radius:var(--van-toast-border-radius)}.van-toast--unclickable{overflow:hidden;cursor:not-allowed}.van-toast--unclickable *{pointer-events:none}.van-toast--html,.van-toast--text{width:-webkit-fit-content;width:fit-content;min-width:var(--van-toast-text-min-width);min-height:0;padding:var(--van-toast-text-padding)}.van-toast--html .van-toast__text,.van-toast--text .van-toast__text{margin-top:0}.van-toast--top{top:var(--van-toast-position-top-distance)}.van-toast--bottom{top:auto;bottom:var(--van-toast-position-bottom-distance)}.van-toast__icon{font-size:var(--van-toast-icon-size)}.van-toast__loading{padding:var(--van-padding-base);color:var(--van-toast-loading-icon-color)}.van-toast__text{margin-top:var(--van-padding-xs)}",""]);const s=o},1202:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,":root{--van-uploader-size:80px;--van-uploader-icon-size:24px;--van-uploader-icon-color:var(--van-gray-4);--van-uploader-text-color:var(--van-text-color-2);--van-uploader-text-font-size:var(--van-font-size-sm);--van-uploader-upload-background-color:var(--van-gray-1);--van-uploader-upload-active-color:var(--van-active-color);--van-uploader-delete-color:var(--van-white);--van-uploader-delete-icon-size:14px;--van-uploader-delete-background-color:rgba(0, 0, 0, 0.7);--van-uploader-file-background-color:var(--van-background-color);--van-uploader-file-icon-size:20px;--van-uploader-file-icon-color:var(--van-gray-7);--van-uploader-file-name-padding:0 var(--van-padding-base);--van-uploader-file-name-margin-top:var(--van-padding-xs);--van-uploader-file-name-font-size:var(--van-font-size-sm);--van-uploader-file-name-text-color:var(--van-gray-7);--van-uploader-mask-text-color:var(--van-white);--van-uploader-mask-background-color:rgba(50, 50, 51, 0.88);--van-uploader-mask-icon-size:22px;--van-uploader-mask-message-font-size:var(--van-font-size-sm);--van-uploader-mask-message-line-height:var(--van-line-height-xs);--van-uploader-loading-icon-size:22px;--van-uploader-loading-icon-color:var(--van-white);--van-uploader-disabled-opacity:var(--van-disabled-opacity)}.van-uploader{position:relative;display:inline-block}.van-uploader__wrapper{display:flex;flex-wrap:wrap}.van-uploader__wrapper--disabled{opacity:var(--van-uploader-disabled-opacity)}.van-uploader__input{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;cursor:pointer;opacity:0}.van-uploader__input-wrapper{position:relative}.van-uploader__input:disabled{cursor:not-allowed}.van-uploader__upload{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;box-sizing:border-box;width:var(--van-uploader-size);height:var(--van-uploader-size);margin:0 var(--van-padding-xs) var(--van-padding-xs) 0;background:var(--van-uploader-upload-background-color)}.van-uploader__upload:active{background-color:var(--van-uploader-upload-active-color)}.van-uploader__upload--readonly:active{background-color:var(--van-uploader-upload-background-color)}.van-uploader__upload-icon{color:var(--van-uploader-icon-color);font-size:var(--van-uploader-icon-size)}.van-uploader__upload-text{margin-top:var(--van-padding-xs);color:var(--van-uploader-text-color);font-size:var(--van-uploader-text-font-size)}.van-uploader__preview{position:relative;margin:0 var(--van-padding-xs) var(--van-padding-xs) 0;cursor:pointer}.van-uploader__preview-image{display:block;width:var(--van-uploader-size);height:var(--van-uploader-size);overflow:hidden}.van-uploader__preview-delete{position:absolute;top:0;right:0;width:var(--van-uploader-delete-icon-size);height:var(--van-uploader-delete-icon-size);background:var(--van-uploader-delete-background-color);border-radius:0 0 0 12px}.van-uploader__preview-delete-icon{position:absolute;top:0;right:0;color:var(--van-uploader-delete-color);font-size:var(--van-uploader-delete-icon-size);transform:scale(0.7) translate(10%, -10%)}.van-uploader__preview-cover{position:absolute;top:0;right:0;bottom:0;left:0}.van-uploader__mask{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--van-uploader-mask-text-color);background:var(--van-uploader-mask-background-color)}.van-uploader__mask-icon{font-size:var(--van-uploader-mask-icon-size)}.van-uploader__mask-message{margin-top:6px;padding:0 var(--van-padding-base);font-size:var(--van-uploader-mask-message-font-size);line-height:var(--van-uploader-mask-message-line-height)}.van-uploader__loading{width:var(--van-uploader-loading-icon-size);height:var(--van-uploader-loading-icon-size);color:var(--van-uploader-loading-icon-color)}.van-uploader__file{display:flex;flex-direction:column;align-items:center;justify-content:center;width:var(--van-uploader-size);height:var(--van-uploader-size);background:var(--van-uploader-file-background-color)}.van-uploader__file-icon{color:var(--van-uploader-file-icon-color);font-size:var(--van-uploader-file-icon-size)}.van-uploader__file-name{box-sizing:border-box;width:100%;margin-top:var(--van-uploader-file-name-margin-top);padding:var(--van-uploader-file-name-padding);color:var(--van-uploader-file-name-text-color);font-size:var(--van-uploader-file-name-font-size);text-align:center}",""]);const s=o},668:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"html,body{width:100%;height:100%;background:#1a192c}.custom-notify{height:45px !important;--van-notify-success-background-color: #07c16138 !important;--van-notify-danger-background-color: #ee0a254e !important;--van-notify-warning-background-color:#ff976a52 !important}::-webkit-scrollbar{width:20px;height:10px}::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.toast-message-big{width:200px}",""]);const s=o},1919:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"[data-v-fc517caa]::-webkit-scrollbar{width:20px;height:10px}[data-v-fc517caa]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-fc517caa]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-fc517caa]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-fc517caa]{overflow:auto;background:#fff}.van-radio[data-v-fc517caa]{--van-radio-checked-icon-color: #7232dd !important;-webkit-user-select:unset;user-select:unset}.van-switch[data-v-fc517caa]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-fc517caa]{background:#fff;color:#000}.text-field[data-v-fc517caa]{margin-inline:0px 10px}.flex-2[data-v-fc517caa]{flex:2}.flex-8[data-v-fc517caa]{flex:8}.field-bg[data-v-fc517caa]{background:#f0f8ff}.label-field[data-v-fc517caa]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-fc517caa]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-fc517caa]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-fc517caa]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-fc517caa]{margin-inline:0 5px}[data-v-fc517caa] .van-field__label{display:flex;align-items:center}[data-v-fc517caa] .van-field__control{font-size:12px;word-break:break-all;overflow:auto;-webkit-user-select:unset;user-select:unset}[data-v-fc517caa] .van-field__body{width:100%}.sticky-bottom[data-v-fc517caa]{position:sticky;bottom:0}",""]);const s=o},1975:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"[data-v-7a9d0828]::-webkit-scrollbar{width:20px;height:10px}[data-v-7a9d0828]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-7a9d0828]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-7a9d0828]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-7a9d0828]{overflow:auto;background:#fff}.van-radio[data-v-7a9d0828]{--van-radio-checked-icon-color: #7232dd !important;-webkit-user-select:unset;user-select:unset}.van-switch[data-v-7a9d0828]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-7a9d0828]{background:#fff;color:#000}.text-field[data-v-7a9d0828]{margin-inline:0px 10px}.flex-2[data-v-7a9d0828]{flex:2}.flex-8[data-v-7a9d0828]{flex:8}.field-bg[data-v-7a9d0828]{background:#f0f8ff}.label-field[data-v-7a9d0828]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-7a9d0828]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-7a9d0828]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-7a9d0828]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-7a9d0828]{margin-inline:0 5px}[data-v-7a9d0828] .van-field__label{display:flex;align-items:center}[data-v-7a9d0828] .van-field__control{font-size:12px;word-break:break-all;overflow:auto;-webkit-user-select:unset;user-select:unset}[data-v-7a9d0828] .van-field__body{width:100%}.sticky-bottom[data-v-7a9d0828]{position:sticky;bottom:0}",""]);const s=o},6293:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"[data-v-2b0cc4ba]::-webkit-scrollbar{width:20px;height:10px}[data-v-2b0cc4ba]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-2b0cc4ba]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-2b0cc4ba]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-2b0cc4ba]{overflow:auto;background:#fff}.van-radio[data-v-2b0cc4ba]{--van-radio-checked-icon-color: #7232dd !important;-webkit-user-select:unset;user-select:unset}.van-switch[data-v-2b0cc4ba]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-2b0cc4ba]{background:#fff;color:#000}.text-field[data-v-2b0cc4ba]{margin-inline:0px 10px}.flex-2[data-v-2b0cc4ba]{flex:2}.flex-8[data-v-2b0cc4ba]{flex:8}.field-bg[data-v-2b0cc4ba]{background:#f0f8ff}.label-field[data-v-2b0cc4ba]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-2b0cc4ba]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-2b0cc4ba]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-2b0cc4ba]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-2b0cc4ba]{margin-inline:0 5px}[data-v-2b0cc4ba] .van-field__label{display:flex;align-items:center}[data-v-2b0cc4ba] .van-field__control{font-size:12px;word-break:break-all;overflow:auto;-webkit-user-select:unset;user-select:unset}[data-v-2b0cc4ba] .van-field__body{width:100%}.sticky-bottom[data-v-2b0cc4ba]{position:sticky;bottom:0}",""]);const s=o},2273:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"[data-v-e51df0ea]::-webkit-scrollbar{width:20px;height:10px}[data-v-e51df0ea]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-e51df0ea]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-e51df0ea]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-e51df0ea]{overflow:auto;background:#fff}.van-radio[data-v-e51df0ea]{--van-radio-checked-icon-color: #7232dd !important;-webkit-user-select:unset;user-select:unset}.van-switch[data-v-e51df0ea]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-e51df0ea]{background:#fff;color:#000}.text-field[data-v-e51df0ea]{margin-inline:0px 10px}.flex-2[data-v-e51df0ea]{flex:2}.flex-8[data-v-e51df0ea]{flex:8}.field-bg[data-v-e51df0ea]{background:#f0f8ff}.label-field[data-v-e51df0ea]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-e51df0ea]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-e51df0ea]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-e51df0ea]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-e51df0ea]{margin-inline:0 5px}[data-v-e51df0ea] .van-field__label{display:flex;align-items:center}[data-v-e51df0ea] .van-field__control{font-size:12px;word-break:break-all;overflow:auto;-webkit-user-select:unset;user-select:unset}[data-v-e51df0ea] .van-field__body{width:100%}.sticky-bottom[data-v-e51df0ea]{position:sticky;bottom:0}",""]);const s=o},3852:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"[data-v-4a9e9fc2]::-webkit-scrollbar{width:20px;height:10px}[data-v-4a9e9fc2]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-4a9e9fc2]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-4a9e9fc2]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-4a9e9fc2]{overflow:auto;background:#fff}.van-radio[data-v-4a9e9fc2]{--van-radio-checked-icon-color: #7232dd !important;-webkit-user-select:unset;user-select:unset}.van-switch[data-v-4a9e9fc2]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-4a9e9fc2]{background:#fff;color:#000}.text-field[data-v-4a9e9fc2]{margin-inline:0px 10px}.flex-2[data-v-4a9e9fc2]{flex:2}.flex-8[data-v-4a9e9fc2]{flex:8}.field-bg[data-v-4a9e9fc2]{background:#f0f8ff}.label-field[data-v-4a9e9fc2]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-4a9e9fc2]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-4a9e9fc2]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-4a9e9fc2]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-4a9e9fc2]{margin-inline:0 5px}[data-v-4a9e9fc2] .van-field__label{display:flex;align-items:center}[data-v-4a9e9fc2] .van-field__control{font-size:12px;word-break:break-all;overflow:auto;-webkit-user-select:unset;user-select:unset}[data-v-4a9e9fc2] .van-field__body{width:100%}.sticky-bottom[data-v-4a9e9fc2]{position:sticky;bottom:0}.movie-cover[data-v-4a9e9fc2]{width:100%;height:auto}.cover-field[data-v-4a9e9fc2]{height:auto;padding:0px !important}.content-box[data-v-4a9e9fc2]{height:100px;overflow:auto;background:#fff}[data-v-4a9e9fc2] .van-cell__value{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap;align-content:center}.van-field[data-v-4a9e9fc2]{padding:0px 5px}[data-v-4a9e9fc2] .van-field__control{max-height:none}[data-v-4a9e9fc2] .van-field__control--custom{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:space-between;align-content:space-between}[data-v-4a9e9fc2] .van-field__control--custom>div{margin-right:5px}",""]);const s=o},6786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,'[data-v-7d616ece]::-webkit-scrollbar{width:20px;height:10px}[data-v-7d616ece]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-7d616ece]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-7d616ece]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}[data-v-7d616ece]:root{--van-tabs-card-height: 32px}pre[data-v-7d616ece],code[data-v-7d616ece]{-webkit-user-select:auto !important;user-select:auto !important}div[data-v-7d616ece]{background:linear-gradient(130deg, black, transparent)}[class*=van-hairline][data-v-7d616ece]::after{border:none !important}.van-text-ellipsis[data-v-7d616ece]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;justify-content:space-between;display:block !important}#video-player-home[data-v-7d616ece]{width:100%;height:100%;text-align:center;--video-player-width: 100%;--video-list-item-height: 35px;--top-info-transform: 0px;--top-info-opacity: 0;--top-info-display: none;--van-cell-background-color: black;--van-cell-text-color: white;--van-border-width-base: 0px;--van-padding-md: 0px;--van-overlay-background-color: transparent !important;--van-dialog-border-radius: 10px !important;--van-dialog-has-title-message-text-color: white !important;--van-dialog-confirm-button-text-color: white !important;--van-dialog-header-padding-top: 10px !important;--van-dialog-background-color: #7232dd !important;--div-transition: transform 0.2s ease-in-out, box-shadow 0.5s ease-in-out, outline 0.3s ease-in-out, opacity 0.2s ease-in-out, display 0.2s ease-in-out}#video-player-home div[data-v-7d616ece]{transition:var(--div-transition);-moz-transition:var(--div-transition);-webkit-transition:var(--div-transition);-o-transition:var(--div-transition)}#video-player-home .video-bottom-tools[data-v-7d616ece]{display:flex;height:var(--video-list-item-height);min-height:var(--video-list-item-height);max-height:var(--video-list-item-height);position:sticky;bottom:0;color:#fff;background:linear-gradient(165deg, #3e1d52, black, #0b2768);align-items:center;justify-content:space-around}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-7d616ece]{margin:0px;cursor:pointer}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-7d616ece]:hover{color:green}#video-player-home .height-top[data-v-7d616ece]{height:45px;overflow:hidden;display:flex;align-items:center;justify-content:space-between;padding:0 10px;z-index:999;position:relative}#video-player-home .height-5vh[data-v-7d616ece]{height:5vh;overflow:hidden;display:flex;align-items:center}#video-player-home .height-90vh[data-v-7d616ece]{height:calc(100vh - 45px);overflow:auto;display:flex;align-items:center}#video-player-home .height-90vh>div[data-v-7d616ece]{height:calc(100vh - 45px);overflow:auto;background:#1a192c}#video-player-home .height-100vh[data-v-7d616ece]{height:100vh;overflow:hidden}#video-player-home .video-playlist-switch[data-v-7d616ece]{width:25px;height:60px !important;background:#000 !important;position:absolute;right:320px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-top-left-radius:20px;border-bottom-left-radius:20px;z-index:1;opacity:.5;outline:none}#video-player-home .video-playlist-switch[data-v-7d616ece]:hover{background:linear-gradient(120deg, #6c35c7, black, #1c2d8d) !important}#video-player-home .switch-right-0[data-v-7d616ece]{right:0px}#video-player-home .switch-right-200[data-v-7d616ece]{right:200px}#video-player-home .video-width-cut-200[data-v-7d616ece]{width:calc(100% - 200px) !important}#video-player-home .video-play-list[data-v-7d616ece]{overflow:auto}#video-player-home .video-play-list>.van-tabs>div[data-v-7d616ece]{position:sticky;top:0px;z-index:3}#video-player-home .video-playlist-categories[data-v-7d616ece]{width:120px !important;background:rgba(0,0,0,.3607843137);position:absolute;right:200px;z-index:2}#video-player-home .video-playlist[data-v-7d616ece]{width:200px !important;position:absolute;right:0px;background:rgba(0,0,0,.3607843137);z-index:3;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between}#video-player-home .video-playlist-categories-btn[data-v-7d616ece]{position:sticky;top:30px;font-size:12px;z-index:2;display:flex;align-items:center;padding:4px 6px 4px 2px}#video-player-home .video-playlist-search-btn[data-v-7d616ece]{--van-search-content-background-color: black;--van-search-background-color: black;--van-field-input-text-color: white;--van-search-padding: 0px;padding:0px;z-index:1;position:sticky;top:62px}#video-player-home .video-categories-title[data-v-7d616ece]{height:30px;cursor:pointer;display:flex;align-items:center;justify-content:space-around;position:sticky;top:0px;background:#000;font-size:12px}#video-player-home .video-categories[data-v-7d616ece]{width:100%;font-size:12px}#video-player-home .video-categories[data-v-7d616ece] li{height:var(--video-list-item-height);cursor:pointer;background:#1a192c;padding:0 8px;box-sizing:border-box;line-height:var(--video-list-item-height);display:flex !important;justify-content:space-between;flex-direction:row;align-items:center;flex-wrap:nowrap}#video-player-home .video-categories[data-v-7d616ece] li:hover{background:linear-gradient(165deg, #3e1d52, black, #0b2768);color:#32a35e}#video-player-home .active-cell[data-v-7d616ece]{background:#083208 !important;position:sticky;top:95px;bottom:0;z-index:1}#video-player-home .active-category[data-v-7d616ece]{background:#083208 !important;position:sticky;top:30px;bottom:0px;z-index:1}#video-player-home .active-video-player[data-v-7d616ece]{outline:2px solid #ff0 !important}#video-player-home .active-line[data-v-7d616ece]{background:#083208 !important;color:#32a35e !important;z-index:1}#video-player-home .error-cell[data-v-7d616ece],#video-player-home .error-line[data-v-7d616ece]{background:#5a1111 !important;color:#625656 !important}#video-player-home .van-cell[data-v-7d616ece]{cursor:pointer;text-align:left}#video-player-home .van-cell[data-v-7d616ece]:hover{background:linear-gradient(18deg, #1d523c, black, #32a35e);color:#32a35e}#video-player-home .van-cell[data-v-7d616ece]::after{border:none !important}#video-player-home .van-col[data-v-7d616ece],#video-player-home .van-row[data-v-7d616ece]{background:linear-gradient(2deg, #311d52, black, #252d5c);color:#fff}#video-player-home .van-cell-group[data-v-7d616ece]{width:100%}#video-player-home .van-cell-group[data-v-7d616ece] .van-cell__title{flex:10 !important}#video-player-home .van-cell-group[data-v-7d616ece] .van-cell__label{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}#video-player-home .van-cell-group[data-v-7d616ece] .van-cell__value{flex:4 !important}#video-player-home .custom-label[data-v-7d616ece]{line-height:15px;outline:0px solid #000;color:#fff;margin-right:5px}#video-player-home .custom-label[data-v-7d616ece]:hover{background:#083208;color:#32a35e}#video-player-home .custom-value[data-v-7d616ece]{background:rgba(0,0,0,0);color:#32a35e;box-sizing:border-box;display:block;padding:0px;text-align:center;font-size:12px}#video-player-home .custom-value.success[data-v-7d616ece]{background:#083208;color:#32a35e}#video-player-home .custom-value.error[data-v-7d616ece]{background:#320e08;color:#a45332}#video-player-home .video-player-wrapper[data-v-7d616ece]{width:var(--video-player-width);height:100%;background:#000;color:#fff;display:flex;align-content:flex-start;align-items:center;justify-content:space-between;flex-wrap:wrap}#video-player-home .video-player-wrapper .video-player-box[data-v-7d616ece]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .top-media-info[data-v-7d616ece]{position:absolute;background:linear-gradient(90deg, rgba(62, 29, 82, 0.5019607843), rgba(18, 18, 64, 0.3098039216), transparent);width:300px;max-width:99%;line-height:20px;font-size:15px;text-align:left;padding:5px 10px;margin-inline:1px;top:0;z-index:1;border-radius:15px;transform:translateY(var(--top-info-transform));opacity:var(--top-info-opacity);box-sizing:border-box;display:flex !important;align-items:center;justify-content:space-between;cursor:pointer;border-top-left-radius:0px;border-top-right-radius:0px}#video-player-home .video-player-wrapper .media-player[data-v-7d616ece],#video-player-home .video-player-wrapper .iframe-media-player[data-v-7d616ece]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .media-player[data-v-7d616ece]:hover,#video-player-home .video-player-wrapper .iframe-media-player[data-v-7d616ece]:hover{outline:2px dashed green}#video-player-home .video-player-wrapper[data-v-7d616ece]:hover{--top-info-transform: 45px;--top-info-opacity: 1;--top-info-display: "block"}#video-player-home .van-tabs__nav[data-v-7d616ece],#video-player-home .van-tabs__nav--card[data-v-7d616ece]{margin:0px !important}#video-player-home .van-loading-custom[data-v-7d616ece]{position:absolute;top:0;z-index:1;background:rgba(0,0,0,.5882352941);width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#1989fa;--van-loading-text-color: #1989fa}#video-player-home .van-popup[data-v-7d616ece],#video-player-home .van-dialog[data-v-7d616ece]{color:#000 !important}#video-player-home .van-popup>.van-dialog__content[data-v-7d616ece],#video-player-home .van-dialog>.van-dialog__content[data-v-7d616ece]{max-height:60vh;overflow:auto}.group-title[data-v-7d616ece]{width:55px;display:inline-block;vertical-align:bottom;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[data-v-7d616ece] .van-cell__value{display:flex;flex-direction:row;justify-content:flex-end;flex-wrap:wrap;align-content:flex-start}[data-v-7d616ece] .van-cell__value>span{margin-right:3px}[data-v-7d616ece] .van-overlay{height:calc(100% - 70px);width:calc(100% - 200px);background:linear-gradient(0deg, rgba(49, 29, 82, 0.5294117647), rgba(0, 0, 0, 0.7411764706), rgba(37, 45, 92, 0.5803921569));cursor:pointer}[data-v-7d616ece] .van-dialog{background:#7232dd}[data-v-7d616ece] .van-dialog .van-dialog__header{background:#7232dd}[data-v-7d616ece] .van-dialog .van-dialog__content{background:#fff;max-height:60vh;overflow:auto}.top-bar-tools[data-v-7d616ece]{position:absolute;right:0px;background:rgba(0,0,0,.7803921569);margin-inline:3px;padding:10px 0px 10px 10px;border-bottom-left-radius:50%}.top-bar-tools>span[data-v-7d616ece]{margin-right:5px;vertical-align:middle}.top-bar-tools>span[data-v-7d616ece] :hover{color:green}.live-span[data-v-7d616ece]{display:flex;align-items:center}.live-span>i[data-v-7d616ece]{margin-right:3px}.live-text[data-v-7d616ece]{display:flex;margin-right:8px;color:red;background:rgba(255,0,0,.1607843137);padding:3px 8px 3px 3px;border-radius:15px}',""]);const s=o},632:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,'[data-v-4958c851]::-webkit-scrollbar{width:20px;height:10px}[data-v-4958c851]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-4958c851]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-4958c851]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}[data-v-4958c851]:root{--van-tabs-card-height: 32px}pre[data-v-4958c851],code[data-v-4958c851]{-webkit-user-select:auto !important;user-select:auto !important}div[data-v-4958c851]{background:linear-gradient(130deg, black, transparent)}[class*=van-hairline][data-v-4958c851]::after{border:none !important}.van-text-ellipsis[data-v-4958c851]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;justify-content:space-between;display:block !important}#video-player-home[data-v-4958c851]{width:100%;height:100%;text-align:center;--video-player-width: 100%;--video-list-item-height: 35px;--top-info-transform: 0px;--top-info-opacity: 0;--top-info-display: none;--van-cell-background-color: black;--van-cell-text-color: white;--van-border-width-base: 0px;--van-padding-md: 0px;--van-overlay-background-color: transparent !important;--van-dialog-border-radius: 10px !important;--van-dialog-has-title-message-text-color: white !important;--van-dialog-confirm-button-text-color: white !important;--van-dialog-header-padding-top: 10px !important;--van-dialog-background-color: #7232dd !important;--div-transition: transform 0.2s ease-in-out, box-shadow 0.5s ease-in-out, outline 0.3s ease-in-out, opacity 0.2s ease-in-out, display 0.2s ease-in-out}#video-player-home div[data-v-4958c851]{transition:var(--div-transition);-moz-transition:var(--div-transition);-webkit-transition:var(--div-transition);-o-transition:var(--div-transition)}#video-player-home .video-bottom-tools[data-v-4958c851]{display:flex;height:var(--video-list-item-height);min-height:var(--video-list-item-height);max-height:var(--video-list-item-height);position:sticky;bottom:0;color:#fff;background:linear-gradient(165deg, #3e1d52, black, #0b2768);align-items:center;justify-content:space-around}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-4958c851]{margin:0px;cursor:pointer}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-4958c851]:hover{color:green}#video-player-home .height-top[data-v-4958c851]{height:45px;overflow:hidden;display:flex;align-items:center;justify-content:space-between;padding:0 10px;z-index:999;position:relative}#video-player-home .height-5vh[data-v-4958c851]{height:5vh;overflow:hidden;display:flex;align-items:center}#video-player-home .height-90vh[data-v-4958c851]{height:calc(100vh - 45px);overflow:auto;display:flex;align-items:center}#video-player-home .height-90vh>div[data-v-4958c851]{height:calc(100vh - 45px);overflow:auto;background:#1a192c}#video-player-home .height-100vh[data-v-4958c851]{height:100vh;overflow:hidden}#video-player-home .video-playlist-switch[data-v-4958c851]{width:25px;height:60px !important;background:#000 !important;position:absolute;right:320px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-top-left-radius:20px;border-bottom-left-radius:20px;z-index:1;opacity:.5;outline:none}#video-player-home .video-playlist-switch[data-v-4958c851]:hover{background:linear-gradient(120deg, #6c35c7, black, #1c2d8d) !important}#video-player-home .switch-right-0[data-v-4958c851]{right:0px}#video-player-home .switch-right-200[data-v-4958c851]{right:200px}#video-player-home .video-width-cut-200[data-v-4958c851]{width:calc(100% - 200px) !important}#video-player-home .video-play-list[data-v-4958c851]{overflow:auto}#video-player-home .video-play-list>.van-tabs>div[data-v-4958c851]{position:sticky;top:0px;z-index:3}#video-player-home .video-playlist-categories[data-v-4958c851]{width:120px !important;background:rgba(0,0,0,.3607843137);position:absolute;right:200px;z-index:2}#video-player-home .video-playlist[data-v-4958c851]{width:200px !important;position:absolute;right:0px;background:rgba(0,0,0,.3607843137);z-index:3;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between}#video-player-home .video-playlist-categories-btn[data-v-4958c851]{position:sticky;top:30px;font-size:12px;z-index:2;display:flex;align-items:center;padding:4px 6px 4px 2px}#video-player-home .video-playlist-search-btn[data-v-4958c851]{--van-search-content-background-color: black;--van-search-background-color: black;--van-field-input-text-color: white;--van-search-padding: 0px;padding:0px;z-index:1;position:sticky;top:62px}#video-player-home .video-categories-title[data-v-4958c851]{height:30px;cursor:pointer;display:flex;align-items:center;justify-content:space-around;position:sticky;top:0px;background:#000;font-size:12px}#video-player-home .video-categories[data-v-4958c851]{width:100%;font-size:12px}#video-player-home .video-categories[data-v-4958c851] li{height:var(--video-list-item-height);cursor:pointer;background:#1a192c;padding:0 8px;box-sizing:border-box;line-height:var(--video-list-item-height);display:flex !important;justify-content:space-between;flex-direction:row;align-items:center;flex-wrap:nowrap}#video-player-home .video-categories[data-v-4958c851] li:hover{background:linear-gradient(165deg, #3e1d52, black, #0b2768);color:#32a35e}#video-player-home .active-cell[data-v-4958c851]{background:#083208 !important;position:sticky;top:95px;bottom:0;z-index:1}#video-player-home .active-category[data-v-4958c851]{background:#083208 !important;position:sticky;top:30px;bottom:0px;z-index:1}#video-player-home .active-video-player[data-v-4958c851]{outline:2px solid #ff0 !important}#video-player-home .active-line[data-v-4958c851]{background:#083208 !important;color:#32a35e !important;z-index:1}#video-player-home .error-cell[data-v-4958c851],#video-player-home .error-line[data-v-4958c851]{background:#5a1111 !important;color:#625656 !important}#video-player-home .van-cell[data-v-4958c851]{cursor:pointer;text-align:left}#video-player-home .van-cell[data-v-4958c851]:hover{background:linear-gradient(18deg, #1d523c, black, #32a35e);color:#32a35e}#video-player-home .van-cell[data-v-4958c851]::after{border:none !important}#video-player-home .van-col[data-v-4958c851],#video-player-home .van-row[data-v-4958c851]{background:linear-gradient(2deg, #311d52, black, #252d5c);color:#fff}#video-player-home .van-cell-group[data-v-4958c851]{width:100%}#video-player-home .van-cell-group[data-v-4958c851] .van-cell__title{flex:10 !important}#video-player-home .van-cell-group[data-v-4958c851] .van-cell__label{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}#video-player-home .van-cell-group[data-v-4958c851] .van-cell__value{flex:4 !important}#video-player-home .custom-label[data-v-4958c851]{line-height:15px;outline:0px solid #000;color:#fff;margin-right:5px}#video-player-home .custom-label[data-v-4958c851]:hover{background:#083208;color:#32a35e}#video-player-home .custom-value[data-v-4958c851]{background:rgba(0,0,0,0);color:#32a35e;box-sizing:border-box;display:block;padding:0px;text-align:center;font-size:12px}#video-player-home .custom-value.success[data-v-4958c851]{background:#083208;color:#32a35e}#video-player-home .custom-value.error[data-v-4958c851]{background:#320e08;color:#a45332}#video-player-home .video-player-wrapper[data-v-4958c851]{width:var(--video-player-width);height:100%;background:#000;color:#fff;display:flex;align-content:flex-start;align-items:center;justify-content:space-between;flex-wrap:wrap}#video-player-home .video-player-wrapper .video-player-box[data-v-4958c851]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .top-media-info[data-v-4958c851]{position:absolute;background:linear-gradient(90deg, rgba(62, 29, 82, 0.5019607843), rgba(18, 18, 64, 0.3098039216), transparent);width:300px;max-width:99%;line-height:20px;font-size:15px;text-align:left;padding:5px 10px;margin-inline:1px;top:0;z-index:1;border-radius:15px;transform:translateY(var(--top-info-transform));opacity:var(--top-info-opacity);box-sizing:border-box;display:flex !important;align-items:center;justify-content:space-between;cursor:pointer;border-top-left-radius:0px;border-top-right-radius:0px}#video-player-home .video-player-wrapper .media-player[data-v-4958c851],#video-player-home .video-player-wrapper .iframe-media-player[data-v-4958c851]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .media-player[data-v-4958c851]:hover,#video-player-home .video-player-wrapper .iframe-media-player[data-v-4958c851]:hover{outline:2px dashed green}#video-player-home .video-player-wrapper[data-v-4958c851]:hover{--top-info-transform: 45px;--top-info-opacity: 1;--top-info-display: "block"}#video-player-home .van-tabs__nav[data-v-4958c851],#video-player-home .van-tabs__nav--card[data-v-4958c851]{margin:0px !important}#video-player-home .van-loading-custom[data-v-4958c851]{position:absolute;top:0;z-index:1;background:rgba(0,0,0,.5882352941);width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#1989fa;--van-loading-text-color: #1989fa}#video-player-home .van-popup[data-v-4958c851],#video-player-home .van-dialog[data-v-4958c851]{color:#000 !important}#video-player-home .van-popup>.van-dialog__content[data-v-4958c851],#video-player-home .van-dialog>.van-dialog__content[data-v-4958c851]{max-height:60vh;overflow:auto}.body-content[data-v-4958c851]{overflow:auto}.body-content .message-text[data-v-4958c851]{padding:5px;font-size:13px;line-height:35px}div[data-v-4958c851]{background:linear-gradient(30deg, #401d62, #743b3b)}.van-search[data-v-4958c851]{--van-search-content-background-color: auto;--van-field-input-text-color: white;--van-padding-sm: 0px}.van-search__content[data-v-4958c851]{--van-padding-sm: 0px}[data-v-4958c851] .van-field .van-field__label{--van-field-label-color: white}[data-v-4958c851] .van-field .van-field__body{width:100%;--van-field-input-text-color: white}[data-v-4958c851] .van-cascader__tab{--van-cascader-tab-color: white;--van-tab-active-text-color: white}[data-v-4958c851] .van-cascader__options{height:auto !important}[data-v-4958c851] .van-cascader__options .van-cascader__option{padding-inline:10px;box-sizing:border-box;width:300px}[data-v-4958c851] .van-cascader__options .van-cascader__option:active{background-color:rgba(86,26,60,.3019607843)}[data-v-4958c851] .van-tabs__nav{--van-tabs-nav-background-color: #401d62}[data-v-4958c851] .van-tabs__track{padding-inline:0px;box-sizing:border-box}[data-v-4958c851] .van-tabs__track>.van-swipe__track{width:100% !important}[data-v-4958c851] .van-tabs__content{overflow:auto}',""]);const s=o},7539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"[data-v-4a62eebe]::-webkit-scrollbar{width:20px;height:10px}[data-v-4a62eebe]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-4a62eebe]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-4a62eebe]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-4a62eebe]{overflow:auto;background:#fff}.van-radio[data-v-4a62eebe]{--van-radio-checked-icon-color: #7232dd !important;-webkit-user-select:unset;user-select:unset}.van-switch[data-v-4a62eebe]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-4a62eebe]{background:#fff;color:#000}.text-field[data-v-4a62eebe]{margin-inline:0px 10px}.flex-2[data-v-4a62eebe]{flex:2}.flex-8[data-v-4a62eebe]{flex:8}.field-bg[data-v-4a62eebe]{background:#f0f8ff}.label-field[data-v-4a62eebe]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-4a62eebe]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-4a62eebe]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-4a62eebe]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-4a62eebe]{margin-inline:0 5px}[data-v-4a62eebe] .van-field__label{display:flex;align-items:center}[data-v-4a62eebe] .van-field__control{font-size:12px;word-break:break-all;overflow:auto;-webkit-user-select:unset;user-select:unset}[data-v-4a62eebe] .van-field__body{width:100%}.sticky-bottom[data-v-4a62eebe]{position:sticky;bottom:0}.custom-button[data-v-4a62eebe]{width:26px;color:#fff;font-size:10px;line-height:18px;text-align:center;background-color:#7232dd;border-radius:100px}",""]);const s=o},1043:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"[data-v-3df19130]::-webkit-scrollbar{width:20px;height:10px}[data-v-3df19130]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-3df19130]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-3df19130]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-3df19130]{overflow:auto;background:#fff}.van-radio[data-v-3df19130]{--van-radio-checked-icon-color: #7232dd !important;-webkit-user-select:unset;user-select:unset}.van-switch[data-v-3df19130]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-3df19130]{background:#fff;color:#000}.text-field[data-v-3df19130]{margin-inline:0px 10px}.flex-2[data-v-3df19130]{flex:2}.flex-8[data-v-3df19130]{flex:8}.field-bg[data-v-3df19130]{background:#f0f8ff}.label-field[data-v-3df19130]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-3df19130]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-3df19130]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-3df19130]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-3df19130]{margin-inline:0 5px}[data-v-3df19130] .van-field__label{display:flex;align-items:center}[data-v-3df19130] .van-field__control{font-size:12px;word-break:break-all;overflow:auto;-webkit-user-select:unset;user-select:unset}[data-v-3df19130] .van-field__body{width:100%}.sticky-bottom[data-v-3df19130]{position:sticky;bottom:0}[data-v-3df19130] .van-radio-group .text-switch{padding-bottom:8px;min-width:85px}",""]);const s=o},4924:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"[data-v-ee2787a0]::-webkit-scrollbar{width:20px;height:10px}[data-v-ee2787a0]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-ee2787a0]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-ee2787a0]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}.body-content[data-v-ee2787a0]{overflow:auto;background:#fff}.van-radio[data-v-ee2787a0]{--van-radio-checked-icon-color: #7232dd !important;-webkit-user-select:unset;user-select:unset}.van-switch[data-v-ee2787a0]{--van-switch-background-color: white !important;--van-switch-on-background-color: #7232dd !important}.van-field[data-v-ee2787a0]{background:#fff;color:#000}.text-field[data-v-ee2787a0]{margin-inline:0px 10px}.flex-2[data-v-ee2787a0]{flex:2}.flex-8[data-v-ee2787a0]{flex:8}.field-bg[data-v-ee2787a0]{background:#f0f8ff}.label-field[data-v-ee2787a0]{color:#7232dd;font-weight:bolder;font-size:15px}.group-switch[data-v-ee2787a0]{display:flex;justify-content:space-between;flex-wrap:wrap;flex-direction:row;width:100%}.group-switch .text-switch[data-v-ee2787a0]{margin:5px 0px 5px;color:var(--van-field-label-color);display:flex}.group-switch .text-switch>span[data-v-ee2787a0]{margin-inline:0 5px}.group-switch .text-switch>.van-switch[data-v-ee2787a0]{margin-inline:0 5px}[data-v-ee2787a0] .van-field__label{display:flex;align-items:center}[data-v-ee2787a0] .van-field__control{font-size:12px;word-break:break-all;overflow:auto;-webkit-user-select:unset;user-select:unset}[data-v-ee2787a0] .van-field__body{width:100%}.sticky-bottom[data-v-ee2787a0]{position:sticky;bottom:0}.van-loading-custom[data-v-ee2787a0]{position:absolute;top:0;z-index:1;background:rgba(0,0,0,.5882352941);width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#1989fa;--van-loading-text-color: #1989fa}",""]);const s=o},4894:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,'[data-v-857183a8]::-webkit-scrollbar{width:20px;height:10px}[data-v-857183a8]::-webkit-scrollbar-thumb{background-color:#7232dd;border-radius:5px}[data-v-857183a8]::-webkit-scrollbar-thumb:hover{background-color:#9da5ac}[data-v-857183a8]::-webkit-scrollbar-thumb:active{background-color:#2c3e50}[data-v-857183a8]:root{--van-tabs-card-height: 32px}pre[data-v-857183a8],code[data-v-857183a8]{-webkit-user-select:auto !important;user-select:auto !important}div[data-v-857183a8]{background:linear-gradient(130deg, black, transparent)}[class*=van-hairline][data-v-857183a8]::after{border:none !important}.van-text-ellipsis[data-v-857183a8]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;justify-content:space-between;display:block !important}#video-player-home[data-v-857183a8]{width:100%;height:100%;text-align:center;--video-player-width: 100%;--video-list-item-height: 35px;--top-info-transform: 0px;--top-info-opacity: 0;--top-info-display: none;--van-cell-background-color: black;--van-cell-text-color: white;--van-border-width-base: 0px;--van-padding-md: 0px;--van-overlay-background-color: transparent !important;--van-dialog-border-radius: 10px !important;--van-dialog-has-title-message-text-color: white !important;--van-dialog-confirm-button-text-color: white !important;--van-dialog-header-padding-top: 10px !important;--van-dialog-background-color: #7232dd !important;--div-transition: transform 0.2s ease-in-out, box-shadow 0.5s ease-in-out, outline 0.3s ease-in-out, opacity 0.2s ease-in-out, display 0.2s ease-in-out}#video-player-home div[data-v-857183a8]{transition:var(--div-transition);-moz-transition:var(--div-transition);-webkit-transition:var(--div-transition);-o-transition:var(--div-transition)}#video-player-home .video-bottom-tools[data-v-857183a8]{display:flex;height:var(--video-list-item-height);min-height:var(--video-list-item-height);max-height:var(--video-list-item-height);position:sticky;bottom:0;color:#fff;background:linear-gradient(165deg, #3e1d52, black, #0b2768);align-items:center;justify-content:space-around}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-857183a8]{margin:0px;cursor:pointer}#video-player-home .video-bottom-tools:nth-child(n)>span[data-v-857183a8]:hover{color:green}#video-player-home .height-top[data-v-857183a8]{height:45px;overflow:hidden;display:flex;align-items:center;justify-content:space-between;padding:0 10px;z-index:999;position:relative}#video-player-home .height-5vh[data-v-857183a8]{height:5vh;overflow:hidden;display:flex;align-items:center}#video-player-home .height-90vh[data-v-857183a8]{height:calc(100vh - 45px);overflow:auto;display:flex;align-items:center}#video-player-home .height-90vh>div[data-v-857183a8]{height:calc(100vh - 45px);overflow:auto;background:#1a192c}#video-player-home .height-100vh[data-v-857183a8]{height:100vh;overflow:hidden}#video-player-home .video-playlist-switch[data-v-857183a8]{width:25px;height:60px !important;background:#000 !important;position:absolute;right:320px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-top-left-radius:20px;border-bottom-left-radius:20px;z-index:1;opacity:.5;outline:none}#video-player-home .video-playlist-switch[data-v-857183a8]:hover{background:linear-gradient(120deg, #6c35c7, black, #1c2d8d) !important}#video-player-home .switch-right-0[data-v-857183a8]{right:0px}#video-player-home .switch-right-200[data-v-857183a8]{right:200px}#video-player-home .video-width-cut-200[data-v-857183a8]{width:calc(100% - 200px) !important}#video-player-home .video-play-list[data-v-857183a8]{overflow:auto}#video-player-home .video-play-list>.van-tabs>div[data-v-857183a8]{position:sticky;top:0px;z-index:3}#video-player-home .video-playlist-categories[data-v-857183a8]{width:120px !important;background:rgba(0,0,0,.3607843137);position:absolute;right:200px;z-index:2}#video-player-home .video-playlist[data-v-857183a8]{width:200px !important;position:absolute;right:0px;background:rgba(0,0,0,.3607843137);z-index:3;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between}#video-player-home .video-playlist-categories-btn[data-v-857183a8]{position:sticky;top:30px;font-size:12px;z-index:2;display:flex;align-items:center;padding:4px 6px 4px 2px}#video-player-home .video-playlist-search-btn[data-v-857183a8]{--van-search-content-background-color: black;--van-search-background-color: black;--van-field-input-text-color: white;--van-search-padding: 0px;padding:0px;z-index:1;position:sticky;top:62px}#video-player-home .video-categories-title[data-v-857183a8]{height:30px;cursor:pointer;display:flex;align-items:center;justify-content:space-around;position:sticky;top:0px;background:#000;font-size:12px}#video-player-home .video-categories[data-v-857183a8]{width:100%;font-size:12px}#video-player-home .video-categories[data-v-857183a8] li{height:var(--video-list-item-height);cursor:pointer;background:#1a192c;padding:0 8px;box-sizing:border-box;line-height:var(--video-list-item-height);display:flex !important;justify-content:space-between;flex-direction:row;align-items:center;flex-wrap:nowrap}#video-player-home .video-categories[data-v-857183a8] li:hover{background:linear-gradient(165deg, #3e1d52, black, #0b2768);color:#32a35e}#video-player-home .active-cell[data-v-857183a8]{background:#083208 !important;position:sticky;top:95px;bottom:0;z-index:1}#video-player-home .active-category[data-v-857183a8]{background:#083208 !important;position:sticky;top:30px;bottom:0px;z-index:1}#video-player-home .active-video-player[data-v-857183a8]{outline:2px solid #ff0 !important}#video-player-home .active-line[data-v-857183a8]{background:#083208 !important;color:#32a35e !important;z-index:1}#video-player-home .error-cell[data-v-857183a8],#video-player-home .error-line[data-v-857183a8]{background:#5a1111 !important;color:#625656 !important}#video-player-home .van-cell[data-v-857183a8]{cursor:pointer;text-align:left}#video-player-home .van-cell[data-v-857183a8]:hover{background:linear-gradient(18deg, #1d523c, black, #32a35e);color:#32a35e}#video-player-home .van-cell[data-v-857183a8]::after{border:none !important}#video-player-home .van-col[data-v-857183a8],#video-player-home .van-row[data-v-857183a8]{background:linear-gradient(2deg, #311d52, black, #252d5c);color:#fff}#video-player-home .van-cell-group[data-v-857183a8]{width:100%}#video-player-home .van-cell-group[data-v-857183a8] .van-cell__title{flex:10 !important}#video-player-home .van-cell-group[data-v-857183a8] .van-cell__label{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}#video-player-home .van-cell-group[data-v-857183a8] .van-cell__value{flex:4 !important}#video-player-home .custom-label[data-v-857183a8]{line-height:15px;outline:0px solid #000;color:#fff;margin-right:5px}#video-player-home .custom-label[data-v-857183a8]:hover{background:#083208;color:#32a35e}#video-player-home .custom-value[data-v-857183a8]{background:rgba(0,0,0,0);color:#32a35e;box-sizing:border-box;display:block;padding:0px;text-align:center;font-size:12px}#video-player-home .custom-value.success[data-v-857183a8]{background:#083208;color:#32a35e}#video-player-home .custom-value.error[data-v-857183a8]{background:#320e08;color:#a45332}#video-player-home .video-player-wrapper[data-v-857183a8]{width:var(--video-player-width);height:100%;background:#000;color:#fff;display:flex;align-content:flex-start;align-items:center;justify-content:space-between;flex-wrap:wrap}#video-player-home .video-player-wrapper .video-player-box[data-v-857183a8]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .top-media-info[data-v-857183a8]{position:absolute;background:linear-gradient(90deg, rgba(62, 29, 82, 0.5019607843), rgba(18, 18, 64, 0.3098039216), transparent);width:300px;max-width:99%;line-height:20px;font-size:15px;text-align:left;padding:5px 10px;margin-inline:1px;top:0;z-index:1;border-radius:15px;transform:translateY(var(--top-info-transform));opacity:var(--top-info-opacity);box-sizing:border-box;display:flex !important;align-items:center;justify-content:space-between;cursor:pointer;border-top-left-radius:0px;border-top-right-radius:0px}#video-player-home .video-player-wrapper .media-player[data-v-857183a8],#video-player-home .video-player-wrapper .iframe-media-player[data-v-857183a8]{width:calc(100% - 2px);height:calc(100% - 2px);background:#000;margin:1px;outline:2px solid #000}#video-player-home .video-player-wrapper .media-player[data-v-857183a8]:hover,#video-player-home .video-player-wrapper .iframe-media-player[data-v-857183a8]:hover{outline:2px dashed green}#video-player-home .video-player-wrapper[data-v-857183a8]:hover{--top-info-transform: 45px;--top-info-opacity: 1;--top-info-display: "block"}#video-player-home .van-tabs__nav[data-v-857183a8],#video-player-home .van-tabs__nav--card[data-v-857183a8]{margin:0px !important}#video-player-home .van-loading-custom[data-v-857183a8]{position:absolute;top:0;z-index:1;background:rgba(0,0,0,.5882352941);width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#1989fa;--van-loading-text-color: #1989fa}#video-player-home .van-popup[data-v-857183a8],#video-player-home .van-dialog[data-v-857183a8]{color:#000 !important}#video-player-home .van-popup>.van-dialog__content[data-v-857183a8],#video-player-home .van-dialog>.van-dialog__content[data-v-857183a8]{max-height:60vh;overflow:auto}',""]);const s=o},3129:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(8081),i=a.n(n),r=a(3645),o=a.n(r)()(i());o.push([e.id,"#option-home[data-v-bac2fad2]{width:100%;height:100%;text-align:center}",""]);const s=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",n=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),n&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),n&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,n,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&o[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),a&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=a):d[2]=a),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},510:e=>{var t;self,t=function(){return function(){var e={"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
  \******************************************************/function(e,t,a){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
e.exports=function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,r=void 0,o=void 0,s=function(e,t){_[i]=e,_[i+1]=t,2===(i+=2)&&(o?o(x):w())};function l(e){o=e}function c(e){s=e}var d="undefined"!=typeof window?window:void 0,u=d||{},h=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function v(){return function(){return process.nextTick(x)}}function m(){return void 0!==r?function(){r(x)}:b()}function g(){var e=0,t=new h(x),a=document.createTextNode("");return t.observe(a,{characterData:!0}),function(){a.data=e=++e%2}}function y(){var e=new MessageChannel;return e.port1.onmessage=x,function(){return e.port2.postMessage(0)}}function b(){var e=setTimeout;return function(){return e(x,1)}}var _=new Array(1e3);function x(){for(var e=0;e<i;e+=2)(0,_[e])(_[e+1]),_[e]=void 0,_[e+1]=void 0;i=0}function E(){try{var e=Function("return this")().require("vertx");return r=e.runOnLoop||e.runOnContext,m()}catch(e){return b()}}var w=void 0;function T(e,t){var a=this,n=new this.constructor(L);void 0===n[k]&&Y(n);var i=a._state;if(i){var r=arguments[i-1];s((function(){return G(i,n,r,a._result)}))}else z(a,n,e,t);return n}function S(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var a=new t(L);return B(a,e),a}w=f?v():h?g():p?y():void 0===d?E():b();var k=Math.random().toString(36).substring(2);function L(){}var A=void 0,D=1,I=2;function C(){return new TypeError("You cannot resolve a promise with itself")}function R(){return new TypeError("A promises callback cannot return that same promise.")}function P(e,t,a,n){try{e.call(t,a,n)}catch(e){return e}}function O(e,t,a){s((function(e){var n=!1,i=P(a,t,(function(a){n||(n=!0,t!==a?B(e,a):U(e,a))}),(function(t){n||(n=!0,j(e,t))}),"Settle: "+(e._label||" unknown promise"));!n&&i&&(n=!0,j(e,i))}),e)}function M(e,t){t._state===D?U(e,t._result):t._state===I?j(e,t._result):z(t,void 0,(function(t){return B(e,t)}),(function(t){return j(e,t)}))}function N(e,a,n){a.constructor===e.constructor&&n===T&&a.constructor.resolve===S?M(e,a):void 0===n?U(e,a):t(n)?O(e,a,n):U(e,a)}function B(t,a){if(t===a)j(t,C());else if(e(a)){var n=void 0;try{n=a.then}catch(e){return void j(t,e)}N(t,a,n)}else U(t,a)}function F(e){e._onerror&&e._onerror(e._result),V(e)}function U(e,t){e._state===A&&(e._result=t,e._state=D,0!==e._subscribers.length&&s(V,e))}function j(e,t){e._state===A&&(e._state=I,e._result=t,s(F,e))}function z(e,t,a,n){var i=e._subscribers,r=i.length;e._onerror=null,i[r]=t,i[r+D]=a,i[r+I]=n,0===r&&e._state&&s(V,e)}function V(e){var t=e._subscribers,a=e._state;if(0!==t.length){for(var n=void 0,i=void 0,r=e._result,o=0;o<t.length;o+=3)n=t[o],i=t[o+a],n?G(a,n,i,r):i(r);e._subscribers.length=0}}function G(e,a,n,i){var r=t(n),o=void 0,s=void 0,l=!0;if(r){try{o=n(i)}catch(e){l=!1,s=e}if(a===o)return void j(a,R())}else o=i;a._state!==A||(r&&l?B(a,o):!1===l?j(a,s):e===D?U(a,o):e===I&&j(a,o))}function H(e,t){try{t((function(t){B(e,t)}),(function(t){j(e,t)}))}catch(t){j(e,t)}}var q=0;function K(){return q++}function Y(e){e[k]=q++,e._state=void 0,e._result=void 0,e._subscribers=[]}function W(){return new Error("Array Methods must be provided an Array")}var X=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(L),this.promise[k]||Y(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?U(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&U(this.promise,this._result))):j(this.promise,W())}return e.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var a=this._instanceConstructor,n=a.resolve;if(n===S){var i=void 0,r=void 0,o=!1;try{i=e.then}catch(e){o=!0,r=e}if(i===T&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(a===te){var s=new a(L);o?j(s,r):N(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new a((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,a){var n=this.promise;n._state===A&&(this._remaining--,e===I?j(n,a):this._result[t]=a),0===this._remaining&&U(n,this._result)},e.prototype._willSettleAt=function(e,t){var a=this;z(e,void 0,(function(e){return a._settledAt(D,t,e)}),(function(e){return a._settledAt(I,t,e)}))},e}();function Z(e){return new X(this,e).promise}function Q(e){var t=this;return n(e)?new t((function(a,n){for(var i=e.length,r=0;r<i;r++)t.resolve(e[r]).then(a,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))}function J(e){var t=new this(L);return j(t,e),t}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var te=function(){function e(t){this[k]=K(),this._result=this._state=void 0,this._subscribers=[],L!==t&&("function"!=typeof t&&$(),this instanceof e?H(this,t):ee())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var a=this,n=a.constructor;return t(e)?a.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):a.then(e,e)},e}();function ae(){var e=void 0;if(void 0!==a.g)e=a.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=te}return te.prototype.then=T,te.all=Z,te.race=Q,te.resolve=S,te.reject=J,te._setScheduler=l,te._setAsap=c,te._asap=s,te.polyfill=ae,te.Promise=te,te}()},"./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/function(e){"use strict";var t,a="object"==typeof Reflect?Reflect:null,n=a&&"function"==typeof a.apply?a.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)};t=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,e.exports.once=function(e,t){return new Promise((function(a,n){function i(a){e.removeListener(t,r),n(a)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",i),a([].slice.call(arguments))}v(e,t,r,{once:!0}),"error"!==t&&function(e,t,a){"function"==typeof e.on&&v(e,"error",t,a)}(e,i,{once:!0})}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function c(e,t,a,n){var i,r,o,c;if(s(a),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,a.listener?a.listener:a),r=e._events),o=r[t]),void 0===o)o=r[t]=a,++e._eventsCount;else if("function"==typeof o?o=r[t]=n?[a,o]:[o,a]:n?o.unshift(a):o.push(a),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=o.length,c=d,console&&console.warn&&console.warn(c)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,a){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:a},i=d.bind(n);return i.listener=a,n.wrapFn=i,i}function h(e,t,a){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?a?[i.listener||i]:[i]:a?function(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var a=t[e];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function p(e,t){for(var a=new Array(t),n=0;n<t;++n)a[n]=e[n];return a}function v(e,t,a,n){if("function"==typeof e.on)n.once?e.once(t,a):e.on(t,a);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(r){n.once&&e.removeEventListener(t,i),a(r)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return l(this)},r.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var c=l.length,d=p(l,c);for(a=0;a<c;++a)n(d[a],this,t)}return!0},r.prototype.addListener=function(e,t){return c(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return c(this,e,t,!0)},r.prototype.once=function(e,t){return s(t),this.on(e,u(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,u(this,e,t)),this},r.prototype.removeListener=function(e,t){var a,n,i,r,o;if(s(t),void 0===(n=this._events))return this;if(void 0===(a=n[e]))return this;if(a===t||a.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!=typeof a){for(i=-1,r=a.length-1;r>=0;r--)if(a[r]===t||a[r].listener===t){o=a[r].listener,i=r;break}if(i<0)return this;0===i?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,i),1===a.length&&(n[e]=a[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,a,n;if(void 0===(a=this._events))return this;if(void 0===a.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==a[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete a[e]),this;if(0===arguments.length){var i,r=Object.keys(a);for(n=0;n<r.length;++n)"removeListener"!==(i=r[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=a[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},r.prototype.listeners=function(e){return h(this,e,!0)},r.prototype.rawListeners=function(e){return h(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},r.prototype.listenerCount=f,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/function(e,t,a){function n(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.i=function(e){return e},a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var n=a(a.s=ENTRY_MODULE);return n.default||n}var i="[\\.|\\-|\\+|\\w|/|@]+",r="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+i+").*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,n){var s={};s[n]=[];var l=t.toString(),c=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var d,u=c[1],h=new RegExp("(\\\\n|\\W)"+o(u)+r,"g");d=h.exec(l);)"dll-reference"!==d[3]&&s[n].push(d[3]);for(h=new RegExp("\\("+o(u)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+r,"g");d=h.exec(l);)e[d[2]]||(s[n].push(d[1]),e[d[2]]=a(d[1]).m),s[d[2]]=s[d[2]]||[],s[d[2]].push(d[4]);for(var f,p=Object.keys(s),v=0;v<p.length;v++)for(var m=0;m<s[p[v]].length;m++)f=s[p[v]][m],isNaN(1*f)||(s[p[v]][m]=1*s[p[v]][m]);return s}function l(e){return Object.keys(e).reduce((function(t,a){return t||e[a].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:a.m},r=t.all?{main:Object.keys(i.main)}:function(e,t){for(var a={main:[t]},n={main:[]},i={main:{}};l(a);)for(var r=Object.keys(a),o=0;o<r.length;o++){var c=r[o],d=a[c].pop();if(i[c]=i[c]||{},!i[c][d]&&e[c][d]){i[c][d]=!0,n[c]=n[c]||[],n[c].push(d);for(var u=s(e,e[c][d],c),h=Object.keys(u),f=0;f<h.length;f++)a[h[f]]=a[h[f]]||[],a[h[f]]=a[h[f]].concat(u[h[f]])}}return n}(i,e),o="";Object.keys(r).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;r[e][t];)t++;r[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+r[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),o=o+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+r.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var c=new window.Blob([o],{type:"text/javascript"});if(t.bare)return c;var d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),u=new window.Worker(d);return u.objectURL=d,u}},"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/function(e,t,a){"use strict";a.r(t),a.d(t,{defaultConfig:function(){return n},createDefaultConfig:function(){return i}});var n={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function i(){return Object.assign({},n)}},"./src/core/features.js":
/*!******************************!*\
  !*** ./src/core/features.js ***!
  \******************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../io/io-controller.js */"./src/io/io-controller.js"),i=a(/*! ../config.js */"./src/config.js"),r=function(){function e(){}return e.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},e.supportNetworkStreamIO=function(){var e=new n.default({},(0,i.createDefaultConfig)()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t},e.getNetworkLoaderTypeName=function(){var e=new n.default({},(0,i.createDefaultConfig)()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var a=e.videoElement.canPlayType(t);return"probably"===a||"maybe"==a},e.getFeatureList=function(){var t={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.mseFlvPlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLiveFlvPlayback=t.mseFlvPlayback&&t.networkStreamIO,t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t},e}();t.default=r},"./src/core/media-info.js":
/*!********************************!*\
  !*** ./src/core/media-info.js ***!
  \********************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,a=this._search(t.times,e);return{index:a,milliseconds:t.times[a],fileposition:t.filepositions[a]}},e.prototype._search=function(e,t){var a=0,n=e.length-1,i=0,r=0,o=n;for(t<e[0]&&(a=0,r=o+1);r<=o;){if((i=r+Math.floor((o-r)/2))===n||t>=e[i]&&t<e[i+1]){a=i;break}e[i]<t?r=i+1:o=i-1}return a},e}();t.default=n},"./src/core/media-segment-info.js":
/*!****************************************!*\
  !*** ./src/core/media-segment-info.js ***!
  \****************************************/function(e,t,a){"use strict";a.r(t),a.d(t,{SampleInfo:function(){return n},MediaSegmentInfo:function(){return i},IDRSampleList:function(){return r},MediaSegmentInfoList:function(){return o}});var n=function(e,t,a,n,i){this.dts=e,this.pts=t,this.duration=a,this.originalDts=n,this.isSyncPoint=i,this.fileposition=null},i=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),r=function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,a=0,n=t.length-1,i=0,r=0,o=n;for(e<t[0].dts&&(a=0,r=o+1);r<=o;){if((i=r+Math.floor((o-r)/2))===n||e>=t[i].dts&&e<t[i+1].dts){a=i;break}t[i].dts<e?r=i+1:o=i-1}return this._list[a]},e}(),o=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var a=t.length-1,n=0,i=0,r=a,o=0;if(e<t[0].originalBeginDts)return o=-1;for(;i<=r;){if((n=i+Math.floor((r-i)/2))===a||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){o=n;break}t[n].originalBeginDts<e?i=n+1:r=n-1}return o},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,a=e,n=this._lastAppendLocation,i=0;-1!==n&&n<t.length&&a.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&a.originalBeginDts<t[n+1].originalBeginDts)?i=n+1:t.length>0&&(i=this._searchNearestSegmentBefore(a.originalBeginDts)+1),this._lastAppendLocation=i,this._list.splice(i,0,a)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),a=this._list[t].syncPoints;0===a.length&&t>0;)t--,a=this._list[t].syncPoints;return a.length>0?a[a.length-1]:null},e}()},"./src/core/mse-controller.js":
/*!************************************!*\
  !*** ./src/core/mse-controller.js ***!
  \************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),i=a.n(n),r=a(/*! ../utils/logger.js */"./src/utils/logger.js"),o=a(/*! ../utils/browser.js */"./src/utils/browser.js"),s=a(/*! ./mse-events.js */"./src/core/mse-events.js"),l=a(/*! ./media-segment-info.js */"./src/core/media-segment-info.js"),c=a(/*! ../utils/exception.js */"./src/utils/exception.js"),d=function(){function e(e){this.TAG="MSEController",this._config=e,this._emitter=new(i()),this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new l.IDRSampleList}return e.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaSource)throw new c.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL},e.prototype.detachMediaElement=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var a=this._pendingSegments[t];a.splice(0,a.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var n=this._sourceBuffers[t];if(n){if("closed"!==e.readyState){try{e.removeSourceBuffer(n)}catch(e){r.default.e(this.TAG,e.message)}n.removeEventListener("error",this.e.onSourceBufferError),n.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){r.default.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var a=e,n=""+a.container;a.codec&&a.codec.length>0&&(n+=";codecs="+a.codec);var i=!1;if(r.default.v(this.TAG,"Received Initialization Segment, mimeType: "+n),this._lastInitSegments[a.type]=a,n!==this._mimeTypes[a.type]){if(this._mimeTypes[a.type])r.default.v(this.TAG,"Notice: "+a.type+" mimeType changed, origin: "+this._mimeTypes[a.type]+", target: "+n);else{i=!0;try{var l=this._sourceBuffers[a.type]=this._mediaSource.addSourceBuffer(n);l.addEventListener("error",this.e.onSourceBufferError),l.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return r.default.e(this.TAG,e.message),void this._emitter.emit(s.default.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[a.type]=n}t||this._pendingSegments[a.type].push(a),i||this._sourceBuffers[a.type]&&!this._sourceBuffers[a.type].updating&&this._doAppendSegments(),o.default.safari&&"audio/mpeg"===a.container&&a.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=a.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var a=this._sourceBuffers[t.type];!a||a.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.seek=function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var a=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{a.abort()}catch(e){r.default.e(this.TAG,e.message)}this._idrList.clear();var n=this._pendingSegments[t];if(n.splice(0,n.length),"closed"!==this._mediaSource.readyState){for(var i=0;i<a.buffered.length;i++){var s=a.buffered.start(i),l=a.buffered.end(i);this._pendingRemoveRanges[t].push({start:s,end:l})}if(a.updating||this._doRemoveRanges(),o.default.safari){var c=this._lastInitSegments[t];c&&(this._pendingSegments[t].push(c),a.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},e.prototype.getNearestKeyframe=function(e){return this._idrList.getLastSyncPointBeforeDts(e)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var a=this._sourceBuffers[t];if(a){var n=a.buffered;if(n.length>=1&&e-n.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var a=this._sourceBuffers[t];if(a){for(var n=a.buffered,i=!1,r=0;r<n.length;r++){var o=n.start(r),s=n.end(r);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){i=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:l})}}else s<e&&(i=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}i&&!a.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,a=this._pendingMediaDuration;a>0&&(isNaN(t)||a>t)&&(r.default.v(this.TAG,"Update MediaSource duration from "+t+" to "+a),this._mediaSource.duration=a),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],a=this._pendingRemoveRanges[e];a.length&&!t.updating;){var n=a.shift();t.remove(n.start,n.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var a=e[t].shift();if(a.timestampOffset){var n=this._sourceBuffers[t].timestampOffset,i=a.timestampOffset/1e3;Math.abs(n-i)>.1&&(r.default.v(this.TAG,"Update MPEG audio timestampOffset from "+n+" to "+i),this._sourceBuffers[t].timestampOffset=i),delete a.timestampOffset}if(!a.data||0===a.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(a.data),this._isBufferFull=!1,"video"===t&&a.hasOwnProperty("info")&&this._idrList.appendArray(a.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(a),22===e.code?(this._isBufferFull||this._emitter.emit(s.default.BUFFER_FULL),this._isBufferFull=!0):(r.default.e(this.TAG,e.message),this._emitter.emit(s.default.ERROR,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(r.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(s.default.SOURCE_OPEN)},e.prototype._onSourceEnded=function(){r.default.v(this.TAG,"MediaSource onSourceEnded")},e.prototype._onSourceClose=function(){r.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(s.default.UPDATE_END)},e.prototype._onSourceBufferError=function(e){r.default.e(this.TAG,"SourceBuffer Error: "+e)},e}();t.default=d},"./src/core/mse-events.js":
/*!********************************!*\
  !*** ./src/core/mse-events.js ***!
  \********************************/function(e,t,a){"use strict";a.r(t),t.default={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"}},"./src/core/transmuxer.js":
/*!********************************!*\
  !*** ./src/core/transmuxer.js ***!
  \********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),i=a.n(n),r=a(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),o=a.n(r),s=a(/*! ../utils/logger.js */"./src/utils/logger.js"),l=a(/*! ../utils/logging-control.js */"./src/utils/logging-control.js"),c=a(/*! ./transmuxing-controller.js */"./src/core/transmuxing-controller.js"),d=a(/*! ./transmuxing-events.js */"./src/core/transmuxing-events.js"),u=a(/*! ./media-info.js */"./src/core/media-info.js"),h=function(){function e(e,t){if(this.TAG="Transmuxer",this._emitter=new(i()),t.enableWorker&&"undefined"!=typeof Worker)try{this._worker=o()(/*! ./transmuxing-worker */"./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},l.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:l.default.getConfig()})}catch(a){s.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new c.default(e,t)}else this._controller=new c.default(e,t);if(this._controller){var a=this._controller;a.on(d.default.IO_ERROR,this._onIOError.bind(this)),a.on(d.default.DEMUX_ERROR,this._onDemuxError.bind(this)),a.on(d.default.INIT_SEGMENT,this._onInitSegment.bind(this)),a.on(d.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),a.on(d.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),a.on(d.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),a.on(d.default.MEDIA_INFO,this._onMediaInfo.bind(this)),a.on(d.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),a.on(d.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),a.on(d.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),a.on(d.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),l.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var a=this;Promise.resolve().then((function(){a._emitter.emit(d.default.INIT_SEGMENT,e,t)}))},e.prototype._onMediaSegment=function(e,t){var a=this;Promise.resolve().then((function(){a._emitter.emit(d.default.MEDIA_SEGMENT,e,t)}))},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(d.default.LOADING_COMPLETE)}))},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(d.default.RECOVERED_EARLY_EOF)}))},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(d.default.MEDIA_INFO,e)}))},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(d.default.METADATA_ARRIVED,e)}))},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(d.default.SCRIPTDATA_ARRIVED,e)}))},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(d.default.STATISTICS_INFO,e)}))},e.prototype._onIOError=function(e,t){var a=this;Promise.resolve().then((function(){a._emitter.emit(d.default.IO_ERROR,e,t)}))},e.prototype._onDemuxError=function(e,t){var a=this;Promise.resolve().then((function(){a._emitter.emit(d.default.DEMUX_ERROR,e,t)}))},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(d.default.RECOMMEND_SEEKPOINT,e)}))},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,a=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case d.default.INIT_SEGMENT:case d.default.MEDIA_SEGMENT:this._emitter.emit(t.msg,a.type,a.data);break;case d.default.LOADING_COMPLETE:case d.default.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case d.default.MEDIA_INFO:Object.setPrototypeOf(a,u.default.prototype),this._emitter.emit(t.msg,a);break;case d.default.METADATA_ARRIVED:case d.default.SCRIPTDATA_ARRIVED:case d.default.STATISTICS_INFO:this._emitter.emit(t.msg,a);break;case d.default.IO_ERROR:case d.default.DEMUX_ERROR:this._emitter.emit(t.msg,a.type,a.info);break;case d.default.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,a);break;case"logcat_callback":s.default.emitter.emit("log",a.type,a.logcat)}},e}();t.default=h},"./src/core/transmuxing-controller.js":
/*!********************************************!*\
  !*** ./src/core/transmuxing-controller.js ***!
  \********************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),i=a.n(n),r=a(/*! ../utils/logger.js */"./src/utils/logger.js"),o=a(/*! ../utils/browser.js */"./src/utils/browser.js"),s=a(/*! ./media-info.js */"./src/core/media-info.js"),l=a(/*! ../demux/flv-demuxer.js */"./src/demux/flv-demuxer.js"),c=a(/*! ../remux/mp4-remuxer.js */"./src/remux/mp4-remuxer.js"),d=a(/*! ../demux/demux-errors.js */"./src/demux/demux-errors.js"),u=a(/*! ../io/io-controller.js */"./src/io/io-controller.js"),h=a(/*! ./transmuxing-events.js */"./src/core/transmuxing-events.js"),f=function(){function e(e,t){this.TAG="TransmuxingController",this._emitter=new(i()),this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var a=0;this._mediaDataSource.segments.forEach((function(n){n.timestampBase=a,a+=n.duration,n.cors=e.cors,n.withCredentials=e.withCredentials,t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy)})),isNaN(a)||this._mediaDataSource.duration===a||(this._mediaDataSource.duration=a),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var a=this._mediaDataSource.segments[e],n=this._ioctl=new u.default(a,this._config,e);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var a=this._mediaInfo.segments[t];if(null==a)this._pendingSeekTime=e;else{var n=a.getNearestKeyframe(e);this._remuxer.seek(n.milliseconds),this._ioctl.seek(n.fileposition),this._pendingResolveSeekPoint=n.milliseconds}}else{var i=this._mediaInfo.segments[t];null==i?(this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t)):(n=i.getNearestKeyframe(e),this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,n.fileposition),this._pendingResolveSeekPoint=n.milliseconds,this._reportSegmentMediaInfo(t))}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,a=t.length-1,n=0;n<t.length;n++)if(e<t[n].timestampBase){a=n-1;break}return a},e.prototype._onInitChunkArrival=function(e,t){var a=this,n=null,i=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,i=this._demuxer.parseChunks(e,t);else if((n=l.default.probe(e)).match){this._demuxer=new l.default(n,this._config),this._remuxer||(this._remuxer=new c.default(this._config));var o=this._mediaDataSource;null==o.duration||isNaN(o.duration)||(this._demuxer.overridedDuration=o.duration),"boolean"==typeof o.hasAudio&&(this._demuxer.overridedHasAudio=o.hasAudio),"boolean"==typeof o.hasVideo&&(this._demuxer.overridedHasVideo=o.hasVideo),this._demuxer.timestampBase=o.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),i=this._demuxer.parseChunks(e,t)}else n=null,r.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then((function(){a._internalAbort()})),this._emitter.emit(h.default.DEMUX_ERROR,d.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),i=0;return i},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,s.default.prototype));var a=Object.assign({},e);Object.setPrototypeOf(a,s.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=a,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then((function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)}))},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(h.default.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(h.default.SCRIPTDATA_ARRIVED,e)},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(h.default.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(h.default.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){r.default.e(this.TAG,"IOException: type = "+e+", code = "+t.code+", msg = "+t.msg),this._emitter.emit(h.default.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){r.default.e(this.TAG,"DemuxException: type = "+e+", info = "+t),this._emitter.emit(h.default.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(h.default.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(h.default.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var a=t.info.syncPoints,n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,o.default.safari&&a.length>0&&a[0].originalDts===n&&(n=a[0].pts),this._emitter.emit(h.default.RECOMMEND_SEEKPOINT,n)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],a=Object.assign({},t);a.duration=this._mediaInfo.duration,a.segmentCount=this._mediaInfo.segmentCount,delete a.segments,delete a.keyframesIndex,this._emitter.emit(h.default.MEDIA_INFO,a)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(h.default.STATISTICS_INFO,e)},e}();t.default=f},"./src/core/transmuxing-events.js":
/*!****************************************!*\
  !*** ./src/core/transmuxing-events.js ***!
  \****************************************/function(e,t,a){"use strict";a.r(t),t.default={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},"./src/core/transmuxing-worker.js":
/*!****************************************!*\
  !*** ./src/core/transmuxing-worker.js ***!
  \****************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/logging-control.js */"./src/utils/logging-control.js"),i=a(/*! ../utils/polyfill.js */"./src/utils/polyfill.js"),r=a(/*! ./transmuxing-controller.js */"./src/core/transmuxing-controller.js"),o=a(/*! ./transmuxing-events.js */"./src/core/transmuxing-events.js");t.default=function(e){var t=null,a=function(t,a){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:a}})}.bind(this);function s(t,a){var n={msg:o.default.INIT_SEGMENT,data:{type:t,data:a}};e.postMessage(n,[a.data])}function l(t,a){var n={msg:o.default.MEDIA_SEGMENT,data:{type:t,data:a}};e.postMessage(n,[a.data])}function c(){var t={msg:o.default.LOADING_COMPLETE};e.postMessage(t)}function d(){var t={msg:o.default.RECOVERED_EARLY_EOF};e.postMessage(t)}function u(t){var a={msg:o.default.MEDIA_INFO,data:t};e.postMessage(a)}function h(t){var a={msg:o.default.METADATA_ARRIVED,data:t};e.postMessage(a)}function f(t){var a={msg:o.default.SCRIPTDATA_ARRIVED,data:t};e.postMessage(a)}function p(t){var a={msg:o.default.STATISTICS_INFO,data:t};e.postMessage(a)}function v(t,a){e.postMessage({msg:o.default.IO_ERROR,data:{type:t,info:a}})}function m(t,a){e.postMessage({msg:o.default.DEMUX_ERROR,data:{type:t,info:a}})}function g(t){e.postMessage({msg:o.default.RECOMMEND_SEEKPOINT,data:t})}i.default.install(),e.addEventListener("message",(function(i){switch(i.data.cmd){case"init":(t=new r.default(i.data.param[0],i.data.param[1])).on(o.default.IO_ERROR,v.bind(this)),t.on(o.default.DEMUX_ERROR,m.bind(this)),t.on(o.default.INIT_SEGMENT,s.bind(this)),t.on(o.default.MEDIA_SEGMENT,l.bind(this)),t.on(o.default.LOADING_COMPLETE,c.bind(this)),t.on(o.default.RECOVERED_EARLY_EOF,d.bind(this)),t.on(o.default.MEDIA_INFO,u.bind(this)),t.on(o.default.METADATA_ARRIVED,h.bind(this)),t.on(o.default.SCRIPTDATA_ARRIVED,f.bind(this)),t.on(o.default.STATISTICS_INFO,p.bind(this)),t.on(o.default.RECOMMEND_SEEKPOINT,g.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(i.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var y=i.data.param;n.default.applyConfig(y),!0===y.enableCallback?n.default.addLogListener(a):n.default.removeLogListener(a)}}))}},"./src/demux/amf-parser.js":
/*!*********************************!*\
  !*** ./src/demux/amf-parser.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n,i=a(/*! ../utils/logger.js */"./src/utils/logger.js"),r=a(/*! ../utils/utf8-conv.js */"./src/utils/utf8-conv.js"),o=a(/*! ../utils/exception.js */"./src/utils/exception.js"),s=(n=new ArrayBuffer(2),new DataView(n).setInt16(0,256,!0),256===new Int16Array(n)[0]),l=function(){function e(){}return e.parseScriptData=function(t,a,n){var r={};try{var o=e.parseValue(t,a,n),s=e.parseValue(t,a+o.size,n-o.size);r[o.data]=s.data}catch(e){i.default.e("AMF",e.toString())}return r},e.parseObject=function(t,a,n){if(n<3)throw new o.IllegalStateException("Data not enough when parse ScriptDataObject");var i=e.parseString(t,a,n),r=e.parseValue(t,a+i.size,n-i.size),s=r.objectEnd;return{data:{name:i.data,value:r.data},size:i.size+r.size,objectEnd:s}},e.parseVariable=function(t,a,n){return e.parseObject(t,a,n)},e.parseString=function(e,t,a){if(a<2)throw new o.IllegalStateException("Data not enough when parse String");var n=new DataView(e,t,a).getUint16(0,!s);return{data:n>0?(0,r.default)(new Uint8Array(e,t+2,n)):"",size:2+n}},e.parseLongString=function(e,t,a){if(a<4)throw new o.IllegalStateException("Data not enough when parse LongString");var n=new DataView(e,t,a).getUint32(0,!s);return{data:n>0?(0,r.default)(new Uint8Array(e,t+4,n)):"",size:4+n}},e.parseDate=function(e,t,a){if(a<10)throw new o.IllegalStateException("Data size invalid when parse Date");var n=new DataView(e,t,a),i=n.getFloat64(0,!s),r=n.getInt16(8,!s);return{data:new Date(i+=60*r*1e3),size:10}},e.parseValue=function(t,a,n){if(n<1)throw new o.IllegalStateException("Data not enough when parse Value");var r,l=new DataView(t,a,n),c=1,d=l.getUint8(0),u=!1;try{switch(d){case 0:r=l.getFloat64(1,!s),c+=8;break;case 1:r=!!l.getUint8(1),c+=1;break;case 2:var h=e.parseString(t,a+1,n-1);r=h.data,c+=h.size;break;case 3:r={};var f=0;for(9==(16777215&l.getUint32(n-4,!s))&&(f=3);c<n-4;){var p=e.parseObject(t,a+c,n-c-f);if(p.objectEnd)break;r[p.data.name]=p.data.value,c+=p.size}c<=n-3&&9==(16777215&l.getUint32(c-1,!s))&&(c+=3);break;case 8:for(r={},c+=4,f=0,9==(16777215&l.getUint32(n-4,!s))&&(f=3);c<n-8;){var v=e.parseVariable(t,a+c,n-c-f);if(v.objectEnd)break;r[v.data.name]=v.data.value,c+=v.size}c<=n-3&&9==(16777215&l.getUint32(c-1,!s))&&(c+=3);break;case 9:r=void 0,c=1,u=!0;break;case 10:r=[];var m=l.getUint32(1,!s);c+=4;for(var g=0;g<m;g++){var y=e.parseValue(t,a+c,n-c);r.push(y.data),c+=y.size}break;case 11:var b=e.parseDate(t,a+1,n-1);r=b.data,c+=b.size;break;case 12:var _=e.parseString(t,a+1,n-1);r=_.data,c+=_.size;break;default:c=n,i.default.w("AMF","Unsupported AMF value type "+d)}}catch(e){i.default.e("AMF",e.toString())}return{data:r,size:c,objectEnd:u}},e}();t.default=l},"./src/demux/demux-errors.js":
/*!***********************************!*\
  !*** ./src/demux/demux-errors.js ***!
  \***********************************/function(e,t,a){"use strict";a.r(t),t.default={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},"./src/demux/exp-golomb.js":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/exception.js */"./src/utils/exception.js"),i=function(){function e(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new n.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),a=new Uint8Array(4);a.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(a.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new n.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var a=this._current_word_bits_left?this._current_word:0;a>>>=32-this._current_word_bits_left;var i=e-this._current_word_bits_left;this._fillCurrentWord();var r=Math.min(i,this._current_word_bits_left),o=this._current_word>>>32-r;return this._current_word<<=r,this._current_word_bits_left-=r,a=a<<r|o},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}();t.default=i},"./src/demux/flv-demuxer.js":
/*!**********************************!*\
  !*** ./src/demux/flv-demuxer.js ***!
  \**********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/logger.js */"./src/utils/logger.js"),i=a(/*! ./amf-parser.js */"./src/demux/amf-parser.js"),r=a(/*! ./sps-parser.js */"./src/demux/sps-parser.js"),o=a(/*! ./demux-errors.js */"./src/demux/demux-errors.js"),s=a(/*! ../core/media-info.js */"./src/core/media-info.js"),l=a(/*! ../utils/exception.js */"./src/utils/exception.js"),c=function(){function e(e,t){var a;this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new s.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=(a=new ArrayBuffer(2),new DataView(a).setInt16(0,256,!0),256===new Int16Array(a)[0])}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e),a={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return a;var n,i,r=(4&t[4])>>>2!=0,o=0!=(1&t[4]),s=(n=t)[i=5]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3];return s<9?a:{match:!0,consumed:s,dataOffset:s,hasAudioTrack:r,hasVideoTrack:o}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(e.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(e){this._timestampBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedDuration",{get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasAudio",{set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasVideo",{set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e},enumerable:!1,configurable:!0}),e.prototype.resetMediaInfo=function(){this._mediaInfo=new s.default},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,a){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new l.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var i=0,r=this._littleEndian;if(0===a){if(!(t.byteLength>13))return 0;i=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,a+i!==this._dataOffset&&n.default.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==(o=new DataView(t,i)).getUint32(0,!r)&&n.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),i+=4);i<t.byteLength;){this._dispatch=!0;var o=new DataView(t,i);if(i+11+4>t.byteLength)break;var s=o.getUint8(0),c=16777215&o.getUint32(0,!r);if(i+11+c+4>t.byteLength)break;if(8===s||9===s||18===s){var d=o.getUint8(4),u=o.getUint8(5),h=o.getUint8(6)|u<<8|d<<16|o.getUint8(7)<<24;0!=(16777215&o.getUint32(7,!r))&&n.default.w(this.TAG,"Meet tag which has StreamID != 0!");var f=i+11;switch(s){case 8:this._parseAudioData(t,f,c,h);break;case 9:this._parseVideoData(t,f,c,h,a+i);break;case 18:this._parseScriptData(t,f,c)}var p=o.getUint32(11+c,!r);p!==11+c&&n.default.w(this.TAG,"Invalid PrevTagSize "+p),i+=11+c+4}else n.default.w(this.TAG,"Unsupported tag type "+s+", skipped"),i+=11+c+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),i},e.prototype._parseScriptData=function(e,t,a){var r=i.default.parseScriptData(e,t,a);if(r.hasOwnProperty("onMetaData")){if(null==r.onMetaData||"object"!=typeof r.onMetaData)return void n.default.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&n.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=r;var o=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},o)),"boolean"==typeof o.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=o.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof o.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=o.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof o.audiodatarate&&(this._mediaInfo.audioDataRate=o.audiodatarate),"number"==typeof o.videodatarate&&(this._mediaInfo.videoDataRate=o.videodatarate),"number"==typeof o.width&&(this._mediaInfo.width=o.width),"number"==typeof o.height&&(this._mediaInfo.height=o.height),"number"==typeof o.duration){if(!this._durationOverrided){var s=Math.floor(o.duration*this._timescale);this._duration=s,this._mediaInfo.duration=s}}else this._mediaInfo.duration=0;if("number"==typeof o.framerate){var l=Math.floor(1e3*o.framerate);if(l>0){var c=l/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=c,this._referenceFrameRate.fps_num=l,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=c}}if("object"==typeof o.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var d=o.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(d),o.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=o,n.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(r).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},r))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],a=[],n=1;n<e.times.length;n++){var i=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(i),a.push(e.filepositions[n])}return{times:t,filepositions:a}},e.prototype._parseAudioData=function(e,t,a,i){if(a<=1)n.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var r=new DataView(e,t,a).getUint8(0),s=r>>>4;if(2===s||10===s){var l=0,c=(12&r)>>>2;if(c>=0&&c<=4){l=this._flvSoundRateTable[c];var d=1&r,u=this._audioMetadata,h=this._audioTrack;if(u||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(u=this._audioMetadata={}).type="audio",u.id=h.id,u.timescale=this._timescale,u.duration=this._duration,u.audioSampleRate=l,u.channelCount=0===d?1:2),10===s){var f=this._parseAACAudioData(e,t+1,a-1);if(null==f)return;if(0===f.packetType){u.config&&n.default.w(this.TAG,"Found another AudioSpecificConfig!");var p=f.data;u.audioSampleRate=p.samplingRate,u.channelCount=p.channelCount,u.codec=p.codec,u.originalCodec=p.originalCodec,u.config=p.config,u.refSampleDuration=1024/u.audioSampleRate*u.timescale,n.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",u),(g=this._mediaInfo).audioCodec=u.originalCodec,g.audioSampleRate=u.audioSampleRate,g.audioChannelCount=u.channelCount,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}else if(1===f.packetType){var v=this._timestampBase+i,m={unit:f.data,length:f.data.byteLength,dts:v,pts:v};h.samples.push(m),h.length+=f.data.length}else n.default.e(this.TAG,"Flv: Unsupported AAC data type "+f.packetType)}else if(2===s){if(!u.codec){var g;if(null==(p=this._parseMP3AudioData(e,t+1,a-1,!0)))return;u.audioSampleRate=p.samplingRate,u.channelCount=p.channelCount,u.codec=p.codec,u.originalCodec=p.originalCodec,u.refSampleDuration=1152/u.audioSampleRate*u.timescale,n.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",u),(g=this._mediaInfo).audioCodec=u.codec,g.audioSampleRate=u.audioSampleRate,g.audioChannelCount=u.channelCount,g.audioDataRate=p.bitRate,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}var y=this._parseMP3AudioData(e,t+1,a-1,!1);if(null==y)return;v=this._timestampBase+i;var b={unit:y,length:y.byteLength,dts:v,pts:v};h.samples.push(b),h.length+=y.length}}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+c)}else this._onError(o.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+s)}},e.prototype._parseAACAudioData=function(e,t,a){if(!(a<=1)){var i={},r=new Uint8Array(e,t,a);return i.packetType=r[0],0===r[0]?i.data=this._parseAACAudioSpecificConfig(e,t+1,a-1):i.data=r.subarray(1),i}n.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},e.prototype._parseAACAudioSpecificConfig=function(e,t,a){var n,i,r=new Uint8Array(e,t,a),s=null,l=0,c=null;if(l=n=r[0]>>>3,(i=(7&r[0])<<1|r[1]>>>7)<0||i>=this._mpegSamplingRates.length)this._onError(o.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var d=this._mpegSamplingRates[i],u=(120&r[1])>>>3;if(!(u<0||u>=8)){5===l&&(c=(7&r[1])<<1|r[2]>>>7,r[2]);var h=self.navigator.userAgent.toLowerCase();return-1!==h.indexOf("firefox")?i>=6?(l=5,s=new Array(4),c=i-3):(l=2,s=new Array(2),c=i):-1!==h.indexOf("android")?(l=2,s=new Array(2),c=i):(l=5,c=i,s=new Array(4),i>=6?c=i-3:1===u&&(l=2,s=new Array(2),c=i)),s[0]=l<<3,s[0]|=(15&i)>>>1,s[1]=(15&i)<<7,s[1]|=(15&u)<<3,5===l&&(s[1]|=(15&c)>>>1,s[2]=(1&c)<<7,s[2]|=8,s[3]=0),{config:s,samplingRate:d,channelCount:u,codec:"mp4a.40."+l,originalCodec:"mp4a.40."+n}}this._onError(o.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},e.prototype._parseMP3AudioData=function(e,t,a,i){if(!(a<4)){this._littleEndian;var r=new Uint8Array(e,t,a),o=null;if(i){if(255!==r[0])return;var s=r[1]>>>3&3,l=(6&r[1])>>1,c=(240&r[2])>>>4,d=(12&r[2])>>>2,u=3!=(r[3]>>>6&3)?2:1,h=0,f=0;switch(s){case 0:h=this._mpegAudioV25SampleRateTable[d];break;case 2:h=this._mpegAudioV20SampleRateTable[d];break;case 3:h=this._mpegAudioV10SampleRateTable[d]}switch(l){case 1:c<this._mpegAudioL3BitRateTable.length&&(f=this._mpegAudioL3BitRateTable[c]);break;case 2:c<this._mpegAudioL2BitRateTable.length&&(f=this._mpegAudioL2BitRateTable[c]);break;case 3:c<this._mpegAudioL1BitRateTable.length&&(f=this._mpegAudioL1BitRateTable[c])}o={bitRate:f,samplingRate:h,channelCount:u,codec:"mp3",originalCodec:"mp3"}}else o=r;return o}n.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},e.prototype._parseVideoData=function(e,t,a,i,r){if(a<=1)n.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var s=new Uint8Array(e,t,a)[0],l=(240&s)>>>4,c=15&s;7===c?this._parseAVCVideoPacket(e,t+1,a-1,i,r,l):this._onError(o.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+c)}},e.prototype._parseAVCVideoPacket=function(e,t,a,i,r,s){if(a<4)n.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var l=this._littleEndian,c=new DataView(e,t,a),d=c.getUint8(0),u=(16777215&c.getUint32(0,!l))<<8>>8;if(0===d)this._parseAVCDecoderConfigurationRecord(e,t+4,a-4);else if(1===d)this._parseAVCVideoData(e,t+4,a-4,i,r,s,u);else if(2!==d)return void this._onError(o.default.FORMAT_ERROR,"Flv: Invalid video packet type "+d)}},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,a){if(a<7)n.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var i=this._videoMetadata,s=this._videoTrack,l=this._littleEndian,c=new DataView(e,t,a);i?void 0!==i.avcc&&n.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(i=this._videoMetadata={}).type="video",i.id=s.id,i.timescale=this._timescale,i.duration=this._duration);var d=c.getUint8(0),u=c.getUint8(1);if(c.getUint8(2),c.getUint8(3),1===d&&0!==u)if(this._naluLengthSize=1+(3&c.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var h=31&c.getUint8(5);if(0!==h){h>1&&n.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+h);for(var f=6,p=0;p<h;p++){var v=c.getUint16(f,!l);if(f+=2,0!==v){var m=new Uint8Array(e,t+f,v);f+=v;var g=r.default.parseSPS(m);if(0===p){i.codecWidth=g.codec_size.width,i.codecHeight=g.codec_size.height,i.presentWidth=g.present_size.width,i.presentHeight=g.present_size.height,i.profile=g.profile_string,i.level=g.level_string,i.bitDepth=g.bit_depth,i.chromaFormat=g.chroma_format,i.sarRatio=g.sar_ratio,i.frameRate=g.frame_rate,!1!==g.frame_rate.fixed&&0!==g.frame_rate.fps_num&&0!==g.frame_rate.fps_den||(i.frameRate=this._referenceFrameRate);var y=i.frameRate.fps_den,b=i.frameRate.fps_num;i.refSampleDuration=i.timescale*(y/b);for(var _=m.subarray(1,4),x="avc1.",E=0;E<3;E++){var w=_[E].toString(16);w.length<2&&(w="0"+w),x+=w}i.codec=x;var T=this._mediaInfo;T.width=i.codecWidth,T.height=i.codecHeight,T.fps=i.frameRate.fps,T.profile=i.profile,T.level=i.level,T.refFrames=g.ref_frames,T.chromaFormat=g.chroma_format_string,T.sarNum=i.sarRatio.width,T.sarDen=i.sarRatio.height,T.videoCodec=x,T.hasAudio?null!=T.audioCodec&&(T.mimeType='video/x-flv; codecs="'+T.videoCodec+","+T.audioCodec+'"'):T.mimeType='video/x-flv; codecs="'+T.videoCodec+'"',T.isComplete()&&this._onMediaInfo(T)}}}var S=c.getUint8(f);if(0!==S){for(S>1&&n.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+S),f++,p=0;p<S;p++)v=c.getUint16(f,!l),f+=2,0!==v&&(f+=v);i.avcc=new Uint8Array(a),i.avcc.set(new Uint8Array(e,t,a),0),n.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",i)}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(o.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(o.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},e.prototype._parseAVCVideoData=function(e,t,a,i,r,o,s){for(var l=this._littleEndian,c=new DataView(e,t,a),d=[],u=0,h=0,f=this._naluLengthSize,p=this._timestampBase+i,v=1===o;h<a;){if(h+4>=a){n.default.w(this.TAG,"Malformed Nalu near timestamp "+p+", offset = "+h+", dataSize = "+a);break}var m=c.getUint32(h,!l);if(3===f&&(m>>>=8),m>a-f)return void n.default.w(this.TAG,"Malformed Nalus near timestamp "+p+", NaluSize > DataSize!");var g=31&c.getUint8(h+f);5===g&&(v=!0);var y=new Uint8Array(e,t+h,f+m),b={type:g,data:y};d.push(b),u+=y.byteLength,h+=f+m}if(d.length){var _=this._videoTrack,x={units:d,length:u,isKeyframe:v,dts:p,cts:s,pts:p+s};v&&(x.fileposition=r),_.samples.push(x),_.length+=u}},e}();t.default=c},"./src/demux/sps-parser.js":
/*!*********************************!*\
  !*** ./src/demux/sps-parser.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ./exp-golomb.js */"./src/demux/exp-golomb.js"),i=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,a=t.byteLength,n=new Uint8Array(a),i=0,r=0;r<a;r++)r>=2&&3===t[r]&&0===t[r-1]&&0===t[r-2]||(n[i]=t[r],i++);return new Uint8Array(n.buffer,0,i)},e.parseSPS=function(t){var a=e._ebsp2rbsp(t),i=new n.default(a);i.readByte();var r=i.readByte();i.readByte();var o=i.readByte();i.readUEG();var s=e.getProfileString(r),l=e.getLevelString(o),c=1,d=420,u=8;if((100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||144===r)&&(3===(c=i.readUEG())&&i.readBits(1),c<=3&&(d=[0,420,422,444][c]),u=i.readUEG()+8,i.readUEG(),i.readBits(1),i.readBool()))for(var h=3!==c?8:12,f=0;f<h;f++)i.readBool()&&(f<6?e._skipScalingList(i,16):e._skipScalingList(i,64));i.readUEG();var p=i.readUEG();if(0===p)i.readUEG();else if(1===p){i.readBits(1),i.readSEG(),i.readSEG();var v=i.readUEG();for(f=0;f<v;f++)i.readSEG()}var m=i.readUEG();i.readBits(1);var g=i.readUEG(),y=i.readUEG(),b=i.readBits(1);0===b&&i.readBits(1),i.readBits(1);var _=0,x=0,E=0,w=0;i.readBool()&&(_=i.readUEG(),x=i.readUEG(),E=i.readUEG(),w=i.readUEG());var T=1,S=1,k=0,L=!0,A=0,D=0;if(i.readBool()){if(i.readBool()){var I=i.readByte();I>0&&I<16?(T=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][I-1],S=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][I-1]):255===I&&(T=i.readByte()<<8|i.readByte(),S=i.readByte()<<8|i.readByte())}if(i.readBool()&&i.readBool(),i.readBool()&&(i.readBits(4),i.readBool()&&i.readBits(24)),i.readBool()&&(i.readUEG(),i.readUEG()),i.readBool()){var C=i.readBits(32),R=i.readBits(32);L=i.readBool(),k=(A=R)/(D=2*C)}}var P=1;1===T&&1===S||(P=T/S);var O=0,M=0;0===c?(O=1,M=2-b):(O=3===c?1:2,M=(1===c?2:1)*(2-b));var N=16*(g+1),B=16*(y+1)*(2-b);N-=(_+x)*O,B-=(E+w)*M;var F=Math.ceil(N*P);return i.destroy(),i=null,{profile_string:s,level_string:l,bit_depth:u,ref_frames:m,chroma_format:d,chroma_format_string:e.getChromaFormatString(d),frame_rate:{fixed:L,fps:k,fps_den:D,fps_num:A},sar_ratio:{width:T,height:S},codec_size:{width:N,height:B},present_size:{width:F,height:B}}},e._skipScalingList=function(e,t){for(var a=8,n=8,i=0;i<t;i++)0!==n&&(n=(a+e.readSEG()+256)%256),a=0===n?a:n},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e}();t.default=i},"./src/flv.js":
/*!********************!*\
  !*** ./src/flv.js ***!
  \********************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ./utils/polyfill.js */"./src/utils/polyfill.js"),i=a(/*! ./core/features.js */"./src/core/features.js"),r=a(/*! ./io/loader.js */"./src/io/loader.js"),o=a(/*! ./player/flv-player.js */"./src/player/flv-player.js"),s=a(/*! ./player/native-player.js */"./src/player/native-player.js"),l=a(/*! ./player/player-events.js */"./src/player/player-events.js"),c=a(/*! ./player/player-errors.js */"./src/player/player-errors.js"),d=a(/*! ./utils/logging-control.js */"./src/utils/logging-control.js"),u=a(/*! ./utils/exception.js */"./src/utils/exception.js");n.default.install();var h={createPlayer:function(e,t){var a=e;if(null==a||"object"!=typeof a)throw new u.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!a.hasOwnProperty("type"))throw new u.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");return"flv"===a.type?new o.default(a,t):new s.default(a,t)},isSupported:function(){return i.default.supportMSEH264Playback()},getFeatureList:function(){return i.default.getFeatureList()}};h.BaseLoader=r.BaseLoader,h.LoaderStatus=r.LoaderStatus,h.LoaderErrors=r.LoaderErrors,h.Events=l.default,h.ErrorTypes=c.ErrorTypes,h.ErrorDetails=c.ErrorDetails,h.FlvPlayer=o.default,h.NativePlayer=s.default,h.LoggingControl=d.default,Object.defineProperty(h,"version",{enumerable:!0,get:function(){return"1.6.2"}}),t.default=h},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/function(e,t,a){e.exports=a(/*! ./flv.js */"./src/flv.js").default},"./src/io/fetch-stream-loader.js":
/*!***************************************!*\
  !*** ./src/io/fetch-stream-loader.js ***!
  \***************************************/function(e,t,a){"use strict";a.r(t);var n,i=a(/*! ../utils/browser.js */"./src/utils/browser.js"),r=a(/*! ./loader.js */"./src/io/loader.js"),o=a(/*! ../utils/exception.js */"./src/utils/exception.js"),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),l=function(e){function t(t,a){var n=e.call(this,"fetch-stream-loader")||this;return n.TAG="FetchStreamLoader",n._seekHandler=t,n._config=a,n._needStash=!0,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return s(t,e),t.isSupported=function(){try{var e=i.default.msedge&&i.default.version.minor>=15048,t=!i.default.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var a=this;this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var i=this._seekHandler.getConfig(n,t),s=new self.Headers;if("object"==typeof i.headers){var l=i.headers;for(var c in l)l.hasOwnProperty(c)&&s.append(c,l[c])}var d={method:"GET",headers:s,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(var c in this._config.headers)s.append(c,this._config.headers[c]);!1===e.cors&&(d.mode="same-origin"),e.withCredentials&&(d.credentials="include"),e.referrerPolicy&&(d.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,d.signal=this._abortController.signal),this._status=r.LoaderStatus.kConnecting,self.fetch(i.url,d).then((function(e){if(a._requestAbort)return a._status=r.LoaderStatus.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==i.url&&a._onURLRedirect){var t=a._seekHandler.removeURLParameters(e.url);a._onURLRedirect(t)}var n=e.headers.get("Content-Length");return null!=n&&(a._contentLength=parseInt(n),0!==a._contentLength&&a._onContentLengthKnown&&a._onContentLengthKnown(a._contentLength)),a._pump.call(a,e.body.getReader())}if(a._status=r.LoaderStatus.kError,!a._onError)throw new o.RuntimeException("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);a._onError(r.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})})).catch((function(e){if(!a._abortController||!a._abortController.signal.aborted){if(a._status=r.LoaderStatus.kError,!a._onError)throw e;a._onError(r.LoaderErrors.EXCEPTION,{code:-1,msg:e.message})}}))},t.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==r.LoaderStatus.kBuffering||!i.default.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},t.prototype._pump=function(e){var t=this;return e.read().then((function(a){if(a.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=r.LoaderStatus.kError;var n=r.LoaderErrors.EARLY_EOF,i={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new o.RuntimeException(i.msg);t._onError(n,i)}else t._status=r.LoaderStatus.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=r.LoaderStatus.kComplete);if(!0===t._requestAbort)return t._status=r.LoaderStatus.kComplete,e.cancel();t._status=r.LoaderStatus.kBuffering;var s=a.value.buffer,l=t._range.from+t._receivedLength;t._receivedLength+=s.byteLength,t._onDataArrival&&t._onDataArrival(s,l,t._receivedLength),t._pump(e)}})).catch((function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=r.LoaderStatus.kComplete;else if(11!==e.code||!i.default.msedge){t._status=r.LoaderStatus.kError;var a=0,n=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(a=r.LoaderErrors.EXCEPTION,n={code:e.code,msg:e.message}):(a=r.LoaderErrors.EARLY_EOF,n={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new o.RuntimeException(n.msg);t._onError(a,n)}}))},t}(r.BaseLoader);t.default=l},"./src/io/io-controller.js":
/*!*********************************!*\
  !*** ./src/io/io-controller.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/logger.js */"./src/utils/logger.js"),i=a(/*! ./speed-sampler.js */"./src/io/speed-sampler.js"),r=a(/*! ./loader.js */"./src/io/loader.js"),o=a(/*! ./fetch-stream-loader.js */"./src/io/fetch-stream-loader.js"),s=a(/*! ./xhr-moz-chunked-loader.js */"./src/io/xhr-moz-chunked-loader.js"),l=a(/*! ./xhr-range-loader.js */"./src/io/xhr-range-loader.js"),c=a(/*! ./websocket-loader.js */"./src/io/websocket-loader.js"),d=a(/*! ./range-seek-handler.js */"./src/io/range-seek-handler.js"),u=a(/*! ./param-seek-handler.js */"./src/io/param-seek-handler.js"),h=a(/*! ../utils/exception.js */"./src/utils/exception.js"),f=function(){function e(e,t,a){this.TAG="IOController",this._config=t,this._extraData=a,this._stashInitialSize=393216,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new i.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},Object.defineProperty(e.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(e){this._onSeeked=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(e){this._onRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRedirect",{get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSpeed",{get:function(){return this._loaderClass===l.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),e.prototype._selectSeekHandler=function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new d.default(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",a=e.seekParamEnd||"bend";this._seekHandler=new u.default(t,a)}else{if("custom"!==e.seekType)throw new h.InvalidArgumentException("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new h.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=c.default;else if(o.default.isSupported())this._loaderClass=o.default;else if(s.default.isSupported())this._loaderClass=s.default;else{if(!l.default.isSupported())throw new h.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=l.default}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var a={from:e,to:-1};this._currentRange={from:a.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,a),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||"string"!=typeof e||0===e.length)throw new h.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var a=new ArrayBuffer(t);if(this._stashUsed>0){var n=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(a,0,t).set(n,0)}this._stashBuffer=a,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,a=t.length-1,n=0,i=0,r=a;if(e<t[0])return t[0];for(;i<=r;){if((n=i+Math.floor((r-i)/2))===a||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?i=n+1:r=n-1}},e.prototype._adjustStashSize=function(e){var t=0;(t=this._config.isLive||e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var a=1024*t+1048576;this._bufferSize<a&&this._expandBuffer(a),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,a){if(!this._onDataArrival)throw new h.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var n=this._speedSampler.lastSecondKBps;if(0!==n){var i=this._normalizeSpeed(n);this._speedNormalized!==i&&(this._speedNormalized=i,this._adjustStashSize(i))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)(s=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else if(s=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var r=this._stashBuffer.slice(0,this._stashUsed);(l=this._dispatchChunks(r,this._stashByteStart))<r.byteLength?l>0&&(c=new Uint8Array(r,l),s.set(c,0),this._stashUsed=c.byteLength,this._stashByteStart+=l):(this._stashUsed=0,this._stashByteStart+=l),this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else(l=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-l)>this._bufferSize&&(this._expandBuffer(o),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e,l),0),this._stashUsed+=o,this._stashByteStart=t+l);else if(0===this._stashUsed){var o;(l=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-l)>this._bufferSize&&this._expandBuffer(o),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e,l),0),this._stashUsed+=o,this._stashByteStart=t+l)}else{var s,l;if(this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength,(l=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&l>0){var c=new Uint8Array(this._stashBuffer,l);s.set(c,0)}this._stashUsed-=l,this._stashByteStart+=l}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),a=this._dispatchChunks(t,this._stashByteStart),i=t.byteLength-a;if(a<t.byteLength){if(!e){if(a>0){var r=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,a);r.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=a}return 0}n.default.w(this.TAG,i+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,i}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(n.default.e(this.TAG,"Loader error, code = "+t.code+", msg = "+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=r.LoaderErrors.UNRECOVERABLE_EARLY_EOF),e){case r.LoaderErrors.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var a=this._currentRange.to+1;return void(a<this._totalLength&&(n.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(a,!1)))}e=r.LoaderErrors.UNRECOVERABLE_EARLY_EOF;case r.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case r.LoaderErrors.CONNECTING_TIMEOUT:case r.LoaderErrors.HTTP_STATUS_CODE_INVALID:case r.LoaderErrors.EXCEPTION:}if(!this._onError)throw new h.RuntimeException("IOException: "+t.msg);this._onError(e,t)},e}();t.default=f},"./src/io/loader.js":
/*!**************************!*\
  !*** ./src/io/loader.js ***!
  \**************************/function(e,t,a){"use strict";a.r(t),a.d(t,{LoaderStatus:function(){return i},LoaderErrors:function(){return r},BaseLoader:function(){return o}});var n=a(/*! ../utils/exception.js */"./src/utils/exception.js"),i={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},r={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},o=function(){function e(e){this._type=e||"undefined",this._status=i.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=i.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===i.kConnecting||this._status===i.kBuffering},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),e.prototype.open=function(e,t){throw new n.NotImplementedException("Unimplemented abstract function!")},e.prototype.abort=function(){throw new n.NotImplementedException("Unimplemented abstract function!")},e}()},"./src/io/param-seek-handler.js":
/*!**************************************!*\
  !*** ./src/io/param-seek-handler.js ***!
  \**************************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(e,t){this._startName=e,this._endName=t}return e.prototype.getConfig=function(e,t){var a=e;if(0!==t.from||-1!==t.to){var n=!0;-1===a.indexOf("?")&&(a+="?",n=!1),n&&(a+="&"),a+=this._startName+"="+t.from.toString(),-1!==t.to&&(a+="&"+this._endName+"="+t.to.toString())}return{url:a,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split("?")[0],a=void 0,n=e.indexOf("?");-1!==n&&(a=e.substring(n+1));var i="";if(null!=a&&a.length>0)for(var r=a.split("&"),o=0;o<r.length;o++){var s=r[o].split("="),l=o>0;s[0]!==this._startName&&s[0]!==this._endName&&(l&&(i+="&"),i+=r[o])}return 0===i.length?t:t+"?"+i},e}();t.default=n},"./src/io/range-seek-handler.js":
/*!**************************************!*\
  !*** ./src/io/range-seek-handler.js ***!
  \**************************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(e){this._zeroStart=e||!1}return e.prototype.getConfig=function(e,t){var a={};if(0!==t.from||-1!==t.to){var n=void 0;n=-1!==t.to?"bytes="+t.from.toString()+"-"+t.to.toString():"bytes="+t.from.toString()+"-",a.Range=n}else this._zeroStart&&(a.Range="bytes=0-");return{url:e,headers:a}},e.prototype.removeURLParameters=function(e){return e},e}();t.default=n},"./src/io/speed-sampler.js":
/*!*********************************!*\
  !*** ./src/io/speed-sampler.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},Object.defineProperty(e.prototype,"currentKBps",{get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageKBps",{get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024},enumerable:!1,configurable:!0}),e}();t.default=n},"./src/io/websocket-loader.js":
/*!************************************!*\
  !*** ./src/io/websocket-loader.js ***!
  \************************************/function(e,t,a){"use strict";a.r(t);var n,i=a(/*! ./loader.js */"./src/io/loader.js"),r=a(/*! ../utils/exception.js */"./src/utils/exception.js"),o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),s=function(e){function t(){var t=e.call(this,"websocket-loader")||this;return t.TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}return o(t,e),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=i.LoaderStatus.kConnecting}catch(e){this._status=i.LoaderStatus.kError;var a={code:e.code,msg:e.message};if(!this._onError)throw new r.RuntimeException(a.msg);this._onError(i.LoaderErrors.EXCEPTION,a)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=i.LoaderStatus.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=i.LoaderStatus.kBuffering},t.prototype._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=i.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var a=new FileReader;a.onload=function(){t._dispatchArrayBuffer(a.result)},a.readAsArrayBuffer(e.data)}else{this._status=i.LoaderStatus.kError;var n={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new r.RuntimeException(n.msg);this._onError(i.LoaderErrors.EXCEPTION,n)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,a=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,a,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=i.LoaderStatus.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new r.RuntimeException(t.msg);this._onError(i.LoaderErrors.EXCEPTION,t)},t}(i.BaseLoader);t.default=s},"./src/io/xhr-moz-chunked-loader.js":
/*!******************************************!*\
  !*** ./src/io/xhr-moz-chunked-loader.js ***!
  \******************************************/function(e,t,a){"use strict";a.r(t);var n,i=a(/*! ../utils/logger.js */"./src/utils/logger.js"),r=a(/*! ./loader.js */"./src/io/loader.js"),o=a(/*! ../utils/exception.js */"./src/utils/exception.js"),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),l=function(e){function t(t,a){var n=e.call(this,"xhr-moz-chunked-loader")||this;return n.TAG="MozChunkedLoader",n._seekHandler=t,n._config=a,n._needStash=!0,n._xhr=null,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return s(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return i.default.w("MozChunkedLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var a=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(a=e.redirectedURL);var n=this._seekHandler.getConfig(a,t);this._requestURL=n.url;var i=this._xhr=new XMLHttpRequest;if(i.open("GET",n.url,!0),i.responseType="moz-chunked-arraybuffer",i.onreadystatechange=this._onReadyStateChange.bind(this),i.onprogress=this._onProgress.bind(this),i.onloadend=this._onLoadEnd.bind(this),i.onerror=this._onXhrError.bind(this),e.withCredentials&&(i.withCredentials=!0),"object"==typeof n.headers){var o=n.headers;for(var s in o)o.hasOwnProperty(s)&&i.setRequestHeader(s,o[s])}if("object"==typeof this._config.headers)for(var s in o=this._config.headers)o.hasOwnProperty(s)&&i.setRequestHeader(s,o[s]);this._status=r.LoaderStatus.kConnecting,i.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=r.LoaderStatus.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var a=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(a)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=r.LoaderStatus.kError,!this._onError)throw new o.RuntimeException("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(r.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=r.LoaderStatus.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==r.LoaderStatus.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,a=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,a,this._receivedLength)}},t.prototype._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==r.LoaderStatus.kError&&(this._status=r.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},t.prototype._onXhrError=function(e){this._status=r.LoaderStatus.kError;var t=0,a=null;if(this._contentLength&&e.loaded<this._contentLength?(t=r.LoaderErrors.EARLY_EOF,a={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=r.LoaderErrors.EXCEPTION,a={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new o.RuntimeException(a.msg);this._onError(t,a)},t}(r.BaseLoader);t.default=l},"./src/io/xhr-range-loader.js":
/*!************************************!*\
  !*** ./src/io/xhr-range-loader.js ***!
  \************************************/function(e,t,a){"use strict";a.r(t);var n,i=a(/*! ../utils/logger.js */"./src/utils/logger.js"),r=a(/*! ./speed-sampler.js */"./src/io/speed-sampler.js"),o=a(/*! ./loader.js */"./src/io/loader.js"),s=a(/*! ../utils/exception.js */"./src/utils/exception.js"),l=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),c=function(e){function t(t,a){var n=e.call(this,"xhr-range-loader")||this;return n.TAG="RangeLoader",n._seekHandler=t,n._config=a,n._needStash=!1,n._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],n._currentChunkSizeKB=384,n._currentSpeedNormalized=0,n._zeroSpeedChunkCount=0,n._xhr=null,n._speedSampler=new r.default,n._requestAbort=!1,n._waitForTotalLength=!1,n._totalLengthReceived=!1,n._currentRequestURL=null,n._currentRedirectedURL=null,n._currentRequestRange=null,n._totalLength=null,n._contentLength=null,n._receivedLength=0,n._lastTimeLoaded=0,n}return l(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return i.default.w("RangeLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=o.LoaderStatus.kConnecting;var a=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(a=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||a?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,a=t+e;null!=this._contentLength&&a-this._range.from>=this._contentLength&&(a=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:a},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var a=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?a=this._currentRedirectedURL:null!=e.redirectedURL&&(a=e.redirectedURL));var n=this._seekHandler.getConfig(a,t);this._currentRequestURL=n.url;var i=this._xhr=new XMLHttpRequest;if(i.open("GET",n.url,!0),i.responseType="arraybuffer",i.onreadystatechange=this._onReadyStateChange.bind(this),i.onprogress=this._onProgress.bind(this),i.onload=this._onLoad.bind(this),i.onerror=this._onXhrError.bind(this),e.withCredentials&&(i.withCredentials=!0),"object"==typeof n.headers){var r=n.headers;for(var o in r)r.hasOwnProperty(o)&&i.setRequestHeader(o,r[o])}if("object"==typeof this._config.headers)for(var o in r=this._config.headers)r.hasOwnProperty(o)&&i.setRequestHeader(o,r[o]);i.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=o.LoaderStatus.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var a=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&a!==this._currentRedirectedURL&&(this._currentRedirectedURL=a,this._onURLRedirect&&this._onURLRedirect(a))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=o.LoaderStatus.kBuffering}else{if(this._status=o.LoaderStatus.kError,!this._onError)throw new s.RuntimeException("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==o.LoaderStatus.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var a=e.total;this._internalAbort(),null!=a&0!==a&&(this._totalLength=a)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var n=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(n)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,a=t.length-1,n=0,i=0,r=a;if(e<t[0])return t[0];for(;i<=r;){if((n=i+Math.floor((r-i)/2))===a||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?i=n+1:r=n-1}},t.prototype._onLoad=function(e){if(this._status!==o.LoaderStatus.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var a=this._normalizeSpeed(t);this._currentSpeedNormalized!==a&&(this._currentSpeedNormalized=a,this._currentChunkSizeKB=a)}var n=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength;var r=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():r=!0,this._onDataArrival&&this._onDataArrival(n,i,this._receivedLength),r&&(this._status=o.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=o.LoaderStatus.kError;var t=0,a=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=o.LoaderErrors.EARLY_EOF,a={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=o.LoaderErrors.EXCEPTION,a={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new s.RuntimeException(a.msg);this._onError(t,a)},t}(o.BaseLoader);t.default=c},"./src/player/flv-player.js":
/*!**********************************!*\
  !*** ./src/player/flv-player.js ***!
  \**********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),i=a.n(n),r=a(/*! ../utils/logger.js */"./src/utils/logger.js"),o=a(/*! ../utils/browser.js */"./src/utils/browser.js"),s=a(/*! ./player-events.js */"./src/player/player-events.js"),l=a(/*! ../core/transmuxer.js */"./src/core/transmuxer.js"),c=a(/*! ../core/transmuxing-events.js */"./src/core/transmuxing-events.js"),d=a(/*! ../core/mse-controller.js */"./src/core/mse-controller.js"),u=a(/*! ../core/mse-events.js */"./src/core/mse-events.js"),h=a(/*! ./player-errors.js */"./src/player/player-errors.js"),f=a(/*! ../config.js */"./src/config.js"),p=a(/*! ../utils/exception.js */"./src/utils/exception.js"),v=function(){function e(e,t){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(i()),this._config=(0,f.createDefaultConfig)(),"object"==typeof t&&Object.assign(this._config,t),"flv"!==e.type.toLowerCase())throw new p.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var a=o.default.chrome&&(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661);this._alwaysSeekKeyframe=!!(a||o.default.msedge||o.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return e.prototype.destroy=function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var a=this;e===s.default.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then((function(){a._emitter.emit(s.default.MEDIA_INFO,a.mediaInfo)})):e===s.default.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then((function(){a._emitter.emit(s.default.STATISTICS_INFO,a.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new d.default(this._config),this._msectl.on(u.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(u.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(u.default.SOURCE_OPEN,(function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())})),this._msectl.on(u.default.ERROR,(function(e){t._emitter.emit(s.default.ERROR,h.ErrorTypes.MEDIA_ERROR,h.ErrorDetails.MEDIA_MSE_ERROR,e)})),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},e.prototype.load=function(){var e=this;if(!this._mediaElement)throw new p.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new p.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new l.default(this._mediaDataSource,this._config),this._transmuxer.on(c.default.INIT_SEGMENT,(function(t,a){e._msectl.appendInitSegment(a)})),this._transmuxer.on(c.default.MEDIA_SEGMENT,(function(t,a){if(e._msectl.appendMediaSegment(a),e._config.lazyLoad&&!e._config.isLive){var n=e._mediaElement.currentTime;a.info.endDts>=1e3*(n+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(r.default.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}})),this._transmuxer.on(c.default.LOADING_COMPLETE,(function(){e._msectl.endOfStream(),e._emitter.emit(s.default.LOADING_COMPLETE)})),this._transmuxer.on(c.default.RECOVERED_EARLY_EOF,(function(){e._emitter.emit(s.default.RECOVERED_EARLY_EOF)})),this._transmuxer.on(c.default.IO_ERROR,(function(t,a){e._emitter.emit(s.default.ERROR,h.ErrorTypes.NETWORK_ERROR,t,a)})),this._transmuxer.on(c.default.DEMUX_ERROR,(function(t,a){e._emitter.emit(s.default.ERROR,h.ErrorTypes.MEDIA_ERROR,t,{code:-1,msg:a})})),this._transmuxer.on(c.default.MEDIA_INFO,(function(t){e._mediaInfo=t,e._emitter.emit(s.default.MEDIA_INFO,Object.assign({},t))})),this._transmuxer.on(c.default.METADATA_ARRIVED,(function(t){e._emitter.emit(s.default.METADATA_ARRIVED,t)})),this._transmuxer.on(c.default.SCRIPTDATA_ARRIVED,(function(t){e._emitter.emit(s.default.SCRIPTDATA_ARRIVED,t)})),this._transmuxer.on(c.default.STATISTICS_INFO,(function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(s.default.STATISTICS_INFO,Object.assign({},e._statisticsInfo))})),this._transmuxer.on(c.default.RECOMMEND_SEEKPOINT,(function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)})),this._transmuxer.open()))},e.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),e.prototype._fillStatisticsInfo=function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,a=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var i=this._mediaElement.getVideoPlaybackQuality();a=i.totalVideoFrames,n=i.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(a=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=a,e.droppedFrames=n),e},e.prototype._onmseUpdateEnd=function(){if(this._config.lazyLoad&&!this._config.isLive){for(var e=this._mediaElement.buffered,t=this._mediaElement.currentTime,a=0,n=0;n<e.length;n++){var i=e.start(n),o=e.end(n);if(i<=t&&t<o){a=o;break}}a>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(r.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},e.prototype._onmseBufferFull=function(){r.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()},e.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},e.prototype._checkProgressAndResume=function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,a=!1,n=0;n<t.length;n++){var i=t.start(n),o=t.end(n);if(e>=i&&e<o){e>=o-this._config.lazyLoadRecoverDuration&&(a=!0);break}}a&&(window.clearInterval(this._progressChecker),this._progressChecker=null,a&&(r.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},e.prototype._isTimepointBuffered=function(e){for(var t=this._mediaElement.buffered,a=0;a<t.length;a++){var n=t.start(a),i=t.end(a);if(e>=n&&e<i)return!0}return!1},e.prototype._internalSeek=function(e){var t=this._isTimepointBuffered(e),a=!1,n=0;if(e<1&&this._mediaElement.buffered.length>0){var i=this._mediaElement.buffered.start(0);(i<1&&e<i||o.default.safari)&&(a=!0,n=o.default.safari?.1:i)}if(a)this._requestSetTime=!0,this._mediaElement.currentTime=n;else if(t){if(this._alwaysSeekKeyframe){var r=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=r?r.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)},e.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},e.prototype._checkAndResumeStuckPlayback=function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var a=t.buffered;a.length>0&&t.currentTime<a.start(0)&&(r.default.w(this.TAG,"Playback seems stuck at "+t.currentTime+", seek to "+a.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=a.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},e.prototype._onvSeeking=function(e){var t=this._mediaElement.currentTime,a=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&a.length>0){var n=a.start(0);if(n<1&&t<n||o.default.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=o.default.safari?.1:n)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var i=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=i&&(this._requestSetTime=!0,this._mediaElement.currentTime=i.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},e.prototype._onvCanPlay=function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},e.prototype._onvStalled=function(e){this._checkAndResumeStuckPlayback(!0)},e.prototype._onvProgress=function(e){this._checkAndResumeStuckPlayback()},e}();t.default=v},"./src/player/native-player.js":
/*!*************************************!*\
  !*** ./src/player/native-player.js ***!
  \*************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),i=a.n(n),r=a(/*! ./player-events.js */"./src/player/player-events.js"),o=a(/*! ../config.js */"./src/config.js"),s=a(/*! ../utils/exception.js */"./src/utils/exception.js"),l=function(){function e(e,t){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(i()),this._config=(0,o.createDefaultConfig)(),"object"==typeof t&&Object.assign(this._config,t),"flv"===e.type.toLowerCase())throw new s.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new s.InvalidArgumentException("NativePlayer("+e.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}return e.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var a=this;e===r.default.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){a._emitter.emit(r.default.MEDIA_INFO,a.mediaInfo)})):e===r.default.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){a._emitter.emit(r.default.STATISTICS_INFO,a.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new s.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,a=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var i=this._mediaElement.getVideoPlaybackQuality();a=i.totalVideoFrames,n=i.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(a=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=a,e.droppedFrames=n),e},enumerable:!1,configurable:!0}),e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(r.default.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(r.default.STATISTICS_INFO,this.statisticsInfo)},e}();t.default=l},"./src/player/player-errors.js":
/*!*************************************!*\
  !*** ./src/player/player-errors.js ***!
  \*************************************/function(e,t,a){"use strict";a.r(t),a.d(t,{ErrorTypes:function(){return r},ErrorDetails:function(){return o}});var n=a(/*! ../io/loader.js */"./src/io/loader.js"),i=a(/*! ../demux/demux-errors.js */"./src/demux/demux-errors.js"),r={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},o={NETWORK_EXCEPTION:n.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:n.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:n.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:n.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:i.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:i.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:i.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":
/*!*************************************!*\
  !*** ./src/player/player-events.js ***!
  \*************************************/function(e,t,a){"use strict";a.r(t),t.default={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"}},"./src/remux/aac-silent.js":
/*!*********************************!*\
  !*** ./src/remux/aac-silent.js ***!
  \*********************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=n},"./src/remux/mp4-generator.js":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.js ***!
  \************************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var a=e.constants={};a.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),a.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),a.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),a.STSC=a.STCO=a.STTS,a.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),a.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),a.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),a.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),a.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,a=null,n=Array.prototype.slice.call(arguments,1),i=n.length,r=0;r<i;r++)t+=n[r].byteLength;(a=new Uint8Array(t))[0]=t>>>24&255,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=255&t,a.set(e,4);var o=8;for(r=0;r<i;r++)a.set(n[r],o),o+=n[r].byteLength;return a},e.generateInitSegment=function(t){var a=e.box(e.types.ftyp,e.constants.FTYP),n=e.moov(t),i=new Uint8Array(a.byteLength+n.byteLength);return i.set(a,0),i.set(n,a.byteLength),i},e.moov=function(t){var a=e.mvhd(t.timescale,t.duration),n=e.trak(t),i=e.mvex(t);return e.box(e.types.moov,a,n,i)},e.mvhd=function(t,a){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,a>>>24&255,a>>>16&255,a>>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var a=t.id,n=t.duration,i=t.presentWidth,r=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>>8&255,255&i,0,0,r>>>8&255,255&r,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var a=t.timescale,n=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))},e.hdlr=function(t){var a=null;return a="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,a)},e.minf=function(t){var a=null;return a="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,a,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var a=t.channelCount,n=t.audioSampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,a,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types[".mp3"],i)},e.mp4a=function(t){var a=t.channelCount,n=t.audioSampleRate,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,a,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.mp4a,i,e.esds(t))},e.esds=function(t){var a=t.config||[],n=a.length,i=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(a).concat([6,1,2]));return e.box(e.types.esds,i)},e.avc1=function(t){var a=t.avcc,n=t.codecWidth,i=t.codecHeight,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,i>>>8&255,255&i,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,r,e.box(e.types.avcC,a))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var a=t.id,n=new Uint8Array([0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,n)},e.moof=function(t,a){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,a))},e.mfhd=function(t){var a=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,a)},e.traf=function(t,a){var n=t.id,i=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),r=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),o=e.sdtp(t),s=e.trun(t,o.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,i,r,s,o)},e.sdtp=function(t){for(var a=t.samples||[],n=a.length,i=new Uint8Array(4+n),r=0;r<n;r++){var o=a[r].flags;i[r+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return e.box(e.types.sdtp,i)},e.trun=function(t,a){var n=t.samples||[],i=n.length,r=12+16*i,o=new Uint8Array(r);a+=8+r,o.set([0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a],0);for(var s=0;s<i;s++){var l=n[s].duration,c=n[s].size,d=n[s].flags,u=n[s].cts;o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.isNonSync,0,0,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*s)}return e.box(e.types.trun,o)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();n.init(),t.default=n},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.js ***!
  \**********************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! ../utils/logger.js */"./src/utils/logger.js"),i=a(/*! ./mp4-generator.js */"./src/remux/mp4-generator.js"),r=a(/*! ./aac-silent.js */"./src/remux/aac-silent.js"),o=a(/*! ../utils/browser.js */"./src/utils/browser.js"),s=a(/*! ../core/media-segment-info.js */"./src/core/media-segment-info.js"),l=a(/*! ../utils/exception.js */"./src/utils/exception.js"),c=function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new s.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new s.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!o.default.chrome||!(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661)),this._fillSilentAfterSeek=o.default.msedge||o.default.msie,this._mp3UseMpegAudio=!o.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!1,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new l.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var a=null,n="mp4",r=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(n="mpeg",r="",a=new Uint8Array):a=i.default.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,a=i.default.generateInitSegment(t)}if(!this._onInitSegment)throw new l.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:a.buffer,codec:r,container:e+"/"+n,mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,a={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(a.samples.push(e),a.length=e.length);var n={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(n.samples.push(t),n.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(a,!0),this._remuxAudio(n,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var a,l=e,c=l.samples,d=void 0,u=-1,h=this._audioMeta.refSampleDuration,f="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,p=this._dtsBaseInited&&void 0===this._audioNextDts,v=!1;if(c&&0!==c.length&&(1!==c.length||t)){var m=0,g=null,y=0;f?(m=0,y=l.length):(m=8,y=8+l.length);var b=null;if(c.length>1&&(y-=(b=c.pop()).length),null!=this._audioStashedLastSample){var _=this._audioStashedLastSample;this._audioStashedLastSample=null,c.unshift(_),y+=_.length}null!=b&&(this._audioStashedLastSample=b);var x=c[0].dts-this._dtsBase;if(this._audioNextDts)d=x-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())d=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(v=!0);else{var E=this._audioSegmentInfoList.getLastSampleBefore(x);if(null!=E){var w=x-(E.originalDts+E.duration);w<=3&&(w=0),d=x-(E.dts+E.duration+w)}else d=0}if(v){var T=x-d,S=this._videoSegmentInfoList.getLastSegmentBefore(x);if(null!=S&&S.beginDts<T){if(N=r.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var k=S.beginDts,L=T-S.beginDts;n.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+k+", duration: "+L),c.unshift({unit:N,dts:k,pts:k}),y+=N.byteLength}}else v=!1}for(var A=[],D=0;D<c.length;D++){var I=(_=c[D]).unit,C=_.dts-this._dtsBase,R=(k=C,!1),P=null,O=0;if(!(C<-.001)){if("mp3"!==this._audioMeta.codec){var M=C;if(this._audioNextDts&&(M=this._audioNextDts),(d=C-M)<=-3*h){n.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+C+" ms ,curRefDts: "+M+" ms)  due to dtsCorrection: "+d+" ms overlap.");continue}if(d>=3*h&&this._fillAudioTimestampGap&&!o.default.safari){R=!0;var N,B=Math.floor(d/h);n.default.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\noriginalDts: "+C+" ms, curRefDts: "+M+" ms, dtsCorrection: "+Math.round(d)+" ms, generate: "+B+" frames"),k=Math.floor(M),O=Math.floor(M+h)-k,null==(N=r.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(n.default.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),N=I),P=[];for(var F=0;F<B;F++){M+=h;var U=Math.floor(M),j=Math.floor(M+h)-U,z={dts:U,pts:U,cts:0,unit:N,size:N.byteLength,duration:j,originalDts:C,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};P.push(z),y+=z.size}this._audioNextDts=M+h}else k=Math.floor(M),O=Math.floor(M+h)-k,this._audioNextDts=M+h}else k=C-d,O=D!==c.length-1?c[D+1].dts-this._dtsBase-d-k:null!=b?b.dts-this._dtsBase-d-k:A.length>=1?A[A.length-1].duration:Math.floor(h),this._audioNextDts=k+O;-1===u&&(u=k),A.push({dts:k,pts:k,cts:0,unit:_.unit,size:_.unit.byteLength,duration:O,originalDts:C,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),R&&A.push.apply(A,P)}}if(0===A.length)return l.samples=[],void(l.length=0);for(f?g=new Uint8Array(y):((g=new Uint8Array(y))[0]=y>>>24&255,g[1]=y>>>16&255,g[2]=y>>>8&255,g[3]=255&y,g.set(i.default.types.mdat,4)),D=0;D<A.length;D++)I=A[D].unit,g.set(I,m),m+=I.byteLength;var V=A[A.length-1];a=V.dts+V.duration;var G=new s.MediaSegmentInfo;G.beginDts=u,G.endDts=a,G.beginPts=u,G.endPts=a,G.originalBeginDts=A[0].originalDts,G.originalEndDts=V.originalDts+V.duration,G.firstSample=new s.SampleInfo(A[0].dts,A[0].pts,A[0].duration,A[0].originalDts,!1),G.lastSample=new s.SampleInfo(V.dts,V.pts,V.duration,V.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(G),l.samples=A,l.sequenceNumber++;var H=null;H=f?new Uint8Array:i.default.moof(l,u),l.samples=[],l.length=0;var q={type:"audio",data:this._mergeBoxes(H,g).buffer,sampleCount:A.length,info:G};f&&p&&(q.timestampOffset=u),this._onMediaSegment("audio",q)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var a,n,r=e,o=r.samples,l=void 0,c=-1,d=-1;if(o&&0!==o.length&&(1!==o.length||t)){var u=8,h=null,f=8+e.length,p=null;if(o.length>1&&(f-=(p=o.pop()).length),null!=this._videoStashedLastSample){var v=this._videoStashedLastSample;this._videoStashedLastSample=null,o.unshift(v),f+=v.length}null!=p&&(this._videoStashedLastSample=p);var m=o[0].dts-this._dtsBase;if(this._videoNextDts)l=m-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())l=0;else{var g=this._videoSegmentInfoList.getLastSampleBefore(m);if(null!=g){var y=m-(g.originalDts+g.duration);y<=3&&(y=0),l=m-(g.dts+g.duration+y)}else l=0}for(var b=new s.MediaSegmentInfo,_=[],x=0;x<o.length;x++){var E=(v=o[x]).dts-this._dtsBase,w=v.isKeyframe,T=E-l,S=v.cts,k=T+S;-1===c&&(c=T,d=k);var L=0;if(L=x!==o.length-1?o[x+1].dts-this._dtsBase-l-T:null!=p?p.dts-this._dtsBase-l-T:_.length>=1?_[_.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),w){var A=new s.SampleInfo(T,k,L,v.dts,!0);A.fileposition=v.fileposition,b.appendSyncPoint(A)}_.push({dts:T,pts:k,cts:S,units:v.units,size:v.length,isKeyframe:w,duration:L,originalDts:E,flags:{isLeading:0,dependsOn:w?2:1,isDependedOn:w?1:0,hasRedundancy:0,isNonSync:w?0:1}})}for((h=new Uint8Array(f))[0]=f>>>24&255,h[1]=f>>>16&255,h[2]=f>>>8&255,h[3]=255&f,h.set(i.default.types.mdat,4),x=0;x<_.length;x++)for(var D=_[x].units;D.length;){var I=D.shift().data;h.set(I,u),u+=I.byteLength}var C=_[_.length-1];if(a=C.dts+C.duration,n=C.pts+C.duration,this._videoNextDts=a,b.beginDts=c,b.endDts=a,b.beginPts=d,b.endPts=n,b.originalBeginDts=_[0].originalDts,b.originalEndDts=C.originalDts+C.duration,b.firstSample=new s.SampleInfo(_[0].dts,_[0].pts,_[0].duration,_[0].originalDts,_[0].isKeyframe),b.lastSample=new s.SampleInfo(C.dts,C.pts,C.duration,C.originalDts,C.isKeyframe),this._isLive||this._videoSegmentInfoList.append(b),r.samples=_,r.sequenceNumber++,this._forceFirstIDR){var R=_[0].flags;R.dependsOn=2,R.isNonSync=0}var P=i.default.moof(r,c);r.samples=[],r.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(P,h).buffer,sampleCount:_.length,info:b})}}},e.prototype._mergeBoxes=function(e,t){var a=new Uint8Array(e.byteLength+t.byteLength);return a.set(e,0),a.set(t,e.byteLength),a},e}();t.default=c},"./src/utils/browser.js":
/*!******************************!*\
  !*** ./src/utils/browser.js ***!
  \******************************/function(e,t,a){"use strict";a.r(t);var n={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],a=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],i={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:a[0]||""},r={};if(i.browser){r[i.browser]=!0;var o=i.majorVersion.split(".");r.version={major:parseInt(i.majorVersion,10),string:i.version},o.length>1&&(r.version.minor=parseInt(o[1],10)),o.length>2&&(r.version.build=parseInt(o[2],10))}if(i.platform&&(r[i.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.iemobile){r.rv&&delete r.rv;var s="msie";i.browser=s,r[s]=!0}if(r.edge){delete r.edge;var l="msedge";i.browser=l,r[l]=!0}if(r.opr){var c="opera";i.browser=c,r[c]=!0}if(r.safari&&r.android){var d="android";i.browser=d,r[d]=!0}for(var u in r.name=i.browser,r.platform=i.platform,n)n.hasOwnProperty(u)&&delete n[u];Object.assign(n,r)}(),t.default=n},"./src/utils/exception.js":
/*!********************************!*\
  !*** ./src/utils/exception.js ***!
  \********************************/function(e,t,a){"use strict";a.r(t),a.d(t,{RuntimeException:function(){return r},IllegalStateException:function(){return o},InvalidArgumentException:function(){return s},NotImplementedException:function(){return l}});var n,i=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),r=function(){function e(e){this._message=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.message},e}(),o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),t}(r),s=function(e){function t(t){return e.call(this,t)||this}return i(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),t}(r),l=function(e){function t(t){return e.call(this,t)||this}return i(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),t}(r)},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),i=a.n(n),r=function(){function e(){}return e.e=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","error",n),e.ENABLE_ERROR&&(console.error?console.error(n):console.warn?console.warn(n):console.log(n))},e.i=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","info",n),e.ENABLE_INFO&&(console.info?console.info(n):console.log(n))},e.w=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",n),e.ENABLE_WARN&&(console.warn?console.warn(n):console.log(n))},e.d=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",n),e.ENABLE_DEBUG&&(console.debug?console.debug(n):console.log(n))},e.v=function(t,a){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+a;e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",n),e.ENABLE_VERBOSE&&console.log(n)},e}();r.GLOBAL_TAG="flv.js",r.FORCE_GLOBAL_TAG=!1,r.ENABLE_ERROR=!0,r.ENABLE_INFO=!0,r.ENABLE_WARN=!0,r.ENABLE_DEBUG=!0,r.ENABLE_VERBOSE=!0,r.ENABLE_CALLBACK=!1,r.emitter=new(i()),t.default=r},"./src/utils/logging-control.js":
/*!**************************************!*\
  !*** ./src/utils/logging-control.js ***!
  \**************************************/function(e,t,a){"use strict";a.r(t);var n=a(/*! events */"./node_modules/events/events.js"),i=a.n(n),r=a(/*! ./logger.js */"./src/utils/logger.js"),o=function(){function e(){}return Object.defineProperty(e,"forceGlobalTag",{get:function(){return r.default.FORCE_GLOBAL_TAG},set:function(t){r.default.FORCE_GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"globalTag",{get:function(){return r.default.GLOBAL_TAG},set:function(t){r.default.GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAll",{get:function(){return r.default.ENABLE_VERBOSE&&r.default.ENABLE_DEBUG&&r.default.ENABLE_INFO&&r.default.ENABLE_WARN&&r.default.ENABLE_ERROR},set:function(t){r.default.ENABLE_VERBOSE=t,r.default.ENABLE_DEBUG=t,r.default.ENABLE_INFO=t,r.default.ENABLE_WARN=t,r.default.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableDebug",{get:function(){return r.default.ENABLE_DEBUG},set:function(t){r.default.ENABLE_DEBUG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableVerbose",{get:function(){return r.default.ENABLE_VERBOSE},set:function(t){r.default.ENABLE_VERBOSE=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableInfo",{get:function(){return r.default.ENABLE_INFO},set:function(t){r.default.ENABLE_INFO=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableWarn",{get:function(){return r.default.ENABLE_WARN},set:function(t){r.default.ENABLE_WARN=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableError",{get:function(){return r.default.ENABLE_ERROR},set:function(t){r.default.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),e.getConfig=function(){return{globalTag:r.default.GLOBAL_TAG,forceGlobalTag:r.default.FORCE_GLOBAL_TAG,enableVerbose:r.default.ENABLE_VERBOSE,enableDebug:r.default.ENABLE_DEBUG,enableInfo:r.default.ENABLE_INFO,enableWarn:r.default.ENABLE_WARN,enableError:r.default.ENABLE_ERROR,enableCallback:r.default.ENABLE_CALLBACK}},e.applyConfig=function(e){r.default.GLOBAL_TAG=e.globalTag,r.default.FORCE_GLOBAL_TAG=e.forceGlobalTag,r.default.ENABLE_VERBOSE=e.enableVerbose,r.default.ENABLE_DEBUG=e.enableDebug,r.default.ENABLE_INFO=e.enableInfo,r.default.ENABLE_WARN=e.enableWarn,r.default.ENABLE_ERROR=e.enableError,r.default.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount("change")>0){var a=e.getConfig();t.emit("change",a)}},e.registerListener=function(t){e.emitter.addListener("change",t)},e.removeListener=function(t){e.emitter.removeListener("change",t)},e.addLogListener=function(t){r.default.emitter.addListener("log",t),r.default.emitter.listenerCount("log")>0&&(r.default.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){r.default.emitter.removeListener("log",t),0===r.default.emitter.listenerCount("log")&&(r.default.ENABLE_CALLBACK=!1,e._notifyChange())},e}();o.emitter=new(i()),t.default=o},"./src/utils/polyfill.js":
/*!*******************************!*\
  !*** ./src/utils/polyfill.js ***!
  \*******************************/function(e,t,a){"use strict";a.r(t);var n=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),a=1;a<arguments.length;a++){var n=arguments[a];if(null!=n)for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t},"function"!=typeof self.Promise&&a(/*! es6-promise */"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},e}();n.install(),t.default=n},"./src/utils/utf8-conv.js":
/*!********************************!*\
  !*** ./src/utils/utf8-conv.js ***!
  \********************************/function(e,t,a){"use strict";function n(e,t,a){var n=e;if(t+a<n.length){for(;a--;)if(128!=(192&n[++t]))return!1;return!0}return!1}a.r(t),t.default=function(e){for(var t=[],a=e,i=0,r=e.length;i<r;)if(a[i]<128)t.push(String.fromCharCode(a[i])),++i;else{if(a[i]<192);else if(a[i]<224){if(n(a,i,1)&&(o=(31&a[i])<<6|63&a[i+1])>=128){t.push(String.fromCharCode(65535&o)),i+=2;continue}}else if(a[i]<240){if(n(a,i,2)&&(o=(15&a[i])<<12|(63&a[i+1])<<6|63&a[i+2])>=2048&&55296!=(63488&o)){t.push(String.fromCharCode(65535&o)),i+=3;continue}}else if(a[i]<248){var o;if(n(a,i,3)&&(o=(7&a[i])<<18|(63&a[i+1])<<12|(63&a[i+2])<<6|63&a[i+3])>65536&&o<1114112){o-=65536,t.push(String.fromCharCode(o>>>10|55296)),t.push(String.fromCharCode(1023&o|56320)),i+=4;continue}}t.push(String.fromCharCode(65533)),++i}return t.join("")}}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}return a.m=e,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a("./src/index.js")}()},e.exports=t()},7631:function(e){var t;"undefined"!=typeof window&&(t=()=>(()=>{var e={"./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{enableStreamingMode:()=>S,hlsDefaultConfig:()=>w,mergeConfig:()=>T});var n=a(/*! ./controller/abr-controller */"./src/controller/abr-controller.ts"),i=a(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.ts"),r=a(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.ts"),o=a(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.ts"),s=a(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.ts"),l=a(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.ts"),c=a(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.ts"),d=a(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.ts"),u=a(/*! ./controller/fps-controller */"./src/controller/fps-controller.ts"),h=a(/*! ./controller/eme-controller */"./src/controller/eme-controller.ts"),f=a(/*! ./controller/cmcd-controller */"./src/controller/cmcd-controller.ts"),p=a(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.ts"),v=a(/*! ./utils/fetch-loader */"./src/utils/fetch-loader.ts"),m=a(/*! ./utils/cues */"./src/utils/cues.ts"),g=a(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts"),y=a(/*! ./utils/logger */"./src/utils/logger.ts");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b.apply(this,arguments)}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){E(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=x(x({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:p.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:n.default,bufferController:l.default,capLevelController:d.default,fpsController:u.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:m.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:o.SubtitleStreamController,subtitleTrackController:s.default,timelineController:c.TimelineController,audioStreamController:i.default,audioTrackController:r.default,emeController:h.default,cmcdController:f.default});function T(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return b({},e,t)}function S(e){var t=e.loader;t!==v.default&&t!==p.default?(y.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):(0,v.fetchSupported)()&&(e.loader=v.default,e.progressive=!0,e.enableSoftwareAES=!0,y.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.ts"),r=a(/*! ../events */"./src/events.ts"),o=a(/*! ../errors */"./src/errors.ts"),s=a(/*! ../types/loader */"./src/types/loader.ts"),l=a(/*! ../utils/logger */"./src/utils/logger.ts");function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const d=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new i.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,a,d,u=e.prototype;return u.registerListeners=function(){var e=this.hls;e.on(r.Events.FRAG_LOADING,this.onFragLoading,this),e.on(r.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(r.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(r.Events.ERROR,this.onError,this)},u.unregisterListeners=function(){var e=this.hls;e.off(r.Events.FRAG_LOADING,this.onFragLoading,this),e.off(r.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(r.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(r.Events.ERROR,this.onError,this)},u.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},u.onFragLoading=function(e,t){var a,n=t.frag;n.type===s.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=n,this.partCurrent=null!=(a=t.part)?a:null,this.timer=self.setInterval(this.onCheck,100)))},u.onLevelLoaded=function(e,t){var a=this.hls.config;t.details.live?this.bwEstimator.update(a.abrEwmaSlowLive,a.abrEwmaFastLive):this.bwEstimator.update(a.abrEwmaSlowVoD,a.abrEwmaFastVoD)},u._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,a=this.hls,i=a.autoLevelEnabled,o=(a.config,a.media);if(e&&o){var s=t?t.stats:e.stats,c=t?t.duration:e.duration;if(s.aborted||s.loaded&&s.loaded===s.total||0===e.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!o.paused&&o.playbackRate&&o.readyState){var d=a.mainForwardBufferInfo;if(null!==d){var u=performance.now()-s.loading.start,h=Math.abs(o.playbackRate);if(!(u<=500*c/h)){var f=s.loaded&&s.loading.first,p=this.bwEstimator.getEstimate(),v=a.levels,m=a.minAutoLevel,g=v[e.level],y=s.total||Math.max(s.loaded,Math.round(c*g.maxBitrate/8)),b=f?1e3*s.loaded/u:0,_=b?(y-s.loaded)/b:8*y/p,x=d.len/h;if(!(_<=x)){var E,w=Number.POSITIVE_INFINITY;for(E=e.level-1;E>m;E--){var T=v[E].maxBitrate;if((w=b?c*T/(6.4*b):c*T/p)<x)break}w>=_||(l.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+E+"\n      Current BW estimate: "+((0,n.isFiniteNumber)(p)?(p/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+_.toFixed(3)+" s\n      Estimated load time for the next fragment: "+w.toFixed(3)+" s\n      Time to underbuffer: "+x.toFixed(3)+" s"),a.nextLoadLevel=E,f&&this.bwEstimator.sample(u,s.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),a.trigger(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:s}))}}}}}},u.onFragLoaded=function(e,t){var a=t.frag,i=t.part;if(a.type===s.PlaylistLevelType.MAIN&&(0,n.isFiniteNumber)(a.sn)){var o=i?i.stats:a.stats,l=i?i.duration:a.duration;if(this.clearTimer(),this.lastLoadedFragLevel=a.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var c=this.hls.levels[a.level],d=(c.loaded?c.loaded.bytes:0)+o.loaded,u=(c.loaded?c.loaded.duration:0)+l;c.loaded={bytes:d,duration:u},c.realBitrate=Math.round(8*d/u)}if(a.bitrateTest){var h={stats:o,frag:a,part:i,id:a.type};this.onFragBuffered(r.Events.FRAG_BUFFERED,h)}}},u.onFragBuffered=function(e,t){var a=t.frag,n=t.part,i=n?n.stats:a.stats;if(!i.aborted&&a.type===s.PlaylistLevelType.MAIN&&"initSegment"!==a.sn){var r=i.parsing.end-i.loading.start;this.bwEstimator.sample(r,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),a.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}},u.onError=function(e,t){switch(t.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},u.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},u.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,a=this.hls,n=a.maxAutoLevel,i=a.config,r=a.minAutoLevel,o=a.media,s=t?t.duration:e?e.duration:0,c=(o&&o.currentTime,o&&0!==o.playbackRate?Math.abs(o.playbackRate):1),d=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,u=a.mainForwardBufferInfo,h=(u?u.len:0)/c,f=this.findBestLevel(d,r,n,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(f>=0)return f;l.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var p=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(!h){var g=this.bitrateTestDelay;g&&(p=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-g,l.logger.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),v=m=1)}return f=this.findBestLevel(d,r,n,h+p,v,m),Math.max(f,0)},u.findBestLevel=function(e,t,a,i,r,o){for(var s,c=this.fragCurrent,d=this.partCurrent,u=this.lastLoadedFragLevel,h=this.hls.levels,f=h[u],p=!(null==f||null===(s=f.details)||void 0===s||!s.live),v=null==f?void 0:f.codecSet,m=d?d.duration:c?c.duration:0,g=a;g>=t;g--){var y=h[g];if(y&&(!v||y.codecSet===v)){var b=y.details,_=(d?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||m,x=void 0;x=g<=u?r*e:o*e;var E=h[g].maxBitrate,w=E*_/x;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+g+"/"+Math.round(x)+"/"+E+"/"+_+"/"+i+"/"+w),x>E&&(0===w||!(0,n.isFiniteNumber)(w)||p&&!this.bitrateTestDelay||w<i))return g}}return-1},t=e,(a=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&!t.canEstimate())return e;var a=this.getNextABRAutoLevel();return-1!==e&&this.hls.levels[a].loadError?e:(-1!==e&&(a=Math.min(e,a)),a)},set:function(e){this._nextAutoLevel=e}}])&&c(t.prototype,a),d&&c(t,d),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/audio-stream-controller.ts":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.ts ***!
  \***************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),r=a(/*! ../events */"./src/events.ts"),o=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),s=a(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),l=a(/*! ../types/level */"./src/types/level.ts"),c=a(/*! ../types/loader */"./src/types/loader.ts"),d=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),u=a(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts"),h=a(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts"),f=a(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),p=a(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),v=a(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),m=a(/*! ../errors */"./src/errors.ts");function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g.apply(this,arguments)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}const b=function(e){var t,a;function b(t,a){var n;return(n=e.call(this,t,a,"[audio-stream-controller]")||this).videoBuffer=null,n.videoTrackCC=-1,n.waitingVideoCC=-1,n.audioSwitch=!1,n.trackId=-1,n.waitingData=null,n.mainDetails=null,n.bufferFlushed=!1,n.cachedTrackLoadedData=null,n._registerListeners(),n}a=e,(t=b).prototype=Object.create(a.prototype),t.prototype.constructor=t,y(t,a);var _=b.prototype;return _.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},_._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(r.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(r.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this),e.on(r.Events.BUFFER_RESET,this.onBufferReset,this),e.on(r.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(r.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(r.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(r.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(r.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(r.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this),e.off(r.Events.BUFFER_RESET,this.onBufferReset,this),e.off(r.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(r.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(r.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(r.Events.FRAG_BUFFERED,this.onFragBuffered,this)},_.onInitPtsFound=function(e,t){var a=t.frag,n=t.id,r=t.initPTS;if("main"===n){var o=a.cc;this.initPTS[a.cc]=r,this.log("InitPTS for cc: "+o+" found from main: "+r),this.videoTrackCC=o,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},_.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=i.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t,this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},_.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var t,a=this.levels,n=this.trackId,r=null==a||null===(t=a[n])||void 0===t?void 0:t.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var s,l=performance.now(),c=this.retryDate;(!c||l>=c||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var d=this.waitingData;if(d){var u=d.frag,h=d.part,f=d.cache,v=d.complete;if(void 0!==this.initPTS[u.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var m={frag:u,part:h,payload:f.flush(),networkDetails:null};this._handleFragmentLoadProgress(m),v&&e.prototype._handleFragmentLoadComplete.call(this,m)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+u.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var g=this.getLoadPosition(),y=o.BufferHelper.bufferInfo(this.mediaBuffer,g,this.config.maxBufferHole);(0,p.fragmentWithinToleranceTest)(y.end,this.config.maxFragLookUpTolerance,u)<0&&(this.log("Waiting fragment cc ("+u.cc+") @ "+u.start+" cancelled because another fragment at "+y.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},_.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},_.resetLoadingState=function(){this.clearWaitingFragment(),e.prototype.resetLoadingState.call(this)},_.onTickEnd=function(){var e=this.media;e&&e.readyState&&(this.lastCurrentTime=e.currentTime)},_.doTickIdle=function(){var e,t,a=this.hls,n=this.levels,o=this.media,s=this.trackId,l=a.config;if(n&&n[s]&&(o||!this.startFragRequested&&l.startFragPrefetch)){var u=n[s].details;if(!u||u.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(u))this.state=i.State.WAITING_TRACK;else{var h=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&h&&(this.bufferFlushed=!1,this.afterBufferFlushed(h,d.ElementaryStreamTypes.AUDIO,c.PlaylistLevelType.AUDIO));var f=this.getFwdBufferInfo(h,c.PlaylistLevelType.AUDIO);if(null!==f){var p=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,c.PlaylistLevelType.MAIN),v=f.len,m=this.getMaxBufferLength(null==p?void 0:p.len),g=this.audioSwitch;if(!(v>=m)||g){if(!g&&this._streamEnded(f,u))return a.trigger(r.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var y=u.fragments[0].start,b=f.end;if(g&&o){var _=this.getLoadPosition();b=_,u.PTSKnown&&_<y&&(f.end>y||f.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),o.currentTime=y+.05)}if(!(p&&b>p.end+u.targetduration)&&(p&&p.len||!f.len)){var x=this.getNextFragment(b,u);x?"identity"!==(null===(e=x.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=x.decryptdata)&&void 0!==t&&t.key?this.loadFragment(x,u,b):this.loadKey(x,u):this.bufferFlushed=!0}}}}}},_.getMaxBufferLength=function(t){var a=e.prototype.getMaxBufferLength.call(this);return t?Math.max(a,t):a},_.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},_.onAudioTracksUpdated=function(e,t){var a=t.audioTracks;this.resetTransmuxer(),this.levels=a.map((function(e){return new l.Level(e)}))},_.onAudioTrackSwitching=function(e,t){var a=!!t.url;this.trackId=t.id;var n=this.fragCurrent;null!=n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),a?this.setInterval(100):this.resetTransmuxer(),a?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},_.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},_.onLevelLoaded=function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(r.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},_.onAudioTrackLoaded=function(e,t){var a;if(null!=this.mainDetails){var n=this.levels,r=t.details,o=t.id;if(n){this.log("Track "+o+" loaded ["+r.startSN+","+r.endSN+"],duration:"+r.totalduration);var s=n[o],l=0;if(r.live||null!==(a=s.details)&&void 0!==a&&a.live){var c=this.mainDetails;if(r.fragments[0]||(r.deltaUpdateFailed=!0),r.deltaUpdateFailed||!c)return;!s.details&&r.hasProgramDateTime&&c.hasProgramDateTime?((0,v.alignMediaPlaylistByPDT)(r,c),l=r.fragments[0].start):l=this.alignPlaylists(r,s.details)}s.details=r,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&r.live||this.setStartPosition(s.details,l),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(r)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+o)}else this.cachedTrackLoadedData=t},_._handleFragmentLoadProgress=function(e){var t,a=e.frag,n=e.part,r=e.payload,o=this.config,s=this.trackId,l=this.levels;if(l){var d=l[s];console.assert(d,"Audio track is defined on fragment load progress");var p=d.details;console.assert(p,"Audio track details are defined on fragment load progress");var v=o.defaultAudioCodec||d.audioCodec||"mp4a.40.2",m=this.transmuxer;m||(m=this.transmuxer=new h.default(this.hls,c.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var g=this.initPTS[a.cc],y=null===(t=a.initSegment)||void 0===t?void 0:t.data;if(void 0!==g){var b=n?n.index:-1,_=-1!==b,x=new f.ChunkMetadata(a.level,a.sn,a.stats.chunkCount,r.byteLength,b,_);m.push(r,y,v,"",a,n,p.totalduration,!1,x,g)}else this.log("Unknown video PTS for cc "+a.cc+", waiting for video PTS before demuxing audio frag "+a.sn+" of ["+p.startSN+" ,"+p.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:a,part:n,cache:new u.default,complete:!1}).cache.push(new Uint8Array(r)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+a.sn+" of level "+a.level+" will not be buffered")},_._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},_.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},_.onBufferCreated=function(e,t){var a=t.tracks.audio;a&&(this.mediaBuffer=a.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)},_.onFragBuffered=function(e,t){var a,n=t.frag,i=t.part;n.type===c.PlaylistLevelType.AUDIO?this.fragContextChanged(n)?this.warn("Fragment "+n.sn+(i?" p: "+i.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,i)):this.loadedmetadata||n.type!==c.PlaylistLevelType.MAIN||null!==(a=this.videoBuffer||this.media)&&void 0!==a&&a.buffered.length&&(this.loadedmetadata=!0)},_.onError=function(t,a){switch(a.details){case m.ErrorDetails.FRAG_LOAD_ERROR:case m.ErrorDetails.FRAG_LOAD_TIMEOUT:case m.ErrorDetails.KEY_LOAD_ERROR:case m.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(c.PlaylistLevelType.AUDIO,a);break;case m.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case m.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=a.fatal?i.State.ERROR:i.State.IDLE,this.warn(a.details+" while loading frag, switching to "+this.state+" state"));break;case m.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===a.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,r=this.getFwdBufferInfo(this.mediaBuffer,c.PlaylistLevelType.AUDIO);r&&r.len>.5&&(n=!this.reduceMaxBufferLength(r.len)),n&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},_.onBufferFlushed=function(e,t){t.type===d.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},_._handleTransmuxComplete=function(e){var t,a="audio",n=this.hls,o=e.remuxResult,s=e.chunkMeta,l=this.getCurrentContext(s);if(!l)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(s.level);var c=l.frag,u=l.part,h=l.level.details,f=o.audio,p=o.text,v=o.id3,m=o.initSegment;if(!this.fragContextChanged(c)&&h){if(this.state=i.State.PARSING,this.audioSwitch&&f&&this.completeAudioSwitch(),null!=m&&m.tracks&&(this._bufferInitSegment(m.tracks,c,s),n.trigger(r.Events.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:a,tracks:m.tracks})),f){var y=f.startPTS,b=f.endPTS,_=f.startDTS,x=f.endDTS;u&&(u.elementaryStreams[d.ElementaryStreamTypes.AUDIO]={startPTS:y,endPTS:b,startDTS:_,endDTS:x}),c.setElementaryStreamInfo(d.ElementaryStreamTypes.AUDIO,y,b,_,x),this.bufferFragmentData(f,c,u,s)}if(null!=v&&null!==(t=v.samples)&&void 0!==t&&t.length){var E=g({id:a,frag:c,details:h},v);n.trigger(r.Events.FRAG_PARSING_METADATA,E)}if(p){var w=g({id:a,frag:c,details:h},p);n.trigger(r.Events.FRAG_PARSING_USERDATA,w)}}},_._bufferInitSegment=function(e,t,a){if(this.state===i.State.PARSING){e.video&&delete e.video;var n=e.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:"+n.container+", codecs[parsed]=["+n.codec+"]"),this.hls.trigger(r.Events.BUFFER_CODECS,e);var o=n.initSegment;if(null!=o&&o.byteLength){var s={type:"audio",frag:t,part:null,chunkMeta:a,parent:t.type,data:o};this.hls.trigger(r.Events.BUFFER_APPENDING,s)}this.tick()}}},_.loadFragment=function(t,a,r){var o=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||o===s.FragmentState.NOT_LOADED||o===s.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t):a.live&&!(0,n.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,a,r)))},_.completeAudioSwitch=function(){var t=this.hls,a=this.media,n=this.trackId;a&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(r.Events.AUDIO_TRACK_SWITCHED,{id:n})},b}(i.default)},"./src/controller/audio-track-controller.ts":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.ts ***!
  \**************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(/*! ../events */"./src/events.ts"),i=a(/*! ../errors */"./src/errors.ts"),r=a(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),o=a(/*! ../types/loader */"./src/types/loader.ts");function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}const c=function(e){var t,a;function r(t){var a;return(a=e.call(this,t,"[audio-track-controller]")||this).tracks=[],a.groupId=null,a.tracksInGroup=[],a.trackId=-1,a.trackName="",a.selectDefaultTrack=!0,a.registerListeners(),a}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,l(t,a);var c,d,u,h=r.prototype;return h.registerListeners=function(){var e=this.hls;e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(n.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(n.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(n.Events.ERROR,this.onError,this)},h.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},h.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},h.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},h.onAudioTrackLoaded=function(e,t){var a=t.id,n=t.details,i=this.tracksInGroup[a];if(i){var r=i.details;i.details=t.details,this.log("audioTrack "+a+" loaded ["+n.startSN+"-"+n.endSN+"]"),a===this.trackId&&(this.retryCount=0,this.playlistLoaded(a,t,r))}else this.warn("Invalid audio track id "+a)},h.onLevelLoading=function(e,t){this.switchLevel(t.level)},h.onLevelSwitching=function(e,t){this.switchLevel(t.level)},h.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var a=t.audioGroupIds[t.urlId];if(this.groupId!==a){this.groupId=a;var i=this.tracks.filter((function(e){return!a||e.groupId===a}));this.selectDefaultTrack&&!i.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var r={audioTracks:i};this.log("Updating audio tracks, "+i.length+' track(s) found in "'+a+'" group-id'),this.hls.trigger(n.Events.AUDIO_TRACKS_UPDATED,r),this.selectInitialTrack()}}},h.onError=function(t,a){e.prototype.onError.call(this,t,a),!a.fatal&&a.context&&a.context.type===o.PlaylistContextType.AUDIO_TRACK&&a.context.id===this.trackId&&a.context.groupId===this.groupId&&this.retryLoadingOrFail(a)},h.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var a=t[this.trackId];this.log("Now switching to audio-track index "+e);var i=t[e],r=i.id,o=i.groupId,s=void 0===o?"":o,l=i.name,c=i.type,d=i.url;if(this.trackId=e,this.trackName=l,this.selectDefaultTrack=!1,this.hls.trigger(n.Events.AUDIO_TRACK_SWITCHING,{id:r,groupId:s,name:l,type:c,url:d}),!i.details||i.details.live){var u=this.switchParams(i.url,null==a?void 0:a.details);this.loadPlaylist(u)}}},h.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,a=this.findTrackId(t)||this.findTrackId();-1!==a?this.setAudioTrack(a):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},h.findTrackId=function(e){for(var t=this.tracksInGroup,a=0;a<t.length;a++){var n=t[a];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},h.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var a=t.id,i=t.groupId,r=t.url;if(e)try{r=e.addDirectives(r)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("loading audio-track playlist for id: "+a),this.clearTimer(),this.hls.trigger(n.Events.AUDIO_TRACK_LOADING,{url:r,id:a,groupId:i,deliveryDirectives:e||null})}},c=r,(d=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}])&&s(c.prototype,d),u&&s(c,u),Object.defineProperty(c,"prototype",{writable:!1}),r}(r.default)},"./src/controller/base-playlist-controller.ts":
/*!****************************************************!*\
  !*** ./src/controller/base-playlist-controller.ts ***!
  \****************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../types/level */"./src/types/level.ts"),r=a(/*! ./level-helper */"./src/controller/level-helper.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ../errors */"./src/errors.ts"),l=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.logger.log.bind(o.logger,t+":"),this.warn=o.logger.warn.bind(o.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var a=null==t?void 0:t.renditionReports;if(a)for(var r=0;r<a.length;r++){var o=a[r],s=""+o.URI;if(s===e.slice(-s.length)){var l=parseInt(o["LAST-MSN"]),c=parseInt(o["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var d=Math.min(t.age-t.partTarget,t.targetduration);void 0!==c&&d>t.partTarget&&(c+=1)}if((0,n.isFiniteNumber)(l))return new i.HlsUrlParameters(l,(0,n.isFiniteNumber)(c)?c:void 0,i.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,a){var n=this,i=t.details,o=t.stats,s=o.loading.end?Math.max(0,self.performance.now()-o.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=a&&a.live){if(i.reloaded(a),a&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),a&&i.fragments.length>0&&(0,r.mergeDetails)(a,i),!this.canLoad||!i.live)return;var l,c=void 0,d=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var u=this.hls.config.lowLatencyMode,h=i.lastPartSn,f=i.endSN,p=i.lastPartIndex,v=h===f;-1!==p?(c=v?f+1:h,d=v?u?0:p:p+1):c=f+1;var m=i.age,g=m+i.ageHeader,y=Math.min(g-i.partTarget,1.5*i.targetduration);if(y>0){if(a&&y>a.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+a.tuneInGoal+" to: "+y+" with playlist age: "+i.age),y=0;else{var b=Math.floor(y/i.targetduration);c+=b,void 0!==d&&(d+=Math.round(y%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+d)}i.tuneInGoal=y}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,c,d),u||!v)return void this.loadPlaylist(l)}else l=this.getDeliveryDirectives(i,t.deliveryDirectives,c,d);var _=(0,r.computeReloadInterval)(i,o);void 0!==c&&i.canBlockReload&&(_-=i.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(_)+" ms"),this.timer=self.setTimeout((function(){return n.loadPlaylist(l)}),_)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,a,n){var r=(0,i.getSkipValue)(e,a);return null!=t&&t.skip&&e.deltaUpdateFailed&&(a=t.msn,n=t.part,r=i.HlsSkip.No),new i.HlsUrlParameters(a,n,r)},t.retryLoadingOrFail=function(e){var t,a=this,n=this.hls.config,i=this.retryCount<n.levelLoadingMaxRetry;if(i)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var r=Math.min(Math.pow(2,this.retryCount)*n.levelLoadingRetryDelay,n.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return a.loadPlaylist()}),r),this.warn("retry playlist loading #"+this.retryCount+" in "+r+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}()},"./src/controller/base-stream-controller.ts":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.ts ***!
  \**************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{State:()=>E,default:()=>w});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../task-loop */"./src/task-loop.ts"),r=a(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),o=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),s=a(/*! ../utils/logger */"./src/utils/logger.ts"),l=a(/*! ../events */"./src/events.ts"),c=a(/*! ../errors */"./src/errors.ts"),d=a(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),u=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),h=a(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),f=a(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),p=a(/*! ./level-helper */"./src/controller/level-helper.ts"),v=a(/*! ../loader/fragment-loader */"./src/loader/fragment-loader.ts"),m=a(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),g=a(/*! ../utils/time-ranges */"./src/utils/time-ranges.ts"),y=a(/*! ../types/loader */"./src/types/loader.ts");function b(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var E={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},w=function(e){var t,a;function i(t,a,n){var i;return(i=e.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=E.STOPPED,i.media=null,i.mediaBuffer=null,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=n,i.log=s.logger.log.bind(s.logger,n+":"),i.warn=s.logger.warn.bind(s.logger,n+":"),i.hls=t,i.fragmentLoader=new v.default(t.config),i.fragmentTracker=a,i.config=t.config,i.decrypter=new m.default(t,t.config),t.on(l.Events.KEY_LOADED,i.onKeyLoaded,_(i)),t.on(l.Events.LEVEL_SWITCHING,i.onLevelSwitching,_(i)),i}a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,x(t,a);var w,T,S,k=i.prototype;return k.doTick=function(){this.onTickEnd()},k.onTickEnd=function(){},k.startLoad=function(e){},k.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=E.STOPPED},k._streamEnded=function(e,t){var a=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&a&&this.media&&a.sn>=t.endSN&&!e.nextStart){var i=t.partList;if(null!=i&&i.length){var s=i[i.length-1];return o.BufferHelper.isBuffered(this.media,s.start+s.duration/2)}var l=n.getState(a);return l===r.FragmentState.PARTIAL||l===r.FragmentState.OK}return!1},k.onMediaAttached=function(e,t){var a=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),a.addEventListener("seeking",this.onvseeking),a.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===E.STOPPED&&this.startLoad(n.startPosition)},k.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},k.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,a=this.media,i=this.mediaBuffer,r=this.state,s=a?a.currentTime:0,l=o.BufferHelper.bufferInfo(i||a,s,e.maxBufferHole);if(this.log("media seeking to "+((0,n.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+r),r===E.ENDED)this.resetLoadingState();else if(t){var c=e.maxFragLookUpTolerance,d=t.start-c,u=t.start+t.duration+c;if(!l.len||u<l.start||d>l.end){var h=s>u;(s<d||h)&&(h&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}}a&&(this.lastCurrentTime=s),this.loadedmetadata||l.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},k.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},k.onKeyLoaded=function(e,t){if(this.state===E.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=E.IDLE;var a=this.levels[t.frag.level].details;a&&this.loadFragment(t.frag,a,t.frag.start)}},k.onLevelSwitching=function(e,t){this.fragLoadError=0},k.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},k.onHandlerDestroyed=function(){this.state=E.STOPPED,this.hls.off(l.Events.KEY_LOADED,this.onKeyLoaded,this),this.hls.off(l.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},k.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=E.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(l.Events.KEY_LOADING,{frag:e})},k.loadFragment=function(e,t,a){this._loadFragForPlayback(e,t,a)},k._loadFragForPlayback=function(e,t,a){var n=this;this._doFragLoad(e,t,a,(function(t){if(n.fragContextChanged(e))return n.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void n.fragmentTracker.removeFragment(e);e.stats.chunkCount++,n._handleFragmentLoadProgress(t)})).then((function(t){if(t){n.fragLoadError=0;var a=n.state;n.fragContextChanged(e)?(a===E.FRAG_LOADING||!n.fragCurrent&&a===E.PARSING)&&(n.fragmentTracker.removeFragment(e),n.state=E.IDLE):("payload"in t&&(n.log("Loaded fragment "+e.sn+" of level "+e.level),n.hls.trigger(l.Events.FRAG_LOADED,t)),n._handleFragmentLoadComplete(t))}})).catch((function(t){n.state!==E.STOPPED&&n.state!==E.ERROR&&(n.warn(t),n.resetFragmentLoading(e))}))},k.flushMainBuffer=function(e,t,a){if(void 0===a&&(a=null),e-t){var n={startOffset:e,endOffset:t,type:a};this.fragLoadError=0,this.hls.trigger(l.Events.BUFFER_FLUSHING,n)}},k._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(a){if(!a||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return a})).then((function(a){var n=t.hls,i=a.payload,r=e.decryptdata;if(i&&i.byteLength>0&&r&&r.key&&r.iv&&"AES-128"===r.method){var o=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(i),r.key.buffer,r.iv.buffer).then((function(t){var i=self.performance.now();return n.trigger(l.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:o,tdecrypt:i}}),a.payload=t,a}))}return a})).then((function(a){var n=t.fragCurrent,i=t.hls,r=t.levels;if(!r)throw new Error("init load aborted, missing levels");var o=r[e.level].details;console.assert(o,"Level details are defined when init segment is loaded");var s=e.stats;t.state=E.IDLE,t.fragLoadError=0,e.data=new Uint8Array(a.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),a.frag===n&&i.trigger(l.Events.FRAG_BUFFERED,{stats:s,frag:n,part:null,id:e.type}),t.tick()})).catch((function(a){t.state!==E.STOPPED&&t.state!==E.ERROR&&(t.warn(a),t.resetFragmentLoading(e))}))},k.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},k.fragBufferedComplete=function(e,t){var a,n,i=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+(i?g.default.toString(o.BufferHelper.getBuffered(i)):"(detached)")),this.state=E.IDLE,i&&(!this.loadedmetadata&&e.type==y.PlaylistLevelType.MAIN&&i.buffered.length&&(null===(a=this.fragCurrent)||void 0===a?void 0:a.sn)===(null===(n=this.fragPrevious)||void 0===n?void 0:n.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},k.seekToStartPos=function(){},k._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var a=e.frag,n=e.part,i=e.partsLoaded,r=!i||0===i.length||i.some((function(e){return!e})),o=new d.ChunkMetadata(a.level,a.sn,a.stats.chunkCount+1,0,n?n.index:-1,!r);t.flush(o)}},k._handleFragmentLoadProgress=function(e){},k._doFragLoad=function(e,t,a,i){var r=this;if(void 0===a&&(a=null),!this.levels)throw new Error("frag load aborted, missing levels");if(a=Math.max(e.start,a||0),this.config.lowLatencyMode&&t){var o=t.partList;if(o&&i){a>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(o,e,a);if(s>-1){var c=o[s];return this.log("Loading part sn: "+e.sn+" p: "+c.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(o.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(a.toFixed(3))),this.nextLoadPosition=c.start+c.duration,this.state=E.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,part:o[s],targetBufferTime:a}),this.doFragPartsLoad(e,o,s,i).catch((function(e){return r.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(o,a))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(a.toFixed(3))),(0,n.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=E.FRAG_LOADING,this.hls.trigger(l.Events.FRAG_LOADING,{frag:e,targetBufferTime:a}),this.fragmentLoader.load(e,i).catch((function(e){return r.handleFragLoadError(e)}))},k.doFragPartsLoad=function(e,t,a,n){var i=this;return new Promise((function(r,o){var s=[];!function a(c){var d=t[c];i.fragmentLoader.loadPart(e,d,n).then((function(n){s[d.index]=n;var o=n.part;i.hls.trigger(l.Events.FRAG_LOADED,n);var u=t[c+1];if(!u||u.fragment!==e)return r({frag:e,part:o,partsLoaded:s});a(c+1)})).catch(o)}(a)}))},k.handleFragLoadError=function(e){var t=e.data;return t&&t.details===c.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(l.Events.ERROR,t),null},k._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===E.PARSING){var a=t.frag,n=t.part,i=t.level,r=self.performance.now();a.stats.parsing.end=r,n&&(n.stats.parsing.end=r),this.updateLevelTiming(a,n,i,e.partial)}else this.fragCurrent||(this.state=E.IDLE)},k.getCurrentContext=function(e){var t=this.levels,a=e.level,n=e.sn,i=e.part;if(!t||!t[a])return this.warn("Levels object was unset while buffering fragment "+n+" of level "+a+". The current chunk will not be buffered."),null;var r=t[a],o=i>-1?(0,p.getPartWith)(r,n,i):null,s=o?o.fragment:(0,p.getFragmentWithSN)(r,n,this.fragCurrent);return s?{frag:s,part:o,level:r}:null},k.bufferFragmentData=function(e,t,a,n){if(e&&this.state===E.PARSING){var i=e.data1,r=e.data2,o=i;if(i&&r&&(o=(0,u.appendUint8Array)(i,r)),o&&o.length){var s={type:e.type,frag:t,part:a,chunkMeta:n,parent:t.type,data:o};this.hls.trigger(l.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!a&&this.flushBufferGap(t)}}},k.flushBufferGap=function(e){var t=this.media;if(t)if(o.BufferHelper.isBuffered(t,t.currentTime)){var a=t.currentTime,n=o.BufferHelper.bufferInfo(t,a,0),i=e.duration,r=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-r,n.end-r),a+r);e.start-s>r&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},k.getFwdBufferInfo=function(e,t){var a=this.config,i=this.getLoadPosition();if(!(0,n.isFiniteNumber)(i))return null;var r=o.BufferHelper.bufferInfo(e,i,a.maxBufferHole);if(0===r.len&&void 0!==r.nextStart){var s=this.fragmentTracker.getBufferedFrag(i,t);if(s&&r.nextStart<s.end)return o.BufferHelper.bufferInfo(e,i,Math.max(r.nextStart,a.maxBufferHole))}return r},k.getMaxBufferLength=function(e){var t,a=this.config;return t=e?Math.max(8*a.maxBufferSize/e,a.maxBufferLength):a.maxBufferLength,Math.min(t,a.maxMaxBufferLength)},k.reduceMaxBufferLength=function(e){var t=this.config,a=e||t.maxBufferLength;return t.maxMaxBufferLength>=a&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},k.getNextFragment=function(e,t){var a=t.fragments,n=a.length;if(!n)return null;var i,r=this.config,o=a[0].start;if(t.live){var s=r.initialLiveManifestSize;if(n<s)return this.warn("Not enough fragments to start playback (have: "+n+", need: "+s+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(i=this.getInitialLiveFragment(t,a),this.startPosition=i?this.hls.liveSyncPosition||i.start:e)}else e<=o&&(i=a[0]);if(!i){var l=r.lowLatencyMode?t.partEnd:t.fragmentEnd;i=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(i)},k.mapToInitFragWhenRequired=function(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment},k.getNextPart=function(e,t,a){for(var n=-1,i=!1,r=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(r=r&&!l.independent,n>-1&&a<l.start)break;var c=l.loaded;!c&&(i||l.independent||r)&&l.fragment===t&&(n=o),i=c}return n},k.loadedEndOfParts=function(e,t){var a=e[e.length-1];return a&&t>a.start&&a.loaded},k.getInitialLiveFragment=function(e,t){var a=this.fragPrevious,n=null;if(a){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+a.programDateTime),n=(0,f.findFragmentByPDT)(t,a.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var i=a.sn+1;if(i>=e.startSN&&i<=e.endSN){var r=t[i-e.startSN];a.cc===r.cc&&(n=r,this.log("Live playlist, switching playlist, load frag with next SN: "+n.sn))}n||(n=(0,f.findFragWithCC)(t,a.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+n.sn)}}else{var o=this.hls.liveSyncPosition;null!==o&&(n=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n},k.getFragmentAtPosition=function(e,t,a){var n,i=this.config,o=this.fragPrevious,s=a.fragments,l=a.endSN,c=a.fragmentHint,d=i.maxFragLookUpTolerance,u=!!(i.lowLatencyMode&&a.partList&&c);if(u&&c&&!this.bitrateTest&&(s=s.concat(c),l=c.sn),e<t){var h=e>t-d?0:d;n=(0,f.findFragmentByPTS)(o,s,e,h)}else n=s[s.length-1];if(n){var p=n.sn-a.startSN;if(this.fragmentTracker.getState(n)===r.FragmentState.OK&&(o=n),o&&n.sn===o.sn&&!u&&o&&n.level===o.level){var v=s[p+1];n.sn<l&&this.fragmentTracker.getState(v)!==r.FragmentState.OK?(this.log("SN "+n.sn+" just loaded, load next one: "+v.sn),n=v):n=null}}return n},k.synchronizeToLiveEdge=function(e){var t=this.config,a=this.media;if(a){var n=this.hls.liveSyncPosition,i=a.currentTime,r=e.fragments[0].start,o=e.edge,s=i>=r-t.maxFragLookUpTolerance&&i<=o;if(null!==n&&a.duration>n&&(i<n||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&a.readyState<4||i<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=n),a.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+o+", reset currentTime to : "+n.toFixed(3)),a.currentTime=n))}}},k.alignPlaylists=function(e,t){var a=this.levels,i=this.levelLastLoaded,r=this.fragPrevious,o=null!==i?a[i]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var l=e.fragments[0].start,c=!t,d=e.alignedSliding&&(0,n.isFiniteNumber)(l);if(c||!d&&!l){(0,h.alignStream)(r,o,e);var u=e.fragments[0].start;return this.log("Live playlist sliding: "+u.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(r?r.sn:"na")+" fragments: "+s),u}return l},k.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},k.setStartPosition=function(e,t){var a=this.startPosition;if(a<t&&(a=-1),-1===a||-1===this.lastCurrentTime){var i=e.startTimeOffset;(0,n.isFiniteNumber)(i)?(a=t+i,i<0&&(a+=e.totalduration),a=Math.min(Math.max(t,a),t+e.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+a),this.startPosition=a):e.live?a=this.hls.liveSyncPosition||t:this.startPosition=a=0,this.lastCurrentTime=a}this.nextLoadPosition=a},k.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},k.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},k.resetFragmentLoading=function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===E.FRAG_LOADING_WAITING_RETRY)||(this.state=E.IDLE)},k.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var a=t.frag;if(a&&a.type===e){var n=this.fragCurrent;console.assert(n&&a.sn===n.sn&&a.level===n.level&&a.urlId===n.urlId,"Frag load error must match current frag to retry");var i=this.config;if(this.fragLoadError+1<=i.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var r=Math.min(Math.pow(2,this.fragLoadError)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);this.warn("Fragment "+a.sn+" of "+e+" "+a.level+" failed to load, retrying in "+r+"ms"),this.retryDate=self.performance.now()+r,this.fragLoadError++,this.state=E.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=E.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=E.ERROR)}}},k.afterBufferFlushed=function(e,t,a){if(e){var n=o.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,a),this.state===E.ENDED&&this.resetLoadingState()}},k.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=E.IDLE},k.resetStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},k.updateLevelTiming=function(e,t,a,n){var i=this,r=a.details;console.assert(!!r,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce((function(t,o){var s=e.elementaryStreams[o];if(s){var c=s.endPTS-s.startPTS;if(c<=0)return i.warn("Could not parse fragment "+e.sn+" "+o+" duration reliably ("+c+")"),t||!1;var d=n?0:(0,p.updateFragPTSDTS)(r,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return i.hls.trigger(l.Events.LEVEL_PTS_UPDATED,{details:r,level:a,drift:d,type:o,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)||(this.warn("Found no media in fragment "+e.sn+" of level "+a.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=E.PARSED,this.hls.trigger(l.Events.FRAG_PARSED,{frag:e,part:t})},k.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},w=i,(T=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&b(w.prototype,T),S&&b(w,S),Object.defineProperty(w,"prototype",{writable:!1}),i}(i.default)},"./src/controller/buffer-controller.ts":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.ts ***!
  \*********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! ../errors */"./src/errors.ts"),s=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),l=a(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts"),c=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),d=a(/*! ./buffer-operation-queue */"./src/controller/buffer-operation-queue.ts"),u=(0,l.getMediaSource)(),h=/([ha]vc.)(?:\.[^.,]+)+/,f=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,a=t.media,n=t.mediaSource;r.logger.log("[buffer-controller]: Media source opened"),a&&(t.updateMediaElementDuration(),e.trigger(i.Events.MEDIA_ATTACHED,{media:a})),n&&n.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){r.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){r.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.BUFFER_EOS,this.onBufferEos,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(i.Events.FRAG_PARSED,this.onFragParsed,this),e.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.BUFFER_EOS,this.onBufferEos,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(i.Events.FRAG_PARSED,this.onFragParsed,this),e.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new d.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var a=2;(t.audio&&!t.video||!t.altAudio)&&(a=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=a,this.details=null,r.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var a=this.media=t.media;if(a&&u){var n=this.mediaSource=new u;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),a.src=self.URL.createObjectURL(n),this._objectUrl=a.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,a=this._objectUrl;if(t){if(r.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){r.logger.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(a&&self.URL.revokeObjectURL(a),e.src===a?(e.removeAttribute("src"),e.load()):r.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var a=e.sourceBuffer[t];try{a&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(a),e.sourceBuffer[t]=void 0)}catch(e){r.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var a=this,n=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(n){var i=a.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var o=t[e],s=o.id,l=o.codec,c=o.levelCodec,d=o.container,u=o.metadata,f=(i.levelCodec||i.codec).replace(h,"$1"),p=(c||l).replace(h,"$1");if(f!==p){var v=d+";codecs="+(c||l);a.appendChangeType(e,v),r.logger.log("[buffer-controller]: switching codec "+f+" to "+p),a.tracks[e]={buffer:i.buffer,codec:l,container:d,levelCodec:c,metadata:u,id:s}}}}else a.pendingTracks[e]=t[e]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var a=this,n=this.operationQueue,i={execute:function(){var i=a.sourceBuffer[e];i&&(r.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),n.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){r.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};n.append(i,e)},t.onBufferAppending=function(e,t){var a=this,n=this.hls,l=this.operationQueue,c=this.tracks,d=t.data,u=t.type,h=t.frag,f=t.part,p=t.chunkMeta,v=p.buffering[u],m=self.performance.now();v.start=m;var g=h.stats.buffering,y=f?f.stats.buffering:null;0===g.start&&(g.start=m),y&&0===y.start&&(y.start=m);var b=c.audio,_="audio"===u&&1===p.id&&"audio/mpeg"===(null==b?void 0:b.container),x={execute:function(){if(v.executeStart=self.performance.now(),_){var e=a.sourceBuffer[u];if(e){var t=h.start-e.timestampOffset;Math.abs(t)>=.1&&(r.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+h.start+" (delta: "+t+") sn: "+h.sn+")"),e.timestampOffset=h.start)}}a.appendExecutor(d,u)},onStart:function(){},onComplete:function(){var e=self.performance.now();v.executeEnd=v.end=e,0===g.first&&(g.first=e),y&&0===y.first&&(y.first=e);var t=a.sourceBuffer,n={};for(var r in t)n[r]=s.BufferHelper.getBuffered(t[r]);a.appendError=0,a.hls.trigger(i.Events.BUFFER_APPENDED,{type:u,frag:h,part:f,chunkMeta:p,parent:h.type,timeRanges:n})},onError:function(e){r.logger.error("[buffer-controller]: Error encountered while trying to append to the "+u+" SourceBuffer",e);var t={type:o.ErrorTypes.MEDIA_ERROR,parent:h.type,details:o.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=o.ErrorDetails.BUFFER_FULL_ERROR:(a.appendError++,t.details=o.ErrorDetails.BUFFER_APPEND_ERROR,a.appendError>n.config.appendErrorMaxRetry&&(r.logger.error("[buffer-controller]: Failed "+n.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0,n.stopLoad())),n.trigger(i.Events.ERROR,t)}};l.append(x,u)},t.onBufferFlushing=function(e,t){var a=this,n=this.operationQueue,o=function(e){return{execute:a.removeExecutor.bind(a,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){a.hls.trigger(i.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){r.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?n.append(o(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){n.append(o(e),e)}))},t.onFragParsed=function(e,t){var a=this,n=t.frag,o=t.part,s=[],l=o?o.elementaryStreams:n.elementaryStreams;l[c.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(l[c.ElementaryStreamTypes.AUDIO]&&s.push("audio"),l[c.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&r.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+n.type+" level: "+n.level+" sn: "+n.sn),this.blockBuffers((function(){var e=self.performance.now();n.stats.buffering.end=e,o&&(o.stats.buffering.end=e);var t=o?o.stats:n.stats;a.hls.trigger(i.Events.FRAG_BUFFERED,{frag:n,part:o,stats:t,id:n.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var a=this;this.getSourceBufferTypes().reduce((function(e,n){var i=a.sourceBuffer[n];return t.type&&t.type!==n||i&&!i.ended&&(i.ended=!0,r.logger.log("[buffer-controller]: "+n+" sourceBuffer now EOS")),e&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var e=a.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var a=t.details;a.fragments.length&&(this.details=a,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,a=this.media,r=this.sourceBuffer;if(a&&null!==t){var o=this.getSourceBufferTypes();if(o.length){var l=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if((0,n.isFiniteNumber)(l)&&!(l<0)){var c=a.currentTime,d=t.levelTargetDuration,u=Math.max(l,d),h=Math.floor(c/d)*d-u;o.forEach((function(a){var n=r[a];if(n){var o=s.BufferHelper.getBuffered(n);o.length>0&&h>o.start(0)&&(e.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:h}),t.live&&e.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:h}),e.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:h,type:a}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,a=this.media,i=this.mediaSource,o=e.fragments[0].start+e.totalduration,s=a.duration,l=(0,n.isFiniteNumber)(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(r.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(o>l&&o>s||!(0,n.isFiniteNumber)(s))&&(r.logger.log("[buffer-controller]: Updating Media Source duration to "+o.toFixed(3)),i.duration=o)}},t.updateSeekableRange=function(e){var t=this.mediaSource,a=e.fragments;if(a.length&&e.live&&null!=t&&t.setLiveSeekableRange){var n=Math.max(0,a[0].start),i=Math.max(n,n+e.totalduration);t.setLiveSeekableRange(n,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,a=this.pendingTracks,n=Object.keys(a).length;if(n&&!e||2===n){this.createSourceBuffers(a),this.pendingTracks={};var r=this.getSourceBufferTypes();if(0===r.length)return void this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});r.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,a=this.mediaSource;if(!a)throw Error("createSourceBuffers called when mediaSource was null");var n=0;for(var s in e)if(!t[s]){var l=e[s];if(!l)throw Error("source buffer exists for track "+s+", however track does not");var c=l.levelCodec||l.codec,d=l.container+";codecs="+c;r.logger.log("[buffer-controller]: creating sourceBuffer("+d+")");try{var u=t[s]=a.addSourceBuffer(d),h=s;this.addBufferListener(h,"updatestart",this._onSBUpdateStart),this.addBufferListener(h,"updateend",this._onSBUpdateEnd),this.addBufferListener(h,"error",this._onSBUpdateError),this.tracks[s]={buffer:u,codec:c,container:l.container,levelCodec:l.levelCodec,metadata:l.metadata,id:l.id},n++}catch(e){r.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:d})}}n&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){r.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var a=this.operationQueue.current(e);a&&a.onError(t)},t.removeExecutor=function(e,t,a){var i=this.media,o=this.mediaSource,s=this.operationQueue,l=this.sourceBuffer[e];if(!i||!o||!l)return r.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var c=(0,n.isFiniteNumber)(i.duration)?i.duration:1/0,d=(0,n.isFiniteNumber)(o.duration)?o.duration:1/0,u=Math.max(0,t),h=Math.min(a,c,d);h>u?(r.logger.log("[buffer-controller]: Removing ["+u+","+h+"] from the "+e+" SourceBuffer"),console.assert(!l.updating,e+" sourceBuffer must not be updating"),l.remove(u,h)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var a=this.operationQueue,n=this.sourceBuffer[t];if(!n)return r.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(t);n.ended=!1,console.assert(!n.updating,t+" sourceBuffer must not be updating"),n.appendBuffer(e)},t.blockBuffers=function(e,t){var a=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return r.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var n=this.operationQueue,i=t.map((function(e){return n.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=a.sourceBuffer[e];t&&t.updating||n.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,a){var n=this.sourceBuffer[e];if(n){var i=a.bind(this,e);this.listeners[e].push({event:t,listener:i}),n.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":
/*!**************************************************!*\
  !*** ./src/controller/buffer-operation-queue.ts ***!
  \**************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(/*! ../utils/logger */"./src/utils/logger.ts"),i=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var a=this.queues[t];a.push(e),1===a.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,a=new Promise((function(e){t=e})),n={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,e),a},t.executeNext=function(e){var t=this.buffers,a=this.queues,i=t[e],r=a[e];if(r.length){var o=r[0];try{o.execute()}catch(t){n.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(t),i&&i.updating||(r.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.ts ***!
  \************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(/*! ../events */"./src/events.ts");function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const r=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,a,r,o=e.prototype;return o.setStreamController=function(e){this.streamController=e},o.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},o.registerListeners=function(){var e=this.hls;e.on(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.unregisterListener=function(){var e=this.hls;e.off(n.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},o.onFpsDropLevelCapping=function(t,a){e.isLevelAllowed(a.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(a.droppedLevel)},o.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},o.onManifestParsed=function(e,t){var a=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,a.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},o.onMediaDetaching=function(){this.stopCapping()},o.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},o.getMaxLevel=function(t){var a=this,n=this.hls.levels;if(!n.length)return-1;var i=n.filter((function(n,i){return e.isLevelAllowed(i,a.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},o.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},o.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},o.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var a=e.getBoundingClientRect();t.width=a.width,t.height=a.height,t.width||t.height||(t.width=a.right-a.left||e.width||0,t.height=a.bottom-a.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,a){if(!e||!e.length)return-1;for(var n,i,r=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=a)&&(n=s,!(i=e[o+1])||n.width!==i.width||n.height!==i.height)){r=o;break}}return r},t=e,(a=[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(e){}return e}}])&&i(t.prototype,a),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/cmcd-controller.ts":
/*!*******************************************!*\
  !*** ./src/controller/cmcd-controller.ts ***!
  \*******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(/*! ../events */"./src/events.ts"),i=a(/*! ../types/cmcd */"./src/types/cmcd.ts"),r=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts");function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}var h=function(){function e(t){var a=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){a.initialized&&(a.starved=!0),a.buffering=!0},this.onPlaying=function(){a.initialized||(a.initialized=!0),a.buffering=!1},this.applyPlaylistData=function(e){try{a.apply(e,{ot:i.CMCDObjectType.MANIFEST,su:!a.initialized})}catch(e){o.logger.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(e){try{var t=e.frag,n=a.hls.levels[t.level],r=a.getObjectType(t),s={d:1e3*t.duration,ot:r};r!==i.CMCDObjectType.VIDEO&&r!==i.CMCDObjectType.AUDIO&&r!=i.CMCDObjectType.MUXED||(s.br=n.bitrate/1e3,s.tb=a.getTopBandwidth(r)/1e3,s.bl=a.getBufferLength(r)),a.apply(e,s)}catch(e){o.logger.warn("Could not generate segment CMCD data.",e)}},this.hls=t;var n=this.config=t.config,r=n.cmcd;null!=r&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||e.uuid(),this.cid=r.contentId,this.useHeaders=!0===r.useHeaders,this.registerListeners())}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.on(n.Events.BUFFER_CREATED,this.onBufferCreated,this)},t.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.off(n.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},t.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},t.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},t.onBufferCreated=function(e,t){var a,n;this.audioBuffer=null===(a=t.tracks.audio)||void 0===a?void 0:a.buffer,this.videoBuffer=null===(n=t.tracks.video)||void 0===n?void 0:n.buffer},t.createData=function(){var e;return{v:i.CMCDVersion,sf:i.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(e=this.media)||void 0===e?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},t.apply=function(t,a){void 0===a&&(a={}),u(a,this.createData());var n=a.ot===i.CMCDObjectType.INIT||a.ot===i.CMCDObjectType.VIDEO||a.ot===i.CMCDObjectType.MUXED;if(this.starved&&n&&(a.bs=!0,a.su=!0,this.starved=!1),null==a.su&&(a.su=this.buffering),this.useHeaders){var r=e.toHeaders(a);if(!Object.keys(r).length)return;t.headers||(t.headers={}),u(t.headers,r)}else{var o=e.toQuery(a);if(!o)return;t.url=e.appendQueryToUri(t.url,o)}},t.getObjectType=function(e){var t=e.type;return"subtitle"===t?i.CMCDObjectType.TIMED_TEXT:"initSegment"===e.sn?i.CMCDObjectType.INIT:"audio"===t?i.CMCDObjectType.AUDIO:"main"===t?this.hls.audioTracks.length?i.CMCDObjectType.VIDEO:i.CMCDObjectType.MUXED:void 0},t.getTopBandwidth=function(e){var t,a=0,n=this.hls;if(e===i.CMCDObjectType.AUDIO)t=n.audioTracks;else{var r=n.maxAutoLevel,o=r>-1?r+1:n.levels.length;t=n.levels.slice(0,o)}for(var s,l=c(t);!(s=l()).done;){var d=s.value;d.bitrate>a&&(a=d.bitrate)}return a>0?a:NaN},t.getBufferLength=function(e){var t=this.hls.media,a=e===i.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return a&&t?1e3*r.BufferHelper.bufferInfo(a,t.currentTime,this.config.maxBufferHole).len:NaN},t.createPlaylistLoader=function(){var e=this.config.pLoader,t=this.applyPlaylistData,a=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new a(e)}var n=e.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(e,a,n){t(e),this.loader.load(e,a,n)},l(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},t.createFragmentLoader=function(){var e=this.config.fLoader,t=this.applyFragmentData,a=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new a(e)}var n=e.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(e,a,n){t(e),this.loader.load(e,a,n)},l(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},e.uuid=function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)},e.serialize=function(e){for(var t,a=[],n=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},i=function(e){return Math.round(e)},r=function(e){return 100*i(e/100)},o={br:i,d:i,bl:r,dl:r,mtp:r,nor:function(e){return encodeURIComponent(e)},rtp:r,tb:i},s=c(Object.keys(e||{}).sort());!(t=s()).done;){var l=t.value,d=e[l];if(n(d)&&!("v"===l&&1===d||"pr"==l&&1===d)){var u=o[l];u&&(d=u(d));var h=typeof d,f=void 0;f="ot"===l||"sf"===l||"st"===l?l+"="+d:"boolean"===h?l:"number"===h?l+"="+d:l+"="+JSON.stringify(d),a.push(f)}}return a.join(",")},e.toHeaders=function(t){for(var a={},n=["Object","Request","Session","Status"],i=[{},{},{},{}],r={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},o=0,s=Object.keys(t);o<s.length;o++){var l=s[o];i[null!=r[l]?r[l]:1][l]=t[l]}for(var c=0;c<i.length;c++){var d=e.serialize(i[c]);d&&(a["CMCD-"+n[c]]=d)}return a},e.toQuery=function(t){return"CMCD="+encodeURIComponent(e.serialize(t))},e.appendQueryToUri=function(e,t){if(!t)return e;var a=e.includes("?")?"&":"?";return""+e+a+t},e}()},"./src/controller/eme-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(/*! ../events */"./src/events.ts"),i=a(/*! ../errors */"./src/errors.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! ../utils/mediakeys-helper */"./src/utils/mediakeys-helper.ts");function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const l=function(){function e(e){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=e,this._config=e.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var t,a,l,c=e.prototype;return c.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},c._registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},c._unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(n.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this)},c.getLicenseServerUrl=function(e){switch(e){case o.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},c._attemptKeySystemAccess=function(e,t,a){var n=this,i=function(e,t,a,n){if(e===o.KeySystems.WIDEVINE)return function(e,t,a){var n={audioCapabilities:[],videoCapabilities:[]};return e.forEach((function(e){n.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:a.audioRobustness||""})})),t.forEach((function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:a.videoRobustness||""})})),[n]}(t,a,n);throw new Error("Unknown key-system: "+e)}(e,t,a,this._drmSystemOptions);r.logger.log("Requesting encrypted media key-system access");var s=this.requestMediaKeySystemAccess(e,i);this.mediaKeysPromise=s.then((function(t){return n._onMediaKeySystemAccessObtained(e,t)})),s.catch((function(t){r.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))},c._onMediaKeySystemAccessObtained=function(e,t){var a=this;r.logger.log('Access for key-system "'+e+'" obtained');var n={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(n);var i=Promise.resolve().then((function(){return t.createMediaKeys()})).then((function(t){return n.mediaKeys=t,r.logger.log('Media-keys created for key-system "'+e+'"'),a._onMediaKeysCreated(),t}));return i.catch((function(e){r.logger.error("Failed to create media-keys:",e)})),i},c._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},c._onNewMediaKeySession=function(e){var t=this;r.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(a){t._onKeySessionMessage(e,a.message)}),!1)},c._onKeySessionMessage=function(e,t){r.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){r.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t).catch((function(e){r.logger.warn("Updating key-session failed: "+e)}))}))},c.onMediaEncrypted=function(e){var t=this;if(r.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!this.mediaKeysPromise)return r.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var a=function(a){t._media&&(t._attemptSetMediaKeys(a),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};this.mediaKeysPromise.then(a).catch(a)},c._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return r.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});r.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},c._generateRequestWithPreferredKeySession=function(e,t){var a=this,o=this._mediaKeysList[0];if(!o)return r.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(o.mediaKeysSessionInitialized)r.logger.warn("Key-Session already initialized but requested again");else{var s=o.mediaKeysSession;if(!s)return r.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return r.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});r.logger.log('Generating key-session request for "'+e+'" init data type'),o.mediaKeysSessionInitialized=!0,s.generateRequest(e,t).then((function(){r.logger.debug("Key-session generation succeeded")})).catch((function(e){r.logger.error("Error generating key-session request:",e),a.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},c._createLicenseXhr=function(e,t,a){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,e,t,a);var i=this._licenseXhrSetup;if(i)try{i.call(this.hls,n,e),i=void 0}catch(e){r.logger.error(e)}try{n.readyState||n.open("POST",e,!0),i&&i.call(this.hls,n,e)}catch(e){throw new Error("issue setting up KeySystem license XHR "+e)}return n},c._onLicenseRequestReadyStageChange=function(e,t,a,o){if(4===e.readyState)if(200===e.status){this._requestLicenseFailureCount=0,r.logger.log("License request succeeded");var s=e.response,l=this._licenseResponseCallback;if(l)try{s=l.call(this.hls,e,t)}catch(e){r.logger.error(e)}o(s)}else{if(r.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var c=3-this._requestLicenseFailureCount+1;r.logger.warn("Retrying license request, "+c+" attempts left"),this._requestLicense(a,o)}},c._generateLicenseRequestChallenge=function(e,t){if(e.mediaKeySystemDomain===o.KeySystems.WIDEVINE)return t;throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},c._requestLicense=function(e,t){r.logger.log("Requesting content license for key-system");var a=this._mediaKeysList[0];if(!a)return r.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var o=this.getLicenseServerUrl(a.mediaKeySystemDomain),s=this._createLicenseXhr(o,e,t);r.logger.log("Sending license request to URL: "+o);var l=this._generateLicenseRequestChallenge(a,e);s.send(l)}catch(e){r.logger.error("Failure requesting DRM license: "+e),this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},c.onMediaAttached=function(e,t){if(this._emeEnabled){var a=t.media;this._media=a,a.addEventListener("encrypted",this._onMediaEncrypted)}},c.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch((function(){}))}))).then((function(){return e.setMediaKeys(null)})).catch((function(){})))},c.onManifestParsed=function(e,t){if(this._emeEnabled){var a=t.levels.map((function(e){return e.audioCodec})).filter((function(e){return!!e})),n=t.levels.map((function(e){return e.videoCodec})).filter((function(e){return!!e}));this._attemptKeySystemAccess(o.KeySystems.WIDEVINE,a,n)}},t=e,(a=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&s(t.prototype,a),l&&s(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/fps-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(/*! ../events */"./src/events.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts");const r=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(n.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(n.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var a=this.hls.config;if(a.capLevelOnFPSDrop){var n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&"function"==typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),a.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,a){var r=performance.now();if(t){if(this.lastTime){var o=r-this.lastTime,s=a-this.lastDroppedFrames,l=t-this.lastDecodedFrames,c=1e3*s/o,d=this.hls;if(d.trigger(n.Events.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:a}),c>0&&s>d.config.fpsDroppedMonitoringThreshold*l){var u=d.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===d.autoLevelCapping||d.autoLevelCapping>=u)&&(u-=1,d.trigger(n.Events.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:d.currentLevel}),d.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=a,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}()},"./src/controller/fragment-finders.ts":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.ts ***!
  \********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{findFragWithCC:()=>c,findFragmentByPDT:()=>r,findFragmentByPTS:()=>o,fragmentWithinToleranceTest:()=>s,pdtWithinToleranceTest:()=>l});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../utils/binary-search */"./src/utils/binary-search.ts");function r(e,t,a){if(null===t||!Array.isArray(e)||!e.length||!(0,n.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;a=a||0;for(var i=0;i<e.length;++i){var r=e[i];if(l(t,a,r))return r}return null}function o(e,t,a,n){void 0===a&&(a=0),void 0===n&&(n=0);var r=null;if(e?r=t[e.sn-t[0].sn+1]||null:0===a&&0===t[0].start&&(r=t[0]),r&&0===s(a,n,r))return r;var o=i.default.search(t,s.bind(null,a,n));return o||r}function s(e,t,a){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,a.duration+(a.deltaPTS?a.deltaPTS:0));return a.start+a.duration-n<=e?1:a.start-n>e&&a.start?-1:0}function l(e,t,a){var n=1e3*Math.min(t,a.duration+(a.deltaPTS?a.deltaPTS:0));return(a.endProgramDateTime||0)-n>e}function c(e,t){return i.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.ts ***!
  \********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{FragmentState:()=>n,FragmentTracker:()=>o});var n,i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../types/loader */"./src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(n||(n={}));var o=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===r.PlaylistLevelType.MAIN){var a=this.activeFragment,n=this.activeParts;if(!a)return null;if(n)for(var i=n.length;i--;){var o=n[i],s=o?o.end:a.appendedPTS;if(o.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=n.slice(i-9)),o}else if(a.start<=e&&void 0!==a.appendedPTS&&e<=a.appendedPTS)return a}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var a=this.fragments,n=Object.keys(a),i=n.length;i--;){var r=a[n[i]];if((null==r?void 0:r.body.type)===t&&r.buffered){var o=r.body;if(o.start<=e&&e<=o.end)return o}}return null},t.detectEvictedFragments=function(e,t,a){var n=this;Object.keys(this.fragments).forEach((function(i){var r=n.fragments[i];if(r)if(r.buffered){var o=r.range[e];o&&o.time.some((function(e){var a=!n.isTimeBuffered(e.startPTS,e.endPTS,t);return a&&n.removeFragment(r.body),a}))}else r.body.type===a&&n.removeFragment(r.body)}))},t.detectPartialFragments=function(e){var t=this,a=this.timeRanges,n=e.frag,i=e.part;if(a&&"initSegment"!==n.sn){var r=l(n),o=this.fragments[r];o&&(Object.keys(a).forEach((function(e){var r=n.elementaryStreams[e];if(r){var s=a[e],l=null!==i||!0===r.partial;o.range[e]=t.getBufferedTimes(n,i,l,s)}})),o.loaded=null,Object.keys(o.range).length?o.buffered=!0:this.removeFragment(o.body))}},t.fragBuffered=function(e){var t=l(e),a=this.fragments[t];a&&(a.loaded=null,a.buffered=!0)},t.getBufferedTimes=function(e,t,a,n){for(var i={time:[],partial:a},r=t?t.start:e.start,o=t?t.end:e.end,s=e.minEndPTS||o,l=e.maxStartPTS||r,c=0;c<n.length;c++){var d=n.start(c)-this.bufferPadding,u=n.end(c)+this.bufferPadding;if(l>=d&&s<=u){i.time.push({startPTS:Math.max(r,n.start(c)),endPTS:Math.min(o,n.end(c))});break}if(r<u&&o>d)i.partial=!0,i.time.push({startPTS:Math.max(r,n.start(c)),endPTS:Math.min(o,n.end(c))});else if(o<=d)break}return i},t.getPartialFragment=function(e){var t,a,n,i=null,r=0,o=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach((function(c){var d=l[c];d&&s(d)&&(a=d.body.start-o,n=d.body.end+o,e>=a&&e<=n&&(t=Math.min(e-a,n-e),r<=t&&(i=d.body,r=t)))})),i},t.getState=function(e){var t=l(e),a=this.fragments[t];return a?a.buffered?s(a)?n.PARTIAL:n.OK:n.APPENDING:n.NOT_LOADED},t.isTimeBuffered=function(e,t,a){for(var n,i,r=0;r<a.length;r++){if(n=a.start(r)-this.bufferPadding,i=a.end(r)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},t.onFragLoaded=function(e,t){var a=t.frag,n=t.part;if("initSegment"!==a.sn&&!a.bitrateTest&&!n){var i=l(a);this.fragments[i]={body:a,loaded:t,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var a=this,n=t.frag,i=t.part,o=t.timeRanges;if(n.type===r.PlaylistLevelType.MAIN)if(this.activeFragment=n,i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=o,Object.keys(o).forEach((function(e){var t=o[e];if(a.detectEvictedFragments(e,t),!i)for(var r=0;r<t.length;r++)n.appendedPTS=Math.max(t.end(r),n.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=l(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,a){var n=this;Object.keys(this.fragments).forEach((function(i){var r=n.fragments[i];if(r&&r.buffered){var o=r.body;o.type===a&&o.start<t&&o.end>e&&n.removeFragment(o)}}))},t.removeFragment=function(e){var t=l(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,a;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(a=e.range.audio)||void 0===a?void 0:a.partial))}function l(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_START_GAP_JUMP:()=>l,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>c,SKIP_BUFFER_RANGE_START:()=>d,STALL_MINIMUM_DURATION_MS:()=>s,default:()=>u});var n=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),i=a(/*! ../errors */"./src/errors.ts"),r=a(/*! ../events */"./src/events.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=250,l=2,c=.1,d=.05,u=function(){function e(e,t,a,n){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=a,this.hls=n}var t=e.prototype;return t.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},t.poll=function(e,t){var a=this.config,i=this.media,r=this.stalled;if(null!==i){var c=i.currentTime,d=i.seeking,u=this.seeking&&!d,h=!this.seeking&&d;if(this.seeking=d,c===e){if((h||u)&&(this.stalled=null),!(i.paused&&!d||i.ended||0===i.playbackRate)&&n.BufferHelper.getBuffered(i).length){var f=n.BufferHelper.bufferInfo(i,c,0),p=f.len>0,v=f.nextStart||0;if(p||v){if(d){var m=f.len>l,g=!v||t&&t.start<=c||v-c>l&&!this.fragmentTracker.getPartialFragment(c);if(m||g)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var y,b=Math.max(v,f.start||0)-c,_=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,x=(null==_||null===(y=_.details)||void 0===y?void 0:y.live)?2*_.details.targetduration:l;if(b>0&&b<=x)return void this._trySkipBufferHole(null)}var E=self.performance.now();if(null!==r){var w=E-r;if(d||!(w>=s)||(this._reportStall(f),this.media)){var T=n.BufferHelper.bufferInfo(i,c,a.maxBufferHole);this._tryFixBufferStall(T,w)}}else this.stalled=E}}}else if(this.moved=!0,null!==r){if(this.stallReported){var S=self.performance.now()-r;o.logger.warn("playback not stuck anymore @"+c+", after "+Math.round(S)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},t._tryFixBufferStall=function(e,t){var a=this.config,n=this.fragmentTracker,i=this.media;if(null!==i){var r=i.currentTime,s=n.getPartialFragment(r);if(s&&(this._trySkipBufferHole(s)||!this.media))return;e.len>a.maxBufferHole&&t>1e3*a.highBufferWatchdogPeriod&&(o.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},t._reportStall=function(e){var t=this.hls,a=this.media;!this.stallReported&&a&&(this.stallReported=!0,o.logger.warn("Playback stalling at @"+a.currentTime+" due to low buffer ("+JSON.stringify(e)+")"),t.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e.len}))},t._trySkipBufferHole=function(e){var t=this.config,a=this.hls,s=this.media;if(null===s)return 0;for(var l=s.currentTime,u=0,h=n.BufferHelper.getBuffered(s),f=0;f<h.length;f++){var p=h.start(f);if(l+t.maxBufferHole>=u&&l<p){var v=Math.max(p+d,s.currentTime+c);return o.logger.warn("skipping hole, adjusting currentTime from "+l+" to "+v),this.moved=!0,this.stalled=null,s.currentTime=v,e&&a.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+l+" to "+v,frag:e}),v}u=h.end(f)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,a=this.media,n=this.nudgeRetry;if(null!==a){var s=a.currentTime;if(this.nudgeRetry++,n<e.nudgeMaxRetry){var l=s+(n+1)*e.nudgeOffset;o.logger.warn("Nudging 'currentTime' from "+s+" to "+l),a.currentTime=l,t.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("Playhead still not moving while enough data buffered @"+s+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},e}()},"./src/controller/id3-track-controller.ts":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.ts ***!
  \************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),o=a(/*! ../demux/id3 */"./src/demux/id3.ts"),s=a(/*! ../loader/date-range */"./src/loader/date-range.ts"),l=a(/*! ../types/demuxer */"./src/types/demuxer.ts");function c(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var d=function(){var e=c();try{new e(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function u(e,t){return e.getTime()/1e3-t}const h=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},t._registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&((0,r.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},t.onManifestLoading=function(){this.dateRangeCuesAppended={}},t.createTrack=function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var a=e[t];if("metadata"===a.kind&&"id3"===a.label)return(0,r.sendAddTrackEvent)(a,this.media),a}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var a=this.hls.config,n=a.enableEmsgMetadataCues,i=a.enableID3MetadataCues;if(n||i){t.frag;var r=t.samples;t.details,this.id3Track||(this.id3Track=this.createTrack(this.media));for(var s=c(),u=0;u<r.length;u++){var h=r[u].type;if((h!==l.MetadataSchema.emsg||n)&&i){var f=o.getID3Frames(r[u].data);if(f){var p=r[u].pts,v=p+r[u].duration;v>d&&(v=d),v-p<=0&&(v=p+.25);for(var m=0;m<f.length;m++){var g=f[m];if(!o.isTimeStampFrame(g)){this.updateId3CueEnds(p);var y=new s(p,v,"");y.value=g,h&&(y.type=h),this.id3Track.addCue(y)}}}}}}}},t.updateId3CueEnds=function(e){var t,a=null===(t=this.id3Track)||void 0===t?void 0:t.cues;if(a)for(var n=a.length;n--;){var i=a[n];i.startTime<e&&i.endTime===d&&(i.endTime=e)}},t.onBufferFlushing=function(e,t){var a=t.startOffset,n=t.endOffset,i=t.type,o=this.id3Track,s=this.hls;if(s){var c,d=s.config,u=d.enableEmsgMetadataCues,h=d.enableID3MetadataCues;o&&(u||h)&&(c="audio"===i?function(e){return e.type===l.MetadataSchema.audioId3&&h}:"video"===i?function(e){return e.type===l.MetadataSchema.emsg&&u}:function(e){return e.type===l.MetadataSchema.audioId3&&h||e.type===l.MetadataSchema.emsg&&u},(0,r.removeCuesInRange)(o,a,n,c))}},t.onLevelUpdated=function(e,t){var a=this,i=t.details;if(this.media&&i.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var r=this.dateRangeCuesAppended,o=this.id3Track,h=i.dateRanges,f=Object.keys(h);if(o)for(var p=Object.keys(r).filter((function(e){return!f.includes(e)})),v=function(e){var t=p[e];Object.keys(r[t].cues).forEach((function(e){o.removeCue(r[t].cues[e])})),delete r[t]},m=p.length;m--;)v(m);var g=i.fragments[i.fragments.length-1];if(0!==f.length&&(0,n.isFiniteNumber)(null==g?void 0:g.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var y=g.programDateTime/1e3-g.start,b=c(),_=function(e){var t=f[e],n=h[t],i=r[t],o=(null==i?void 0:i.cues)||{},c=(null==i?void 0:i.durationKnown)||!1,p=u(n.startDate,y),v=d,m=n.endDate;if(m)v=u(m,y),c=!0;else if(n.endOnNext&&!c){var g=f.reduce((function(e,t){var a=h[t];return a.class===n.class&&a.id!==t&&a.startDate>n.startDate&&e.push(a),e}),[]).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()}))[0];g&&(v=u(g.startDate,y),c=!0)}for(var _,x=Object.keys(n.attr),E=0;E<x.length;E++){var w=x[E];if(w!==s.DateRangeAttribute.ID&&w!==s.DateRangeAttribute.CLASS&&w!==s.DateRangeAttribute.START_DATE&&w!==s.DateRangeAttribute.DURATION&&w!==s.DateRangeAttribute.END_DATE&&w!==s.DateRangeAttribute.END_ON_NEXT){var T=o[w];if(T)c&&!i.durationKnown&&(T.endTime=v);else{var S=n.attr[w];T=new b(p,v,""),w!==s.DateRangeAttribute.SCTE35_OUT&&w!==s.DateRangeAttribute.SCTE35_IN||(_=S,S=Uint8Array.from(_.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),T.value={key:w,data:S},T.type=l.MetadataSchema.dateRange,a.id3Track.addCue(T),o[w]=T}}}r[t]={cues:o,dateRange:n,durationKnown:c}},x=0;x<f.length;x++)_(x)}}},e}()},"./src/controller/latency-controller.ts":
/*!**********************************************!*\
  !*** ./src/controller/latency-controller.ts ***!
  \**********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(/*! ../errors */"./src/errors.ts"),i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts");function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,a,s,l=e.prototype;return l.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},l.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},l.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},l.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},l.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},l.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},l.onLevelUpdated=function(e,t){var a=t.details;this.levelDetails=a,a.advanced&&this.timeupdate(),!a.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},l.onError=function(e,t){t.details===n.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,r.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},l.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var a=this.computeLatency();if(null!==a){this._latency=a;var n=this.config,i=n.lowLatencyMode,r=n.maxLiveSyncPlaybackRate;if(i&&1!==r){var o=this.targetLatency;if(null!==o){var s=a-o,l=s<Math.min(this.maxLatency,o+t.targetduration);if(t.live&&l&&s>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,r)),d=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(c,Math.max(1,d))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},l.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},l.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},t=e,(a=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,a=e.partHoldBack,n=e.targetduration,i=this.config,r=i.liveSyncDuration,o=i.liveSyncDurationCount,s=i.lowLatencyMode,l=this.hls.userConfig,c=s&&a||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===c)&&(c=void 0!==r?r:o*n);var d=n;return c+Math.min(1*this.stallCount,d)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,a=this.levelDetails;if(null===e||null===t||null===a)return null;var n=a.edge,i=e-t-this.edgeStalled,r=n-a.totalduration,o=n-(this.config.lowLatencyMode&&a.partTarget||a.targetduration);return Math.min(Math.max(r,i),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var a=e.buffered.length;return(a?e.buffered.end(a-1):t.edge)-this.currentTime}}])&&o(t.prototype,a),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/level-controller.ts":
/*!********************************************!*\
  !*** ./src/controller/level-controller.ts ***!
  \********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(/*! ../types/level */"./src/types/level.ts"),i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../errors */"./src/errors.ts"),o=a(/*! ../utils/codecs */"./src/utils/codecs.ts"),s=a(/*! ./level-helper */"./src/controller/level-helper.ts"),l=a(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),c=a(/*! ../types/loader */"./src/types/loader.ts");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var f=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(e){var t,a;function l(t){var a;return(a=e.call(this,t,"[level-controller]")||this)._levels=[],a._firstLevel=-1,a._startLevel=void 0,a.currentLevelIndex=-1,a.manualLevelIndex=-1,a.onParsedComplete=void 0,a._registerListeners(),a}a=e,(t=l).prototype=Object.create(a.prototype),t.prototype.constructor=t,h(t,a);var p,v,m,g=l.prototype;return g._registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.ERROR,this.onError,this)},g._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.ERROR,this.onError,this)},g.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},g.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},g.onManifestLoaded=function(e,t){var a,l,c=[],d=[],u=[],h={},p=!1,v=!1,m=!1;if(t.levels.forEach((function(e){var t=e.attrs;p=p||!(!e.width||!e.height),v=v||!!e.videoCodec,m=m||!!e.audioCodec,f&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var a=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(l=h[a])?l.url.push(e.url):(l=new n.Level(e),h[a]=l,c.push(l)),t&&(t.AUDIO&&(0,s.addGroupId)(l,"audio",t.AUDIO),t.SUBTITLES&&(0,s.addGroupId)(l,"text",t.SUBTITLES))})),(p||v)&&m&&(c=c.filter((function(e){var t=e.videoCodec,a=e.width,n=e.height;return!!t||!(!a||!n)}))),c=c.filter((function(e){var t=e.audioCodec,a=e.videoCodec;return(!t||(0,o.isCodecSupportedInMp4)(t,"audio"))&&(!a||(0,o.isCodecSupportedInMp4)(a,"video"))})),t.audioTracks&&(d=t.audioTracks.filter((function(e){return!e.audioCodec||(0,o.isCodecSupportedInMp4)(e.audioCodec,"audio")})),(0,s.assignTrackIdsByGroup)(d)),t.subtitles&&(u=t.subtitles,(0,s.assignTrackIdsByGroup)(u)),c.length>0){a=c[0].bitrate,c.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=c;for(var g=0;g<c.length;g++)if(c[g].bitrate===a){this._firstLevel=g,this.log("manifest loaded, "+c.length+" level(s) found, first bitrate: "+a);break}var y=m&&!v,b={levels:c,audioTracks:d,subtitleTracks:u,firstLevel:this._firstLevel,stats:t.stats,audio:m,video:v,altAudio:!y&&d.some((function(e){return!!e.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},g.onError=function(t,a){var n;if(e.prototype.onError.call(this,t,a),!a.fatal){var i=a.context,o=this._levels[this.currentLevelIndex];if(i&&(i.type===c.PlaylistContextType.AUDIO_TRACK&&o.audioGroupIds&&i.groupId===o.audioGroupIds[o.urlId]||i.type===c.PlaylistContextType.SUBTITLE_TRACK&&o.textGroupIds&&i.groupId===o.textGroupIds[o.urlId]))this.redundantFailover(this.currentLevelIndex);else{var s,l=!1,d=!0;switch(a.details){case r.ErrorDetails.FRAG_LOAD_ERROR:case r.ErrorDetails.FRAG_LOAD_TIMEOUT:case r.ErrorDetails.KEY_LOAD_ERROR:case r.ErrorDetails.KEY_LOAD_TIMEOUT:if(a.frag){var u=a.frag.type===c.PlaylistLevelType.MAIN?a.frag.level:this.currentLevelIndex,h=this._levels[u];h?(h.fragmentError++,h.fragmentError>this.hls.config.fragLoadingMaxRetry&&(s=u)):s=u}break;case r.ErrorDetails.LEVEL_LOAD_ERROR:case r.ErrorDetails.LEVEL_LOAD_TIMEOUT:i&&(i.deliveryDirectives&&(d=!1),s=i.level),l=!0;break;case r.ErrorDetails.REMUX_ALLOC_ERROR:s=null!=(n=a.level)?n:this.currentLevelIndex,l=!0}void 0!==s&&this.recoverLevel(a,s,l,d)}}},g.recoverLevel=function(e,t,a,n){var i=e.details,r=this._levels[t];if(r.loadError++,a){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(n){var o=r.url.length;if(o>1&&r.loadError<o)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){for(var s=-1,l=this._levels,c=l.length;c--;){var d=(c+this.currentLevelIndex)%l.length;if(d!==this.currentLevelIndex&&0===l[d].loadError){s=d;break}}s>-1&&this.currentLevelIndex!==s&&(this.warn(i+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},g.redundantFailover=function(e){var t=this._levels[e],a=t.url.length;if(a>1){var n=(t.urlId+1)%a;this.warn("Switching to redundant URL-id "+n),this._levels.forEach((function(e){e.urlId=n})),this.level=e}},g.onFragLoaded=function(e,t){var a=t.frag;if(void 0!==a&&a.type===c.PlaylistLevelType.MAIN){var n=this._levels[a.level];void 0!==n&&(n.fragmentError=0,n.loadError=0)}},g.onLevelLoaded=function(e,t){var a,n,i=t.level,r=t.details,o=this._levels[i];if(!o)return this.warn("Invalid level index "+i),void(null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(r.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,o.details)):null!==(a=t.deliveryDirectives)&&void 0!==a&&a.skip&&(r.deltaUpdateFailed=!0)},g.onAudioTrackSwitched=function(e,t){var a=this.hls.levels[this.currentLevelIndex];if(a&&a.audioGroupIds){for(var n=-1,i=this.hls.audioTracks[t.id].groupId,r=0;r<a.audioGroupIds.length;r++)if(a.audioGroupIds[r]===i){n=r;break}n!==a.urlId&&(a.urlId=n,this.startLoad())}},g.loadPlaylist=function(e){var t=this.currentLevelIndex,a=this._levels[t];if(this.canLoad&&a&&a.url.length>0){var n=a.urlId,r=a.url[n];if(e)try{r=e.addDirectives(r)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+n+" "+r),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:r,level:t,id:n,deliveryDirectives:e||null})}},g.removeLevel=function(e,t){var a=function(e,a){return a!==t},n=this._levels.filter((function(n,i){return i!==e||n.url.length>1&&void 0!==t&&(n.url=n.url.filter(a),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(a)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(a)),n.urlId=0,!0)})).map((function(e,t){var a=e.details;return null!=a&&a.fragments&&a.fragments.forEach((function(e){e.level=t})),e}));this._levels=n,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:n})},p=l,(v=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,a=this._levels;if(0!==a.length&&(this.currentLevelIndex!==e||null===(t=a[e])||void 0===t||!t.details)){if(e<0||e>=a.length){var n=e<0;if(this.hls.trigger(i.Events.ERROR,{type:r.ErrorTypes.OTHER_ERROR,details:r.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:n,reason:"invalid level idx"}),n)return;e=Math.min(e,a.length-1)}this.clearTimer();var o=this.currentLevelIndex,s=a[o],l=a[e];this.log("switching to level "+e+" from "+o),this.currentLevelIndex=e;var c=d({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete c._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,c);var u=l.details;if(!u||u.live){var h=this.switchParams(l.uri,null==s?void 0:s.details);this.loadPlaylist(h)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&u(p.prototype,v),m&&u(p,m),Object.defineProperty(p,"prototype",{writable:!1}),l}(l.default)},"./src/controller/level-helper.ts":
/*!****************************************!*\
  !*** ./src/controller/level-helper.ts ***!
  \****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{addGroupId:()=>s,addSliding:()=>m,adjustSliding:()=>v,assignTrackIdsByGroup:()=>l,computeReloadInterval:()=>g,getFragmentWithSN:()=>y,getPartWith:()=>b,mapFragmentIntersection:()=>p,mapPartIntersection:()=>f,mergeDetails:()=>h,updateFragPTSDTS:()=>u,updatePTS:()=>c});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../utils/logger */"./src/utils/logger.ts"),r=a(/*! ../loader/date-range */"./src/loader/date-range.ts");function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function s(e,t,a){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(a);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(a)}}function l(e){var t={};e.forEach((function(e){var a=e.groupId||"";e.id=t[a]=t[a]||0,t[a]++}))}function c(e,t,a){d(e[t],e[a])}function d(e,t){var a=t.startPTS;if((0,n.isFiniteNumber)(a)){var i,r=0;t.sn>e.sn?(r=a-e.start,i=e):(r=e.start-a,i=t),i.duration!==r&&(i.duration=r)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function u(e,t,a,r,o,s){r-a<=0&&(i.logger.warn("Fragment should have a positive duration",t),r=a+t.duration,s=o+t.duration);var l=a,c=r,u=t.startPTS,h=t.endPTS;if((0,n.isFiniteNumber)(u)){var f=Math.abs(u-a);(0,n.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(f,t.deltaPTS):t.deltaPTS=f,l=Math.max(a,u),a=Math.min(a,u),o=Math.min(o,t.startDTS),c=Math.min(r,h),r=Math.max(r,h),s=Math.max(s,t.endDTS)}t.duration=r-a;var p=a-t.start;t.appendedPTS=r,t.start=t.startPTS=a,t.maxStartPTS=l,t.startDTS=o,t.endPTS=r,t.minEndPTS=c,t.endDTS=s;var v,m=t.sn;if(!e||m<e.startSN||m>e.endSN)return 0;var g=m-e.startSN,y=e.fragments;for(y[g]=t,v=g;v>0;v--)d(y[v],y[v-1]);for(v=g;v<y.length-1;v++)d(y[v],y[v+1]);return e.fragmentHint&&d(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,p}function h(e,t){for(var a=null,s=e.fragments,l=s.length-1;l>=0;l--){var c=s[l].initSegment;if(c){a=c;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var d,h,m,g,y,b=0;if(p(e,t,(function(e,i){e.relurl&&(b=e.cc-i.cc),(0,n.isFiniteNumber)(e.startPTS)&&(0,n.isFiniteNumber)(e.endPTS)&&(i.start=i.startPTS=e.startPTS,i.startDTS=e.startDTS,i.appendedPTS=e.appendedPTS,i.maxStartPTS=e.maxStartPTS,i.endPTS=e.endPTS,i.endDTS=e.endDTS,i.minEndPTS=e.minEndPTS,i.duration=e.endPTS-e.startPTS,i.duration&&(d=i),t.PTSKnown=t.alignedSliding=!0),i.elementaryStreams=e.elementaryStreams,i.loader=e.loader,i.stats=e.stats,i.urlId=e.urlId,e.initSegment&&(i.initSegment=e.initSegment,a=e.initSegment)})),a&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=a)||void 0===t?void 0:t.relurl)||(e.initSegment=a)})),t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var _=t.skippedSegments;_--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=(h=e.dateRanges,m=t.dateRanges,g=t.recentlyRemovedDateranges,y=o({},h),g&&g.forEach((function(e){delete y[e]})),Object.keys(m).forEach((function(e){var t=new r.DateRange(m[e].attr,y[e]);t.isValid?y[e]=t:i.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(m[e].attr)+'"')})),y));var x=t.fragments;if(b){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var E=0;E<x.length;E++)x[E].cc+=b}t.skippedSegments&&(t.startCC=t.fragments[0].cc),f(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),d?u(t,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS):v(e,t),x.length&&(t.totalduration=t.edge-x[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var w=t.advancedDateTime;if(t.advanced&&w){var T=t.edge;t.driftStart||(t.driftStartTime=w,t.driftStart=T),t.driftEndTime=w,t.driftEnd=T}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function f(e,t,a){if(e&&t)for(var n=0,i=0,r=e.length;i<=r;i++){var o=e[i],s=t[i+n];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?a(o,s):n--}}function p(e,t,a){for(var n=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,r=(e.fragmentHint?1:0)+(n?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=i;c<=r;c++){var d=l[o+c],u=s[c];n&&!u&&c<n&&(u=t.fragments[c]=d),d&&u&&a(d,u)}}function v(e,t){var a=t.startSN+t.skippedSegments-e.startSN,n=e.fragments;a<0||a>=n.length||m(t,n[a].start)}function m(e,t){if(t){for(var a=e.fragments,n=e.skippedSegments;n<a.length;n++)a[n].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function g(e,t){var a,n=1e3*e.levelTargetDuration,i=n/2,r=e.age,o=r>0&&r<3*n,s=t.loading.end-t.loading.start,l=e.availabilityDelay;if(!1===e.updated)if(o){var c=333*e.misses;a=Math.max(Math.min(i,2*s),c),e.availabilityDelay=(e.availabilityDelay||0)+a}else a=i;else o?(l=Math.min(l||n/2,r),e.availabilityDelay=l,a=l+n-r):a=n-s;return Math.round(a)}function y(e,t,a){if(!e||!e.details)return null;var n=e.details,i=n.fragments[t-n.startSN];return i||((i=n.fragmentHint)&&i.sn===t?i:t<n.startSN&&a&&a.sn===t?a:null)}function b(e,t,a){if(!e||!e.details)return null;var n=e.details.partList;if(n)for(var i=n.length;i--;){var r=n[i];if(r.index===a&&r.fragment.sn===t)return r}return null}},"./src/controller/stream-controller.ts":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.ts ***!
  \*********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),r=a(/*! ../is-supported */"./src/is-supported.ts"),o=a(/*! ../events */"./src/events.ts"),s=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),l=a(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),c=a(/*! ../types/loader */"./src/types/loader.ts"),d=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),u=a(/*! ../demux/transmuxer-interface */"./src/demux/transmuxer-interface.ts"),h=a(/*! ../types/transmuxer */"./src/types/transmuxer.ts"),f=a(/*! ./gap-controller */"./src/controller/gap-controller.ts"),p=a(/*! ../errors */"./src/errors.ts");function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var g=function(e){var t,a;function g(t,a){var n;return(n=e.call(this,t,a,"[stream-controller]")||this).audioCodecSwap=!1,n.gapController=null,n.level=-1,n._forceStartLoad=!1,n.altAudio=!1,n.audioOnly=!1,n.fragPlaying=null,n.onvplaying=null,n.onvseeked=null,n.fragLastKbps=0,n.couldBacktrack=!1,n.backtrackFragment=null,n.audioCodecSwitch=!1,n.videoBuffer=null,n._registerListeners(),n}a=e,(t=g).prototype=Object.create(a.prototype),t.prototype.constructor=t,m(t,a);var y,b,_,x=g.prototype;return x._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(o.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},x._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},x.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},x.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,a=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=a.startLevel;-1===n&&(a.config.testBandwidth&&this.levels.length>1?(n=0,this.bitrateTest=!0):n=a.nextAutoLevel),this.level=a.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},x.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},x.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var e,t=this.levels,a=this.level,n=null==t||null===(e=t[a])||void 0===e?void 0:e.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var r,o=self.performance.now(),s=this.retryDate;(!s||o>=s||null!==(r=this.media)&&void 0!==r&&r.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=i.State.IDLE)}this.onTickEnd()},x.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},x.doTickIdle=function(){var e,t,a=this.hls,n=this.levelLastLoaded,r=this.levels,s=this.media,u=a.config,h=a.nextLoadLevel;if(null!==n&&(s||!this.startFragRequested&&u.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&r&&r[h]){var f=r[h];this.level=a.nextLoadLevel=h;var p=f.details;if(!p||this.state===i.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==h)this.state=i.State.WAITING_LEVEL;else{var v=this.getMainFwdBufferInfo();if(null!==v&&!(v.len>=this.getMaxBufferLength(f.maxBitrate))){if(this._streamEnded(v,p)){var m={};return this.altAudio&&(m.type="video"),this.hls.trigger(o.Events.BUFFER_EOS,m),void(this.state=i.State.ENDED)}this.backtrackFragment&&this.backtrackFragment.start>v.end&&(this.backtrackFragment=null);var g=this.backtrackFragment?this.backtrackFragment.start:v.end,y=this.getNextFragment(g,p);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn&&this.fragmentTracker.getState(y)!==l.FragmentState.OK){var b,_=(null!=(b=this.backtrackFragment)?b:y).sn-p.startSN,x=p.fragments[_-1];x&&y.cc===x.cc&&(y=x,this.fragmentTracker.removeFragment(x))}else this.backtrackFragment&&v.len&&(this.backtrackFragment=null);if(y&&this.fragmentTracker.getState(y)===l.FragmentState.OK&&this.nextLoadPosition>g){var E=this.audioOnly&&!this.altAudio?d.ElementaryStreamTypes.AUDIO:d.ElementaryStreamTypes.VIDEO;s&&this.afterBufferFlushed(s,E,c.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,p)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,p,g):this.loadKey(y,p))}}}},x.loadFragment=function(t,a,n){var i,r=this.fragmentTracker.getState(t);this.fragCurrent=t,r===l.FragmentState.NOT_LOADED?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,a,n)):r===l.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},x.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,c.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},x.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,c.PlaylistLevelType.MAIN)},x.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},x.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},x.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var a,n=this.getAppendedFrag(t.currentTime);if(n&&n.start>1&&this.flushMainBuffer(0,n.start-1),!t.paused&&e){var i=e[this.hls.nextLoadLevel],r=this.fragLastKbps;a=r&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*r)+1:0}else a=0;var o=this.getBufferedFrag(t.currentTime+a);if(o){var s=this.followingBufferedFrag(o);if(s){this.abortCurrentFrag();var l=s.maxStartPTS?s.maxStartPTS:s.start,c=s.duration,d=Math.max(o.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,.5*c),.75*c));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}},x.abortCurrentFrag=function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,null!=e&&e.loader&&e.loader.abort(),this.state){case i.State.KEY_LOADING:case i.State.FRAG_LOADING:case i.State.FRAG_LOADING_WAITING_RETRY:case i.State.PARSING:case i.State.PARSED:this.state=i.State.IDLE}this.nextLoadPosition=this.getLoadPosition()},x.flushMainBuffer=function(t,a){e.prototype.flushMainBuffer.call(this,t,a,this.altAudio?"video":null)},x.onMediaAttached=function(t,a){e.prototype.onMediaAttached.call(this,t,a);var n=a.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new f.default(this.config,n,this.fragmentTracker,this.hls)},x.onMediaDetaching=function(){var t=this.media;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},x.onMediaPlaying=function(){this.tick()},x.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;(0,n.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},x.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},x.onManifestParsed=function(e,t){var a,n=!1,i=!1;t.levels.forEach((function(e){(a=e.audioCodec)&&(-1!==a.indexOf("mp4a.40.2")&&(n=!0),-1!==a.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=n&&i&&!(0,r.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},x.onLevelLoading=function(e,t){var a=this.levels;if(a&&this.state===i.State.IDLE){var n=a[t.level];(!n.details||n.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(n.details))&&(this.state=i.State.WAITING_LEVEL)}},x.onLevelLoaded=function(e,t){var a,n=this.levels,r=t.level,s=t.details,l=s.totalduration;if(n){this.log("Level "+r+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+l);var c=this.fragCurrent;!c||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||c.level!==t.level&&c.loader&&(this.state=i.State.IDLE,this.backtrackFragment=null,c.loader.abort());var d=n[r],u=0;if(s.live||null!==(a=d.details)&&void 0!==a&&a.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;u=this.alignPlaylists(s,d.details)}if(d.details=s,this.levelLastLoaded=r,this.hls.trigger(o.Events.LEVEL_UPDATED,{details:s,level:r}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=i.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,u),this.tick()}else this.warn("Levels were reset while loading level "+r)},x._handleFragmentLoadProgress=function(e){var t,a=e.frag,n=e.part,i=e.payload,r=this.levels;if(r){var o=r[a.level],s=o.details;if(s){var l=o.videoCodec,d=s.PTSKnown||!s.live,f=null===(t=a.initSegment)||void 0===t?void 0:t.data,p=this._getAudioCodec(o),v=this.transmuxer=this.transmuxer||new u.default(this.hls,c.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=n?n.index:-1,g=-1!==m,y=new h.ChunkMetadata(a.level,a.sn,a.stats.chunkCount,i.byteLength,m,g),b=this.initPTS[a.cc];v.push(i,f,p,l,a,n,s.totalduration,d,y,b)}else this.warn("Dropping fragment "+a.sn+" of level "+a.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+a.sn+" of level "+a.level+" will not be buffered")},x.onAudioTrackSwitching=function(e,t){var a=this.altAudio,n=!!t.url,i=t.id;if(!n){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;null!=r&&r.loader&&(this.log("Switching to main audio track, cancel main fragment load"),r.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;a&&s.trigger(o.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:i})}},x.onAudioTrackSwitched=function(e,t){var a=t.id,n=!!this.hls.audioTracks[a].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},x.onBufferCreated=function(e,t){var a,n,i=t.tracks,r=!1;for(var o in i){var s=i[o];if("main"===s.id){if(n=o,a=s,"video"===o){var l=i[o];l&&(this.videoBuffer=l.buffer)}}else r=!0}r&&a?(this.log("Alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=a.buffer):this.mediaBuffer=this.media},x.onFragBuffered=function(e,t){var a=t.frag,n=t.part;if(!a||a.type===c.PlaylistLevelType.MAIN){if(this.fragContextChanged(a))return this.warn("Fragment "+a.sn+(n?" p: "+n.index:"")+" of level "+a.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var r=n?n.stats:a.stats;this.fragLastKbps=Math.round(8*r.total/(r.buffering.end-r.loading.first)),"initSegment"!==a.sn&&(this.fragPrevious=a),this.fragBufferedComplete(a,n)}},x.onError=function(e,t){switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(c.PlaylistLevelType.MAIN,t);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=i.State.ERROR):t.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var a=!0,n=this.getFwdBufferInfo(this.media,c.PlaylistLevelType.MAIN);n&&n.len>.5&&(a=!this.reduceMaxBufferLength(n.len)),a&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},x.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!s.BufferHelper.getBuffered(e).length){var a=this.state!==i.State.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,a)}this.lastCurrentTime=e.currentTime}},x.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},x.onBufferFlushed=function(e,t){var a=t.type;if(a!==d.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var n=(a===d.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,a,c.PlaylistLevelType.MAIN)}},x.onLevelsUpdated=function(e,t){this.levels=t.levels},x.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},x.seekToStartPos=function(){var e=this.media;if(e){var t=e.currentTime,a=this.startPosition;if(a>=0&&t<a){if(e.seeking)return void this.log("could not seek to "+a+", already seeking at "+t);var n=s.BufferHelper.getBuffered(e),i=(n.length?n.start(0):0)-a;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+i+" to match buffer start"),a+=i,this.startPosition=a),this.log("seek to target start position "+a+" from current time "+t),e.currentTime=a}}},x._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},x._loadBitrateTestFrag=function(e){var t=this;e.bitrateTest=!0,this._doFragLoad(e).then((function(a){var n=t.hls;if(a&&!n.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=i.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var r=e.stats;r.parsing.start=r.parsing.end=r.buffering.start=r.buffering.end=self.performance.now(),n.trigger(o.Events.FRAG_LOADED,a),e.bitrateTest=!1}}))},x._handleTransmuxComplete=function(e){var t,a="main",r=this.hls,s=e.remuxResult,l=e.chunkMeta,c=this.getCurrentContext(l);if(!c)return this.warn("The loading context changed while buffering fragment "+l.sn+" of level "+l.level+". This chunk will not be buffered."),void this.resetStartWhenNotLoaded(l.level);var u=c.frag,h=c.part,f=c.level,p=s.video,v=s.text,m=s.id3,g=s.initSegment,y=f.details,b=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(u)){if(this.state=i.State.PARSING,g){g.tracks&&(this._bufferInitSegment(f,g.tracks,u,l),r.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:u,id:a,tracks:g.tracks}));var _=g.initPTS,x=g.timescale;(0,n.isFiniteNumber)(_)&&(this.initPTS[u.cc]=_,r.trigger(o.Events.INIT_PTS_FOUND,{frag:u,id:a,initPTS:_,timescale:x}))}if(p&&!1!==s.independent){if(y){var E=p.startPTS,w=p.endPTS,T=p.startDTS,S=p.endDTS;if(h)h.elementaryStreams[p.type]={startPTS:E,endPTS:w,startDTS:T,endDTS:S};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){var k=this.getMainFwdBufferInfo();if((k?k.end:this.getLoadPosition())+this.config.maxBufferHole<(p.firstKeyFramePTS?p.firstKeyFramePTS:E)-this.config.maxBufferHole)return void this.backtrack(u);u.setElementaryStreamInfo(p.type,u.start,w,u.start,S,!0)}u.setElementaryStreamInfo(p.type,E,w,T,S),this.backtrackFragment&&(this.backtrackFragment=u),this.bufferFragmentData(p,u,h,l)}}else if(!1===s.independent)return void this.backtrack(u);if(b){var L=b.startPTS,A=b.endPTS,D=b.startDTS,I=b.endDTS;h&&(h.elementaryStreams[d.ElementaryStreamTypes.AUDIO]={startPTS:L,endPTS:A,startDTS:D,endDTS:I}),u.setElementaryStreamInfo(d.ElementaryStreamTypes.AUDIO,L,A,D,I),this.bufferFragmentData(b,u,h,l)}if(y&&null!=m&&null!==(t=m.samples)&&void 0!==t&&t.length){var C={id:a,frag:u,details:y,samples:m.samples};r.trigger(o.Events.FRAG_PARSING_METADATA,C)}if(y&&v){var R={id:a,frag:u,details:y,samples:v.samples};r.trigger(o.Events.FRAG_PARSING_USERDATA,R)}}},x._bufferInitSegment=function(e,t,a,n){var r=this;if(this.state===i.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,l=t.video,c=t.audiovideo;if(s){var d=e.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(d&&(d=-1!==d.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===u.indexOf("firefox")&&(d="mp4a.40.5")),-1!==u.indexOf("android")&&"audio/mpeg"!==s.container&&(d="mp4a.40.2",this.log("Android: force audio codec to "+d)),e.audioCodec&&e.audioCodec!==d&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+d+'"'),s.levelCodec=d,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(d||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}l&&(l.levelCodec=e.videoCodec,l.id="main",this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+l.codec+"]")),c&&this.log("Init audiovideo buffer, container:"+c.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+c.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var i=t[e].initSegment;null!=i&&i.byteLength&&r.hls.trigger(o.Events.BUFFER_APPENDING,{type:e,data:i,frag:a,part:null,chunkMeta:n,parent:a.type})})),this.tick()}},x.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,c.PlaylistLevelType.MAIN)},x.backtrack=function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=i.State.IDLE},x.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var a=e.currentTime;if(s.BufferHelper.isBuffered(e,a)?t=this.getAppendedFrag(a):s.BufferHelper.isBuffered(e,a+.1)&&(t=this.getAppendedFrag(a+.1)),t){this.backtrackFragment=null;var n=this.fragPlaying,i=t.level;n&&t.sn===n.sn&&n.level===i&&t.urlId===n.urlId||(this.hls.trigger(o.Events.FRAG_CHANGED,{frag:t}),n&&n.level===i||this.hls.trigger(o.Events.LEVEL_SWITCHED,{level:i}),this.fragPlaying=t)}}},y=g,(b=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,a=this.currentFrag;if(a&&(0,n.isFiniteNumber)(t)&&(0,n.isFiniteNumber)(a.programDateTime)){var i=a.programDateTime+1e3*(t-a.start);return new Date(i)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&v(y.prototype,b),_&&v(y,_),Object.defineProperty(y,"prototype",{writable:!1}),g}(i.default)},"./src/controller/subtitle-stream-controller.ts":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.ts ***!
  \******************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{SubtitleStreamController:()=>p});var n=a(/*! ../events */"./src/events.ts"),i=a(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.ts"),r=a(/*! ./fragment-finders */"./src/controller/fragment-finders.ts"),o=a(/*! ../utils/discontinuities */"./src/utils/discontinuities.ts"),s=a(/*! ./level-helper */"./src/controller/level-helper.ts"),l=a(/*! ./fragment-tracker */"./src/controller/fragment-tracker.ts"),c=a(/*! ./base-stream-controller */"./src/controller/base-stream-controller.ts"),d=a(/*! ../types/loader */"./src/types/loader.ts"),u=a(/*! ../types/level */"./src/types/level.ts");function h(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p=function(e){var t,a;function p(t,a){var n;return(n=e.call(this,t,a,"[subtitle-stream-controller]")||this).levels=[],n.currentTrackId=-1,n.tracksBuffered=[],n.mainDetails=null,n._registerListeners(),n}a=e,(t=p).prototype=Object.create(a.prototype),t.prototype.constructor=t,f(t,a);var m,g,y,b=p.prototype;return b.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},b._registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(n.Events.ERROR,this.onError,this),e.on(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(n.Events.FRAG_BUFFERED,this.onFragBuffered,this)},b._unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(n.Events.ERROR,this.onError,this),e.off(n.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(n.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(n.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(n.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(n.Events.FRAG_BUFFERED,this.onFragBuffered,this)},b.startLoad=function(e){this.stopLoad(),this.state=c.State.IDLE,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},b.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},b.onLevelLoaded=function(e,t){this.mainDetails=t.details},b.onSubtitleFragProcessed=function(e,t){var a=t.frag,n=t.success;if(this.fragPrevious=a,this.state=c.State.IDLE,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var r,o=a.start,s=0;s<i.length;s++)if(o>=i[s].start&&o<=i[s].end){r=i[s];break}var l=a.start+a.duration;r?r.end=l:(r={start:o,end:l},i.push(r)),this.fragmentTracker.fragBuffered(a)}}},b.onBufferFlushing=function(e,t){var a=t.startOffset,n=t.endOffset;if(0===a&&n!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,r=this.levels;if(!r.length||!r[i]||!r[i].details)return;var o=n-r[i].details.targetduration;if(o<=0)return;t.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=o)e.shift();else{if(!(e[t].start<o))break;e[t].start=o,t++}})),this.fragmentTracker.removeFragmentsInRange(a,o,d.PlaylistLevelType.SUBTITLE)}},b.onFragBuffered=function(e,t){var a;this.loadedmetadata||t.frag.type!==d.PlaylistLevelType.MAIN||null!==(a=this.media)&&void 0!==a&&a.buffered.length&&(this.loadedmetadata=!0)},b.onError=function(e,t){var a,n=t.frag;n&&n.type===d.PlaylistLevelType.SUBTITLE&&(null!==(a=this.fragCurrent)&&void 0!==a&&a.loader&&this.fragCurrent.loader.abort(),this.state=c.State.IDLE)},b.onSubtitleTracksUpdated=function(e,t){var a=this,n=t.subtitleTracks;this.tracksBuffered=[],this.levels=n.map((function(e){return new u.Level(e)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(e){a.tracksBuffered[e.id]=[]})),this.mediaBuffer=null},b.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var a=this.levels[this.currentTrackId];null!=a&&a.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,a&&this.setInterval(500)}else this.clearInterval()},b.onSubtitleTrackLoaded=function(e,t){var a,n=t.details,i=t.id,l=this.currentTrackId,d=this.levels;if(d.length){var u=d[l];if(!(i>=d.length||i!==l)&&u){this.mediaBuffer=this.mediaBufferTimeRanges;var h=0;if(n.live||null!==(a=u.details)&&void 0!==a&&a.live){var f=this.mainDetails;if(n.deltaUpdateFailed||!f)return;var p=f.fragments[0];u.details?0===(h=this.alignPlaylists(n,u.details))&&p&&(h=p.start,(0,s.addSliding)(n,h)):n.hasProgramDateTime&&f.hasProgramDateTime?((0,o.alignMediaPlaylistByPDT)(n,f),h=n.fragments[0].start):p&&(h=p.start,(0,s.addSliding)(n,h))}u.details=n,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(u.details,h),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===c.State.IDLE&&((0,r.findFragmentByPTS)(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),u.details=void 0))}}},b._handleFragmentLoadComplete=function(e){var t=e.frag,a=e.payload,i=t.decryptdata,r=this.hls;if(!this.fragContextChanged(t)&&a&&a.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var o=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(a),i.key.buffer,i.iv.buffer).then((function(e){var a=performance.now();r.trigger(n.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:o,tdecrypt:a}})}))}},b.doTick=function(){if(this.media){if(this.state===c.State.IDLE){var e=this.currentTrackId,t=this.levels;if(!t.length||!t[e]||!t[e].details)return;var a=t[e].details,n=a.targetduration,o=this.config,s=this.getLoadPosition(),u=i.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s-n,o.maxBufferHole),h=u.end,f=u.len,p=this.getFwdBufferInfo(this.media,d.PlaylistLevelType.MAIN);if(f>this.getMaxBufferLength(null==p?void 0:p.len)+n)return;console.assert(a,"Subtitle track details are defined on idle subtitle stream controller tick");var v,m=a.fragments,g=m.length,y=a.edge,b=this.fragPrevious;if(h<y){var _=o.maxFragLookUpTolerance;!(v=(0,r.findFragmentByPTS)(b,m,Math.max(m[0].start,h),_))&&b&&b.start<m[0].start&&(v=m[0])}else v=m[g-1];if(!(v=this.mapToInitFragWhenRequired(v)))return;if(this.fragmentTracker.getState(v)!==l.FragmentState.NOT_LOADED)return;v.encrypted?this.loadKey(v,a):this.loadFragment(v,a,h)}}else this.state=c.State.IDLE},b.getMaxBufferLength=function(t){var a=e.prototype.getMaxBufferLength.call(this);return t?Math.max(a,t):a},b.loadFragment=function(t,a,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,a,n))},m=p,(g=[{key:"mediaBufferTimeRanges",get:function(){return new v(this.tracksBuffered[this.currentTrackId]||[])}}])&&h(m.prototype,g),y&&h(m,y),Object.defineProperty(m,"prototype",{writable:!1}),p}(c.default),v=function(e){this.buffered=void 0;var t=function(t,a,n){if((a>>>=0)>n-1)throw new DOMException("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+a+") is greater than the maximum bound ("+n+")");return e[a][t]};this.buffered={get length(){return e.length},end:function(a){return t("end",a,e.length)},start:function(a){return t("start",a,e.length)}}}},"./src/controller/subtitle-track-controller.ts":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.ts ***!
  \*****************************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(/*! ../events */"./src/events.ts"),i=a(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),r=a(/*! ./base-playlist-controller */"./src/controller/base-playlist-controller.ts"),o=a(/*! ../types/loader */"./src/types/loader.ts");function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];"subtitles"===n.kind&&n.label&&t.push(e[a])}return t}const d=function(e){var t,a;function r(t){var a;return(a=e.call(this,t,"[subtitle-track-controller]")||this).media=null,a.tracks=[],a.groupId=null,a.tracksInGroup=[],a.trackId=-1,a.selectDefaultTrack=!0,a.queuedDefaultTrack=-1,a.trackChangeListener=function(){return a.onTextTracksChanged()},a.asyncPollTrackChange=function(){return a.pollTrackChange(0)},a.useTextTrackPolling=!1,a.subtitlePollingInterval=-1,a._subtitleDisplay=!0,a.registerListeners(),a}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,l(t,a);var d,u,h,f=r.prototype;return f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},f.registerListeners=function(){var e=this.hls;e.on(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(n.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var e=this.hls;e.off(n.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(n.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(n.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(n.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(n.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(n.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(n.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(n.Events.ERROR,this.onError,this)},f.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},f.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},f.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),c(this.media.textTracks).forEach((function(e){(0,i.clearCurrentCues)(e)})),this.subtitleTrack=-1,this.media=null)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},f.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},f.onSubtitleTrackLoaded=function(e,t){var a=t.id,n=t.details,i=this.trackId,r=this.tracksInGroup[i];if(r){var o=r.details;r.details=t.details,this.log("subtitle track "+a+" loaded ["+n.startSN+"-"+n.endSN+"]"),a===this.trackId&&(this.retryCount=0,this.playlistLoaded(a,t,o))}else this.warn("Invalid subtitle track id "+a)},f.onLevelLoading=function(e,t){this.switchLevel(t.level)},f.onLevelSwitching=function(e,t){this.switchLevel(t.level)},f.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var a=t.textGroupIds[t.urlId];if(this.groupId!==a){var i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,r=this.tracks.filter((function(e){return!a||e.groupId===a}));this.tracksInGroup=r;var o=this.findTrackId(null==i?void 0:i.name)||this.findTrackId();this.groupId=a;var s={subtitleTracks:r};this.log("Updating subtitle tracks, "+r.length+' track(s) found in "'+a+'" group-id'),this.hls.trigger(n.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==o&&this.setSubtitleTrack(o,i)}}},f.findTrackId=function(e){for(var t=this.tracksInGroup,a=0;a<t.length;a++){var n=t[a];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},f.onError=function(t,a){e.prototype.onError.call(this,t,a),!a.fatal&&a.context&&a.context.type===o.PlaylistContextType.SUBTITLE_TRACK&&a.context.id===this.trackId&&a.context.groupId===this.groupId&&this.retryLoadingOrFail(a)},f.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var a=t.id,i=t.groupId,r=t.url;if(e)try{r=e.addDirectives(r)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Loading subtitle playlist for id "+a),this.hls.trigger(n.Events.SUBTITLE_TRACK_LOADING,{url:r,id:a,groupId:i,deliveryDirectives:e||null})}},f.toggleTrackModes=function(e){var t=this,a=this.media,n=this.trackId;if(a){var i=c(a.textTracks),r=i.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(i).forEach((function(e){e.mode="disabled"}));else{var o=r[n];o&&(o.mode="disabled")}var s=r[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}},f.setSubtitleTrack=function(e,t){var a,i=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(a=i[e])&&void 0!==a&&a.details)||e<-1||e>=i.length)){this.clearTimer();var r=i[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,r){var o=r.id,s=r.groupId,l=void 0===s?"":s,c=r.name,d=r.type,u=r.url;this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:o,groupId:l,name:c,type:d,url:u});var h=this.switchParams(r.url,null==t?void 0:t.details);this.loadPlaylist(h)}else this.hls.trigger(n.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},f.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=c(this.media.textTracks),a=0;a<t.length;a++)if("hidden"===t[a].mode)e=a;else if("showing"===t[a].mode){e=a;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},d=r,(u=[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}])&&s(d.prototype,u),h&&s(d,h),Object.defineProperty(d,"prototype",{writable:!1}),r}(r.default)},"./src/controller/timeline-controller.ts":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.ts ***!
  \***********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{TimelineController:()=>f});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.ts"),o=a(/*! ../utils/output-filter */"./src/utils/output-filter.ts"),s=a(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.ts"),l=a(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.ts"),c=a(/*! ../utils/imsc1-ttml-parser */"./src/utils/imsc1-ttml-parser.ts"),d=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),u=a(/*! ../types/loader */"./src/types/loader.ts"),h=a(/*! ../utils/logger */"./src/utils/logger.ts"),f=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new o.default(this,"textTrack1"),a=new o.default(this,"textTrack2"),n=new o.default(this,"textTrack3"),s=new o.default(this,"textTrack4");this.cea608Parser1=new r.default(1,t,a),this.cea608Parser2=new r.default(3,n,s)}e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(i.Events.FRAG_LOADING,this.onFragLoading,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(i.Events.FRAG_LOADING,this.onFragLoading,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,a,n,r){for(var o,s,l,c,d=!1,u=r.length;u--;){var h=r[u],f=(o=h[0],s=h[1],l=t,c=a,Math.min(s,c)-Math.max(o,l));if(f>=0&&(h[0]=Math.min(h[0],t),h[1]=Math.max(h[1],a),d=!0,f/(a-t)>.5))return}if(d||r.push([t,a]),this.config.renderTextTracksNatively){var p=this.captionsTracks[e];this.Cues.newCue(p,t,a,n)}else{var v=this.Cues.newCue(null,t,a,n);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:v,track:e})}},t.onInitPtsFound=function(e,t){var a=this,n=t.frag,r=t.id,o=t.initPTS,s=t.timescale,l=this.unparsedVttFrags;"main"===r&&(this.initPTS[n.cc]=o,this.timescale[n.cc]=s),l.length&&(this.unparsedVttFrags=[],l.forEach((function(e){a.onFragLoaded(i.Events.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var a=0;a<t.textTracks.length;a++){var n=t.textTracks[a];if(n[e])return n}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,a=this.captionsTracks,n=this.media,i=t[e],r=i.label,o=i.languageCode,s=this.getExistingTrack(e);if(s)a[e]=s,(0,l.clearCurrentCues)(a[e]),(0,l.sendAddTrackEvent)(a[e],n);else{var c=this.createTextTrack("captions",r,o);c&&(c[e]=!0,a[e]=c)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var a={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=a,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[a]})}}},t.createTextTrack=function(e,t,a){var n=this.media;if(n)return n.addTextTrack(e,t,a)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){(0,l.clearCurrentCues)(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var a=0;a<t.length;a++)(0,l.clearCurrentCues)(t[a])}},t.onSubtitleTracksUpdated=function(e,t){var a=this;this.textTracks=[];var n=t.subtitleTracks||[],r=n.some((function(e){return e.textCodec===c.IMSC1_CODEC}));if(this.config.enableWebVTT||r&&this.config.enableIMSC1){var o=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=n||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,t){var n;if(t<s.length){for(var i=null,r=0;r<s.length;r++)if(p(s[r],e)){i=s[r];break}i&&(n=i)}if(n)(0,l.clearCurrentCues)(n);else{var o=a._captionsOrSubtitlesFromCharacteristics(e);(n=a.createTextTrack(o,e.name,e.lang))&&(n.mode="disabled")}n&&(n.groupId=e.groupId,a.textTracks.push(n))}))}else if(!o&&this.tracks&&this.tracks.length){var d=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:d})}}},t._captionsOrSubtitlesFromCharacteristics=function(e){var t;if(null!==(t=e.attrs)&&void 0!==t&&t.CHARACTERISTICS){var a=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(a&&n)return"captions"}return"subtitles"},t.onManifestLoaded=function(e,t){var a=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var n="textTrack"+t[1],i=a.captionsProperties[n];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.closedCaptionsForLevel=function(e){var t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]},t.onFragLoading=function(e,t){var a=this.cea608Parser1,n=this.cea608Parser2,i=this.lastSn,r=this.lastPartIndex;if(this.enabled&&a&&n&&t.frag.type===u.PlaylistLevelType.MAIN){var o,s,l=t.frag.sn,c=null!=(o=null==t||null===(s=t.part)||void 0===s?void 0:s.index)?o:-1;l===i+1||l===i&&c===r+1||(a.reset(),n.reset()),this.lastSn=l,this.lastPartIndex=c}},t.onFragLoaded=function(e,t){var a=t.frag,r=t.payload,o=this.initPTS,s=this.unparsedVttFrags;if(a.type===u.PlaylistLevelType.SUBTITLE)if(r.byteLength){if(!(0,n.isFiniteNumber)(o[a.cc]))return s.push(t),void(o.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a,error:new Error("Missing initial subtitle PTS")}));var l=a.decryptdata,d="stats"in t;if(null==l||null==l.key||"AES-128"!==l.method||d){var h=this.tracks[a.level],f=this.vttCCs;f[a.cc]||(f[a.cc]={start:a.start,prevCC:this.prevCC,new:!0},this.prevCC=a.cc),h&&h.textCodec===c.IMSC1_CODEC?this._parseIMSC1(a,r):this._parseVTTs(a,r,f)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var a=this,n=this.hls;(0,c.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(t){a._appendCues(t,e.level),n.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){h.logger.log("Failed to parse IMSC1: "+t),n.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e,t,a){var n,r=this,o=this.hls,l=null!==(n=e.initSegment)&&void 0!==n&&n.data?(0,d.appendUint8Array)(e.initSegment.data,new Uint8Array(t)):t;(0,s.parseWebVTT)(l,this.initPTS[e.cc],this.timescale[e.cc],a,e.cc,e.start,(function(t){r._appendCues(t,e.level),o.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(a){r._fallbackToIMSC1(e,t),h.logger.log("Failed to parse VTT cue: "+a),o.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:a})}))},t._fallbackToIMSC1=function(e,t){var a=this,n=this.tracks[e.level];n.textCodec||(0,c.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(){n.textCodec=c.IMSC1_CODEC,a._parseIMSC1(e,t)}),(function(){n.textCodec="wvtt"}))},t._appendCues=function(e,t){var a=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[t];if(!n||"disabled"===n.mode)return;e.forEach((function(e){return(0,l.addCueToTrack)(n,e)}))}else{var r=this.tracks[t];if(!r)return;var o=r.default?"default":"subtitles"+t;a.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:e,track:o})}},t.onFragDecrypted=function(e,t){var a=t.frag;if(a.type===u.PlaylistLevelType.SUBTITLE){if(!(0,n.isFiniteNumber)(this.initPTS[a.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(i.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var a=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&a&&n){var i=t.frag,r=t.samples;if(i.type!==u.PlaylistLevelType.MAIN||"NONE"!==this.closedCaptionsForLevel(i))for(var o=0;o<r.length;o++){var s=r[o].bytes;if(s){var l=this.extractCea608Data(s);a.addData(r[o].pts,l[0]),n.addData(r[o].pts,l[1])}}}},t.onBufferFlushing=function(e,t){var a=t.startOffset,n=t.endOffset,i=t.endOffsetSubtitles,r=t.type,o=this.media;if(o&&!(o.currentTime<n)){if(!r||"video"===r){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return(0,l.removeCuesInRange)(s[e],a,n)}))}if(this.config.renderTextTracksNatively&&0===a&&void 0!==i){var c=this.textTracks;Object.keys(c).forEach((function(e){return(0,l.removeCuesInRange)(c[e],a,i)}))}}},t.extractCea608Data=function(e){for(var t=[[],[]],a=31&e[0],n=2,i=0;i<a;i++){var r=e[n++],o=127&e[n++],s=127&e[n++];if((0!==o||0!==s)&&0!=(4&r)){var l=3&r;0!==l&&1!==l||(t[l].push(o),t[l].push(s))}}return t},e}();function p(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}},"./src/crypt/aes-crypto.ts":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r,removePadding:()=>i});var n=a(/*! ../utils/typed-array */"./src/utils/typed-array.ts");function i(e){var t=e.byteLength,a=t&&new DataView(e.buffer).getUint8(t-1);return a?(0,n.sliceUint8)(e,0,t-a):e}var r=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),a=new Uint32Array(4),n=0;n<4;n++)a[n]=t.getUint32(4*n);return a},t.initTable=function(){var e=this.sBox,t=this.invSBox,a=this.subMix,n=a[0],i=a[1],r=a[2],o=a[3],s=this.invSubMix,l=s[0],c=s[1],d=s[2],u=s[3],h=new Uint32Array(256),f=0,p=0,v=0;for(v=0;v<256;v++)h[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,e[f]=m,t[m]=f;var g=h[f],y=h[g],b=h[y],_=257*h[m]^16843008*m;n[f]=_<<24|_>>>8,i[f]=_<<16|_>>>16,r[f]=_<<8|_>>>24,o[f]=_,_=16843009*b^65537*y^257*g^16843008*f,l[m]=_<<24|_>>>8,c[m]=_<<16|_>>>16,d[m]=_<<8|_>>>24,u[m]=_,f?(f=g^h[h[h[b^g]]],p^=h[h[p]]):f=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),a=!0,n=0;n<t.length&&a;)a=t[n]===this.key[n],n++;if(!a){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var r,o,s,l,c=this.ksRows=4*(i+6+1),d=this.keySchedule=new Uint32Array(c),u=this.invKeySchedule=new Uint32Array(c),h=this.sBox,f=this.rcon,p=this.invSubMix,v=p[0],m=p[1],g=p[2],y=p[3];for(r=0;r<c;r++)r<i?s=d[r]=t[r]:(l=s,r%i==0?(l=h[(l=l<<8|l>>>24)>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l],l^=f[r/i|0]<<24):i>6&&r%i==4&&(l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l]),d[r]=s=(d[r-i]^l)>>>0);for(o=0;o<c;o++)r=c-o,l=3&o?d[r]:d[r-4],u[o]=o<4||r<=4?l:v[h[l>>>24]]^m[h[l>>>16&255]]^g[h[l>>>8&255]]^y[h[255&l]],u[o]=u[o]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,a){for(var n,i,r,o,s,l,c,d,u,h,f,p,v,m,g=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,_=this.invSubMix,x=_[0],E=_[1],w=_[2],T=_[3],S=this.uint8ArrayToUint32Array_(a),k=S[0],L=S[1],A=S[2],D=S[3],I=new Int32Array(e),C=new Int32Array(I.length),R=this.networkToHostOrderSwap;t<I.length;){for(u=R(I[t]),h=R(I[t+1]),f=R(I[t+2]),p=R(I[t+3]),s=u^y[0],l=p^y[1],c=f^y[2],d=h^y[3],v=4,m=1;m<g;m++)n=x[s>>>24]^E[l>>16&255]^w[c>>8&255]^T[255&d]^y[v],i=x[l>>>24]^E[c>>16&255]^w[d>>8&255]^T[255&s]^y[v+1],r=x[c>>>24]^E[d>>16&255]^w[s>>8&255]^T[255&l]^y[v+2],o=x[d>>>24]^E[s>>16&255]^w[l>>8&255]^T[255&c]^y[v+3],s=n,l=i,c=r,d=o,v+=4;n=b[s>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&d]^y[v],i=b[l>>>24]<<24^b[c>>16&255]<<16^b[d>>8&255]<<8^b[255&s]^y[v+1],r=b[c>>>24]<<24^b[d>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^y[v+2],o=b[d>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^y[v+3],C[t]=R(n^k),C[t+1]=R(o^L),C[t+2]=R(r^A),C[t+3]=R(i^D),k=u,L=h,A=f,D=p,t+=4}return C.buffer},e}()},"./src/crypt/decrypter.ts":
/*!********************************!*\
  !*** ./src/crypt/decrypter.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(/*! ./aes-crypto */"./src/crypt/aes-crypto.ts"),i=a(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.ts"),r=a(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=a(/*! ../utils/typed-array */"./src/utils/typed-array.ts"),c=function(){function e(e,t,a){var n=(void 0===a?{}:a).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch(e){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?(0,r.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,a,n){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,a);var i=this.flush();i&&n(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,a).then(n)},t.softwareDecrypt=function(e,t,a){var n=this.currentIV,i=this.currentResult,o=this.remainderData;this.logOnce("JS AES decrypt"),o&&(e=(0,s.appendUint8Array)(o,e),this.remainderData=null);var c=this.getValidChunk(e);if(!c.length)return null;n&&(a=n);var d=this.softwareDecrypter;d||(d=this.softwareDecrypter=new r.default),d.expandKey(t);var u=i;return this.currentResult=d.decrypt(c.buffer,0,a),this.currentIV=(0,l.sliceUint8)(c,-16).buffer,u||null},t.webCryptoDecrypt=function(e,t,a){var r=this,o=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i.default(o,t)),this.fastAesKey.expandKey().then((function(t){return o?new n.default(o,a).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(n){return r.onWebCryptoError(n,e,t,a)}))},t.onWebCryptoError=function(e,t,a,n){return o.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,a,n)},t.getValidChunk=function(e){var t=e,a=e.length-e.length%16;return a!==e.length&&(t=(0,l.sliceUint8)(e,0,a),this.remainderData=(0,l.sliceUint8)(e,a)),t},t.logOnce=function(e){this.logEnabled&&(o.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.ts ***!
  \***********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts"),i=a(/*! ./adts */"./src/demux/adts.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! ../demux/id3 */"./src/demux/id3.ts");function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}const l=function(e){var t,a;function n(t,a){var n;return(n=e.call(this)||this).observer=void 0,n.config=void 0,n.observer=t,n.config=a,n}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,s(t,a);var l=n.prototype;return l.resetInitSegment=function(t,a,n,i){e.prototype.resetInitSegment.call(this,t,a,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:a,duration:i,inputTimeScale:9e4,dropped:0}},n.probe=function(e){if(!e)return!1;for(var t=(o.getID3Data(e,0)||[]).length,a=e.length;t<a;t++)if(i.probe(e,t))return r.logger.log("ADTS sync word found !"),!0;return!1},l.canParse=function(e,t){return i.canParse(e,t)},l.appendFrame=function(e,t,a){i.initTrackConfig(e,this.observer,t,a,e.manifestCodec);var n=i.appendFrame(e,t,a,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n},n}(n.default)},"./src/demux/adts.ts":
/*!***************************!*\
  !*** ./src/demux/adts.ts ***!
  \***************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{appendFrame:()=>g,canGetFrameLength:()=>d,canParse:()=>h,getAudioConfig:()=>o,getFrameDuration:()=>v,getFullFrameLength:()=>c,getHeaderLength:()=>l,initTrackConfig:()=>p,isHeader:()=>u,isHeaderPattern:()=>s,parseFrameHeader:()=>m,probe:()=>f});var n=a(/*! ../utils/logger */"./src/utils/logger.ts"),i=a(/*! ../errors */"./src/errors.ts"),r=a(/*! ../events */"./src/events.ts");function o(e,t,a,o){var s,l,c,d,u=navigator.userAgent.toLowerCase(),h=o,f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[a+2])>>>6);var p=(60&t[a+2])>>>2;if(!(p>f.length-1))return c=(1&t[a+2])<<2,c|=(192&t[a+3])>>>6,n.logger.log("manifest codec:"+o+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(u)?p>=6?(s=5,d=new Array(4),l=p-3):(s=2,d=new Array(2),l=p):-1!==u.indexOf("android")?(s=2,d=new Array(2),l=p):(s=5,d=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&p>=6?l=p-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(p>=6&&1===c||/vivaldi/i.test(u))||!o&&1===c)&&(s=2,d=new Array(2)),l=p)),d[0]=s<<3,d[0]|=(14&p)>>1,d[1]|=(1&p)<<7,d[1]|=c<<3,5===s&&(d[1]|=(14&l)>>1,d[2]=(1&l)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:f[p],channelCount:c,codec:"mp4a.40."+s,manifestCodec:h};e.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function c(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function d(e,t){return t+5<e.length}function u(e,t){return t+1<e.length&&s(e,t)}function h(e,t){return d(e,t)&&s(e,t)&&c(e,t)<=e.length-t}function f(e,t){if(u(e,t)){var a=l(e,t);if(t+a>=e.length)return!1;var n=c(e,t);if(n<=a)return!1;var i=t+n;return i===e.length||u(e,i)}return!1}function p(e,t,a,i,r){if(!e.samplerate){var s=o(t,a,i,r);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,n.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function v(e){return 9216e4/e}function m(e,t){var a=l(e,t);if(t+a<=e.length){var n=c(e,t)-a;if(n>0)return{headerLength:a,frameLength:n}}}function g(e,t,a,n,i){var r,o=n+i*v(e.samplerate),s=m(t,a);if(s){var l=s.frameLength,c=s.headerLength,d=c+l,u=Math.max(0,a+d-t.length);u?(r=new Uint8Array(d-c)).set(t.subarray(a+c,t.length),0):r=t.subarray(a+c,a+d);var h={unit:r,pts:o};return u||e.samples.push(h),{sample:h,length:d,missing:u}}var f=t.length-a;return(r=new Uint8Array(f)).set(t.subarray(a,t.length),0),{sample:{unit:r,pts:o},length:f,missing:-1}}},"./src/demux/base-audio-demuxer.ts":
/*!*****************************************!*\
  !*** ./src/demux/base-audio-demuxer.ts ***!
  \*****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,initPTSFn:()=>d});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../demux/id3 */"./src/demux/id3.ts"),r=a(/*! ../types/demuxer */"./src/types/demuxer.ts"),o=a(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts"),s=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=a(/*! ../utils/typed-array */"./src/utils/typed-array.ts"),c=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,a,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(e){this.initPTS=e,this.resetContiguity()},t.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,a){},t.demux=function(e,t){this.cachedData&&(e=(0,s.appendUint8Array)(this.cachedData,e),this.cachedData=null);var a,c=i.getID3Data(e,0),u=c?c.length:0,h=this._audioTrack,f=this._id3Track,p=c?i.getTimeStamp(c):void 0,v=e.length;for((null===this.basePTS||0===this.frameIndex&&(0,n.isFiniteNumber)(p))&&(this.basePTS=d(p,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),c&&c.length>0&&f.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:c,type:r.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});u<v;){if(this.canParse(e,u)){var m=this.appendFrame(h,e,u);m?(this.frameIndex++,this.lastPTS=m.sample.pts,a=u+=m.length):u=v}else i.canParse(e,u)?(c=i.getID3Data(e,u),f.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:c,type:r.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),a=u+=c.length):u++;if(u===v&&a!==v){var g=(0,l.sliceUint8)(e,a);this.cachedData?this.cachedData=(0,s.appendUint8Array)(this.cachedData,g):this.cachedData=g}}return{audioTrack:h,videoTrack:(0,o.dummyTrack)(),id3Track:f,textTrack:(0,o.dummyTrack)()}},t.demuxSampleAes=function(e,t,a){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:(0,o.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,o.dummyTrack)()}},t.destroy=function(){},e}(),d=function(e,t,a){return(0,n.isFiniteNumber)(e)?90*e:9e4*t+(a||0)};const u=c},"./src/demux/chunk-cache.ts":
/*!**********************************!*\
  !*** ./src/demux/chunk-cache.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,a=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var a=new Uint8Array(t),n=0,i=0;i<e.length;i++){var r=e[i];a.set(r,n),n+=r.length}return a}(t,a),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":
/*!******************************************!*\
  !*** ./src/demux/dummy-demuxed-track.ts ***!
  \******************************************/(e,t,a)=>{"use strict";function n(e,t){return void 0===e&&(e=""),void 0===t&&(t=9e4),{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}a.r(t),a.d(t,{dummyTrack:()=>n})},"./src/demux/exp-golomb.ts":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(/*! ../utils/logger */"./src/utils/logger.ts");const i=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,a=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(a,a+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),a=this.word>>>32-t;return e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?a<<t|this.readBits(t):a},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,a=8,n=0;n<e;n++)0!==a&&(a=(t+this.readEG()+256)%256),t=0===a?t:a},t.readSPS=function(){var e,t,a,n=0,i=0,r=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),d=this.readBoolean.bind(this),u=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(l(5),u(3),s(),f(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var m=c();if(3===m&&u(1),f(),f(),u(1),d())for(t=3!==m?8:12,a=0;a<t;a++)d()&&p(a<6?16:64)}f();var g=c();if(0===g)c();else if(1===g)for(u(1),h(),h(),e=c(),a=0;a<e;a++)h();f(),u(1);var y=c(),b=c(),_=l(1);0===_&&u(1),u(1),d()&&(n=c(),i=c(),r=c(),o=c());var x=[1,1];if(d()&&d())switch(s()){case 1:x=[1,1];break;case 2:x=[12,11];break;case 3:x=[10,11];break;case 4:x=[16,11];break;case 5:x=[40,33];break;case 6:x=[24,11];break;case 7:x=[20,11];break;case 8:x=[32,11];break;case 9:x=[80,33];break;case 10:x=[18,11];break;case 11:x=[15,11];break;case 12:x=[64,33];break;case 13:x=[160,99];break;case 14:x=[4,3];break;case 15:x=[3,2];break;case 16:x=[2,1];break;case 255:x=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*n-2*i),height:(2-_)*(b+1)*16-(_?2:4)*(r+o),pixelRatio:x}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}()},"./src/demux/id3.ts":
/*!**************************!*\
  !*** ./src/demux/id3.ts ***!
  \**************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{canParse:()=>l,decodeFrame:()=>f,getID3Data:()=>o,getID3Frames:()=>h,getTimeStamp:()=>c,isFooter:()=>r,isHeader:()=>i,isTimeStampFrame:()=>d,testables:()=>b,utf8ArrayToStr:()=>y});var n,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},r=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){for(var a=t,n=0;i(e,t);)n+=10,n+=s(e,t+6),r(e,t+10)&&(n+=10),t+=n;if(n>0)return e.subarray(a,a+n)},s=function(e,t){var a=0;return a=(127&e[t])<<21,a|=(127&e[t+1])<<14,a|=(127&e[t+2])<<7,a|=127&e[t+3]},l=function(e,t){return i(e,t)&&s(e,t+6)+10<=e.length-t},c=function(e){for(var t=h(e),a=0;a<t.length;a++){var n=t[a];if(d(n))return g(n)}},d=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},u=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),a=s(e,4);return{type:t,size:a,data:e.subarray(10,10+a)}},h=function(e){for(var t=0,a=[];i(e,t);){for(var n=s(e,t+6),o=(t+=10)+n;t+8<o;){var l=u(e.subarray(t)),c=f(l);c&&a.push(c),t+=l.size+10}r(e,t)&&(t+=10)}return a},f=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?m(e):v(e)},p=function(e){if(!(e.size<2)){var t=y(e.data,!0),a=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:a.buffer}}},v=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,a=y(e.data.subarray(t),!0);t+=a.length+1;var n=y(e.data.subarray(t));return{key:e.type,info:a,data:n}}var i=y(e.data.subarray(1));return{key:e.type,data:i}}},m=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,a=y(e.data.subarray(t),!0);t+=a.length+1;var n=y(e.data.subarray(t));return{key:e.type,info:a,data:n}}var i=y(e.data);return{key:e.type,data:i}},g=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),a=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,a&&(n+=47721858.84),Math.round(n)}},y=function(e,t){void 0===t&&(t=!1);var a=_();if(a){var n=a.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}for(var r,o,s,l=e.length,c="",d=0;d<l;){if(0===(r=e[d++])&&t)return c;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(r);break;case 12:case 13:o=e[d++],c+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[d++],s=e[d++],c+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&s)<<0)}}return c},b={decodeTextFrame:v};function _(){return n||void 0===self.TextDecoder||(n=new self.TextDecoder("utf-8")),n}},"./src/demux/mp3demuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(/*! ./base-audio-demuxer */"./src/demux/base-audio-demuxer.ts"),i=a(/*! ../demux/id3 */"./src/demux/id3.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! ./mpegaudio */"./src/demux/mpegaudio.ts");function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l=function(e){var t,a;function n(){return e.apply(this,arguments)||this}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,s(t,a);var l=n.prototype;return l.resetInitSegment=function(t,a,n,i){e.prototype.resetInitSegment.call(this,t,a,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:a,duration:i,inputTimeScale:9e4,dropped:0}},n.probe=function(e){if(!e)return!1;for(var t=(i.getID3Data(e,0)||[]).length,a=e.length;t<a;t++)if(o.probe(e,t))return r.logger.log("MPEG Audio sync word found !"),!0;return!1},l.canParse=function(e,t){return o.canParse(e,t)},l.appendFrame=function(e,t,a){if(null!==this.basePTS)return o.appendFrame(e,t,a,this.basePTS,this.frameIndex)},n}(n.default);const c=l},"./src/demux/mp4demuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../types/demuxer */"./src/types/demuxer.ts"),r=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),o=a(/*! ./dummy-demuxed-track */"./src/demux/dummy-demuxed-track.ts"),s=/\/emsg[-/]ID3/i;const l=function(){function e(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(e,t,a,n){var i=(0,r.parseInitSegment)(e),s=this.videoTrack=(0,o.dummyTrack)("video",1),l=this.audioTrack=(0,o.dummyTrack)("audio",1),c=this.txtTrack=(0,o.dummyTrack)("text",1);if(this.id3Track=(0,o.dummyTrack)("id3",1),this.timeOffset=0,i.video){var d=i.video,u=d.id,h=d.timescale,f=d.codec;s.id=u,s.timescale=c.timescale=h,s.codec=f}if(i.audio){var p=i.audio,v=p.id,m=p.timescale,g=p.codec;l.id=v,l.timescale=m,l.codec=g}c.id=r.RemuxerTrackIdConfig.text,s.sampleDuration=0,s.duration=l.duration=n},t.resetContiguity=function(){},e.probe=function(e){return e=e.length>16384?e.subarray(0,16384):e,(0,r.findBox)(e,["moof"]).length>0},t.demux=function(e,t){this.timeOffset=t;var a=e,n=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(a=(0,r.appendUint8Array)(this.remainderData,e));var o=(0,r.segmentValidRange)(a);this.remainderData=o.remainder,n.samples=o.valid||new Uint8Array}else n.samples=a;var s=this.extractID3Track(n,t);return i.samples=(0,r.parseSamples)(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},t.flush=function(){var e=this.timeOffset,t=this.videoTrack,a=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var n=this.extractID3Track(t,this.timeOffset);return a.samples=(0,r.parseSamples)(e,t),{videoTrack:t,audioTrack:(0,o.dummyTrack)(),id3Track:n,textTrack:(0,o.dummyTrack)()}},t.extractID3Track=function(e,t){var a=this.id3Track;if(e.samples.length){var o=(0,r.findBox)(e.samples,["emsg"]);o&&o.forEach((function(e){var o=(0,r.parseEmsg)(e);if(s.test(o.schemeIdUri)){var l=(0,n.isFiniteNumber)(o.presentationTime)?o.presentationTime/o.timeScale:t+o.presentationTimeDelta/o.timeScale,c=4294967295===o.eventDuration?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;c<=.001&&(c=Number.POSITIVE_INFINITY);var d=o.payload;a.samples.push({data:d,len:d.byteLength,dts:l,pts:l,type:i.MetadataSchema.emsg,duration:c})}}))}return a},t.demuxSampleAes=function(e,t,a){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}()},"./src/demux/mpegaudio.ts":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{appendFrame:()=>l,canParse:()=>h,isHeader:()=>u,isHeaderPattern:()=>d,parseHeader:()=>c,probe:()=>f});var n=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],r=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function l(e,t,a,n,i){if(!(a+24>t.length)){var r=c(t,a);if(r&&a+r.frameLength<=t.length){var o=n+i*(9e4*r.samplesPerFrame/r.sampleRate),s={unit:t.subarray(a,a+r.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=r.channelCount,e.samplerate=r.sampleRate,e.samples.push(s),{sample:s,length:r.frameLength,missing:0}}}}function c(e,t){var a=e[t+1]>>3&3,l=e[t+1]>>1&3,c=e[t+2]>>4&15,d=e[t+2]>>2&3;if(1!==a&&0!==c&&15!==c&&3!==d){var u=e[t+2]>>1&1,h=e[t+3]>>6,f=1e3*i[14*(3===a?3-l:3===l?3:4)+c-1],p=r[3*(3===a?0:2===a?1:2)+d],v=3===h?1:2,m=o[a][l],g=s[l],y=8*m*g,b=Math.floor(m*f/p+u)*g;if(null===n){var _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);n=_?parseInt(_[1]):0}return!!n&&n<=87&&2===l&&f>=224e3&&0===h&&(e[t+3]=128|e[t+3]),{sampleRate:p,channelCount:v,frameLength:b,samplesPerFrame:y}}}function d(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function u(e,t){return t+1<e.length&&d(e,t)}function h(e,t){return d(e,t)&&4<=e.length-t}function f(e,t){if(t+1<e.length&&d(e,t)){var a=c(e,t),n=4;null!=a&&a.frameLength&&(n=a.frameLength);var i=t+n;return i===e.length||u(e,i)}return!1}},"./src/demux/sample-aes.ts":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=a(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),i=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts");const r=function(){function e(e,t,a){this.keyData=void 0,this.decrypter=void 0,this.keyData=a,this.decrypter=new n.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,a,n){var i=e[t].unit;if(!(i.length<=16)){var r=i.subarray(16,i.length-i.length%16),o=r.buffer.slice(r.byteOffset,r.byteOffset+r.length),s=this;this.decryptBuffer(o,(function(r){var o=new Uint8Array(r);i.set(o,16),n||s.decryptAacSamples(e,t+1,a)}))}},t.decryptAacSamples=function(e,t,a){for(;;t++){if(t>=e.length)return void a();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,a,n),!n)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,a=new Int8Array(t),n=0,i=32;i<e.length-16;i+=160,n+=16)a.set(e.subarray(i,i+16),n);return a},t.getAvcDecryptedUnit=function(e,t){for(var a=new Uint8Array(t),n=0,i=32;i<e.length-16;i+=160,n+=16)e.set(a.subarray(n,n+16),i);return e},t.decryptAvcSample=function(e,t,a,n,r,o){var s=(0,i.discardEPB)(r.data),l=this.getAvcEncryptedData(s),c=this;this.decryptBuffer(l.buffer,(function(i){r.data=c.getAvcDecryptedUnit(s,i),o||c.decryptAvcSamples(e,t,a+1,n)}))},t.decryptAvcSamples=function(e,t,a,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,a=0){if(t>=e.length)return void n();for(var i=e[t].units;!(a>=i.length);a++){var r=i[a];if(!(r.data.length<=48||1!==r.type&&5!==r.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,a,n,r,o),!o)return}}}},e}()},"./src/demux/transmuxer-interface.ts":
/*!*******************************************!*\
  !*** ./src/demux/transmuxer-interface.ts ***!
  \*******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var n=a(/*! ./webworkify-webpack */"./src/demux/webworkify-webpack.js"),i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ../errors */"./src/errors.ts"),l=a(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.ts"),c=a(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),d=(0,l.getMediaSource)()||{isTypeSupported:function(){return!1}},u=function(){function e(e,t,a,l){var u=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var h=e.config;this.hls=e,this.id=t,this.useWorker=!!h.enableWorker,this.onTransmuxComplete=a,this.onFlush=l;var f=function(e,t){(t=t||{}).frag=u.frag,t.id=u.id,u.hls.trigger(e,t)};this.observer=new c.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,f),this.observer.on(i.Events.ERROR,f);var p={mp4:d.isTypeSupported("video/mp4"),mpeg:d.isTypeSupported("audio/mpeg"),mp3:d.isTypeSupported('audio/mp4; codecs="mp3"')},v=navigator.vendor;if(this.useWorker&&"undefined"!=typeof Worker){var m;o.logger.log("demuxing in webworker");try{m=this.worker=(0,n.default)(/*! ../demux/transmuxer-worker.ts */"./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(e){u.useWorker=!1,o.logger.warn("Exception in webworker, fallback to inline"),u.hls.trigger(i.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(e.message+"  ("+e.filename+":"+e.lineno+")")})},m.postMessage({cmd:"init",typeSupported:p,vendor:v,id:t,config:JSON.stringify(h)})}catch(e){o.logger.warn("Error in worker:",e),o.logger.error("Error while initializing DemuxerWorker, fallback to inline"),m&&self.URL.revokeObjectURL(m.objectURL),this.transmuxer=new r.default(this.observer,p,h,v,t),this.worker=null}}else this.transmuxer=new r.default(this.observer,p,h,v,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null,this.onwmsg=void 0;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var a=this.observer;a&&a.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},t.push=function(e,t,a,n,i,s,l,c,d,u){var h,f,p=this;d.transmuxing.start=self.performance.now();var v=this.transmuxer,m=this.worker,g=s?s.start:i.start,y=i.decryptdata,b=this.frag,_=!(b&&i.cc===b.cc),x=!(b&&d.level===b.level),E=b?d.sn-b.sn:-1,w=this.part?d.part-this.part.index:-1,T=0===E&&d.id>1&&d.id===(null==b?void 0:b.stats.chunkCount),S=!x&&(1===E||0===E&&(1===w||T&&w<=0)),k=self.performance.now();(x||E||0===i.stats.parsing.start)&&(i.stats.parsing.start=k),!s||!w&&S||(s.stats.parsing.start=k);var L=!(b&&(null===(h=i.initSegment)||void 0===h?void 0:h.url)===(null===(f=b.initSegment)||void 0===f?void 0:f.url)),A=new r.TransmuxState(_,S,c,x,g,L);if(!S||_||L){o.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+d.sn+" p: "+d.part+" level: "+d.level+" id: "+d.id+"\n        discontinuity: "+_+"\n        trackSwitch: "+x+"\n        contiguous: "+S+"\n        accurateTimeOffset: "+c+"\n        timeOffset: "+g+"\n        initSegmentChange: "+L);var D=new r.TransmuxConfig(a,n,t,l,u);this.configureTransmuxer(D)}if(this.frag=i,this.part=s,m)m.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:d,state:A},e instanceof ArrayBuffer?[e]:[]);else if(v){var I=v.push(e,y,d,A);(0,r.isPromise)(I)?I.then((function(e){p.handleTransmuxComplete(e)})):this.handleTransmuxComplete(I)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var a=this.transmuxer,n=this.worker;if(n)n.postMessage({cmd:"flush",chunkMeta:e});else if(a){var i=a.flush(e);(0,r.isPromise)(i)?i.then((function(a){t.handleFlushResult(a,e)})):this.handleFlushResult(i,e)}},t.handleFlushResult=function(e,t){var a=this;e.forEach((function(e){a.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,a=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":o.logger[t.data.logType]&&o.logger[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,a.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,a=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):a&&a.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":
/*!****************************************!*\
  !*** ./src/demux/transmuxer-worker.ts ***!
  \****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(/*! ../demux/transmuxer */"./src/demux/transmuxer.ts"),i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=a(/*! eventemitter3 */"./node_modules/eventemitter3/index.js");function s(e){var t=new o.EventEmitter,a=function(t,a){e.postMessage({event:t,data:a})};t.on(i.Events.FRAG_DECRYPTED,a),t.on(i.Events.ERROR,a),e.addEventListener("message",(function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.transmuxer=new n.default(t,o.typeSupported,s,o.vendor,o.id),(0,r.enableLogs)(s.debug,o.id),function(){var e=function(e){r.logger[e]=function(t){a("workerLog",{logType:e,message:t})}};for(var t in r.logger)e(t)}(),a("init",null);break;case"configure":e.transmuxer.configure(o.config);break;case"demux":var c=e.transmuxer.push(o.data,o.decryptdata,o.chunkMeta,o.state);(0,n.isPromise)(c)?c.then((function(t){l(e,t)})):l(e,c);break;case"flush":var u=o.chunkMeta,h=e.transmuxer.flush(u);(0,n.isPromise)(h)?h.then((function(t){d(e,t,u)})):d(e,h,u)}}))}function l(e,t){if(!((a=t.remuxResult).audio||a.video||a.text||a.id3||a.initSegment))return!1;var a,n=[],i=t.remuxResult,r=i.audio,o=i.video;return r&&c(n,r),o&&c(n,o),e.postMessage({event:"transmuxComplete",data:t},n),!0}function c(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function d(e,t,a){t.reduce((function(t,a){return l(e,a)||t}),!1)||e.postMessage({event:"transmuxComplete",data:t[0]}),e.postMessage({event:"flush",data:a})}},"./src/demux/transmuxer.ts":
/*!*********************************!*\
  !*** ./src/demux/transmuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{TransmuxConfig:()=>y,TransmuxState:()=>b,default:()=>v,isPromise:()=>g});var n,i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../errors */"./src/errors.ts"),o=a(/*! ../crypt/decrypter */"./src/crypt/decrypter.ts"),s=a(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.ts"),l=a(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.ts"),c=a(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.ts"),d=a(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.ts"),u=a(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts"),h=a(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.ts"),f=a(/*! ../utils/logger */"./src/utils/logger.ts");try{n=self.performance.now.bind(self.performance)}catch(e){f.logger.debug("Unable to use Performance API on this environment"),n=self.Date.now}var p=[{demux:c.default,remux:u.default},{demux:l.default,remux:h.default},{demux:s.default,remux:u.default},{demux:d.default,remux:u.default}],v=function(){function e(e,t,a,n,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=a,this.vendor=n,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,a,i){var r=this,o=a.transmuxing;o.executeStart=n();var s=new Uint8Array(e),l=this.config,c=this.currentTransmuxState,d=this.transmuxConfig;i&&(this.currentTransmuxState=i);var u=i||c,h=u.contiguous,f=u.discontinuity,p=u.trackSwitch,v=u.accurateTimeOffset,g=u.timeOffset,y=u.initSegmentChange,b=d.audioCodec,_=d.videoCodec,x=d.defaultInitPts,E=d.duration,w=d.initSegmentData;(f||p||y)&&this.resetInitSegment(w,b,_,E),(f||y)&&this.resetInitialTimestamp(x),h||this.resetContiguity();var T=function(e,t){var a=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(a=t),a}(s,t);if(T&&"AES-128"===T.method){var S=this.getDecrypter();if(!l.enableSoftwareAES)return this.decryptionPromise=S.webCryptoDecrypt(s,T.key.buffer,T.iv.buffer).then((function(e){var t=r.push(e,null,a);return r.decryptionPromise=null,t})),this.decryptionPromise;var k=S.softwareDecrypt(s,T.key.buffer,T.iv.buffer);if(!k)return o.executeEnd=n(),m(a);s=new Uint8Array(k)}this.needsProbing(s,f,p)&&this.configureTransmuxer(s,d);var L=this.transmux(s,T,g,v,a),A=this.currentTransmuxState;return A.contiguous=!0,A.discontinuity=!1,A.trackSwitch=!1,o.executeEnd=n(),L},t.flush=function(e){var t=this,a=e.transmuxing;a.executeStart=n();var o=this.decrypter,s=this.currentTransmuxState,l=this.decryptionPromise;if(l)return l.then((function(){return t.flush(e)}));var c=[],d=s.timeOffset;if(o){var u=o.flush();u&&c.push(this.push(u,null,e))}var h=this.demuxer,f=this.remuxer;if(!h||!f)return this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),a.executeEnd=n(),[m(e)];var p=h.flush(d);return g(p)?p.then((function(a){return t.flushRemux(c,a,e),c})):(this.flushRemux(c,p,e),c)},t.flushRemux=function(e,t,a){var i=t.audioTrack,r=t.videoTrack,o=t.id3Track,s=t.textTrack,l=this.currentTransmuxState,c=l.accurateTimeOffset,d=l.timeOffset;f.logger.log("[transmuxer.ts]: Flushed fragment "+a.sn+(a.part>-1?" p: "+a.part:"")+" of level "+a.level);var u=this.remuxer.remux(i,r,o,s,d,c,!0,this.id);e.push({remuxResult:u,chunkMeta:a}),a.transmuxing.executeEnd=n()},t.resetInitialTimestamp=function(e){var t=this.demuxer,a=this.remuxer;t&&a&&(t.resetTimeStamp(e),a.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,a,n){var i=this.demuxer,r=this.remuxer;i&&r&&(i.resetInitSegment(e,t,a,n),r.resetInitSegment(e,t,a))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,a,n,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,a,n,i):this.transmuxUnencrypted(e,a,n,i)},t.transmuxUnencrypted=function(e,t,a,n){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),r=i.audioTrack,o=i.videoTrack,s=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(r,o,s,l,t,a,!1,this.id),chunkMeta:n}},t.transmuxSampleAes=function(e,t,a,n,i){var r=this;return this.demuxer.demuxSampleAes(e,t,a).then((function(e){return{remuxResult:r.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,a,n,!1,r.id),chunkMeta:i}}))},t.configureTransmuxer=function(e,t){for(var a,n=this.config,i=this.observer,r=this.typeSupported,o=this.vendor,s=t.audioCodec,c=t.defaultInitPts,d=t.duration,u=t.initSegmentData,v=t.videoCodec,m=0,g=p.length;m<g;m++)if(p[m].demux.probe(e)){a=p[m];break}a||(f.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),a={demux:l.default,remux:h.default});var y=this.demuxer,b=this.remuxer,_=a.remux,x=a.demux;b&&b instanceof _||(this.remuxer=new _(i,n,r,o)),y&&y instanceof x||(this.demuxer=new x(i,n,r),this.probe=x.probe),this.resetInitSegment(u,s,v,d),this.resetInitialTimestamp(c)},t.needsProbing=function(e,t,a){return!this.demuxer||!this.remuxer||t||a},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new o.default(this.observer,this.config)),e},e}(),m=function(e){return{remuxResult:{},chunkMeta:e}};function g(e){return"then"in e&&e.then instanceof Function}var y=function(e,t,a,n,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=a,this.duration=n,this.defaultInitPts=i},b=function(e,t,a,n,i,r){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=a,this.trackSwitch=n,this.timeOffset=i,this.initSegmentChange=r}},"./src/demux/tsdemuxer.ts":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(/*! ./adts */"./src/demux/adts.ts"),i=a(/*! ./mpegaudio */"./src/demux/mpegaudio.ts"),r=a(/*! ./exp-golomb */"./src/demux/exp-golomb.ts"),o=a(/*! ./sample-aes */"./src/demux/sample-aes.ts"),s=a(/*! ../events */"./src/events.ts"),l=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),c=a(/*! ../utils/logger */"./src/utils/logger.ts"),d=a(/*! ../errors */"./src/errors.ts"),u=a(/*! ../types/demuxer */"./src/types/demuxer.ts");function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(this,arguments)}var f=188;function p(e,t,a,n){return{key:e,frame:!1,pts:t,dts:a,units:[],debug:n,length:0}}function v(e,t){return(31&e[t+10])<<8|e[t+11]}function m(e,t,a,n){var i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},r=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<r;){var o=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!n){c.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=o);break;case 21:-1===i.id3&&(i.id3=o);break;case 219:if(!n){c.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=o);break;case 3:case 4:!0!==a.mpeg&&!0!==a.mp3?c.logger.log("MPEG audio found, not supported in this browser"):-1===i.audio&&(i.audio=o,i.segmentCodec="mp3");break;case 36:c.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function g(e){var t,a,n,i,r,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((a=(t[4]<<8)+t[5])&&a>e.size-6)return null;var d=t[7];192&d&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&d?i-(r=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(c.logger.warn(Math.round((i-r)/9e4)+"s delta between PTS and DTS, align them"),i=r):r=i);var u=(n=t[8])+9;if(e.size<=u)return null;e.size-=u;for(var h=new Uint8Array(e.size),f=0,p=s.length;f<p;f++){var v=(t=s[f]).byteLength;if(u){if(u>v){u-=v;continue}t=t.subarray(u),v-=u,u=0}h.set(t,o),o+=v}return a&&(a-=n+3),{data:h,pts:i,dts:r,len:a}}return null}function y(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var a=t.samples,n=a.length;if(!n)return void t.dropped++;var i=a[n-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&c.logger.log(e.pts+"/"+e.dts+":"+e.debug)}const b=function(){function e(e,t,a){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=a}e.probe=function(t){var a=e.syncOffset(t);return a>0&&c.logger.warn("MPEG2-TS detected but first sync word found @ offset "+a),-1!==a},e.syncOffset=function(e){for(var t=Math.min(940,e.length-376)+1,a=0;a<t;){if(71===e[a]&&71===e[a+f])return a;a++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:l.RemuxerTrackIdConfig[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,a,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=a,this.videoCodec=n,this._duration=i},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,a=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),a&&(a.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},t.demux=function(t,a,n,i){var r;void 0===n&&(n=!1),void 0===i&&(i=!1),n||(this.sampleAes=null);var o=this._avcTrack,u=this._audioTrack,h=this._id3Track,p=this._txtTrack,y=o.pid,b=o.pesData,_=u.pid,x=h.pid,E=u.pesData,w=h.pesData,T=null,S=this.pmtParsed,k=this._pmtId,L=t.length;if(this.remainderData&&(L=(t=(0,l.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),L<f&&!i)return this.remainderData=t,{audioTrack:u,videoTrack:o,id3Track:h,textTrack:p};var A=Math.max(0,e.syncOffset(t));(L-=(L-A)%f)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,L,t.buffer.byteLength-L));for(var D=0,I=A;I<L;I+=f)if(71===t[I]){var C=!!(64&t[I+1]),R=((31&t[I+1])<<8)+t[I+2],P=void 0;if((48&t[I+3])>>4>1){if((P=I+5+t[I+4])===I+f)continue}else P=I+4;switch(R){case y:C&&(b&&(r=g(b))&&this.parseAVCPES(o,p,r,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(P,I+f)),b.size+=I+f-P);break;case _:if(C){if(E&&(r=g(E)))switch(u.segmentCodec){case"aac":this.parseAACPES(u,r);break;case"mp3":this.parseMPEGPES(u,r)}E={data:[],size:0}}E&&(E.data.push(t.subarray(P,I+f)),E.size+=I+f-P);break;case x:C&&(w&&(r=g(w))&&this.parseID3PES(h,r),w={data:[],size:0}),w&&(w.data.push(t.subarray(P,I+f)),w.size+=I+f-P);break;case 0:C&&(P+=t[P]+1),k=this._pmtId=v(t,P);break;case k:C&&(P+=t[P]+1);var O=m(t,P,this.typeSupported,n);(y=O.avc)>0&&(o.pid=y),(_=O.audio)>0&&(u.pid=_,u.segmentCodec=O.segmentCodec),(x=O.id3)>0&&(h.pid=x),null===T||S||(c.logger.log("unknown PID '"+T+"' in TS found"),T=null,I=A-188),S=this.pmtParsed=!0;break;case 17:case 8191:break;default:T=R}}else D++;D>0&&this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+D+" TS packet/s that do not start with 0x47"}),o.pesData=b,u.pesData=E,h.pesData=w;var M={audioTrack:u,videoTrack:o,id3Track:h,textTrack:p};return i&&this.extractRemainingSamples(M),M},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,a=e.audioTrack,n=e.videoTrack,i=e.id3Track,r=e.textTrack,o=n.pesData,s=a.pesData,l=i.pesData;if(o&&(t=g(o))?(this.parseAVCPES(n,r,t,!0),n.pesData=null):n.pesData=o,s&&(t=g(s))){switch(a.segmentCodec){case"aac":this.parseAACPES(a,t);break;case"mp3":this.parseMPEGPES(a,t)}a.pesData=null}else null!=s&&s.size&&c.logger.log("last AAC PES packet truncated,might overlap between fragments"),a.pesData=s;l&&(t=g(l))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=l},t.demuxSampleAes=function(e,t,a){var n=this.demux(e,a,!0,!this.config.progressive),i=this.sampleAes=new o.default(this.observer,this.config,t);return this.decrypt(n,i)},t.decrypt=function(e,t){return new Promise((function(a){var n=e.audioTrack,i=e.videoTrack;n.samples&&"aac"===n.segmentCodec?t.decryptAacSamples(n.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){a(e)})):a(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){a(e)}))}))},t.destroy=function(){this._duration=0},t.parseAVCPES=function(e,t,a,n){var i,o=this,s=this.parseAVCNALu(e,a.data),c=this.avcSample,d=!1;a.data=null,c&&s.length&&!e.audFound&&(y(c,e),c=this.avcSample=p(!1,a.pts,a.dts,"")),s.forEach((function(n){switch(n.type){case 1:i=!0,c||(c=o.avcSample=p(!0,a.pts,a.dts,"")),c.frame=!0;var s=n.data;if(d&&s.length>4){var u=new r.default(s).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(c.key=!0)}break;case 5:i=!0,c||(c=o.avcSample=p(!0,a.pts,a.dts,"")),c.key=!0,c.frame=!0;break;case 6:i=!0,(0,l.parseSEIMessageFromNALu)(n.data,1,a.pts,t.samples);break;case 7:if(i=!0,d=!0,!e.sps){var h=new r.default(n.data).readSPS();e.width=h.width,e.height=h.height,e.pixelRatio=h.pixelRatio,e.sps=[n.data],e.duration=o._duration;for(var f=n.data.subarray(1,4),v="avc1.",m=0;m<3;m++){var g=f[m].toString(16);g.length<2&&(g="0"+g),v+=g}e.codec=v}break;case 8:i=!0,e.pps||(e.pps=[n.data]);break;case 9:i=!1,e.audFound=!0,c&&y(c,e),c=o.avcSample=p(!1,a.pts,a.dts,"");break;case 12:i=!0;break;default:i=!1,c&&(c.debug+="unknown NAL "+n.type+" ")}c&&i&&c.units.push(n)})),n&&c&&(y(c,e),this.avcSample=null)},t.getLastNalUnit=function(e){var t,a,n=this.avcSample;if(n&&0!==n.units.length||(n=e[e.length-1]),null!==(t=n)&&void 0!==t&&t.units){var i=n.units;a=i[i.length-1]}return a},t.parseAVCNALu=function(e,t){var a,n,i=t.byteLength,r=e.naluState||0,o=r,s=[],l=0,c=-1,d=0;for(-1===r&&(c=0,d=31&t[0],r=0,l=1);l<i;)if(a=t[l++],r)if(1!==r)if(a)if(1===a){if(c>=0){var u={data:t.subarray(c,l-r-1),type:d};s.push(u)}else{var h=this.getLastNalUnit(e.samples);if(h&&(o&&l<=4-o&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-o)),(n=l-r-1)>0)){var f=new Uint8Array(h.data.byteLength+n);f.set(h.data,0),f.set(t.subarray(0,n),h.data.byteLength),h.data=f,h.state=0}}l<i?(c=l,d=31&t[l],r=0):r=-1}else r=0;else r=3;else r=a?0:2;else r=a?0:1;if(c>=0&&r>=0){var p={data:t.subarray(c,i),type:d,state:r};s.push(p)}if(0===s.length){var v=this.getLastNalUnit(e.samples);if(v){var m=new Uint8Array(v.data.byteLength+t.byteLength);m.set(v.data,0),m.set(t,v.data.byteLength),v.data=m}}return e.naluState=r,s},t.parseAACPES=function(e,t){var a,i,r,o,l,u=0,h=this.aacOverFlow,f=t.data;if(h){this.aacOverFlow=null;var p=h.missing,v=h.sample.unit.byteLength;if(-1===p){var m=new Uint8Array(v+f.byteLength);m.set(h.sample.unit,0),m.set(f,v),f=m}else{var g=v-p;h.sample.unit.set(f.subarray(0,p),g),e.samples.push(h.sample),u=h.missing}}for(a=u,i=f.length;a<i-1&&!n.isHeader(f,a);a++);if(a===u||(a<i-1?(r="AAC PES did not start with ADTS header,offset:"+a,o=!1):(r="no ADTS header found in AAC PES",o=!0),c.logger.warn("parsing error:"+r),this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:o,reason:r}),!o)){if(n.initTrackConfig(e,this.observer,f,a,this.audioCodec),void 0!==t.pts)l=t.pts;else{if(!h)return void c.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var y=n.getFrameDuration(e.samplerate);l=h.sample.pts+y}for(var b,_=0;a<i;){if(a+=(b=n.appendFrame(e,f,a,l,_)).length,b.missing){this.aacOverFlow=b;break}for(_++;a<i-1&&!n.isHeader(f,a);a++);}}},t.parseMPEGPES=function(e,t){var a=t.data,n=a.length,r=0,o=0,s=t.pts;if(void 0!==s)for(;o<n;)if(i.isHeader(a,o)){var l=i.appendFrame(e,a,o,s,r);if(!l)break;o+=l.length,r++}else o++;else c.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e,t){if(void 0!==t.pts){var a=h({},t,{type:this._avcTrack?u.MetadataSchema.emsg:u.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(a)}else c.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}()},"./src/demux/webworkify-webpack.js":
/*!*****************************************!*\
  !*** ./src/demux/webworkify-webpack.js ***!
  \*****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=function(){var e=ENTRY_MODULE,t={},a=function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports};a.m=e,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=a(ENTRY_MODULE);return n.default||n}.toString().split("ENTRY_MODULE"),i="[\\.|\\-|\\+|\\w|/|@]+",r="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+i+").*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,n){var s={};s[n]=[];var l=t.toString().replace(/^"[^"]+"/,"function"),c=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||l.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!c)return s;for(var d,u=c[1],h=new RegExp("(\\\\n|\\W)"+o(u)+r,"g");d=h.exec(l);)"dll-reference"!==d[3]&&s[n].push(d[3]);for(h=new RegExp("\\("+o(u)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+r,"g");d=h.exec(l);)e[d[2]]||(s[n].push(d[1]),e[d[2]]=a(d[1]).m),s[d[2]]=s[d[2]]||[],s[d[2]].push(d[4]);for(var f,p=Object.keys(s),v=0;v<p.length;v++)for(var m=0;m<s[p[v]].length;m++)f=s[p[v]][m],isNaN(1*f)||(s[p[v]][m]=1*s[p[v]][m]);return s}function l(e){return Object.keys(e).reduce((function(t,a){return t||e[a].length>0}),!1)}function c(e,t,a,i){var r=e[i].map((function(e){return'"'+e+'": '+t[i][e].toString().replace(/^"[^"]+"/,"function")})).join(",");return n[0]+"{"+r+"}"+n[1]+'"'+a+'"'+n[2]}function d(e,t){t=t||{};var n={main:a.m},i=t.all?{main:Object.keys(n.main)}:function(e,t){for(var a={main:[t]},n={main:[]},i={main:{}};l(a);)for(var r=Object.keys(a),o=0;o<r.length;o++){var c=r[o],d=a[c].pop();if(i[c]=i[c]||{},!i[c][d]&&e[c][d]){i[c][d]=!0,n[c]=n[c]||[],n[c].push(d);for(var u=s(e,e[c][d],c),h=Object.keys(u),f=0;f<h.length;f++)a[h[f]]=a[h[f]]||[],a[h[f]]=a[h[f]].concat(u[h[f]])}}return n}(n,e),r="";Object.keys(i).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;i[e][t];)t++;i[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",r=r+"var "+e+" = ("+c(i,n,t,modules)+")();\n"})),r=r+"new (("+c(i,n,e,"main")+")())(self);";var o=new window.Blob([r],{type:"text/javascript"}),d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(o),u=new window.Worker(d);return u.objectURL=d,u}},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/(e,t,a)=>{"use strict";var n,i;a.r(t),a.d(t,{ErrorDetails:()=>i,ErrorTypes:()=>n}),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(n||(n={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(i||(i={}))},"./src/events.ts":
/*!***********************!*\
  !*** ./src/events.ts ***!
  \***********************/(e,t,a)=>{"use strict";var n;a.r(t),a.d(t,{Events:()=>n}),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(n||(n={}))},"./src/hls.ts":
/*!********************!*\
  !*** ./src/hls.ts ***!
  \********************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=a(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.ts"),r=a(/*! ./loader/key-loader */"./src/loader/key-loader.ts"),o=a(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.ts"),s=a(/*! ./controller/latency-controller */"./src/controller/latency-controller.ts"),l=a(/*! ./controller/level-controller */"./src/controller/level-controller.ts"),c=a(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.ts"),d=a(/*! ./controller/stream-controller */"./src/controller/stream-controller.ts"),u=a(/*! ./is-supported */"./src/is-supported.ts"),h=a(/*! ./utils/logger */"./src/utils/logger.ts"),f=a(/*! ./config */"./src/config.ts"),p=a(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),v=a(/*! ./events */"./src/events.ts"),m=a(/*! ./errors */"./src/errors.ts");function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var a=this.config=(0,f.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,(0,h.enableLogs)(a.debug,"Hls instance"),this._autoLevelCapping=-1,a.progressive&&(0,f.enableStreamingMode)(a);var n=a.abrController,u=a.bufferController,v=a.capLevelController,m=a.fpsController,g=this.abrController=new n(this),y=this.bufferController=new u(this),b=this.capLevelController=new v(this),_=new m(this),x=new i.default(this),E=new r.default(this),w=new o.default(this),T=this.levelController=new l.default(this),S=new c.FragmentTracker(this),k=this.streamController=new d.default(this,S);b.setStreamController(k),_.setStreamController(k);var L=[x,E,T,k];this.networkControllers=L;var A=[g,y,b,_,w,S];this.audioTrackController=this.createController(a.audioTrackController,null,L),this.createController(a.audioStreamController,S,L),this.subtitleTrackController=this.createController(a.subtitleTrackController,null,L),this.createController(a.subtitleStreamController,S,L),this.createController(a.timelineController,null,A),this.emeController=this.createController(a.emeController,null,A),this.cmcdController=this.createController(a.cmcdController,null,A),this.latencyController=this.createController(s.default,null,A),this.coreComponents=A}e.isSupported=function(){return(0,u.isSupported)()};var t,a,y,b=e.prototype;return b.createController=function(e,t,a){if(e){var n=t?new e(this,t):new e(this);return a&&a.push(n),n}return null},b.on=function(e,t,a){void 0===a&&(a=this),this._emitter.on(e,t,a)},b.once=function(e,t,a){void 0===a&&(a=this),this._emitter.once(e,t,a)},b.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},b.off=function(e,t,a,n){void 0===a&&(a=this),this._emitter.off(e,t,a,n)},b.listeners=function(e){return this._emitter.listeners(e)},b.emit=function(e,t,a){return this._emitter.emit(e,t,a)},b.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){h.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(v.Events.ERROR,{type:m.ErrorTypes.OTHER_ERROR,details:m.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},b.listenerCount=function(e){return this._emitter.listenerCount(e)},b.destroy=function(){h.logger.log("destroy"),this.trigger(v.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},b.attachMedia=function(e){h.logger.log("attachMedia"),this._media=e,this.trigger(v.Events.MEDIA_ATTACHING,{media:e})},b.detachMedia=function(){h.logger.log("detachMedia"),this.trigger(v.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(e){this.stopLoad();var t=this.media,a=this.url,i=this.url=n.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});h.logger.log("loadSource:"+i),t&&a&&a!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(v.Events.MANIFEST_LOADING,{url:e})},b.startLoad=function(e){void 0===e&&(e=-1),h.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},b.stopLoad=function(){h.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},b.swapAudioCodec=function(){h.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){h.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},b.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,y=[{key:"version",get:function(){return"1.2.9"}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return m.ErrorTypes}},{key:"ErrorDetails",get:function(){return m.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:f.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}],(a=[{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){h.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){h.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){h.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){h.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){h.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(h.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var a=e.length,n=0;n<a;n++)if(e[n].maxBitrate>=t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&g(t.prototype,a),y&&g(t,y),Object.defineProperty(t,"prototype",{writable:!1}),e}();y.defaultConfig=void 0},"./src/is-supported.ts":
/*!*****************************!*\
  !*** ./src/is-supported.ts ***!
  \*****************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{changeTypeSupported:()=>o,isSupported:()=>r});var n=a(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function r(){var e=(0,n.getMediaSource)();if(!e)return!1;var t=i(),a=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!a&&!!r}function o(){var e,t=i();return"function"==typeof(null==t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/date-range.ts":
/*!**********************************!*\
  !*** ./src/loader/date-range.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{DateRange:()=>c,DateRangeAttribute:()=>n});var n,i=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! ../utils/attr-list */"./src/utils/attr-list.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(this,arguments)}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.ID="ID",e.CLASS="CLASS",e.START_DATE="START-DATE",e.DURATION="DURATION",e.END_DATE="END-DATE",e.END_ON_NEXT="END-ON-NEXT",e.PLANNED_DURATION="PLANNED-DURATION",e.SCTE35_OUT="SCTE35-OUT",e.SCTE35_IN="SCTE35-IN"}(n||(n={}));var c=function(){function e(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){var a=t.attr;for(var l in a)if(Object.prototype.hasOwnProperty.call(e,l)&&e[l]!==a[l]){o.logger.warn('DATERANGE tag attribute: "'+l+'" does not match for tags with ID: "'+e.ID+'"'),this._badValueForSameId=l;break}e=s(new r.AttrList({}),a,e)}if(this.attr=e,this._startDate=new Date(e[n.START_DATE]),n.END_DATE in this.attr){var c=new Date(this.attr[n.END_DATE]);(0,i.isFiniteNumber)(c.getTime())&&(this._endDate=c)}}var t,a,c;return t=e,(a=[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if(n.DURATION in this.attr){var e=this.attr.decimalFloatingPoint(n.DURATION);if((0,i.isFiniteNumber)(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return n.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(n.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(n.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,i.isFiniteNumber)(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}])&&l(t.prototype,a),c&&l(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/fragment-loader.ts":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.ts ***!
  \***************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{LoadError:()=>f,default:()=>u});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../errors */"./src/errors.ts");function r(e){var t="function"==typeof Map?new Map:void 0;return r=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},r(e)}function o(e,t,a){return o=s()?Reflect.construct.bind():function(e,t,a){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return a&&l(i,a.prototype),i},o.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var d=Math.pow(2,17),u=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var a=this,n=e.url;if(!n)return Promise.reject(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(n?"part list":"url")));this.abort();var r=this.config,o=r.fLoader,s=r.loader;return new Promise((function(n,l){a.loader&&a.loader.destroy();var c=a.loader=e.loader=o?new o(r):new s(r),u=h(e),p={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===e.sn?1/0:d};e.stats=c.stats,c.load(u,p,{onSuccess:function(t,i,r,o){a.resetLoader(e,c),n({frag:e,part:null,payload:t.data,networkDetails:o})},onError:function(t,n,r){a.resetLoader(e,c),l(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:r}))},onAbort:function(t,n,r){a.resetLoader(e,c),l(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:r}))},onTimeout:function(t,n,r){a.resetLoader(e,c),l(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:r}))},onProgress:function(a,n,i,r){t&&t({frag:e,part:null,payload:i,networkDetails:r})}})}))},t.loadPart=function(e,t,a){var n=this;this.abort();var r=this.config,o=r.fLoader,s=r.loader;return new Promise((function(l,c){n.loader&&n.loader.destroy();var u=n.loader=e.loader=o?new o(r):new s(r),p=h(e,t),v={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout,highWaterMark:d};t.stats=u.stats,u.load(p,v,{onSuccess:function(i,r,o,s){n.resetLoader(e,u),n.updateStatsFromPart(e,t);var c={frag:e,part:t,payload:i.data,networkDetails:s};a(c),l(c)},onError:function(a,r,o){n.resetLoader(e,u),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:a,networkDetails:o}))},onAbort:function(a,r,o){e.stats.aborted=t.stats.aborted,n.resetLoader(e,u),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:o}))},onTimeout:function(a,r,o){n.resetLoader(e,u),c(new f({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:o}))}})}))},t.updateStatsFromPart=function(e,t){var a=e.stats,n=t.stats,i=n.total;if(a.loaded+=n.loaded,i){var r=Math.round(e.duration/t.duration),o=Math.min(Math.round(a.loaded/i),r),s=(r-o)*Math.round(a.loaded/o);a.total=a.loaded+s}else a.total=Math.max(a.loaded,a.total);var l=a.loading,c=n.loading;l.start?l.first+=c.first-c.start:(l.start=c.start,l.first=c.first),l.end=c.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function h(e,t){void 0===t&&(t=null);var a=t||e,i={frag:e,part:t,responseType:"arraybuffer",url:a.url,headers:{},rangeStart:0,rangeEnd:0},r=a.byteRangeStartOffset,o=a.byteRangeEndOffset;return(0,n.isFiniteNumber)(r)&&(0,n.isFiniteNumber)(o)&&(i.rangeStart=r,i.rangeEnd=o),i}var f=function(e){var t,a;function n(t){for(var a,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(a=e.call.apply(e,[this].concat(i))||this).data=void 0,a.data=t,a}return a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,l(t,a),n}(r(Error))},"./src/loader/fragment.ts":
/*!********************************!*\
  !*** ./src/loader/fragment.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{BaseSegment:()=>f,ElementaryStreamTypes:()=>n,Fragment:()=>p,Part:()=>v});var n,i=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),r=a(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ./level-key */"./src/loader/level-key.ts"),l=a(/*! ./load-stats */"./src/loader/load-stats.ts");function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d(e,t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,a){return t&&u(e.prototype,t),a&&u(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(n||(n={}));var f=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[n.AUDIO]=null,t[n.VIDEO]=null,t[n.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var a=e.split("@",2),n=[];1===a.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(a[1]),n[1]=parseInt(a[0])+n[0],this._byteRange=n},h(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,r.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),p=function(e){function t(t,a){var n;return(n=e.call(this,a)||this)._decryptdata=null,n.rawProgramDateTime=null,n.programDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkey=void 0,n.type=void 0,n.loader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.appendedPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.stats=new l.LoadStats,n.urlId=0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.type=t,n}c(t,e);var a=t.prototype;return a.createInitializationVector=function(e){for(var t=new Uint8Array(16),a=12;a<16;a++)t[a]=e>>8*(15-a)&255;return t},a.setDecryptDataFromLevelKey=function(e,t){var a=e;return"AES-128"===(null==e?void 0:e.method)&&e.uri&&!e.iv&&((a=s.LevelKey.fromURI(e.uri)).method=e.method,a.iv=this.createInitializationVector(t),a.keyFormat="identity"),a},a.setElementaryStreamInfo=function(e,t,a,n,i,r){void 0===r&&(r=!1);var o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,a),s.startDTS=Math.min(s.startDTS,n),s.endDTS=Math.max(s.endDTS,i)):o[e]={startPTS:t,endPTS:a,startDTS:n,endDTS:i,partial:r}},a.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[n.AUDIO]=null,e[n.VIDEO]=null,e[n.AUDIOVIDEO]=null},h(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&o.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!(0,i.isFiniteNumber)(this.programDateTime))return null;var e=(0,i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(f),v=function(e){function t(t,a,n,i,r){var o;(o=e.call(this,n)||this).fragOffset=0,o.duration=0,o.gap=!1,o.independent=!1,o.relurl=void 0,o.fragment=void 0,o.index=void 0,o.stats=new l.LoadStats,o.duration=t.decimalFloatingPoint("DURATION"),o.gap=t.bool("GAP"),o.independent=t.bool("INDEPENDENT"),o.relurl=t.enumeratedString("URI"),o.fragment=a,o.index=i;var s=t.enumeratedString("BYTERANGE");return s&&o.setByteRange(s,r),r&&(o.fragOffset=r.fragOffset+r.duration),o}return c(t,e),h(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(f)},"./src/loader/key-loader.ts":
/*!**********************************!*\
  !*** ./src/loader/key-loader.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(/*! ../events */"./src/events.ts"),i=a(/*! ../errors */"./src/errors.ts"),r=a(/*! ../utils/logger */"./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this.registerListeners()}var t=e.prototype;return t.startLoad=function(e){},t.stopLoad=function(){this.destroyInternalLoaders()},t.registerListeners=function(){this.hls.on(n.Events.KEY_LOADING,this.onKeyLoading,this)},t.unregisterListeners=function(){this.hls.off(n.Events.KEY_LOADING,this.onKeyLoading)},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onKeyLoading=function(e,t){var a=t.frag,i=a.type,o=this.loaders[i];if(a.decryptdata){var s=a.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;if(o&&(r.logger.warn("abort previous key loader for type:"+i),o.abort()),!s)return void r.logger.warn("key uri is falsy");var c=l.loader,d=a.loader=this.loaders[i]=new c(l);this.decrypturl=s,this.decryptkey=null;var u={url:s,frag:a,responseType:"arraybuffer"},h={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:0},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};d.load(u,h,f)}else this.decryptkey&&(a.decryptdata.key=this.decryptkey,this.hls.trigger(n.Events.KEY_LOADED,{frag:a}))}else r.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,a){var i=a.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=null,delete this.loaders[i.type],this.hls.trigger(n.Events.KEY_LOADED,{frag:i})):r.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var a=t.frag,r=a.loader;r&&r.abort(),delete this.loaders[a.type],this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:a,response:e})},t.loadtimeout=function(e,t){var a=t.frag,r=a.loader;r&&r.abort(),delete this.loaders[a.type],this.hls.trigger(n.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:a})},e}()},"./src/loader/level-details.ts":
/*!*************************************!*\
  !*** ./src/loader/level-details.ts ***!
  \*************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{LevelDetails:()=>r});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts");function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.dateRanges={},this.url=e}var t,a,r;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,a=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!a||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&a>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},t=e,(a=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&(0,n.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&i(t.prototype,a),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/level-key.ts":
/*!*********************************!*\
  !*** ./src/loader/level-key.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{LevelKey:()=>r});var n=a(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js");function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?(0,n.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t,a,r;return e.fromURL=function(t,a){return new e(t,a)},e.fromURI=function(t){return new e(t)},t=e,(a=[{key:"uri",get:function(){return this._uri}}])&&i(t.prototype,a),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/load-stats.ts":
/*!**********************************!*\
  !*** ./src/loader/load-stats.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{LoadStats:()=>n});var n=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.ts ***!
  \***********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),r=a(/*! ./date-range */"./src/loader/date-range.ts"),o=a(/*! ./fragment */"./src/loader/fragment.ts"),s=a(/*! ./level-details */"./src/loader/level-details.ts"),l=a(/*! ./level-key */"./src/loader/level-key.ts"),c=a(/*! ../utils/attr-list */"./src/utils/attr-list.ts"),d=a(/*! ../utils/logger */"./src/utils/logger.ts"),u=a(/*! ../utils/codecs */"./src/utils/codecs.ts"),h=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,f=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),v=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),m=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function e(){}return e.findGroup=function(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var a=t.shift()+".";return a+=parseInt(t.shift()).toString(16),a+=("000"+parseInt(t.shift()).toString(16)).slice(-4)}return e},e.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,a){var n,i=[],r=[],o={},s=!1;for(h.lastIndex=0;null!=(n=h.exec(t));)if(n[1]){var l,d=new c.AttrList(n[1]),u={attrs:d,bitrate:d.decimalInteger("AVERAGE-BANDWIDTH")||d.decimalInteger("BANDWIDTH"),name:d.NAME,url:e.resolve(n[2],a)},f=d.decimalResolution("RESOLUTION");f&&(u.width=f.width,u.height=f.height),y((d.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=e.convertAVC1ToAVCOTI(u.videoCodec)),null!==(l=u.unknownCodecs)&&void 0!==l&&l.length||r.push(u),i.push(u)}else if(n[3]){var p=new c.AttrList(n[3]);p["DATA-ID"]&&(s=!0,o[p["DATA-ID"]]=p)}return{levels:r.length>0&&r.length<i.length?r:i,sessionData:s?o:null}},e.parseMasterPlaylistMedia=function(t,a,n,i){var r;void 0===i&&(i=[]);var o=[],s=0;for(f.lastIndex=0;null!==(r=f.exec(t));){var l=new c.AttrList(r[1]);if(l.TYPE===n){var d={attrs:l,bitrate:0,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:n,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?e.resolve(l.URI,a):""};if(i.length){var u=e.findGroup(i,d.groupId)||i[0];b(d,u,"audioCodec"),b(d,u,"textCodec")}o.push(d)}}return o},e.parseLevelPlaylist=function(e,t,a,u,h){var f,g,y,b=new s.LevelDetails(t),E=b.fragments,w=null,T=0,S=0,k=0,L=0,A=null,D=new o.Fragment(u,t),I=-1,C=!1;for(p.lastIndex=0,b.m3u8=e;null!==(f=p.exec(e));){C&&(C=!1,(D=new o.Fragment(u,t)).start=k,D.sn=T,D.cc=L,D.level=a,w&&(D.initSegment=w,D.rawProgramDateTime=w.rawProgramDateTime,w.rawProgramDateTime=null));var R=f[1];if(R){D.duration=parseFloat(R);var P=(" "+f[2]).slice(1);D.title=P||null,D.tagList.push(P?["INF",R,P]:["INF",R])}else if(f[3])(0,n.isFiniteNumber)(D.duration)&&(D.start=k,y&&(D.levelkey=y),D.sn=T,D.level=a,D.cc=L,D.urlId=h,E.push(D),D.relurl=(" "+f[3]).slice(1),_(D,A),A=D,k+=D.duration,T++,S=0,C=!0);else if(f[4]){var O=(" "+f[4]).slice(1);A?D.setByteRange(O,A):D.setByteRange(O)}else if(f[5])D.rawProgramDateTime=(" "+f[5]).slice(1),D.tagList.push(["PROGRAM-DATE-TIME",D.rawProgramDateTime]),-1===I&&(I=E.length);else{if(!(f=f[0].match(v))){d.logger.warn("No matches on slow regex match for level playlist!");continue}for(g=1;g<f.length&&void 0===f[g];g++);var M=(" "+f[g]).slice(1),N=(" "+f[g+1]).slice(1),B=f[g+2]?(" "+f[g+2]).slice(1):"";switch(M){case"PLAYLIST-TYPE":b.type=N.toUpperCase();break;case"MEDIA-SEQUENCE":T=b.startSN=parseInt(N);break;case"SKIP":var F=new c.AttrList(N),U=F.decimalInteger("SKIPPED-SEGMENTS");if((0,n.isFiniteNumber)(U)){b.skippedSegments=U;for(var j=U;j--;)E.unshift(null);T+=U}var z=F.enumeratedString("RECENTLY-REMOVED-DATERANGES");z&&(b.recentlyRemovedDateranges=z.split("\t"));break;case"TARGETDURATION":b.targetduration=parseFloat(N);break;case"VERSION":b.version=parseInt(N);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"#":(N||B)&&D.tagList.push(B?[N,B]:[N]);break;case"DISCONTINUITY":L++,D.tagList.push(["DIS"]);break;case"GAP":D.tagList.push([M]);break;case"BITRATE":D.tagList.push([M,N]);break;case"DATERANGE":var V=new c.AttrList(N),G=new r.DateRange(V,b.dateRanges[V.ID]);G.isValid||b.skippedSegments?b.dateRanges[G.id]=G:d.logger.warn('Ignoring invalid DATERANGE tag: "'+N+'"'),D.tagList.push(["EXT-X-DATERANGE",N]);break;case"DISCONTINUITY-SEQUENCE":L=parseInt(N);break;case"KEY":var H,q=new c.AttrList(N),K=q.enumeratedString("METHOD"),Y=q.URI,W=q.hexadecimalInteger("IV"),X=q.enumeratedString("KEYFORMATVERSIONS"),Z=q.enumeratedString("KEYID"),Q=null!=(H=q.enumeratedString("KEYFORMAT"))?H:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Q)>-1){d.logger.warn("Keyformat "+Q+" is not supported from the manifest");continue}if("identity"!==Q)continue;K&&(y=l.LevelKey.fromURL(t,Y),Y&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(K)>=0&&(y.method=K,y.keyFormat=Q,Z&&(y.keyID=Z),X&&(y.keyFormatVersions=X),y.iv=W));break;case"START":var J=new c.AttrList(N).decimalFloatingPoint("TIME-OFFSET");(0,n.isFiniteNumber)(J)&&(b.startTimeOffset=J);break;case"MAP":var $=new c.AttrList(N);if(D.duration){var ee=new o.Fragment(u,t);x(ee,$,a,y),w=ee,D.initSegment=w,w.rawProgramDateTime&&!D.rawProgramDateTime&&(D.rawProgramDateTime=w.rawProgramDateTime)}else x(D,$,a,y),w=D,C=!0;break;case"SERVER-CONTROL":var te=new c.AttrList(N);b.canBlockReload=te.bool("CAN-BLOCK-RELOAD"),b.canSkipUntil=te.optionalFloat("CAN-SKIP-UNTIL",0),b.canSkipDateRanges=b.canSkipUntil>0&&te.bool("CAN-SKIP-DATERANGES"),b.partHoldBack=te.optionalFloat("PART-HOLD-BACK",0),b.holdBack=te.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var ae=new c.AttrList(N);b.partTarget=ae.decimalFloatingPoint("PART-TARGET");break;case"PART":var ne=b.partList;ne||(ne=b.partList=[]);var ie=S>0?ne[ne.length-1]:void 0,re=S++,oe=new o.Part(new c.AttrList(N),D,t,re,ie);ne.push(oe),D.duration+=oe.duration;break;case"PRELOAD-HINT":var se=new c.AttrList(N);b.preloadHint=se;break;case"RENDITION-REPORT":var le=new c.AttrList(N);b.renditionReports=b.renditionReports||[],b.renditionReports.push(le);break;default:d.logger.warn("line parsed but not handled: "+f)}}}A&&!A.relurl?(E.pop(),k-=A.duration,b.partList&&(b.fragmentHint=A)):b.partList&&(_(D,A),D.cc=L,b.fragmentHint=D);var ce=E.length,de=E[0],ue=E[ce-1];if((k+=b.skippedSegments*b.targetduration)>0&&ce&&ue){b.averagetargetduration=k/ce;var he=ue.sn;b.endSN="initSegment"!==he?he:0,de&&(b.startCC=de.cc,de.initSegment||b.fragments.every((function(e){return e.relurl&&(t=e.relurl,m.test(null!=(a=null===(n=i.parseURL(t))||void 0===n?void 0:n.path)?a:""));var t,a,n}))&&(d.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(D=new o.Fragment(u,t)).relurl=ue.relurl,D.level=a,D.sn="initSegment",de.initSegment=D,b.needSidxRanges=!0))}else b.endSN=0,b.startCC=0;return b.fragmentHint&&(k+=b.fragmentHint.duration),b.totalduration=k,b.endCC=L,I>0&&function(e,t){for(var a=e[t],n=t;n--;){var i=e[n];if(!i)return;i.programDateTime=a.programDateTime-1e3*i.duration,a=i}}(E,I),b},e}();function y(e,t){["video","audio","text"].forEach((function(a){var n=e.filter((function(e){return(0,u.isCodecType)(e,a)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[a+"Codec"]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}function b(e,t,a){var n=t[a];n&&(e[a]=n)}function _(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),(0,n.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function x(e,t,a,n){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=a,e.sn="initSegment",n&&(e.levelkey=n),e.initSegment=null}},"./src/loader/playlist-loader.ts":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.ts ***!
  \***************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../events */"./src/events.ts"),r=a(/*! ../errors */"./src/errors.ts"),o=a(/*! ../utils/logger */"./src/utils/logger.ts"),s=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),l=a(/*! ./m3u8-parser */"./src/loader/m3u8-parser.ts"),c=a(/*! ../types/loader */"./src/types/loader.ts"),d=a(/*! ../utils/attr-list */"./src/utils/attr-list.ts");function u(e,t){var a=e.url;return void 0!==a&&0!==a.indexOf("data:")||(a=t.url),a}const h=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.startLoad=function(e){},t.stopLoad=function(){this.destroyInternalLoaders()},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,a=t.pLoader,n=t.loader,i=new(a||n)(t);return e.loader=i,this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var a=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:c.PlaylistContextType.MANIFEST,url:a,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var a=t.id,n=t.level,i=t.url,r=t.deliveryDirectives;this.load({id:a,groupId:null,level:n,responseType:"text",type:c.PlaylistContextType.LEVEL,url:i,deliveryDirectives:r})},t.onAudioTrackLoading=function(e,t){var a=t.id,n=t.groupId,i=t.url,r=t.deliveryDirectives;this.load({id:a,groupId:n,level:null,responseType:"text",type:c.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:r})},t.onSubtitleTrackLoading=function(e,t){var a=t.id,n=t.groupId,i=t.url,r=t.deliveryDirectives;this.load({id:a,groupId:n,level:null,responseType:"text",type:c.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:r})},t.load=function(e){var t,a,n,i,r,s,l=this.hls.config,d=this.getInternalLoader(e);if(d){var u=d.context;if(u&&u.url===e.url)return void o.logger.trace("[playlist-loader]: playlist request ongoing");o.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),d.abort()}switch(e.type){case c.PlaylistContextType.MANIFEST:a=l.manifestLoadingMaxRetry,n=l.manifestLoadingTimeOut,i=l.manifestLoadingRetryDelay,r=l.manifestLoadingMaxRetryTimeout;break;case c.PlaylistContextType.LEVEL:case c.PlaylistContextType.AUDIO_TRACK:case c.PlaylistContextType.SUBTITLE_TRACK:a=0,n=l.levelLoadingTimeOut;break;default:a=l.levelLoadingMaxRetry,n=l.levelLoadingTimeOut,i=l.levelLoadingRetryDelay,r=l.levelLoadingMaxRetryTimeout}if(d=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===c.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===c.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===c.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var h=s.partTarget,f=s.targetduration;h&&f&&(n=Math.min(1e3*Math.max(3*h,.8*f),n))}var p={timeout:n,maxRetry:a,retryDelay:i,maxRetryDelay:r,highWaterMark:0},v={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};d.load(e,p,v)},t.loadsuccess=function(e,t,a,n){if(void 0===n&&(n=null),a.isSidxRequest)return this.handleSidxRequest(e,a),void this.handlePlaylistLoaded(e,t,a,n);this.resetInternalLoader(a.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,a,n):this.handleMasterPlaylist(e,t,a,n)):this.handleManifestParsingError(e,a,"no EXTM3U delimiter",n)},t.loaderror=function(e,t,a){void 0===a&&(a=null),this.handleNetworkError(t,a,!1,e)},t.loadtimeout=function(e,t,a){void 0===a&&(a=null),this.handleNetworkError(t,a,!0)},t.handleMasterPlaylist=function(e,t,a,n){var r=this.hls,s=e.data,c=u(e,a),h=l.default.parseMasterPlaylist(s,c),f=h.levels,p=h.sessionData;if(f.length){var v=f.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),m=f.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),g=l.default.parseMasterPlaylistMedia(s,c,"AUDIO",v),y=l.default.parseMasterPlaylistMedia(s,c,"SUBTITLES",m),b=l.default.parseMasterPlaylistMedia(s,c,"CLOSED-CAPTIONS");g.length&&(g.some((function(e){return!e.url}))||!f[0].audioCodec||f[0].attrs.AUDIO||(o.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new d.AttrList({}),bitrate:0,url:""}))),r.trigger(i.Events.MANIFEST_LOADED,{levels:f,audioTracks:g,subtitles:y,captions:b,url:c,stats:t,networkDetails:n,sessionData:p})}else this.handleManifestParsingError(e,a,"no level found in manifest",n)},t.handleTrackOrLevelPlaylist=function(e,t,a,o){var s=this.hls,h=a.id,f=a.level,p=a.type,v=u(e,a),m=(0,n.isFiniteNumber)(h)?h:0,g=(0,n.isFiniteNumber)(f)?f:m,y=function(e){switch(e.type){case c.PlaylistContextType.AUDIO_TRACK:return c.PlaylistLevelType.AUDIO;case c.PlaylistContextType.SUBTITLE_TRACK:return c.PlaylistLevelType.SUBTITLE;default:return c.PlaylistLevelType.MAIN}}(a),b=l.default.parseLevelPlaylist(e.data,v,g,y,m);if(b.fragments.length){if(p===c.PlaylistContextType.MANIFEST){var _={attrs:new d.AttrList({}),bitrate:0,details:b,name:"",url:v};s.trigger(i.Events.MANIFEST_LOADED,{levels:[_],audioTracks:[],url:v,stats:t,networkDetails:o,sessionData:null})}if(t.parsing.end=performance.now(),b.needSidxRanges){var x,E=null===(x=b.fragments[0].initSegment)||void 0===x?void 0:x.url;this.load({url:E,isSidxRequest:!0,type:p,level:f,levelDetails:b,id:h,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else a.levelDetails=b,this.handlePlaylistLoaded(e,t,a,o)}else s.trigger(i.Events.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:v,reason:"no fragments found in level",level:"number"==typeof a.level?a.level:void 0})},t.handleSidxRequest=function(e,t){var a=new Uint8Array(e.data),n=(0,s.findBox)(a,["sidx"])[0];if(n){var i=(0,s.parseSegmentIndex)(n);if(i){var r=i.references,o=t.levelDetails;r.forEach((function(e,t){var n=e.info,i=o.fragments[t];if(0===i.byteRange.length&&i.setByteRange(String(1+n.end-n.start)+"@"+String(n.start)),i.initSegment){var r=(0,s.findBox)(a,["moov"])[0],l=r?r.length:null;i.initSegment.setByteRange(String(l)+"@0")}}))}}},t.handleManifestParsingError=function(e,t,a,n){this.hls.trigger(i.Events.ERROR,{type:r.ErrorTypes.NETWORK_ERROR,details:r.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===c.PlaylistContextType.MANIFEST,url:e.url,reason:a,response:e,context:t,networkDetails:n})},t.handleNetworkError=function(e,t,a,n){void 0===a&&(a=!1),o.logger.warn("[playlist-loader]: A network "+(a?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=r.ErrorDetails.UNKNOWN,l=!1,d=this.getInternalLoader(e);switch(e.type){case c.PlaylistContextType.MANIFEST:s=a?r.ErrorDetails.MANIFEST_LOAD_TIMEOUT:r.ErrorDetails.MANIFEST_LOAD_ERROR,l=!0;break;case c.PlaylistContextType.LEVEL:s=a?r.ErrorDetails.LEVEL_LOAD_TIMEOUT:r.ErrorDetails.LEVEL_LOAD_ERROR,l=!1;break;case c.PlaylistContextType.AUDIO_TRACK:s=a?r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case c.PlaylistContextType.SUBTITLE_TRACK:s=a?r.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:r.ErrorDetails.SUBTITLE_LOAD_ERROR,l=!1}d&&this.resetInternalLoader(e.type);var u={type:r.ErrorTypes.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:d,context:e,networkDetails:t};n&&(u.response=n),this.hls.trigger(i.Events.ERROR,u)},t.handlePlaylistLoaded=function(e,t,a,n){var r=a.type,o=a.level,s=a.id,l=a.groupId,d=a.loader,u=a.levelDetails,h=a.deliveryDirectives;if(null!=u&&u.targetduration){if(d)switch(u.live&&(d.getCacheAge&&(u.ageHeader=d.getCacheAge()||0),d.getCacheAge&&!isNaN(u.ageHeader)||(u.ageHeader=0)),r){case c.PlaylistContextType.MANIFEST:case c.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:u,level:o||0,id:s||0,stats:t,networkDetails:n,deliveryDirectives:h});break;case c.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:u,id:s||0,groupId:l||"",stats:t,networkDetails:n,deliveryDirectives:h});break;case c.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:u,id:s||0,groupId:l||"",stats:t,networkDetails:n,deliveryDirectives:h})}}else this.handleManifestParsingError(e,a,"invalid target duration",n)},e}()},"./src/polyfills/number.ts":
/*!*********************************!*\
  !*** ./src/polyfills/number.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_SAFE_INTEGER:()=>i,isFiniteNumber:()=>n});var n=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}()},"./src/remux/mp4-generator.ts":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var n=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var a=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:a,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=r,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];for(var r=n.length,o=r;r--;)t+=n[r].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),r=0,t=8;r<o;r++)s.set(n[r],t),t+=n[r].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,a){a*=t;var i=Math.floor(a/(n+1)),r=Math.floor(a%(n+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,a,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,a))},e.moov=function(t){for(var a=t.length,n=[];a--;)n[a]=e.trak(t[a]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var a=t.length,n=[];a--;)n[a]=e.trex(t[a]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,a){a*=t;var i=Math.floor(a/(n+1)),r=Math.floor(a%(n+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var a,n,i=t.samples||[],r=new Uint8Array(4+i.length);for(a=0;a<i.length;a++)n=i[a].flags,r[a+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,r)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var a,n,i,r=[],o=[];for(a=0;a<t.sps.length;a++)i=(n=t.sps[a]).byteLength,r.push(i>>>8&255),r.push(255&i),r=r.concat(Array.prototype.slice.call(n));for(a=0;a<t.pps.length;a++)i=(n=t.pps[a]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|t.sps.length].concat(r).concat([t.pps.length]).concat(o))),l=t.width,c=t.height,d=t.pixelRatio[0],u=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,u>>24,u>>16&255,u>>8&255,255&u])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var a=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,a>>8&255,255&a,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var a=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,a>>8&255,255&a,0,0]))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var a=t.id,i=t.duration*t.timescale,r=t.width,o=t.height,s=Math.floor(i/(n+1)),l=Math.floor(i%(n+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,a>>24&255,a>>16&255,a>>8&255,255&a,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,a){var i=e.sdtp(t),r=t.id,o=Math.floor(a/(n+1)),s=Math.floor(a%(n+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var a=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,a){var n,i,r,o,s,l,c=t.samples||[],d=c.length,u=12+16*d,h=new Uint8Array(u);for(a+=8+u,h.set(["video"===t.type?1:0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,a>>>24&255,a>>>16&255,a>>>8&255,255&a],0),n=0;n<d;n++)r=(i=c[n]).duration,o=i.size,s=i.flags,l=i.cts,h.set([r>>>24&255,r>>>16&255,r>>>8&255,255&r,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,h)},e.initSegment=function(t){e.types||e.init();var a=e.moov(t),n=new Uint8Array(e.FTYP.byteLength+a.byteLength);return n.set(e.FTYP),n.set(a,e.FTYP.byteLength),n},e}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0;const r=i},"./src/remux/mp4-remuxer.ts":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p,flushTextTrackMetadataCueSamples:()=>m,flushTextTrackUserdataCueSamples:()=>g,normalizePts:()=>v});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ./aac-helper */"./src/remux/aac-helper.ts"),r=a(/*! ./mp4-generator */"./src/remux/mp4-generator.ts"),o=a(/*! ../events */"./src/events.ts"),s=a(/*! ../errors */"./src/errors.ts"),l=a(/*! ../utils/logger */"./src/utils/logger.ts"),c=a(/*! ../types/loader */"./src/types/loader.ts"),d=a(/*! ../utils/timescale-conversion */"./src/utils/timescale-conversion.ts");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}var h=null,f=null,p=function(){function e(e,t,a,n){if(void 0===n&&(n=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=a,this.ISGenerated=!1,null===h){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);h=i?parseInt(i[1]):0}if(null===f){var r=navigator.userAgent.match(/Safari\/(\d+)/i);f=r?parseInt(r[1]):0}}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){l.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){l.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){l.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,a=e.reduce((function(e,a){var n=a.pts-e;return n<-4294967296?(t=!0,v(e,a.pts)):n>0?e:a.pts}),e[0].pts);return t&&l.logger.debug("PTS rollover detected"),a},t.remux=function(e,t,a,n,i,r,o,s){var d,u,h,f,p,y,b=i,_=i,x=e.pid>-1,E=t.pid>-1,w=t.samples.length,T=e.samples.length>0,S=o&&w>0||w>1;if((!x||T)&&(!E||S)||this.ISGenerated||o){this.ISGenerated||(h=this.generateIS(e,t,i));var k,L=this.isVideoContiguous,A=-1;if(S&&(A=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!L&&this.config.forceKeyFrameOnDiscontinuity))if(y=!0,A>0){l.logger.warn("[mp4-remuxer]: Dropped "+A+" out of "+w+" video samples due to a missing keyframe");var D=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(A),t.dropped+=A,k=_+=(t.samples[0].pts-D)/t.inputTimeScale}else-1===A&&(l.logger.warn("[mp4-remuxer]: No keyframe found out of "+w+" video samples"),y=!1);if(this.ISGenerated){if(T&&S){var I=this.getVideoStartPts(t.samples),C=(v(e.samples[0].pts,I)-I)/t.inputTimeScale;b+=Math.max(0,C),_+=Math.max(0,-C)}if(T){if(e.samplerate||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(e,t,i)),u=this.remuxAudio(e,b,this.isAudioContiguous,r,E||S||s===c.PlaylistLevelType.AUDIO?_:void 0),S){var R=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(l.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(e,t,i)),d=this.remuxVideo(t,_,L,R)}}else S&&(d=this.remuxVideo(t,_,L,0));d&&(d.firstKeyFrame=A,d.independent=-1!==A,d.firstKeyFramePTS=k)}}return this.ISGenerated&&(a.samples.length&&(p=m(a,i,this._initPTS,this._initDTS)),n.samples.length&&(f=g(n,i,this._initPTS))),{audio:u,video:d,initSegment:h,independent:y,text:f,id3:p}},t.generateIS=function(e,t,a){var i,o,s,l=e.samples,c=t.samples,d=this.typeSupported,u={},h=!(0,n.isFiniteNumber)(this._initPTS),f="audio/mp4";if(h&&(i=o=1/0),e.config&&l.length&&(e.timescale=e.samplerate,"mp3"===e.segmentCodec&&(d.mpeg?(f="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3")),u.audio={id:"audio",container:f,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&d.mpeg?new Uint8Array(0):r.default.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(s=e.inputTimeScale,i=o=l[0].pts-Math.round(s*a))),t.sps&&t.pps&&c.length&&(t.timescale=t.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:r.default.initSegment([t]),metadata:{width:t.width,height:t.height}},h)){s=t.inputTimeScale;var p=this.getVideoStartPts(c),m=Math.round(s*a);o=Math.min(o,v(c[0].dts,p)-m),i=Math.min(i,p-m)}if(Object.keys(u).length)return this.ISGenerated=!0,h&&(this._initPTS=i,this._initDTS=o),{tracks:u,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,a,n){var i,c,p=e.inputTimeScale,m=e.samples,g=[],b=m.length,_=this._initPTS,x=this.nextAvcDts,E=8,w=this.videoSampleDuration,T=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,k=!1;a&&null!==x||(x=t*p-(m[0].pts-v(m[0].dts,m[0].pts)));for(var L=0;L<b;L++){var A=m[L];A.pts=v(A.pts-_,x),A.dts=v(A.dts-_,x),A.dts<m[L>0?L-1:L].dts&&(k=!0)}k&&m.sort((function(e,t){var a=e.dts-t.dts,n=e.pts-t.pts;return a||n})),i=m[0].dts;var D=(c=m[m.length-1].dts)-i,I=D?Math.round(D/(b-1)):w||e.inputTimeScale/30;if(a){var C=i-x,R=C>I,P=C<-1;if((R||P)&&(R?l.logger.warn("AVC: "+(0,d.toMsFromMpegTsClock)(C,!0)+" ms ("+C+"dts) hole between fragments detected, filling it"):l.logger.warn("AVC: "+(0,d.toMsFromMpegTsClock)(-C,!0)+" ms ("+C+"dts) overlapping between fragments detected"),!P||x>m[0].pts)){i=x;var O=m[0].pts-C;m[0].dts=i,m[0].pts=O,l.logger.log("Video: First PTS/DTS adjusted: "+(0,d.toMsFromMpegTsClock)(O,!0)+"/"+(0,d.toMsFromMpegTsClock)(i,!0)+", delta: "+(0,d.toMsFromMpegTsClock)(C,!0)+" ms")}}i=Math.max(0,i);for(var M=0,N=0,B=0;B<b;B++){for(var F=m[B],U=F.units,j=U.length,z=0,V=0;V<j;V++)z+=U[V].data.length;N+=z,M+=j,F.length=z,F.dts=Math.max(F.dts,i),T=Math.min(F.pts,T),S=Math.max(F.pts,S)}c=m[b-1].dts;var G,H=N+4*M+8;try{G=new Uint8Array(H)}catch(e){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating video mdat "+H})}var q=new DataView(G.buffer);q.setUint32(0,H),G.set(r.default.types.mdat,4);for(var K=!1,Y=Number.POSITIVE_INFINITY,W=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,Z=Number.NEGATIVE_INFINITY,Q=0;Q<b;Q++){for(var J=m[Q],$=J.units,ee=0,te=0,ae=$.length;te<ae;te++){var ne=$[te],ie=ne.data,re=ne.data.byteLength;q.setUint32(E,re),E+=4,G.set(ie,E),E+=re,ee+=4+re}var oe=void 0;if(Q<b-1)w=m[Q+1].dts-J.dts,oe=m[Q+1].pts-J.pts;else{var se=this.config,le=Q>0?J.dts-m[Q-1].dts:I;if(oe=Q>0?J.pts-m[Q-1].pts:I,se.stretchShortVideoTrack&&null!==this.nextAudioPts){var ce=Math.floor(se.maxBufferHole*p),de=(n?T+n*p:this.nextAudioPts)-J.pts;de>ce?((w=de-le)<0?w=le:K=!0,l.logger.log("[mp4-remuxer]: It is approximately "+de/90+" ms to the next segment; using duration "+w/90+" ms for the last video frame.")):w=le}else w=le}var ue=Math.round(J.pts-J.dts);Y=Math.min(Y,w),X=Math.max(X,w),W=Math.min(W,oe),Z=Math.max(Z,oe),g.push(new y(J.key,w,ee,ue))}if(g.length)if(h){if(h<70){var he=g[0].flags;he.dependsOn=2,he.isNonSync=0}}else if(f&&Z-W<X-Y&&I/X<.025&&0===g[0].cts){l.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var fe=i,pe=0,ve=g.length;pe<ve;pe++){var me=fe+g[pe].duration,ge=fe+g[pe].cts;if(pe<ve-1){var ye=me+g[pe+1].cts;g[pe].duration=ye-ge}else g[pe].duration=pe?g[pe-1].duration:I;g[pe].cts=0,fe=me}}console.assert(null!==w,"mp4SampleDuration must be computed"),w=K||!w?I:w,this.nextAvcDts=x=c+w,this.videoSampleDuration=w,this.isVideoContiguous=!0;var be={data1:r.default.moof(e.sequenceNumber++,i,u({},e,{samples:g})),data2:G,startPTS:T/p,endPTS:(S+w)/p,startDTS:i/p,endDTS:x/p,type:"video",hasAudio:!1,hasVideo:!0,nb:g.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(G.length,"MDAT length must not be zero"),be},t.remuxAudio=function(e,t,a,n,c){var d=e.inputTimeScale,h=d/(e.samplerate?e.samplerate:d),f="aac"===e.segmentCodec?1024:1152,p=f*h,m=this._initPTS,g="mp3"===e.segmentCodec&&this.typeSupported.mpeg,b=[],_=void 0!==c,x=e.samples,E=g?0:8,w=this.nextAudioPts||-1,T=t*d;if(this.isAudioContiguous=a=a||x.length&&w>0&&(n&&Math.abs(T-w)<9e3||Math.abs(v(x[0].pts-m,T)-w)<20*p),x.forEach((function(e){e.pts=v(e.pts-m,T)})),!a||w<0){if(x=x.filter((function(e){return e.pts>=0})),!x.length)return;w=0===c?0:n&&!_?Math.max(0,T):x[0].pts}if("aac"===e.segmentCodec)for(var S=this.config.maxAudioFramesDrift,k=0,L=w;k<x.length;k++){var A=x[k],D=A.pts,I=D-L,C=Math.abs(1e3*I/d);if(I<=-S*p&&_)0===k&&(l.logger.warn("Audio frame @ "+(D/d).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*I/d)+" ms."),this.nextAudioPts=w=L=D);else if(I>=S*p&&C<1e4&&_){var R=Math.round(I/p);(L=D-R*p)<0&&(R--,L+=p),0===k&&(this.nextAudioPts=w=L),l.logger.warn("[mp4-remuxer]: Injecting "+R+" audio frame @ "+(L/d).toFixed(3)+"s due to "+Math.round(1e3*I/d)+" ms gap.");for(var P=0;P<R;P++){var O=Math.max(L,0),M=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);M||(l.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),M=A.unit.subarray()),x.splice(k,0,{unit:M,pts:O}),L+=p,k++}}A.pts=L,L+=p}for(var N,B=null,F=null,U=0,j=x.length;j--;)U+=x[j].unit.byteLength;for(var z=0,V=x.length;z<V;z++){var G=x[z],H=G.unit,q=G.pts;if(null!==F)b[z-1].duration=Math.round((q-F)/h);else{if(a&&"aac"===e.segmentCodec&&(q=w),B=q,!(U>0))return;U+=E;try{N=new Uint8Array(U)}catch(e){return void this.observer.emit(o.Events.ERROR,o.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating audio mdat "+U})}g||(new DataView(N.buffer).setUint32(0,U),N.set(r.default.types.mdat,4))}N.set(H,E);var K=H.byteLength;E+=K,b.push(new y(!0,f,K,0)),F=q}var Y=b.length;if(Y){var W=b[b.length-1];this.nextAudioPts=w=F+h*W.duration;var X=g?new Uint8Array(0):r.default.moof(e.sequenceNumber++,B/h,u({},e,{samples:b}));e.samples=[];var Z=B/d,Q=w/d,J={data1:X,data2:N,startPTS:Z,endPTS:Q,startDTS:Z,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.isAudioContiguous=!0,console.assert(N.length,"MDAT length must not be zero"),J}},t.remuxEmptyAudio=function(e,t,a,n){var r=e.inputTimeScale,o=r/(e.samplerate?e.samplerate:r),s=this.nextAudioPts,c=(null!==s?s:n.startDTS*r)+this._initDTS,d=n.endDTS*r+this._initDTS,u=1024*o,h=Math.ceil((d-c)/u),f=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(l.logger.warn("[mp4-remuxer]: remux empty Audio"),f){for(var p=[],v=0;v<h;v++){var m=c+v*u;p.push({unit:f,pts:m,dts:m})}return e.samples=p,this.remuxAudio(e,t,a,!1)}l.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e}();function v(e,t){var a;if(null===t)return e;for(a=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=a;return e}function m(e,t,a,n){var i=e.samples.length;if(i){for(var r=e.inputTimeScale,o=0;o<i;o++){var s=e.samples[o];s.pts=v(s.pts-a,t*r)/r,s.dts=v(s.dts-n,t*r)/r}var l=e.samples;return e.samples=[],{samples:l}}}function g(e,t,a){var n=e.samples.length;if(n){for(var i=e.inputTimeScale,r=0;r<n;r++){var o=e.samples[r];o.pts=v(o.pts-a,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var y=function(e,t,a,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=a,this.cts=n,this.flags=new b(e)},b=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.ts ***!
  \******************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ./mp4-remuxer */"./src/remux/mp4-remuxer.ts"),r=a(/*! ../utils/mp4-tools */"./src/utils/mp4-tools.ts"),o=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),s=a(/*! ../utils/logger */"./src/utils/logger.ts");function l(e,t){var a=null==e?void 0:e.codec;return a&&a.length>4?a:"hvc1"===a||"hev1"===a?"hvc1.1.c.L120.90":"av01"===a?"av01.0.04M.08":"avc1"===a||t===o.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const c=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndTime=null},t.resetNextTimestamp=function(){this.lastEndTime=null},t.resetInitSegment=function(e,t,a){this.audioCodec=t,this.videoCodec=a,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,a=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=(0,r.parseInitSegment)(e);t||(t=l(n.audio,o.ElementaryStreamTypes.AUDIO)),a||(a=l(n.video,o.ElementaryStreamTypes.VIDEO));var i={};n.audio&&n.video?i.audiovideo={container:"video/mp4",codec:t+","+a,initSegment:e,id:"main"}:n.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?i.video={container:"video/mp4",codec:a,initSegment:e,id:"main"}:s.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i},t.remux=function(e,t,a,o,l){var c,d=this.initPTS,u=this.lastEndTime,h={audio:void 0,video:void 0,text:o,id3:a,initSegment:void 0};(0,n.isFiniteNumber)(u)||(u=this.lastEndTime=l||0);var f=t.samples;if(!f||!f.length)return h;var p={initPTS:void 0,timescale:1},v=this.initData;if(v&&v.length||(this.generateInitSegment(f),v=this.initData),!v||!v.length)return s.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);var m=(0,r.getStartDTS)(v,f);(0,n.isFiniteNumber)(d)||(this.initPTS=p.initPTS=d=m-l);var g=(0,r.getDuration)(f,v),y=e?m-d:u,b=y+g;(0,r.offsetStartDTS)(v,f,d),g>0?this.lastEndTime=b:(s.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var _=!!v.audio,x=!!v.video,E="";_&&(E+="audio"),x&&(E+="video");var w={data1:f,startPTS:y,startDTS:y,endPTS:b,endDTS:b,type:E,hasAudio:_,hasVideo:x,nb:1,dropped:0};h.audio="audio"===w.type?w:void 0,h.video="audio"!==w.type?w:void 0,h.initSegment=p;var T=null!=(c=this.initPTS)?c:0;return h.id3=(0,i.flushTextTrackMetadataCueSamples)(a,l,T,T),o.samples.length&&(h.text=(0,i.flushTextTrackUserdataCueSamples)(o,l,T)),h},e}()},"./src/task-loop.ts":
/*!**************************!*\
  !*** ./src/task-loop.ts ***!
  \**************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/cmcd.ts":
/*!***************************!*\
  !*** ./src/types/cmcd.ts ***!
  \***************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{CMCDObjectType:()=>n,CMCDStreamType:()=>r,CMCDStreamingFormat:()=>i,CMCDVersion:()=>o});var n,i,r,o=1;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(n||(n={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(i||(i={})),function(e){e.VOD="v",e.LIVE="l"}(r||(r={}))},"./src/types/demuxer.ts":
/*!******************************!*\
  !*** ./src/types/demuxer.ts ***!
  \******************************/(e,t,a)=>{"use strict";var n;a.r(t),a.d(t,{MetadataSchema:()=>n}),function(e){e.audioId3="org.id3",e.dateRange="com.apple.quicktime.HLS",e.emsg="https://aomedia.org/emsg/ID3"}(n||(n={}))},"./src/types/level.ts":
/*!****************************!*\
  !*** ./src/types/level.ts ***!
  \****************************/(e,t,a)=>{"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i;function r(e,t){var a=e.canSkipUntil,n=e.canSkipDateRanges,r=e.endSN;return a&&(void 0!==t?t-r:0)<a?n?i.v2:i.Yes:i.No}a.r(t),a.d(t,{HlsSkip:()=>i,HlsUrlParameters:()=>o,Level:()=>s,getSkipValue:()=>r}),function(e){e.No="",e.Yes="YES",e.v2="v2"}(i||(i={}));var o=function(){function e(e,t,a){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=a}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),s=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t,a,i;return t=e,(a=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&n(t.prototype,a),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/types/loader.ts":
/*!*****************************!*\
  !*** ./src/types/loader.ts ***!
  \*****************************/(e,t,a)=>{"use strict";var n,i;a.r(t),a.d(t,{PlaylistContextType:()=>n,PlaylistLevelType:()=>i}),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(n||(n={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}))},"./src/types/transmuxer.ts":
/*!*********************************!*\
  !*** ./src/types/transmuxer.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{ChunkMetadata:()=>n});var n=function(e,t,a,n,i,r){void 0===n&&(n=0),void 0===i&&(i=-1),void 0===r&&(r=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=a,this.size=n,this.part=i,this.partial=r}},"./src/utils/attr-list.ts":
/*!********************************!*\
  !*** ./src/utils/attr-list.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{AttrList:()=>r});var n=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,r=function(){function e(t){for(var a in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(a)&&(this[a]=t[a])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var a=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)a[n]=parseInt(t.slice(2*n,2*n+2),16);return a}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var a=this[e];return a?parseFloat(a):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=n.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,a={};for(i.lastIndex=0;null!==(t=i.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),a[t[1]]=n}return a},e}()},"./src/utils/binary-search.ts":
/*!************************************!*\
  !*** ./src/utils/binary-search.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={search:function(e,t){for(var a=0,n=e.length-1,i=null,r=null;a<=n;){var o=t(r=e[i=(a+n)/2|0]);if(o>0)a=i+1;else{if(!(o<0))return r;n=i-1}}return null}}},"./src/utils/buffer-helper.ts":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{BufferHelper:()=>r});var n=a(/*! ./logger */"./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},r=function(){function e(){}return e.isBuffered=function(t,a){try{if(t)for(var n=e.getBuffered(t),i=0;i<n.length;i++)if(a>=n.start(i)&&a<=n.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(t,a,n){try{if(t){var i,r=e.getBuffered(t),o=[];for(i=0;i<r.length;i++)o.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(o,a,n)}}catch(e){}return{len:0,start:a,end:a,nextStart:void 0}},e.bufferedInfo=function(e,t,a){t=Math.max(0,t),e.sort((function(e,t){var a=e.start-t.start;return a||t.end-e.end}));var n=[];if(a)for(var i=0;i<e.length;i++){var r=n.length;if(r){var o=n[r-1].end;e[i].start-o<a?e[i].end>o&&(n[r-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var s,l=0,c=t,d=t,u=0;u<n.length;u++){var h=n[u].start,f=n[u].end;if(t+a>=h&&t<f)c=h,l=(d=f)-t;else if(t+a<h){s=h;break}}return{len:l,start:c||0,end:d||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(e){return n.logger.log("failed to get media.buffered",e),i}},e}()},"./src/utils/cea-608-parser.ts":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.ts ***!
  \*************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{CaptionScreen:()=>b,Row:()=>y,default:()=>w});var n,i=a(/*! ../utils/logger */"./src/utils/logger.ts"),r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return r.hasOwnProperty(e)&&(t=r[e]),String.fromCharCode(t)},s=15,l=100,c={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},d={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(n||(n={}));var p=function(){function e(){this.time=null,this.verboseLevel=n.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&i.logger.log(this.time+" ["+e+"] "+t)},e}(),v=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].toString(16));return t},m=function(){function e(e,t,a,n,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=a||!1,this.background=n||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],a=0;a<t.length;a++){var n=t[a];e.hasOwnProperty(n)&&(this[n]=e[n])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),g=function(){function e(e,t,a,n,i,r){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new m(t,a,n,i,r)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),y=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<l;t++)this.chars.push(new g);this.logger=e,this.pos=0,this.currPenState=new m}var t=e.prototype;return t.equals=function(e){for(var t=!0,a=0;a<l;a++)if(!this.chars[a].equals(e.chars[a])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<l;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<l;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(n.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(this.logger.log(n.DEBUG,"Too large cursor position "+this.pos),this.pos=l)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var a=this.pos+1;a<t+1;a++)this.chars[a].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=o(e);this.pos>=l?this.logger.log(n.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<l;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,a=0;a<l;a++){var n=this.chars[a].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),b=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<s;t++)this.rows.push(new y(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<s;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,a=0;a<s;a++)if(!this.rows[a].equals(e.rows[a])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<s;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<s;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(n.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(n.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var a=0;a<s;a++)this.rows[a].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var o=r.rows[i].cueStartTime,l=this.logger.time;if(o&&null!==l&&o<l)for(var c=0;c<this.nrRollUpRows;c++)this.rows[t-this.nrRollUpRows+c+1].copy(r.rows[i+c])}}this.currRow=t;var d=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,h=Math.max(u-1,0);d.setCursor(e.indent),e.color=d.chars[h].penState.foreground}var f={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(f)},t.setBkgData=function(e){this.logger.log(n.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(n.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(n.INFO,"Rolling up")}else this.logger.log(n.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],a="",n=-1,i=0;i<s;i++){var r=this.rows[i].getTextString();r&&(n=i+1,e?t.push("Row "+n+": '"+r+"'"):t.push(r.trim()))}return t.length>0&&(a=e?"["+t.join(" | ")+"]":t.join("\n")),a},t.getTextAndFormat=function(){return this.rows},e}(),_=function(){function e(e,t,a){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new b(a),this.nonDisplayedMemory=new b(a),this.lastOutputScreen=new b(a),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=a}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(n.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var a=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(n.INFO,a+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(n.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(n.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(n.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(n.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(n.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(n.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(n.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(n.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(n.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(n.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(n.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(n.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(n.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(n.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(n.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var a=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][a]}this.logger.log(n.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}();function x(e,t,a){a.a=e,a.b=t}function E(e,t,a){return a.a===e&&a.b===t}const w=function(){function e(e,t,a){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new p;this.channels=[null,new _(e,t,n),new _(e+1,a,n)],this.cmdHistory={a:null,b:null},this.logger=n}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var a,i,r,o=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(i=127&t[s],r=127&t[s+1],0!==i||0!==r){if(this.logger.log(n.DATA,"["+v([t[s],t[s+1]])+"] -> ("+v([i,r])+")"),(a=this.parseCmd(i,r))||(a=this.parseMidrow(i,r)),a||(a=this.parsePAC(i,r)),a||(a=this.parseBackgroundAttributes(i,r)),!a&&(o=this.parseChars(i,r))){var l=this.currentChannel;l&&l>0?this.channels[l].insertChars(o):this.logger.log(n.WARNING,"No channel found yet. TEXT-MODE?")}a||o||this.logger.log(n.WARNING,"Couldn't parse cleaned data "+v([i,r])+" orig: "+v([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var a=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(E(e,t,a))return x(null,null,a),this.logger.log(n.DEBUG,"Repeated command ("+v([e,t])+") is dropped"),!0;var i=20===e||21===e||23===e?1:2,r=this.channels[i];return 20===e||21===e||28===e||29===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),x(e,t,a),this.currentChannel=i,!0},t.parseMidrow=function(e,t){var a=0;if((17===e||25===e)&&t>=32&&t<=47){if((a=17===e?1:2)!==this.currentChannel)return this.logger.log(n.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[a];return!!i&&(i.ccMIDROW(t),this.logger.log(n.DEBUG,"MIDROW ("+v([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var a,n=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(E(e,t,n))return x(null,null,n),!0;var i=e<=23?1:2;a=t>=64&&t<=95?1===i?c[e]:u[e]:1===i?d[e]:h[e];var r=this.channels[i];return!!r&&(r.setPAC(this.interpretPAC(a,t)),x(e,t,n),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var a,n={color:null,italics:!1,indent:null,underline:!1,row:e};return a=t>95?t-96:t-64,n.underline=1==(1&a),a<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(a/2)]:a<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((a-16)/2),n},t.parseChars=function(e,t){var a,i,r=null,s=null;if(e>=25?(a=2,s=e-8):(a=1,s=e),s>=17&&s<=19?(i=17===s?t+80:18===s?t+112:t+144,this.logger.log(n.INFO,"Special char '"+o(i)+"' in channel "+a),r=[i]):e>=32&&e<=127&&(r=0===t?[e]:[e,t]),r){var l=v(r);this.logger.log(n.DEBUG,"Char codes =  "+l.join(",")),x(e,t,this.cmdHistory)}return r},t.parseBackgroundAttributes=function(e,t){var a;if(!((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47))return!1;var n={};16===e||24===e?(a=Math.floor((t-32)/2),n.background=f[a],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(n),x(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var a=this.channels[t];a&&a.cueSplitAtTime(e)}},e}()},"./src/utils/codecs.ts":
/*!*****************************!*\
  !*** ./src/utils/codecs.ts ***!
  \*****************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{isCodecSupportedInMp4:()=>r,isCodecType:()=>i});var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(e,t){var a=n[t];return!!a&&!0===a[e.slice(0,4)]}function r(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.ts":
/*!***************************!*\
  !*** ./src/utils/cues.ts ***!
  \***************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var n=a(/*! ./vttparser */"./src/utils/vttparser.ts"),i=a(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts"),r=a(/*! ./texttrack-utils */"./src/utils/texttrack-utils.ts"),o=/\s/;const s={newCue:function(e,t,a,s){for(var l,c,d,u,h,f=[],p=self.VTTCue||self.TextTrackCue,v=0;v<s.rows.length;v++)if(d=!0,u=0,h="",!(l=s.rows[v]).isEmpty()){for(var m=0;m<l.chars.length;m++)o.test(l.chars[m].uchar)&&d?u++:(h+=l.chars[m].uchar,d=!1);l.cueStartTime=t,t===a&&(a+=1e-4),u>=16?u--:u++;var g=(0,n.fixLineBreaks)(h.trim()),y=(0,i.generateCueId)(t,a,g);e&&e.cues&&e.cues.getCueById(y)||((c=new p(t,a,g)).id=y,c.line=v+1,c.align="left",c.position=10+Math.min(80,10*Math.floor(8*u/32)),f.push(c))}return e&&f.length&&(f.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),f.forEach((function(t){return(0,r.addCueToTrack)(e,t)}))),f}}},"./src/utils/discontinuities.ts":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.ts ***!
  \**************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{adjustSlidingStart:()=>d,alignMediaPlaylistByPDT:()=>f,alignPDT:()=>h,alignStream:()=>u,findDiscontinuousReferenceFrag:()=>l,findFirstFragWithCC:()=>o,shouldAlignOnDiscontinuities:()=>s});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ./logger */"./src/utils/logger.ts"),r=a(/*! ../controller/level-helper */"./src/controller/level-helper.ts");function o(e,t){for(var a=null,n=0,i=e.length;n<i;n++){var r=e[n];if(r&&r.cc===t){a=r;break}}return a}function s(e,t,a){return!(!t.details||!(a.endCC>a.startCC||e&&e.cc<a.startCC))}function l(e,t,a){void 0===a&&(a=0);var n=e.fragments,r=t.fragments;if(r.length&&n.length){var s=o(n,r[0].cc);if(s&&(!s||s.startPTS))return s;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function c(e,t){if(e){var a=e.start+t;e.start=e.startPTS=a,e.endPTS=a+e.duration}}function d(e,t){for(var a=t.fragments,n=0,i=a.length;n<i;n++)c(a[n],e);t.fragmentHint&&c(t.fragmentHint,e),t.alignedSliding=!0}function u(e,t,a){t&&(function(e,t,a){if(s(e,a,t)){var r=l(a.details,t);r&&(0,n.isFiniteNumber)(r.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),d(r.start,t))}}(e,a,t),!a.alignedSliding&&t.details&&h(a,t.details),a.alignedSliding||!t.details||a.skippedSegments||(0,r.adjustSliding)(t.details,a))}function h(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var a=t.fragments[0].programDateTime,r=e.fragments[0].programDateTime,o=(r-a)/1e3+t.fragments[0].start;o&&(0,n.isFiniteNumber)(o)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(r-a)+"ms, sliding:"+o.toFixed(3)+" "+e.url+" "),d(o,e))}}function f(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var a=e.fragments,n=t.fragments;if(a.length&&n.length){var i=n[Math.round(n.length/2)-1],r=o(a,i.cc)||a[Math.round(a.length/2)-1],s=i.programDateTime,l=r.programDateTime;null!==s&&null!==l&&d((l-s)/1e3-(r.start-i.start),e)}}}},"./src/utils/ewma-bandwidth-estimator.ts":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.ts ***!
  \***********************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(/*! ../utils/ewma */"./src/utils/ewma.ts");const i=function(){function e(e,t,a){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(e),this.fast_=new n.default(t)}var t=e.prototype;return t.update=function(e,t){var a=this.slow_,i=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new n.default(e,a.getEstimate(),a.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new n.default(t,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var a=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/a;this.fast_.sample(a,n),this.slow_.sample(a,n)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}()},"./src/utils/ewma.ts":
/*!***************************!*\
  !*** ./src/utils/ewma.ts ***!
  \***************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=function(){function e(e,t,a){void 0===t&&(t=0),void 0===a&&(a=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=a}var t=e.prototype;return t.sample=function(e,t){var a=Math.pow(this.alpha_,e);this.estimate_=t*(1-a)+a*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}()},"./src/utils/fetch-loader.ts":
/*!***********************************!*\
  !*** ./src/utils/fetch-loader.ts ***!
  \***********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m,fetchSupported:()=>h});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ../loader/load-stats */"./src/loader/load-stats.ts"),r=a(/*! ../demux/chunk-cache */"./src/demux/chunk-cache.ts");function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},o(e)}function s(e,t,a){return s=l()?Reflect.construct.bind():function(e,t,a){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return a&&c(i,a.prototype),i},s.apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}function h(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var f=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||p,this.controller=new self.AbortController,this.stats=new i.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,a){var i=this,r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();var o=function(e,t){var a={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(u({},e.headers))};return e.rangeEnd&&a.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),a}(e,this.controller.signal),s=a.onProgress,l="arraybuffer"===e.responseType,c=l?"byteLength":"length";this.context=e,this.config=t,this.callbacks=a,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),a.onTimeout(r,e,i.response)}),t.timeout),self.fetch(this.request).then((function(a){if(i.response=i.loader=a,!a.ok){var o=a.status,c=a.statusText;throw new v(c||"fetch, bad network response",o,a)}return r.loading.first=Math.max(self.performance.now(),r.loading.start),r.total=parseInt(a.headers.get("Content-Length")||"0"),s&&(0,n.isFiniteNumber)(t.highWaterMark)?i.loadProgressively(a,r,e,t.highWaterMark,s):l?a.arrayBuffer():a.text()})).then((function(o){var l=i.response;self.clearTimeout(i.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);var d=o[c];d&&(r.loaded=r.total=d);var u={url:l.url,data:o};s&&!(0,n.isFiniteNumber)(t.highWaterMark)&&s(r,e,o,l),a.onSuccess(u,r,e,l)})).catch((function(t){if(self.clearTimeout(i.requestTimeout),!r.aborted){var n=t&&t.code||0,o=t?t.message:null;a.onError({code:n,text:o},e,t?t.details:null)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,a,n,i){void 0===n&&(n=0);var o=new r.default,s=e.body.getReader();return function r(){return s.read().then((function(s){if(s.done)return o.dataLength&&i(t,a,o.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,c=l.length;return t.loaded+=c,c<n||o.dataLength?(o.push(l),o.dataLength>=n&&i(t,a,o.flush(),e)):i(t,a,l,e),r()})).catch((function(){return Promise.reject()}))}()},e}();function p(e,t){return new self.Request(e.url,t)}var v=function(e){var t,a;function n(t,a,n){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=a,i.details=n,i}return a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,c(t,a),n}(o(Error));const m=f},"./src/utils/imsc1-ttml-parser.ts":
/*!****************************************!*\
  !*** ./src/utils/imsc1-ttml-parser.ts ***!
  \****************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{IMSC1_CODEC:()=>d,parseIMSC1:()=>p});var n=a(/*! ./mp4-tools */"./src/utils/mp4-tools.ts"),i=a(/*! ./vttparser */"./src/utils/vttparser.ts"),r=a(/*! ./vttcue */"./src/utils/vttcue.ts"),o=a(/*! ../demux/id3 */"./src/demux/id3.ts"),s=a(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts"),l=a(/*! ./webvtt-parser */"./src/utils/webvtt-parser.ts");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}var d="stpp.ttml.im1t",u=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,h=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,f={left:"start",center:"center",right:"end",start:"start",end:"end"};function p(e,t,a,i,d){var u=(0,n.findBox)(new Uint8Array(e),["mdat"]);if(0!==u.length){var h=u.map((function(e){return(0,o.utf8ArrayToStr)(e)})),p=(0,s.toTimescaleFromScale)(t,1,a);try{h.forEach((function(e){return i(function(e,t){var a=(new DOMParser).parseFromString(e,"text/xml"),n=a.getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(i).reduce((function(e,t){return e[t]=n.getAttribute("ttp:"+t)||i[t],e}),{}),s="preserve"!==n.getAttribute("xml:space"),d=m(v(n,"styling","style")),u=m(v(n,"layout","region")),h=v(n,"body","[begin]");return[].map.call(h,(function(e){var a=g(e,s);if(!a||!e.hasAttribute("begin"))return null;var n=_(e.getAttribute("begin"),o),i=_(e.getAttribute("dur"),o),h=_(e.getAttribute("end"),o);if(null===n)throw b(e);if(null===h){if(null===i)throw b(e);h=n+i}var p=new r.default(n-t,h-t,a);p.id=(0,l.generateCueId)(p.startTime,p.endTime,p.text);var v=u[e.getAttribute("region")],m=d[e.getAttribute("style")];p.position=10,p.size=80;var x=function(e,t,a){var n="http://www.w3.org/ns/ttml#styling",i=null,r=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;return o&&a.hasOwnProperty(o)&&(i=a[o]),r.reduce((function(a,r){var o=y(t,n,r)||y(e,n,r)||y(i,n,r);return o&&(a[r]=o),a}),{})}(v,m,d),E=x.textAlign;if(E){var w=f[E];w&&(p.lineAlign=w),p.align=E}return c(p,x),p})).filter((function(e){return null!==e}))}(e,p))}))}catch(e){d(e)}}else d(new Error("Could not parse IMSC1 mdat"))}function v(e,t,a){var n=e.getElementsByTagName(t)[0];return n?[].slice.call(n.querySelectorAll(a)):[]}function m(e){return e.reduce((function(e,t){var a=t.getAttribute("xml:id");return a&&(e[a]=t),e}),{})}function g(e,t){return[].slice.call(e.childNodes).reduce((function(e,a,n){var i;return"br"===a.nodeName&&n?e+"\n":null!==(i=a.childNodes)&&void 0!==i&&i.length?g(a,t):t?e+a.textContent.trim().replace(/\s+/g," "):e+a.textContent}),"")}function y(e,t,a){return e&&e.hasAttributeNS(t,a)?e.getAttributeNS(t,a):null}function b(e){return new Error("Could not parse ttml timestamp "+e)}function _(e,t){if(!e)return null;var a=(0,i.parseTimeStamp)(e);return null===a&&(u.test(e)?a=function(e,t){var a=u.exec(e),n=(0|a[4])+(0|a[5])/t.subFrameRate;return 3600*(0|a[1])+60*(0|a[2])+(0|a[3])+n/t.frameRate}(e,t):h.test(e)&&(a=function(e,t){var a=h.exec(e),n=Number(a[1]);switch(a[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/t.frameRate;case"t":return n/t.tickRate}return n}(e,t))),a}},"./src/utils/logger.ts":
/*!*****************************!*\
  !*** ./src/utils/logger.ts ***!
  \*****************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{enableLogs:()=>s,logger:()=>l});var n=function(){},i={trace:n,debug:n,log:n,warn:n,info:n,error:n},r=i;function o(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):n}function s(e,t){if(self.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];a.forEach((function(t){r[t]=e[t]?e[t].bind(e):o(t)}))}(e,"debug","log","info","warn","error");try{r.log('Debug logs enabled for "'+t+'"')}catch(e){r=i}}else r=i}var l=i},"./src/utils/mediakeys-helper.ts":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.ts ***!
  \***************************************/(e,t,a)=>{"use strict";var n;a.r(t),a.d(t,{KeySystems:()=>n,requestMediaKeySystemAccess:()=>i}),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(n||(n={}));var i="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.ts ***!
  \*****************************************/(e,t,a)=>{"use strict";function n(){return self.MediaSource||self.WebKitMediaSource}a.r(t),a.d(t,{getMediaSource:()=>n})},"./src/utils/mp4-tools.ts":
/*!********************************!*\
  !*** ./src/utils/mp4-tools.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{RemuxerTrackIdConfig:()=>l,appendUint8Array:()=>E,bin2str:()=>c,computeRawDurationFromSamples:()=>b,discardEPB:()=>k,findBox:()=>p,getDuration:()=>y,getStartDTS:()=>g,offsetStartDTS:()=>_,parseEmsg:()=>L,parseInitSegment:()=>m,parseSEIMessageFromNALu:()=>S,parseSamples:()=>w,parseSegmentIndex:()=>v,readSint32:()=>h,readUint16:()=>d,readUint32:()=>u,segmentValidRange:()=>x,writeUint32:()=>f});var n=a(/*! ./typed-array */"./src/utils/typed-array.ts"),i=a(/*! ../loader/fragment */"./src/loader/fragment.ts"),r=a(/*! ../demux/id3 */"./src/demux/id3.ts"),o=Math.pow(2,32)-1,s=[].push,l={video:1,audio:2,id3:3,text:4};function c(e){return String.fromCharCode.apply(null,e)}function d(e,t){var a=e[t]<<8|e[t+1];return a<0?65536+a:a}function u(e,t){var a=h(e,t);return a<0?4294967296+a:a}function h(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function f(e,t,a){e[t]=a>>24,e[t+1]=a>>16&255,e[t+2]=a>>8&255,e[t+3]=255&a}function p(e,t){var a=[];if(!t.length)return a;for(var n=e.byteLength,i=0;i<n;){var r=u(e,i),o=r>1?i+r:n;if(c(e.subarray(i+4,i+8))===t[0])if(1===t.length)a.push(e.subarray(i+8,o));else{var l=p(e.subarray(i+8,o),t.slice(1));l.length&&s.apply(a,l)}i=o}return a}function v(e){var t=[],a=e[0],n=8,i=u(e,n);n+=4,n+=0===a?8:16,n+=2;var r=e.length+0,o=d(e,n);n+=2;for(var s=0;s<o;s++){var l=n,c=u(e,l);l+=4;var h=2147483647&c;if(1==(2147483648&c)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var f=u(e,l);l+=4,t.push({referenceSize:h,subsegmentDuration:f,info:{duration:f/i,start:r,end:r+h-1}}),r+=h,n=l+=4}return{earliestPresentationTime:0,timescale:i,version:a,referencesCount:o,references:t}}function m(e){for(var t=[],a=p(e,["moov","trak"]),n=0;n<a.length;n++){var r=a[n],o=p(r,["tkhd"])[0];if(o){var s=o[0],l=0===s?12:20,d=u(o,l),h=p(r,["mdia","mdhd"])[0];if(h){var f=u(h,l=0===(s=h[0])?12:20),v=p(r,["mdia","hdlr"])[0];if(v){var m=c(v.subarray(8,12)),g={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[m];if(g){var y=p(r,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=c(y.subarray(12,16))),t[d]={timescale:f,type:g},t[g]={timescale:f,id:d,codec:b}}}}}}return p(e,["moov","mvex","trex"]).forEach((function(e){var a=u(e,4),n=t[a];n&&(n.default={duration:u(e,12),flags:u(e,20)})})),t}function g(e,t){return p(t,["moof","traf"]).reduce((function(t,a){var n=p(a,["tfdt"])[0],i=n[0],r=p(a,["tfhd"]).reduce((function(t,a){var r=u(a,4),o=e[r];if(o){var s=u(n,4);1===i&&(s*=Math.pow(2,32),s+=u(n,8));var l=s/(o.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t}),null);return null!==r&&isFinite(r)&&(null===t||r<t)?r:t}),null)||0}function y(e,t){for(var a=0,n=0,r=0,o=p(e,["moof","traf"]),s=0;s<o.length;s++){var l=o[s],c=p(l,["tfhd"])[0],d=t[u(c,4)];if(d){var h=d.default,f=u(c,0)|(null==h?void 0:h.flags),m=null==h?void 0:h.duration;8&f&&(m=u(c,2&f?12:8));for(var g=d.timescale||9e4,y=p(l,["trun"]),_=0;_<y.length;_++)!(a=b(y[_]))&&m&&(a=m*u(y[_],4)),d.type===i.ElementaryStreamTypes.VIDEO?n+=a/g:d.type===i.ElementaryStreamTypes.AUDIO&&(r+=a/g)}}if(0===n&&0===r){for(var x=0,E=p(e,["sidx"]),w=0;w<E.length;w++){var T=v(E[w]);null!=T&&T.references&&(x+=T.references.reduce((function(e,t){return e+t.info.duration||0}),0))}return x}return n||r}function b(e){var t=u(e,0),a=8;1&t&&(a+=4),4&t&&(a+=4);for(var n=0,i=u(e,4),r=0;r<i;r++)256&t&&(n+=u(e,a),a+=4),512&t&&(a+=4),1024&t&&(a+=4),2048&t&&(a+=4);return n}function _(e,t,a){p(t,["moof","traf"]).forEach((function(t){p(t,["tfhd"]).forEach((function(n){var i=u(n,4),r=e[i];if(r){var s=r.timescale||9e4;p(t,["tfdt"]).forEach((function(e){var t=e[0],n=u(e,4);if(0===t)n-=a*s,f(e,4,n=Math.max(n,0));else{n*=Math.pow(2,32),n+=u(e,8),n-=a*s,n=Math.max(n,0);var i=Math.floor(n/(o+1)),r=Math.floor(n%(o+1));f(e,4,i),f(e,8,r)}}))}}))}))}function x(e){var t={valid:null,remainder:null},a=p(e,["moof"]);if(!a)return t;if(a.length<2)return t.remainder=e,t;var i=a[a.length-1];return t.valid=(0,n.sliceUint8)(e,0,i.byteOffset-8),t.remainder=(0,n.sliceUint8)(e,i.byteOffset-8),t}function E(e,t){var a=new Uint8Array(e.length+t.length);return a.set(e),a.set(t,e.length),a}function w(e,t){var a=[],n=t.samples,r=t.timescale,o=t.id,s=!1;return p(n,["moof"]).map((function(l){var c=l.byteOffset-8;p(l,["traf"]).map((function(l){var d=p(l,["tfdt"]).map((function(e){var t=e[0],a=u(e,4);return 1===t&&(a*=Math.pow(2,32),a+=u(e,8)),a/r}))[0];return void 0!==d&&(e=d),p(l,["tfhd"]).map((function(d){var f=u(d,4),v=16777215&u(d,0),m=0,g=0!=(16&v),y=0,b=0!=(32&v),_=8;f===o&&(0!=(1&v)&&(_+=8),0!=(2&v)&&(_+=4),0!=(8&v)&&(m=u(d,_),_+=4),g&&(y=u(d,_),_+=4),b&&(_+=4),"video"===t.type&&(s=function(e){if(!e)return!1;var t=e.indexOf("."),a=t<0?e:e.substring(0,t);return"hvc1"===a||"hev1"===a||"dvh1"===a||"dvhe"===a}(t.codec)),p(l,["trun"]).map((function(o){var l=o[0],d=16777215&u(o,0),f=0!=(1&d),p=0,v=0!=(4&d),g=0!=(256&d),b=0,_=0!=(512&d),x=0,E=0!=(1024&d),w=0!=(2048&d),k=0,L=u(o,4),A=8;f&&(p=u(o,A),A+=4),v&&(A+=4);for(var D=p+c,I=0;I<L;I++){if(g?(b=u(o,A),A+=4):b=m,_?(x=u(o,A),A+=4):x=y,E&&(A+=4),w&&(k=0===l?u(o,A):h(o,A),A+=4),t.type===i.ElementaryStreamTypes.VIDEO)for(var C=0;C<x;){var R=u(n,D);T(s,n[D+=4])&&S(n.subarray(D,D+R),s?2:1,e+k/r,a),D+=R,C+=R+4}e+=b/r}})))}))}))})),a}function T(e,t){if(e){var a=t>>1&63;return 39===a||40===a}return 6==(31&t)}function S(e,t,a,n){var i=k(e),o=0;o+=t;for(var s=0,l=0,c=!1,h=0;o<i.length;){s=0;do{if(o>=i.length)break;s+=h=i[o++]}while(255===h);l=0;do{if(o>=i.length)break;l+=h=i[o++]}while(255===h);var f=i.length-o;if(!c&&4===s&&o<i.length){if(c=!0,181===i[o++]){var p=d(i,o);if(o+=2,49===p){var v=u(i,o);if(o+=4,1195456820===v){var m=i[o++];if(3===m){var g=i[o++],y=64&g,b=y?2+3*(31&g):0,_=new Uint8Array(b);if(y){_[0]=g;for(var x=1;x<b;x++)_[x]=i[o++]}n.push({type:m,payloadType:s,pts:a,bytes:_})}}}}}else if(5===s&&l<f){if(c=!0,l>16){for(var E=[],w=0;w<16;w++){var T=i[o++].toString(16);E.push(1==T.length?"0"+T:T),3!==w&&5!==w&&7!==w&&9!==w||E.push("-")}for(var S=l-16,L=new Uint8Array(S),A=0;A<S;A++)L[A]=i[o++];n.push({payloadType:s,pts:a,uuid:E.join(""),userData:(0,r.utf8ArrayToStr)(L),userDataBytes:L})}}else if(l<f)o+=l;else if(l>f)break}}function k(e){for(var t=e.byteLength,a=[],n=1;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return e;var i=t-a.length,r=new Uint8Array(i),o=0;for(n=0;n<i;o++,n++)o===a[0]&&(o++,a.shift()),r[n]=e[o];return r}function L(e){var t=e[0],a="",n="",i=0,r=0,o=0,s=0,l=0,d=0;if(0===t){for(;"\0"!==c(e.subarray(d,d+1));)a+=c(e.subarray(d,d+1)),d+=1;for(a+=c(e.subarray(d,d+1)),d+=1;"\0"!==c(e.subarray(d,d+1));)n+=c(e.subarray(d,d+1)),d+=1;n+=c(e.subarray(d,d+1)),d+=1,i=u(e,12),r=u(e,16),s=u(e,20),l=u(e,24),d=28}else if(1===t){i=u(e,d+=4);var h=u(e,d+=4),f=u(e,d+=4);for(d+=4,o=Math.pow(2,32)*h+f,Number.isSafeInteger(o)||(o=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=u(e,d),l=u(e,d+=4),d+=4;"\0"!==c(e.subarray(d,d+1));)a+=c(e.subarray(d,d+1)),d+=1;for(a+=c(e.subarray(d,d+1)),d+=1;"\0"!==c(e.subarray(d,d+1));)n+=c(e.subarray(d,d+1)),d+=1;n+=c(e.subarray(d,d+1)),d+=1}return{schemeIdUri:a,value:n,timeScale:i,presentationTime:o,presentationTimeDelta:r,eventDuration:s,id:l,payload:e.subarray(d,e.byteLength)}}},"./src/utils/output-filter.ts":
/*!************************************!*\
  !*** ./src/utils/output-filter.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var n=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,a){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=a,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[],this.startTime=null},e}()},"./src/utils/texttrack-utils.ts":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.ts ***!
  \**************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{addCueToTrack:()=>r,clearCurrentCues:()=>o,getCuesInRange:()=>l,removeCuesInRange:()=>s,sendAddTrackEvent:()=>i});var n=a(/*! ./logger */"./src/utils/logger.ts");function i(e,t){var a;try{a=new Event("addtrack")}catch(e){(a=document.createEvent("Event")).initEvent("addtrack",!1,!1)}a.track=e,t.dispatchEvent(a)}function r(e,t){var a=e.mode;if("disabled"===a&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(a){n.logger.debug("[texttrack-utils]: "+a);var i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}"disabled"===a&&(e.mode=a)}function o(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var a=e.cues.length;a--;)e.removeCue(e.cues[a]);"disabled"===t&&(e.mode=t)}function s(e,t,a,n){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var r=l(e.cues,t,a),o=0;o<r.length;o++)n&&!n(r[o])||e.removeCue(r[o]);"disabled"===i&&(e.mode=i)}function l(e,t,a){var n=[],i=function(e,t){if(t<e[0].startTime)return 0;var a=e.length-1;if(t>e[a].endTime)return-1;for(var n=0,i=a;n<=i;){var r=Math.floor((i+n)/2);if(t<e[r].startTime)i=r-1;else{if(!(t>e[r].startTime&&n<a))return r;n=r+1}}return e[n].startTime-t<t-e[i].startTime?n:i}(e,t);if(i>-1)for(var r=i,o=e.length;r<o;r++){var s=e[r];if(s.startTime>=t&&s.endTime<=a)n.push(s);else if(s.startTime>a)return n}return n}},"./src/utils/time-ranges.ts":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.ts ***!
  \**********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n={toString:function(e){for(var t="",a=e.length,n=0;n<a;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":
/*!*******************************************!*\
  !*** ./src/utils/timescale-conversion.ts ***!
  \*******************************************/(e,t,a)=>{"use strict";function n(e,t,a,n){void 0===a&&(a=1),void 0===n&&(n=!1);var i=e*t*a;return n?Math.round(i):i}function i(e,t,a,i){return void 0===a&&(a=1),void 0===i&&(i=!1),n(e,t,1/a,i)}function r(e,t){return void 0===t&&(t=!1),n(e,1e3,1/9e4,t)}function o(e,t){return void 0===t&&(t=1),n(e,9e4,1/t)}a.r(t),a.d(t,{toMpegTsClockFromTimescale:()=>o,toMsFromMpegTsClock:()=>r,toTimescaleFromBase:()=>n,toTimescaleFromScale:()=>i})},"./src/utils/typed-array.ts":
/*!**********************************!*\
  !*** ./src/utils/typed-array.ts ***!
  \**********************************/(e,t,a)=>{"use strict";function n(e,t,a){return Uint8Array.prototype.slice?e.slice(t,a):new Uint8Array(Array.prototype.slice.call(e,t,a))}a.r(t),a.d(t,{sliceUint8:()=>n})},"./src/utils/vttcue.ts":
/*!*****************************!*\
  !*** ./src/utils/vttcue.ts ***!
  \*****************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});const n=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function a(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var a=t.toLowerCase();return!!~e.indexOf(a)&&a}function n(e){return a(t,e)}function i(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)e[o]=r[o]}return e}function r(t,r,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var c="",d=!1,u=t,h=r,f=o,p=null,v="",m=!0,g="auto",y="start",b=50,_="middle",x=50,E="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return v},set:function(t){var n=function(t){return a(e,t)}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");v=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return g},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return _},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return x},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");x=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return E},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),s.displayState=void 0}return r.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},r}()},"./src/utils/vttparser.ts":
/*!********************************!*\
  !*** ./src/utils/vttparser.ts ***!
  \********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{VTTParser:()=>h,fixLineBreaks:()=>u,parseTimeStamp:()=>r});var n=a(/*! ./vttcue */"./src/utils/vttcue.ts"),i=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function r(e){function t(e,t,a,n){return 3600*(0|e)+60*(0|t)+(0|a)+parseFloat(n||0)}var a=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return a?parseFloat(a[2])>59?t(a[2],a[3],0,a[4]):t(a[1],a[2],a[3],a[4]):null}var o=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,a){return a?this.has(e)?this.values[e]:t[a]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,a){for(var n=0;n<a.length;++n)if(t===a[n]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var a=parseFloat(t);if(a>=0&&a<=100)return this.set(e,a),!0}return!1},e}();function s(e,t,a,n){var i=n?e.split(n):[e];for(var r in i)if("string"==typeof i[r]){var o=i[r].split(a);2===o.length&&t(o[0],o[1])}}var l=new n.default(0,0,""),c="middle"===l.align?"middle":"center";function d(e,t,a){var n=e;function i(){var t=r(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function d(){e=e.replace(/^\s+/,"")}if(d(),t.startTime=i(),d(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.slice(3),d(),t.endTime=i(),d(),function(e,t){var n=new o;s(e,(function(e,t){var i;switch(e){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===t){n.set(e,a[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),n.integer(e,i[0]),n.percent(e,i[0])&&n.set("snapToLines",!1),n.alt(e,i[0],["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",c,"end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",c,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",c,"end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===l.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",c);var r=n.get("position","auto");"auto"===r&&50===l.position&&(r="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=r}(e,t)}function u(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var h=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function a(){var e=t.buffer,a=0;for(e=u(e);a<e.length&&"\r"!==e[a]&&"\n"!==e[a];)++a;var n=e.slice(0,a);return"\r"===e[a]&&++a,"\n"===e[a]&&++a,t.buffer=e.slice(a),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var r=(i=a()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:i=a(),t.state){case"HEADER":/:/.test(i)?s(i,(function(e,t){}),/:/):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new n.default(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{d(i,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==i.indexOf("--\x3e");if(!i||l&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID")}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.ts ***!
  \************************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{generateCueId:()=>u,parseWebVTT:()=>h});var n=a(/*! ./src/polyfills/number */"./src/polyfills/number.ts"),i=a(/*! ./vttparser */"./src/utils/vttparser.ts"),r=a(/*! ../demux/id3 */"./src/demux/id3.ts"),o=a(/*! ./timescale-conversion */"./src/utils/timescale-conversion.ts"),s=a(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.ts"),l=/\r\n|\n\r|\n|\r/g,c=function(e,t,a){return void 0===a&&(a=0),e.slice(a,a+t.length)===t},d=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return(t>>>0).toString()};function u(e,t,a){return d(e.toString())+d(t.toString())+d(a)}function h(e,t,a,d,h,f,p,v){var m,g=new i.VTTParser,y=(0,r.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(l,"\n").split("\n"),b=[],_=(0,o.toMpegTsClockFromTimescale)(t,a),x="00:00.000",E=0,w=0,T=!0;g.oncue=function(e){var t=d[h],a=d.ccOffset,n=(E-_)/9e4;null!=t&&t.new&&(void 0!==w?a=d.ccOffset=t.start:function(e,t,a){var n=e[t],i=e[n.prevCC];if(!i||!i.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;null!==(r=i)&&void 0!==r&&r.new;){var r;e.ccOffset+=n.start-i.start,n.new=!1,i=e[(n=i).prevCC]}e.presentationOffset=a}(d,h,n)),n&&(a=n-d.presentationOffset);var i=e.endTime-e.startTime,r=(0,s.normalizePts)(9e4*(e.startTime+a-w),9e4*f)/9e4;e.startTime=Math.max(r,0),e.endTime=Math.max(r+i,0);var o=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(o)),e.id||(e.id=u(e.startTime,e.endTime,o)),e.endTime>0&&b.push(e)},g.onparsingerror=function(e){m=e},g.onflush=function(){m?v(m):p(b)},y.forEach((function(e){if(T){if(c(e,"X-TIMESTAMP-MAP=")){T=!1,e.slice(16).split(",").forEach((function(e){c(e,"LOCAL:")?x=e.slice(6):c(e,"MPEGTS:")&&(E=parseInt(e.slice(7)))}));try{w=function(e){var t=parseInt(e.slice(-3)),a=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),r=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!((0,n.isFiniteNumber)(t)&&(0,n.isFiniteNumber)(a)&&(0,n.isFiniteNumber)(i)&&(0,n.isFiniteNumber)(r)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*a,(t+=6e4*i)+36e5*r}(x)/1e3}catch(e){m=e}return}""===e&&(T=!1)}g.parse(e+"\n")})),g.flush()}},"./src/utils/xhr-loader.ts":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.ts ***!
  \*********************************/(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(/*! ../utils/logger */"./src/utils/logger.ts"),i=a(/*! ../loader/load-stats */"./src/loader/load-stats.ts"),r=/^age:\s*[\d.]+\s*$/m;const o=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,a){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=a,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var a=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(a,t.url)}catch(e){a.open("GET",t.url,!0),i(a,t.url)}a.readyState||a.open("GET",t.url,!0);var r=this.context.headers;if(r)for(var o in r)a.setRequestHeader(o,r[o])}catch(e){return void this.callbacks.onError({code:a.status,text:e.message},t,a)}t.rangeEnd&&a.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),a.onreadystatechange=this.readystatechange.bind(this),a.onprogress=this.loadprogress.bind(this),a.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),a.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,a=this.stats;if(e&&t){var i=t.readyState,r=this.config;if(!a.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===a.loading.first&&(a.loading.first=Math.max(self.performance.now(),a.loading.start)),4===i){t.onreadystatechange=null,t.onprogress=null;var o=t.status,s="arraybuffer"===t.responseType;if(o>=200&&o<300&&(s&&t.response||null!==t.responseText)){var l,c;if(a.loading.end=Math.max(self.performance.now(),a.loading.first),c=s?(l=t.response).byteLength:(l=t.responseText).length,a.loaded=a.total=c,!this.callbacks)return;var d=this.callbacks.onProgress;if(d&&d(a,e,l,t),!this.callbacks)return;var u={url:t.responseURL,data:l};this.callbacks.onSuccess(u,a,e,t)}else a.retry>=r.maxRetry||o>=400&&o<499?(n.logger.error(o+" while loading "+e.url),this.callbacks.onError({code:o,text:t.statusText},e,t)):(n.logger.warn(o+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,r.maxRetryDelay),a.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout)}},t.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&r.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}()},"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/e=>{"use strict";var t=Object.prototype.hasOwnProperty,a="~";function n(){}function i(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function r(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,r||e,o),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(a?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=a?a+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o},s.prototype.listenerCount=function(e){var t=a?a+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,r,o){var s=a?a+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,r),!0;case 6:return d.fn.call(d.context,t,n,i,r,o),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,f=d.length;for(c=0;c<f;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,a){return r(this,e,t,a,!1)},s.prototype.once=function(e,t,a){return r(this,e,t,a,!0)},s.prototype.removeListener=function(e,t,n,i){var r=a?a+e:e;if(!this._events[r])return this;if(!t)return o(this,r),this;var s=this._events[r];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||o(this,r);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[r]=1===c.length?c[0]:c:o(this,r)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/function(e){var t,a,n,i,r;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,a=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,r={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=r.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=r.normalizePath(i.path),r.buildURLFromParts(i)}var o=r.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=r.normalizePath(o.path),r.buildURLFromParts(o)):t;var s=r.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=a.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var d=s.path,u=d.substring(0,d.lastIndexOf("/")+1)+o.path;c.path=r.normalizePath(u)}else c.path=s.path,o.params||(c.params=s.params,o.query||(c.query=s.query));return null===c.path&&(c.path=n.alwaysNormalize?r.normalizePath(o.path):o.path),r.buildURLFromParts(c)},parseURL:function(e){var a=t.exec(e);return a?{scheme:a[1]||"",netLoc:a[2]||"",path:a[3]||"",params:a[4]||"",query:a[5]||"",fragment:a[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=r}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=a("./src/hls.ts");return n=n.default})(),e.exports=t())},7356:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4226),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4226,(t=>{v=a(4226),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3257:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4692),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4692,(t=>{v=a(4692),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9533:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(336),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(336,(t=>{v=a(336),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4405:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2135),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2135,(t=>{v=a(2135),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},7637:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8721),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8721,(t=>{v=a(8721),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4432:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(735),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(735,(t=>{v=a(735),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9357:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2123),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2123,(t=>{v=a(2123),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},6177:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(5263),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(5263,(t=>{v=a(5263),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4480:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2386),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2386,(t=>{v=a(2386),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},7189:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(534),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(534,(t=>{v=a(534),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3479:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(7904),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(7904,(t=>{v=a(7904),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4976:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2748),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2748,(t=>{v=a(2748),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9789:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8909),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8909,(t=>{v=a(8909),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},6674:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8419),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8419,(t=>{v=a(8419),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3669:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2475),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2475,(t=>{v=a(2475),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8519:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(666),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(666,(t=>{v=a(666),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},1678:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1431),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1431,(t=>{v=a(1431),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9475:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(6266),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(6266,(t=>{v=a(6266),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},329:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3195),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3195,(t=>{v=a(3195),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4750:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(5537),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(5537,(t=>{v=a(5537),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8202:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3258),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3258,(t=>{v=a(3258),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2238:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4080),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4080,(t=>{v=a(4080),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},9851:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(8232),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(8232,(t=>{v=a(8232),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2534:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(6030),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(6030,(t=>{v=a(6030),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4070:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(7457),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(7457,(t=>{v=a(7457),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},6322:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(9969),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(9969,(t=>{v=a(9969),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3045:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3421),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3421,(t=>{v=a(3421),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},5566:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2802),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2802,(t=>{v=a(2802),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3064:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3993),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3993,(t=>{v=a(3993),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3072:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(9473),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(9473,(t=>{v=a(9473),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2863:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(6959),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(6959,(t=>{v=a(6959),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2555:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3476),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3476,(t=>{v=a(3476),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3273:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1202),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1202,(t=>{v=a(1202),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2431:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(668),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(668,(t=>{v=a(668),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4745:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1919),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1919,(t=>{v=a(1919),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4632:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1975),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1975,(t=>{v=a(1975),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},396:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(6293),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(6293,(t=>{v=a(6293),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},1278:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(2273),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(2273,(t=>{v=a(2273),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},6069:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3852),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3852,(t=>{v=a(3852),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3907:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(6786),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(6786,(t=>{v=a(6786),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},1868:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(632),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(632,(t=>{v=a(632),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},226:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(7539),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(7539,(t=>{v=a(7539),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8809:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(1043),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(1043,(t=>{v=a(1043),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},2896:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4924),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4924,(t=>{v=a(4924),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},8109:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(4894),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(4894,(t=>{v=a(4894),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},4401:(e,t,a)=>{"use strict";var n=a(3379),i=a.n(n),r=a(7795),o=a.n(r),s=a(569),l=a.n(s),c=a(3565),d=a.n(c),u=a(9216),h=a.n(u),f=a(4589),p=a.n(f),v=a(3129),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h();var g=i()(v.default,m);if(!v.default.locals||e.hot.invalidate){var y=!v.default.locals,b=y?v:v.default.locals;e.hot.accept(3129,(t=>{v=a(3129),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!a||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(a&&"default"===n||e[n]))return!1;return!0}(b,y?v:v.default.locals,y)?(b=y?v:v.default.locals,g(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));v.default&&v.default.locals&&v.default.locals},3379:e=>{"use strict";var t=[];function a(e){for(var a=-1,n=0;n<t.length;n++)if(t[n].identifier===e){a=n;break}return a}function n(e,n){for(var r={},o=[],s=0;s<e.length;s++){var l=e[s],c=n.base?l[0]+n.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var h=a(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=i(f,n);n.byIndex=s,t.splice(s,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function i(e,t){var a=t.domAPI(t);a.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,i){var r=n(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<r.length;o++){var s=a(r[o]);t[s].references--}for(var l=n(e,i),c=0;c<r.length;c++){var d=a(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=l}}},569:e=>{"use strict";var t={};e.exports=function(e,a){var n=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(a)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,a)=>{"use strict";e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var n="";a.supports&&(n+="@supports (".concat(a.supports,") {")),a.media&&(n+="@media ".concat(a.media," {"));var i=void 0!==a.layer;i&&(n+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),n+=a.css,i&&(n+="}"),a.media&&(n+="}"),a.supports&&(n+="}");var r=a.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},3744:(e,t)=>{"use strict";t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}},3797:e=>{"use strict";e.exports="data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAFukAA0AAAAA2FAAAFtLAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP0ZGVE0cGh4GYACCShEICoOISIKwbQuDaAABNgIkA4NuBCAFhQ4HlFUbo6lVB3K3AwikSpsioop260Yi7Bcn5Zb9/3HpONzCVwWcBHkkAjU5ULNoJXYhKXDI2VHF3hC06X6AelxLkLUkaXc9w26Zzsf5QRmPcugfZZXl7bfbGdg28ic5ee37pXv76i9JoKuquhGly1Z1twxCYhEGmUFJhENiL54bf8PzbfN9BTz4nCr/KyDI4Ykogvq/3oDghSfgWXndCZVYdthh2ko7rJZZrcy1+e04t1qtc6lb7tRWu1qJtdZhtqt2xf+uZT82c6QKtCXABbrAlsHV8cROjLre8yXPHJjvnZYab7YgBQqCQMuJQ0cAkiZwkA1cjr4KdFD7V/qd0QiCbyV2EGwHjgIsKPwSz9PO96sLhEsin41giKNBMoHuzWk/Y1vtezOynSykHwksK7C/4XaRfZGu0jWwDNfPfCsPziuhLzb6AEfWFUI5xEwOHojHpJ3z/LDrxAWvgzk16SvdscB22qF5BOTEhVGaEeeG/thf+xtwk41DRUgHQOnOzNQcn6ACGpBBiktTzfaV1r+ZzD+voAzuA6kEpHVpKDUemEz18/f3QQ7fbaCQofTvTa1Mu2l2OScH7siZ2dpiFecUnalcxplISfbw/m90//+7gUY3wAW7SQ7MzggEuFoAHJ5AgrNLEBgcAHIpkGNqeMbbJrCzBXIdhpzd483JGpcZYzM/pWhDmSBReEGoXOFJmcJAQahQUaggMs56dW8pAcu8FF01mrX85VmtHIZDqoA6+7q7a60yze2iq9DIJSB4zFSeefzyJ3P+D36ldnseLkCaQsQILwMSCWN1rXuZ+3r+Xlb3bBUFBGkJmUlmUuAWesC/SWv5QwjD+i6+BREhQ7/DlbQe+XvdPAEIlvWIPMu4evviH6DzibQRbsaOv4oB9LkuwK826fGHbpXuuxyvgQW42tQjQMwx8BbyEu8QYslnyNKYw7M9ImAPk6wOOx3N+xnZXRdv7ps+PEpfiN90WtCPGkUBXXb/tx64n8TpuO5rh7CH5BvazhucjHe4xFj3Y9zIkVWJSJ67tP27zMxGzI0c6KMBJu+YUpGJmVciUQhlrMtSXEqNMcE4PhBCTB2RyYS5rC5GD4gLESqY1Egu0kCqZEbAhDwRQ4gMcxGW7BhgFQzEFwXhVoGOfpIcTYD1D9mMDEOoP2TEsgrYdCubDDkoXyLTDyExyp2AizYFRgkpdIPDRMRAH5V4yPg3YiKCHwGghnNJofQ7TaYvpXVrsgnd5nl2xuXrBvgTIFtSlWyagyfuoHwrsNb+jvY1Pd3cci+5magontCePEZi3MtjHlUfI+5pyrvkXDwWg1T7wPGKEbTT5Jku3oer9ALU9CPtd5R6bJqrU1LnFrrQdgZkUS84CeuQpojxmmn9eHbG3Gp219Hu0Z/U9BfCzDMWMuY8LXSWRkYAf/MJ+MVwtOLJVBjU+bn+l0Vq9Od42CcSzJzY2f5rtrdpb6Swbf1KFYwAmXckZZSCQzVeWQNDSaMSPcJZuZMjcSWT6fHrSOm0rRFtyCTnY+UQvD/CKlY7rj9NNGer7K9xlp08/fTHtjaKsSgKIjq7jMwHrLxLqk5suTwaQzfwBp/sgMdH4Hyk6riiE0KfXnVNdrJcHrhQhsP61kxkr+i6uyNmb2ciroFjMmGDaAP0CzbaobLsyzFMS81NhOZm6JI96B1b5eRF4uBK+EM7GjjHZlaTQ0kVzMZ3VqU5AguAxHeAHOBAWncYm6aqgGmu1uaFyYbJhvdrmCBQoL6Nco0aicymLvIu7naYn1RPOA7Q8hQLnKk0eX7e3dxEx26d5P+DtDqDWe1ugEda4L2t6vrMct3M+QIU3GLew5TiqlLXP77AK/f+qYoe7kpn4HW6J4p+K5bLNZeb+KSkaLcbVIcgNm8n91f7kywUrJnPiNUccu3+OovSuhuZzQAZFHE6zLBRHkXKowtn1aoYE/JAD7N/N1PkCz2QRlUTwc4KwKpnZdEa4zbOOY66Y1VLBBPefM7RoRAOEjhnpXYnksZ5izev7sr0yDdFkAgDqHU2nJE8KNLn4phmX9ues+Rst4gZTGuQh8je80qI0Jp+CDqpL4PIbKPEVaCw1SQNJvRzEN/7XK88Gq0VtALIddxCkyLGxufSxCd55hMs3c+8xn+gFTsCOjJK1DaXDCP7KuZGcKHid0cNI6Xd4z4viairROwNG85L83FzjJdZatAKz6yzRCl7ubxvvKxIDItpFZ5ZYm92XbTdvK9aXsYvuG0NEsizPmwQEXC8ggiCL3ALS7mSOwB4yN09zEcWB2OHSowee8eBtTB6A8SbkxnkZyBZXY3lJWKwqOLnAssl4i7qsq2eXEJQGamrW105z+M0MuL9kmMRAALeOT51RzqY1tuyTUo13bKB6X7GJJQyz15w4k6vkLD7707tn5EVaWf4GLu82/9gGtE8R5RhGhKBFFWc1Bi/TMO9sQ9iGMnh6XRE3f1eVY4v3MtX+X4trt561US7SnnGCGtncnGYv5oug8Bsy+eqAkNbbQy+c/E6h98lMohQSmKgcXH/jMduCtESvX9gSZAGsMI1+gGUDublg35qJ9Sy+8h/4j09T5kKcrzstorIZRrEJTl1gjtUvjty+97L51PR/2FZs7juKWpXoA2p8Kwvo+Rw3/H7YDf0mTCmVr0n/iP38Rzly5W4fpevl+7FSwJK4F/PLyeS58DQWV0jJhGCTBK2YNaJOcC+DAC/46Z1DdO58t0RkM2s1FoTfwzou9gn9S6EzXGEY7v4YTMv+Lh4Y/9jV8+AGW+pPStz8Z6RQh55zE2nXNpJ82NpzGADsYLsWe0jXiZgafcLreXS57ttT+Yjr9125dpDRRx7z7pKCqpUCMs19FAJimyAZ6wY0pu+5HTwJthhZj7PezjaVjGVLiIgim5CIS9Gg0Sl0hCR6qN0ulXXyaAEvr/C7ZQISJFqlkjKCPiDkVfq3O74MZYuvTI+mCW/BZXG4zUlzdKycwEmYzXcF3o+i/Z91u2xdwXrN8Xx5yVaB1OiZmHHyZPS18/qllpU4uXoKULsL6AMEOl2Gq4qBmVhoTmNgMOclX2AUokaFsHB6F0g+CE9Rn2ut4vfahrdYCxisGFjOw2njOl+u4gmkfGiVG/nuppZYYynlKt1j7pQ1QmhTK+NnvAZAHJBcu0oA0amcndOcy4Nt6YiGEgOs6kYO7EMspSQ24WaFnr4TduFkt/9XSxoOyHGsRuK3Zpe9ngh0dJaZF0/BUzvO+/pBBls3kRZmsDm3sCgTBPRXpXWZz1pq0lAU6XlXVq8wvN/msvRdTCPMeHVteWqLYpZqKMwLzxfOPe+UDPOYqku0zzWS61DLLRQP2M4sCQu8j/VptQXVx4MjEA0XEHXfX19/neef/Wh0Awl04tY06JpW4uOYoo4HB0YieRR91hKhF5lMfqZN6q8sPyAr/uC7oqGERgbCw5kYO3haFoUsTzJNENzc+FhVD04zsmkGPhYI8VQmr1snO/pq6ohfX9rxhYdVR1gaqpeLU4NQusFaSBLceLCzwObtm76i9drAF2QaLPAkRw50GMfcJAR+LZlFBvkDlQo5fjdhHoWyCPIz3n8cRL8d2HhFC+YKHmWe4g49E4cqjS7S8tb1KSPktsIffaY5jkDdMDtZk3MjMHGtRvM3YsrIr7G5NQISB0uyehSaRLMDQtgVPT46BSlzULF72FfBvaRx9WA6IAsSuv/DiuDYZ8r7kMjmfdrUpGnbPnSQrPFhDh8EkkDDWZ655INGAxy+SbGg5yAHwNCTa26zdjSF3QTSDskTJJZ2KUG91W7DAtPBabVruUvC/rk8ckGMMKY7vtmOMGEtuXmxJuSudD9VejC0DJbEhgu4L4ucKpd9UadXvergmhg792Bt52QJiKTPQ81b5Owxq8lkG4zBq4FSacf+3EDlUtOASWVpJV/vq8J2hjFoJz3ciW/EMannFO9uBXYkfB+YjJ6a+q5lecZPXqNnnOa1adpKKceQf4ktQn0tlbnA2CIiBCSioxT9kqFeOBBDF2/cqxpEZmqyD98r1XE/q+WvtfBAaJIyI61B81bR60+D6o+aywZubc9Vv8I6XFzQ+oDKlWONW6Xs8sT9eqNaYQ4p7kIVAag1SzcbD0cSzxJrsZGwlyD5cxLkHjWy4kvyJp1qKYs1m9pyC0CQMQo15DQzJk3BiibKIDyQbDjWv9zgpaoCX27gpUD2ZfD04kS8yG8kTd/nG1hPdTJgDyA3FyeD0lDxHEMSno+R46X7kix3pJEtrkvRpmg1Q0bE4hJ3s05TeMtJEslTPgowZTDrsFSz4SyF3apX0RujsMKUOEcELVBNLri98rCnC+KXyGrsx9vkogKbQGHElY7PCZDUrRhW+I0AQ34Rp03jlmOXMvL8Gqt8l1NUpIaGUDtQh4iLErTX5OPqlUwUH9M8UEAGlF/XDlssLXYzz4OS44tSmjdkLUaIVeQtXlXEmwxrU2WaXnHyUgy2o6stBJflwx/UJK54+EoDe8xJgBMoQTxbz8v6svtESgc+kWVdZZgKHJS6xQjwhsECVc6Mf9uEbf+WIEWRQxLWlN6WcQpwkXOPwNUg9FbCFv9U45YqWjxDkN2jsZy25VRP1eR8RX1doPWpBL5yoBFJfZUEyOCE5bUo4/X7UvUcjG2MCdy+QWY6OUH5NzUKWXNS7gtQ6w9LMlSZDU70/Uy6Oo6UYpitUeDxK5lhm7lHLBma6sf5tIeXx06nPCn63wEQxuuzslHHqPD4oChktLfcSKtTxHKYcLiFBERX0PioGJ5R2RfE5CQY5SlSE0HqrNouS+9cD8wuUvxfTiiiungpgdKubIoQbmnqo+6rc0gNToYs1EHNtbRrG3+8yLTcXXRbo1V/jjxSj55BLnRuT/jtgX2Enqd3wwACsAdJdWS4xEppsYGEishB3SahwAZysARp54O3sow6C0wVMcHMYqIKSrdw7KaxC7A1HDiUmTfvrJUv01Xceq36octNUyrMbalBFbRZCbHr8vqMwWbCY8FzrUkUIyEBYKFFqeW3StlAHYaB2AJVqdOjf6oXJ+NTA4JkE1RCeuqoP696rbNecCbJ9OI3DaAItnveMKUcexbIAHCVqxaZ1fo1pJlbtdbZrjVXASL2tRpuoARjLwDgGyLpAjRKgBoeJAtwypjBt/p51tZFYKgmi/M47bTQQAzsULrvwlbOjGI5axjxurQgoXkfb2TKuODlIba8XywxO0WLxYQSpwGRaoTk7M0MmWc+ioU93pDrSNxTRq/eStBSrOkE3SpfbCuMZFYNknyieWEI/9M84iJMiwKrUekx99VjWOT3HA3qWHKJsbhUJyCo/2aVvPfB9xhLjJ6vEZBm+/Yy2bkUJnS9f1zPQEaEnRhXMmNvHlF5Btw67A8OOTEULq/4PBlrcrn9BgWGPzRJ+Fo1NglP75k4mBoUODRQ2lS3sGP9dHep252H6WxYfYAT2V7gGayPkASWZWwWI2rnYGrBbwYb1oUY6pUn/k+xJVG5FIjiBCPmbGJ6iWLohOXcSkFzgZg2jDdBgfLuznW4yMqf/ajw75iflZfMo0UmTCiCjUldOnvGpCSixJluEmyf7w3teiSTxQxjh53l27xXWNmxm7HiXr5PkWqT8/dHnnm7My98CVLE3X51ply7n7Kb/E1rgYALZNmaEV/zo2ZR7jbD/qxVQJITmyoqMsqU3QLRObNtnLYRpxxJC+QDYB0xyyhTv1XUfIhOiawHbIBie4xkxI1/iuXf3aJCs4f9Tv8TmAph8XdUBvqedZnCQIBo5mVFvV0qaGTjvKMGXd6afn29uPh2GOH4dPOysxZb9bcququsxaYSDUq4Rq6zXV9O2H0aDqMMd5Gelmylt6SRPPjUkZtTDC3S/bX14IP6x9owJomxRy+RYZzeYHjtOIogWGG6scLJwmERxFuWprZNTCH6RVWuS2UzAjhQquvr08v1U3NASJ3zNLeFNm7l1ZFu87KqrOWTqN1aR1JRkhRVMtqyk8BKEqFKrSrn9baobfeiDFek6/39ltDb75N4HVDn6osKMphV0l/2jFjmw/xU7X27e3sefl2DYALS1kv0cNeudhKEBmrn9lTTqqzMVJvRYMZCZjDLO20r7jNcnMCmr+QSUyxnkJUWWYpsllX1RbOqqr/55EydZSDloueBHZdOCzt2hxTD0lPNuC0OUZbUFVWtP7VgR506A0aR7e0jK486CwJFPP9mPCebXn1IXdpyEL1m3PnW6RmKk0ZlrMuB6Gka842QTqUSCibAlynh3oSoVA5dpOYNlNcQxefV7gva7N0dYbuT9MZdymLNSmePZ7ohmfhWmZ9Wd66bKuu1GWyUOW1gCBSmq63Xy60kjp1NEfhU38bk5v6LAUvcajD52btF6krgjUc1ojmca8oTltTseoXX0hNvqIjwj6GeDfhVfyPpgoGZagTU43yCXFxQn0U007MMEPvxWssRBdiAgbophBaAazYDSMTmbVPo2RPX0OvUVubGRVpjbGSOvZAyXzXt+f/75shch2A4IL/cebfvfd4g4j01iKHOQ7V0Mvn2O+kk4jXx7boVf3kgxierl99k1SBuENIp0xtGHB3YQTBE6EgVt74/xc8Y4nK7ZDoWkxIE9LOtu4Q+H5xbJn6cx0DlCsFcN9yZljbUDhFHJBX+iLPn0NW3gun06xF1R0DYUnOxBLmCG/IIyy84J+j1R3DMSvPkoYnz4XLWjUc9VEtyZDkFKE0q+Ieauu6cpc9gV68xzYR9mUPHhdEhDET+wswpEc/poBjWAXC8fi/E/ipAeS6NEmLZLyYZosx6WFC2nRk0x8V6LOZ4w9Koo9sLMkBXiqRrAAwK+btntSqYaGWNOHd5A3eWWPApacp4noK8yxevZGAu4vqbl1gjmyix4qtXMejEjbCApNzFGaMwdbwm7ODB9Mi7NsAA5npDO7dfZS7bfHrhon7NpqqW3ubnOtnFL+eIyFJX+oNa5RFR46FgGULN0ql2GkVu4cGR28EFKSdFR9qa/gCRNjScl9n5WMmNC+zeGG/6yvHO5SUjynHGcyJ00mAiGuHomFgVl/z6Fbs5JV1b+4TnXkRG2Kv3eoid6wADosUQrOdVGWO03QITsk4DEPJe2aHqlMwdFCbR8k2Ykc3ctOOYgnvQNnnAmUjVm/Pfr4r9eAYwAiICEXOFsE1lxb7eiviyGcAh3w+NCumxngTol36KEuiOYrQ0RX6nQDQcNSQktmCy848QSAQzRtr9rBIRHHDm5UeKkHe1LwFuZioBe3itkUaMkWx0gzqHFBHW6qopWbV+YIsYodsdkiRZEBRkF8oahBU03kMjAyEjGvVNQ5MJ7W7l9U0xJvMpriuCho+RQMH3C6v11DMtMrWIYJeqDBZF0UnGu2lZST6U2qqiUVH668RKWExRjJbiO6nMIeU5RED5Kwntj7GRLTS5GcYbsuJuA4DwgCt+W+k49C/LnZlZQKNfCXfvbKkkRkLQAPT2dljdfdZkVs/7j376sGOzYV9bSW9K7JnmjrCmbLx83smJHiPm7c3Ig7y8M5jBKELPD4rPNYYGB0he5qZqLHutgOJLOLbfBqeAIPopvMBxCdu8rTo12RTUZKbPl6IysxUg4c90IorduiGmMm2TV3uHOzWL43dRusYJ1xZ/Vyq6LC9KkFnI+dIUVTueleJKm8qcJyxIjA4HHDBm1aNCAQewdTDyQHtjDRLgFhRG0aSbQAEynIS0mg1M9to1f7GW5VUbdYdo6c35EQte3HCG0h9iujrv1/Y4Rg08JpLVmfWdjDSfegXGKSxINsasoca752c+BKj7B4S695sAq/OaBbsmDG6zdg94N4/se030kRvmsl3YDq2WsNip9C0JjJgDKyonEzMg3pUGErE5jn5kzuhjK/+nPEAn8YnkOvFjcEcYf1h6X+IWUItPnz0/6pJGObzXoiPipRvO46smoWd+lH67qX/A0f8dtcrnW5XWzV42NHjdbePXWWZeSwBNOsYDCNhs1ltB1x0xnEEJ5foceCQDgJLPJAARGJseWdDIZKou1EGUguTGLB9SWI1UdaIJ7XhlDEmoyoh7CCHfwsFnfgojaad9UmUxCbkcGaXVstrs6NLZSoz9yoX4xKkes2ibfUiU5KcQCx8a5DDPDdDJLF/klbc5dUtPQL8q4j3CG0ITqCmAjUbVp5bUsBBDFpbxqc4CasYYlbxuPU04j0jsCFWQJVkXfWs9rWnGcRR7hCewJzr5CkikJzO6AAwkO65plLMZZag1SVQkkE1H2wBVj7NaHqZiiCigigZauTHKbL3bxa+8D8DBIvDj4mHGgjQGlLolcHbilvkqjEhhvFyW82yNclBpCfnKcfH2c3KK2CXq3lVBWlb9fYkf+t6rPQXg/d56aQncclOMMaJ2JIEacbOzLTphBEWKGqt64a1WRHn5z3CtxsicxQ2La+n2r5SWOzumrPBP3QC0IiHidadU9O7mfGmVlOCWkwjzwWvPyQ6hzlm2juP+E88xrdxgOG8AoEEdbEdMLQFhnpe+D4RkTXQR8DgTkQEI/500KVda6yq53W9TCiR/MxN0+muRUuUoCzhgtAGbGUWObRUp8bMvP+y9OgQia1pZGIvEcsgTyuhWnkrp8QHUp3QGZ13hf72HzUiyR8bUTHgu11L4jdyijrZhC1eatUiG/CW01fgTEp5AvMVOIWbzTgM0ucHVLVCEmCR2ZyKpCbKCVthWViyySDqbBYVWXVZpVp+LJdlZ5mKsLh9qJE+0tyKxZwgzus+XlHqHWncAr/rpxbLO/d5m4qLrH+aihUnDT00tx67XDw3FbYaYruZyNkgVoFU5wlMwVHkyO+Fm0iTE1Brg8mTbEkm0hyuqCJQaGOqemF0ThYXxckF8CLvEuGxAhU3+jEVpkx+zDSDcphnaEAqyaXrRapA1p6JGKR8sRwVM4yj1QTE/WIGSOXygAy9ZHYAp9Joz5rq9Piz64TSpIwtwVB/nJGifT4CqaAIeufeH9d3xvWtoqmAPaZqylvtt83xqAqtkTKmlEptwBPZ0+oFRN4tjybs1c+Bvq4olbuyqzXa793o5Eqhd0G0KIGdgfKmI8w9lCEN2nmoups2w5zrlFSUZZcDcwnvbIdjQIYVJhuCO1YaWpsTsTM2U6TgBx5GGQg1qJU3T9ycZZrZHXQ+QSEw4zHuQjve46QD2oXJsTHkXaYwpfOaGf6wJmseY2zbAmvxl72p6IvaPQNuR/xYNIDREeGCxwZHuLZpOo97IDBI6PPj2GOn60WavnzjnE5Lu7GgE1zuvAglA0nflc/qNiuvynUZycu/jPFNLtt6sLJyMqHJzcvKdJD7t3pWtLbEeV2kiM0icWb8GM0JzywNblynP2s/3wYJ6KVGuVaIvRyqmWAbvFi5xs40OETabnqkNtDjNYWToATBLIn35vN/t3VV5GqML7O1ug6tu1vqvSYfz9S2n0n6OnkXx1xAtzxqKCCiT/DMP9oL7/7yp4YtpmkTs+aWCR4nGu/HqZ8USIgizL40ksHAhjRdiAYPGo7z2L2d8AEcSa7twVGQhKBQ5Y5/3M2Git4ju4osXisHUEKtgm/T+0eul8jKjSY4jk+uqoAg89kwcnMWVqKxn5qgtmEUUVptfSe9G+MuQpMTiVq0xgKmPVFdxJsd4sMnJn9REbTN5hOmlSYVKaa4qwugLSPpJmwE322Etg2SyG9U1148ND5BBeTSOH9pkLU46XCM6V6dVThS57JUyQVy5Ur/g6dvH0vK9dzkqujjbaI2iGfx6hkJcffTqz5oRGG6zL2nEZLPFIjdggxqPFZwMZtj5hNVK131W+lxQNptaKScDoluuRVJy2UrZVY0qJQLyeHpSbMyrP/082McSw1q7QmakWuRwILWbk5jfk7LorePm2IWipCWwsHaNDSzihS+cVGvJeYy924oa68PKw2JqQYd4M3rPqkU7+CrZmFVuC5JMdo2LQrSpyqBIB49hSu5OAyCnGNYyU4zcbNSuj64TYDNt5lPcG1l8E3qItg4XjpH+mymtfjTpshnB+wzVtGveqUjrzXCnVmixABqwEJLbbUtA6Oz5ylIQBQsKuQC4ZZWLaczaUJhEUsQP44NcsQLjJftOIAp4f9X43yLyJyKE2PlaJYLdS/aHtdp59s85GYgLqvof91xS67XFXKrRShywtfbel0wOJFX0EXrrwks1DeDqnVh2Z9aKEfMWA1bQ/iVqWCcomLV8hR4qlxbQ5PpWqumzCg3R9g8QSX0ELZjnPPIOtcq0KJyb4R3VYW1UCcGY59NIKax8eHlIuVMaOmRV6AB6EOMxs8QJTr00NMnQQNvRbELpzQG2Sqau5IwXQp1nEaKBS05LAE0bhIQJsMDEhAkGi8ZwWwU+vBzYb5yStK0q41NR4Kn2rsQnRgPf9e8rvt6i9CObbEikxNvzlpate8SOzX/LKjuVUlvpSDPrlGUTlOg1WcjePxAi6Lbd+hCy82pfQjQDxVFEabXbBRq//obV+QoXSQ65k/1vS9KXOJ+d/TPOFcEHDn1XlLAsolHN/s/5KeCO0enB+aV5eDwiXxP7+lR0F1Jw6cicmalDp24wWPFBJYKrHL4WkgTduf6IzDChQuQvWy9+0DDVrgX1BtkdN07eUoc780YDIiXvBFbCt8xSauBKBllSGc7tCu9/Ai0Ity/dK2VuiLs8rk0PEcXLUsNHvw126f7eH12iDJdVeyvfIDh+PfQj4RDsLU09x3SwgUDLK1hFE+xwLKDKzqGusA72GQOiOZYcArYk2Oqp1XYmLJ4OTtcB1380TwSqKksB7bSlMjG73dkiC9YkcngXVN+/+P5xm1HqRxgF7PJfF1iarVSIaQLRXqsjuRaSOTg7yP40jnJ/LlCQWvCg/rypz/HaVx8159mvadpjfVprW3rr/+CoCAtabD8wPfVqiDtvXpzdng0WfSTskgAH1zmLau8djvSc9eqNvIjkLAU3xJY0VfGpP5ii6Esi6IkQql7jMX7pdc44UNqmmIq3dBvgYjYW6qwoTqRRAy+qbSsB9r7SJ17v6CAV8PQpXTNKniLEEIBGfzdGhk9XUf3DUj7NMOlByswoUahg2szv1XTtbxWiHURbdnEfMxFrWx+uhbGpZ3Ph3zE+jWTd49yJOzxUfKJwYXgVGPkTdgALOphiJIXoT0sauRUiGAZN0rETf1+2zvxM5KLkpc8pLDiBYc+FrFins2Ij4rP/LbMPW0MVUOXt7U5UNZ8sx5nJIxTqYDW9eR4xTvZbk4/9Dc4H4Ax3sRq1mNvARv2YVosQq8ssGwBmBKa64lGMRusPdwpD9gWlxwOydxEy2j5pAkP21nU06gHCAyEsRD8EpnSnsDKCJWbvBhZng1lGU4WkQwR7TACoVbmcWVGtdCqyCyqhKeLdRIx4QXNakPenFQDQVpMGx7KM74I/Q+LRJF6AvUYM0cPtCtMkUM5/EcKObjCmQWFFMrwYnd0bg4vZtmXCM86r9DOLcBd7FvmP6Un0L0sd1Tu0lkFpkEe0rqB8+YFKsPkPk3Too1HA3wVnZz64NS+h5MY0+Nt+BSRnflbYfeloCNgViG92a8/0CCSfl9D/0gxW2rW6WcC097KfmCwf7MEGZJbKXlJ5lHKaHDYG0QDaIip+ao8uozNnCWgDAlfQBQMCPcN9PIIAb4rGipCDGk88n3UF9EH2REsGulOYosMDObQa5Mwgc0b/qMaqhcu61AeVk4REDznd7jM0bJdfwhYrCY6vlFCup5RoMgq00H7DTBh1tGmuVxzo49dZW4sLpbLuGp/LBJTprQ3KH+pfz7XyitA8GCYPj3bvlQ9D01DNOdvo2rY03A3k+KlgjM+ePRsjnDA/smMKzXFhfvGDoiMHYXq1Bfe/oQFRztJzruywsS1otUhySelmlWJ1FmFPqI6jpEKTtaGGPPCWmNpSFTwhnl3TsOfCWvZNwHOb1pp2hlUNcKHUta3gcPtHBFh7tldCDTE1+o/FVjx8RqohhgVl7mqJj271q5tt7OSzH6F3UuHRtjAEaOfrBwXuVeOFZh6G7m8puZFeFq7h+zT+3bxLIN41Pzc3GfQofH44qV+zK1f+XypMxIaHcnHkoxPZNfvTZPehNUvV8aXMuh1qngezJObSjd4s8qEt90WN3KmcWr6DokJ7Ll39jcmDLtTnoIpbqCGaf48eGMgQQmMmiuglIOKqoW01S6LKDEokgJKESFeIpTkTz5s2LjBZtifPAefWGsKtjJTgleZXn6lBPQR1lYWOtQjcqICMOYcQURe7LrKf6dRsaVrPO7sozKSbpg/ili244HWnXw9wD22r96nMd7JP9Q1wvK1jv5Oh52cPb+6YmT3ahfP7lcZOkNLVIEOcY7CgROufN2XE2iCxxmJACue0TbnRBtAnF7hnRCTqTor0t/tirYzAwIjnpNjN/r2aTiNpyi0c9qQRzkygMZbvFmWEprxrGtfJfkBFffL/wCGm1K1z101syhspTd6sVPmnxCzRMQP5WZS7ImNfXCCykAZ1AnteN88Ol/ue5bYCIECdJkHxipHR+E+g6n/USPs8/xmZmV9fE1sbE18/WsLFDKUzV/PtwZ/bzvdbTRNinvEt6I3djEWXTKZbCkALukOm0yX+i7Kt4YmjaNM4I4tpJ34U1HRUVGHcZPVLWrbTFR5as6/efJFJSBb5tstfHcRKAnNlucNLwxIobsNy6VGL1oUVapqbAZXWqIWqUobQXPLlX+xBtAC053Ghb1rxCfgnqO8Wj9h8DzqQBkoSPA6kw2Ct/YkdiXuMhXLcxPgTifYillhgDJgq1VY4MsxWuATj2LTLrCruiixJcLmFlUD++A4DBwsx8c+pb5bQP0UjFMdyIt88T/3ptpHmkoji1SqosjSuxY8ZCib352feSOWHV++wn+niw75iA4c+v3tGOEeLXohKBVduB+7Kry6MMstik3Kuy68HnVIiM/eLeA9zaI9/aU548uDbtkSfdVGXKeWJIlVybURX5rJIp9DIl8q3Hd7KeoTnoeO6kTj8hxVqOOLbf2VP3TrgOJ6gFpzK7+9ero32w9pHfneXmyR7WFXMCxrMlvHsnvkGVmCqGcwPS06FJwSPJQy5JPicyhQma9Q5FcrjNxXbVRo1QTA6xUGAHBgAGGieDULASjkAmQGQwMyE+0odI2Mhhso+eMNhM56qd29t/Fe2IE64N5ySm5EjkKRE5FLKd+HCAU00IHuGZdTCLKrMlEQvvAGxNIjMIApyU3ywkLZ2+FCXEo5kuN/tujHBVnyTFloZmj2BQYrZCibfzRPl9oFCXaTiE+It4fZQG7zNtmMBUe7xOzo6KIFpHsPcEwb1P5/LpKq90qTpUl/HNreSfsjwgxTTL3oTxrJxBI6zBCa9VFolt8B+BUADQgD2gedvyd2IGYgds+E+JCPzntIN+St8zm0s8ISZtoObbBuwEpN2KgRC2Ympl4XBS/5cGGMhAIsa5pU9vu7iYcCFEcAakcBgi84YWgBHnMp7RIswhTW4/WIL39KgMtlhlutBMBvK69gGBnSUoZ+voRpZkoXVt5WwVQosOvkhtBQwwICJLRgfndqxlCALlsUm1AXF1eXEBFUkN1Y1uUmeZjYJlGE0y7SWyC83SZZk27BvODpfNTtFuuWGxriWk24hvDQNj6Eib1msxUGCICtVOFWW+weAIKEqZhzU6EvAmDtyR5vb5v0QmxPnrjADIQBu0TNJkzU1nN7AlfGEbgzBYyVjEmhb1TO7K8ZZ+68x7ePC50C4WK6+5MgaR/i9ZMXjPIHn5Gwx2bWvv3VrOrcvOyicNOPBCBq9rdX7bzcbDb1iC//Su2ure1GANLzE6c08oXwQjiyJmWU6hMhqBvnpx4EAEVZaEeyr5Qmdd6v2Cn5SJ97sqFhWWy3MLMacozTl9/xSPQJTo56i1xHQdEkryBfEUKSjiC9NFOURpWcJbzxVqXqL44XyuH8pVqy4oZBGJkcqaGbOL3u6qOEZqmWpl2av/eSvw12oPMw5ycb6kBtNW1ysX/yguAG84OBWsE8qSFA3zzqOA8fEGOEhWjFLNmnrLdVYjwrz4JZESbKQ5mIdSDz3sIybh1PoBAyfvK2IgAdRyAwVokww4wE3A0VdgPUb389rp04rSwe1nzr/GM5/Fg4QLiHZQBdQ8cUNEydxxTAiHGDrY9Deah+63lqKB7rn9YxAQl1bG/rgftPnvfcPQZqPJ971kCsi/gA232Ov7W7BJVo3vdZr5/cvaXRHlWKXv9Uyxqo+gcF0UlB1c8FgNDxCN4IJiSZR9ftQI/FOmEdxyYQCGkIoFhyoX9aYQdsRYHanYNKkCReUlg2L5sfA7KIA+kXA+PLsFBDVmipBT8eBjMexgT2hC1sF9w7jNZUaXhxEYB6Pp0++l/gf24n39kHVzy5KADgPICATQmHuz/3khjvPF/iywzb83OyrahaAI1ZcISFzCLHs5rZwcDW9jihIZyQRDEw0sQsHUtsXEB29DVT+hYEpgVlFvLMmSLM1WvMzCtsoQf9v0fMFF/YARy0yad+hyUKHCh6uFc6fdB123TkWw/TjoMWcDzt4VuR09tcD05L9z4sOgAKqzI1yxB0aYbmMxtfiiLLyrFKrEYg9dFJn+Zdz8UKAjMGkfGYPtHZHO7Usde5j93Dxo3GMit7DYMZcImU/MpZnmU3QFndDcAMcMTeJQnTGTcWbDT6bpKu3g2Xxy9HxJeFLly+MNSXznRSGTAOM5D/nwHnonfVFF0rMmWYi04WVfe3tSO2Hhs6j7TbuhH9cpgBgyapJ4AZ9S92VhddTTPHQvGpInNrYzfSbXsZnkelBwIU1x+mXPjN/JtLY59+hoLFcxw7ZUchxIxAqD1/lmXcOtvE93CKFo1E7R+fkAsO6HZX5ZCjPf9Whj0f3QpQOx2fxUcwiyp9DIsdw2bGLSizy5jhOpAfUauo71rPAa9iQAxaCEuvBT5x/m2ZgbItfNGZfHP4gnOktd1bktqSfxsUmA5/7O7OCO8QC3wiilZkrrjuneQd1slnh3uHe2HeW7yjvcK8wzRjBE44RnBebLOPq/FM+6YHA8UNPY73efwT2UAzpa/9kea8Jt6Fp7KZP6/53GxT8Vzi1zjTflybbmqgRf7j0Yfj0TPY51NV1zi7f8HXKOJ5VJ0x9PQnQs7icwKjjsqLV6zBf9nNuVY1ZcOsGMDmqfPwKBUggDoKzztC+8YNyHHYDIb1YZ4egDEYZ/59QHDgV8Gv7wje+XucLq/8dR+/Xg8MXupOc//T/T/vOFPw1CHKamyNaytnUznrbHgl+FPoLoyccv+fmiNHLYfce8LOxktYZHkAA5jkEUkEPnEnMILHvPKl35dXLEw+R7iwe9cZhFl8hIXwLSnAXLr38K+exUICYSHvzVta8URSODTLS/w5v23ptJaW2sGdlHDPZKJclr0QlTiBF0xUTSQG5jWfZFYxTzZHVSXPct8D/f7Lpzc2xisUVk4sCwBLhbF1nbVYSadeIYIZMK+GkHgPfYxq6qEVm7bt3GUq1q2AbaKo+k+yJm7HYhOwTAMesGCW0UNEX9TJUYu1I6HzuhfT6Ja3a3qazd2Tni0pO4QPYD0/pNW1J6/JbhQgPeDxLNWBOKgtsANu2Rbn2z5kt7Cbo1pkGGGjsp4Oiups6RxIHKlT5iDKC4yaa5mLPvgcUZjDID99Mjjrv6qTbuTPHol02bfTeDhlF+/9IRXlm40VADt1LojbpMg3bSrJ9V+XIsxa0PSv0C5PIv4noNRn0Xlk/qo4/cenJsMXSaGrZrTf5K82qu8rs+jG+1qblmGqqbGhPUDoTF9ZH1mjii2KL71rwUOG8h6s1K7xW7xd3o914REdidKW2CbsWIexigr/hzhsbdkn0U2NKsbccFY30r15y+bYUGD5Nm/pHkbbt2D2WLYtD/eEgEHDYnFpJb6iuVReJFMaIrPOW/CQoQx+P3/elVbF52Oxl4A2f81Vh45enPHkuO/xJ75OjKBjpe+A4ABBmxx0HAWYkeLeOqH+VYKZ8MoCyHHSKylOiut5s1D5lSbUrqQprHr1NdUXWlizZX2b17IzpDVRSWTOohkYwKCOfYEA1Fk7DEzcI4dyw3R0573NWwwGlTfqO+aJ1D6Akqy4t6hHOP5YbOZ/fuqfz4+f7b+9I2JXcI905eIf4Xd+fPIqqqlVxmqNXVpq3RiypLxNWh68OImd5AS6PebueXT/cUMoX14uXVYuX+FpY+gXvWUuXbE8vfID4KA0FKsKlcpCVfG0qlhZWKgsVk0Hzrw+EdbM2LTFaumeyBZlHY23YGQgAYGiUzZhZEajRcMNlNyzmpOycPE6TTppG7bNQYQCGo84QW5vY5HLGDZGgQLFBt8J4wgTJVAm0jvJNsMOeLYNAbvL+H3EVFETqXMrJ8GbUI/SCKhN2/RmY/l5gUtGaCJaPt2PFszANpzrbmRwaX70/POtHsH6RNKhISXgBhdw00TOcBRx5a4JXzxRhM9tE1dhjqFyCTUtIPYAlkF1RVFX3N0bvhnPpLcax0t8u5cQg+hzvtMAR0HeyljAA7FrBw98FB423md/ACrRVxMhTpbMXJXPA3MZjd3nNmCM4FihSKlmSUVAcYPebJ2cR/Hm66cxD9P8z2RBJgAxxa7Kf/6p6aQoFy+OIEFk8T7l9ojCGD+q6NeP/TpTuDiBY1g33nsqhUcwQsLSsyTOUYDN3G4XG7x1oeIqwRvnYYtQX7vwBmQeYC+7l7TD0Uzgb/BRp3ritvoTFB87bkNt7d0oYy+w9SBDru2DBLhLAGSFi7yagdi62+cDbIy+j47dp1MQ2E+PIvajNbH7Yridh8rj4Msm5xgxXppaqYQnKONH4JEmsPv4Rscf+owFjmDLuSi2VifXxkdLorVxYSla0bnoxVj5oKzAoEBChBKhjBNhNgyGlI/1osSC3rO6zb2bUBsXX9dhwYdWWu1AOPM7jeaipEc8OYL6RtuNByup1gFr2Z08I0sI2pPimn4cGx+xzOKzJssEMeG83oSOfTioBR9hkwljYg2NYRkfiSAerVGB60IatN3vOWW6r/wIPfntJu+GnsmiNFgEpxXFb2WD96aBG1/IvjgcpN8dgMW1v184wsPwZxKm6EpTnmpta4fr1xxoMQreJXhNSeKcQ23lGZ2DqywEQTlg63UA3DcfkwalgDsE2XkAwgAgn6Jk0vqgM4DMIBc+BFzsJ5/39Dvxo1ERqvJmo9H8gQvTQXAd7jLBngSBMDidQDwD6w+gjtT8NzN9g0yUlc0K9m1GwQUE0HJnhOUHD8y8nYcgAKlwJhozRc+2Ej82GmV7Q3YdLxwpuwqg8zYTXgl039jrIWjdR1havOJXk8i3JD2SS2TSNmpS3CO5SLZIl55PYaREFMobhExR2tttqK2q6uBBhFhC1bRnZ3fbDKyLWYGZyw39XScnHxCckoWQyIIDyS9hmkdlpQcNBuenh4M/LnZTbE/1uPB4lW9P7Y9YrvXE3sSevnv3YvgkmJRcRL0Z8wBFdWyPcLLzy/Jp9gC47zYz87xvuyO5fIDj6fB+fE8uv/fY2+HJGShPdmzvex7Si4GlCannSXQ5TpmZTjl6Cbc+pElrePU6iQINAxjCDTT++w8xV6K/m/K7/jEcA5KekY5keaVTBqTncqWU9Lsfm5iALGkM4xTbskC5sFVsWRS+0PLPDl/1ZVZ0hqgmdLzWMPqyRiLy4VkqAJbBF/B0A5wX28srS9aNLfNc1oXJbEl5XDlQ3f/A6ygOq8Bcxi2wdXUN8Ae6uwdNkrb4Oq9yF8ay+Zp5tL1rwz66EQbaDRzT5ixfjfdJyrq/zAIaw/xox6srZSLb93j2wPvKqx2PzAyawPzXOsrJP/DolKaZMik/1CFm6Vk6LAGDNHYPa/8+MzPvPArQC6yeuyf9wo6Jx9p+Ys85wur2RWEE6OcfEPutOCCmiY0ORi5dutcso5rPR8d/rA/gDT4x6e84b31v49kmiFL/LNS5kHiAiHWur1N9MwXDFnxPr9/vLb7kCnk4tUwJDcm43jddsAMAIH8qGIRTLU4eEG0czprOyfRJRj5SHcAKlJLKtvovtJ+9SvPZRnb16jPtF/VtlRJlAXZA9VEykumT3SspM6sUKKLbhrsjbSmguHY7XW7NurVgnLXrauBiOjfBxjJfwyjJhl2PKsUWm+ZWOCyY/QdAYmlVQss66B4DHlX0D59UHYeW7RmpBrwl+vK8P5GOBYeWvhe7+sajkLAzb1/83PnR/36e+8NsE47ws6Gd3lXbSxbk5/ObzVLfzLSmgxt4ZRObPwzhaBP1tCK+OjQtfHFwSp7hraS9mzqK2mylw2DsDaXdxehic6F6u/RQ4ig9LrILqPkFmqKNcv71OSBwwo7ZQcQ2wb1zPSgL7Zlz2FAbC5s5ptdd3ogy/idEtHCuImVR6cCZ4beXToUEnt66OPawcGlAtg7a7/dgJoBnSirG07DU+rDkes8qVm6q9jMpd3Nj+wrI89Qrfv4ovfHonGXHeP36xDc/rc1pXjae2D3kTX0jqZMlkSrN/29pQD+79SEtidPY0lFHccC0tYNKc2lR2ep0UW0zlhIpOvaVh69BT1s4RdpM3vrSV5ycBT5780HwzWHXid0nk53TUT305tWV/b8m/vPhBxd2pnt1/vZxilPcyt134hJ+AZVtRp+kDKcUdn1kadxrt2sfZHpkshu33V/gtUeXafj1n1PfOkBkPr1ILZTbevxE4vy8nUxYYQbnP2+ydRR2IF9s3yw2ghGb6OU5XHjUqr50K+X9TzKgqqS7/hpQ9cZfYBq111q6iYcpYf4VbwJ+dRvHmFtKGkuOrs51z31HmpWadcQw9hEY24KP0U+MXdKP3QCBV6ICk9QB5UOpzhZNYJAacbExgNeH1V1/BV/bl0mv1kA1l+oPBky+337ndGoJDaRCOLCoiyKxAo3H1MOK6m+YL06nNC+4veQ+d//ylIbNuhs/7zscUOgV4H5KihUXR1Xs+SWXmxuX/YBZZVtef7aWFd2uXOafa6pcVgkDlIE60PkyBjyPzKPzyPzqc/7VEe3RYpXODQYwffPyelsV80FcNjcXBD7lzMNkTyCqMlVKE6iMw/5A1/TGh1sfplb3L+7vbdtWtg3D0hyvJgfoMjvoKWcvBKodEP9UAabS9N23b6veyATbPsQ+eEcgm1M9fLg7PU0yXDNs3lmvYmAMF95pXjeS7RPF39DvPJ8Lmgz4sYbnJBxaSDIOCZ14NT8GTAaBACU9qkSlKomKTSgLAKnsJYuEGmFKFgTBDOoSKqBSoEw/rTB5ycJUFghMWBQbFVlSrDqWTP/6rdSIwKLsBQFt77lUN7h/7kZmRLeWZV0G/cocRWhIRoYMqKfwtxepo+riICdovROUKU4WLM/TP4UOMlAG/LpPMe6fLJUmG6RJyf5c79JseaZMlinPXoAb/NWL/jznG8gZUGdm1q2JL1ihD1dwPbYnkrOxolqwEUeglgGPikLyA5Kk0qQsC3Mo67FtXVRJpKq4SVVSompKKYBW3DzcwKHTWSbPck2UmmInFVYBZ1inFPrNyc/NJWPC7ZWbaCfDNhybngV1c/Mj+avSO8MffN0zvtzzwctFFJuVrUNXox2pfTWBskFnD6dNEDuwLcA1LEzRgonyUYD2oQAdSegZcef5YOFcES0aqhNF/8zyNaGFzGR5PvUGkhfY3OZ/odfSZwH3Bjddjr68KXa7IVEpPhYTc0ysNCRuL0QBMqplk4ENh0YRq+3Qli+ywpuwEsBOW9i0cF/GmGMvUUh3nkftFituJYyEiej9OQyzj9rHiA4zXN7lTYc2XXZw76uCHg/lX1tqg3jV0yTpux8+VM3JBO+swlZvE8jeqG7f3n1p9b168QEWkLQPr5EGci46Y7n1tADL+XZOd3XE/8H/u0Q354Hl8KvuloaL27Bt3GfGZz7hvGfPg5+TyXCfbXH9ugSUnbdFTlIS1eDppRf92nYWRLhHgNfvC2fBQhpZ6iRiPT966XmyI/DF8OzwC0UvAACARQdfvbUbBaifgEznKG0MvTTIOThNEp5kS+HQvTzi1UEfC/z/kqoDKJRuCILAyAuEheDo2lGmJ8KC3hHYAfOp89r7bCofZsC9Y9CLGvR2rwUti1kBvSvwczCJ5OQkNro/otCQ8wiNInDK4jTOEzjOn1ex7vHLa0Gub9i0kMwq5zSyAQAA2hbC0G7IjvA7z/8QAqyIxJ0aSNabCZZ4kIXTYQmnDr3mvNTpINlv3i5OrjgUXfRoUmS98Gml361HhQsCKBBEcvL+TdWbGJSz1otouMEQTP9OhOXImXc4LvxrcfLiv4RYuDynQZo2vnTp8DAue58LsMrK+fB5xnuzAPwRRjhjXHnZr+5EvpHFKGJCj4RqFBrZobzAJn1jIJ/0u2Le/5L3n/xZHvIn789WvCdIvkq2Sh6CU2SsxEMAjhPW4o7hSSbBAkC8HCfGsaQBcVrEuC29h1EBjFMBYsK6VDt1KJD5gpUWGMDYFP6e626HLZQn3BkjTIQRM0WiDC8ji5Tt4JcZYf11+YCRQDMEPlLcNSGsFAFmgVzTiTSOKDIx/A81x7GJvomPXDG6rEm0XPVbYcKBM9n5LLmROV6zUpT19d+uGdAjLIGHubchZX5lnHbEcs21f+VLvw5OhV8FkmRNBW5+QezqLygd05ueB0z99wn9kwanng2BuftrqS92BHQ9C/w7KEUXXRFIjmcck20pdBN+XJctFjk1JYniWc+cvt190/7pL9xYhYtYLA7KBQH+Yv/AIFGQXOwnXMvyhPnnO4d2KWRiWQBY8nVZKULfHInQRGsi5k/9mOiY9Xl8c3i0UsIPvJhzCfGW+koRnqfQa01jkHJVxCplEGhP/YvkJOyWbKys7BKZOGtggAU/yDaIqirFGwXdzgWNjPsvzbLI2IguRu4+NY29PIwHevXuGeBil2YH8HP1A9nhyf+sinEj8WqjlcroWp7J+kXHLs4uN+e/idZW3FIUUQvO8g0QPYKDixdWG+vrvBt49VlZdT61PjUsv5odkmnIOsHgxRdkZA4MsDaIuhK4fmFVKioV9z9y4I9FGC8BewRluP79dZZoZc24kSnPZ2WfOZBQ+JtquahJRuccFyEVfhWcDr+XK/tdr1mQdk6ZX1lFiUuQnxtINTttmu6gXPG49gn9k//e9aTszw3c8BPyrCtghwtLHCQWi10UsdxfPrXf3P2t0zNWvCipyUkkzq77WOhWuEV2jBFPDqyI1qUsDZAEyMQyxa6hzvN82JO1VugnlgeJggL9xf5A6Jy6IDs0M0SWIc8s+U+mBOD+vEz1b4k8U5aRGZIdWoIZkqVJkozVGbNcCU/8MCNz9R/JUsOYfzLI8B+wav4z94cbQmJoCl1Y3oKUfyYWlAwe00YnO9LKf7XHBk/bTfyjnUG2v3GTuzm2y7c7wvVvtoPeYOseCjqVt8PGtbu1YzjCRHHGwUesnnPcc+yebw8ycJ3qyHlrPNkWi7fqb0y2FQ+wzNyq587wrP7SZCjUPtkfKK56/Y39ze3lHq5G7G+M0845rRXTaZ/vLKWVre/OUFjlvOFnKPiPRt/Sscd+vTfuO3YIClBW7257xxZG+elVE6cBAKcnVp1OmcEncPtMQjz2ELk8MXncPDqxZMnEqHk8OXF5ZBKvje81w28nsJIeNGOTXl0f4mVgywjNjrKhSNkD5WOvH3Bu75GF6bfFSAQIuXD0CHxc5Q87psbGEJZn0zqoXZNNHMUQqEPuZ2VNJUxlxf928zbhfBxs//XDgmFaHG2YH31EZd6sEQtuMqnnKmAG1bEqMR4rlYH9TnDWxpWw2l6bYOZc3vZdu+jgZE9z82XZT05Ph9rFlmDJn15kkyx2HbJxSUkbZx6+4H7VshEQH9wkbn5gjvtSHPuzs/I2UTvGsafSvz/cwFEZvlm84cf58PmcHEeY49l/AbqFORRMhIlabx1Tu7VZ25xz7JbVNXHZOKDOVseYdfIysg7+bsgxQu/5U9CPnnqvyaDPL3+4VF3l6uz+zA0UrvTR8+GrMVepfD2fepVPgVZkhFQyxqKKzFXjjAaISAp2LVVXFQyeVPdKQCdgHzQkS/9c5K/eqzN1kxpmMXv06MRofF18XO1KC/5T+c/ln+auEfsmCWL4MaW+fuzmchfY3RjHjxOofSXlqz/aUCPsOpf17/H86HqB8Iy58CCxU1FK3WdQxs6vXnbtFbASWcK9/L1Cllr/UeuB6uZZ48HKJbKv60b6Lpt8EjMT92eoM9Xwv+3X2w/6ro1Z+0OtJS7Rd59vfGkHmFg4zOPkXTuBfxyNp7WUTZSltQTpP8ZPOMUnycU6aVq+1+z58iVpkhSHvqmXXdZ+/DgrY/fWDYJlXbm/QB5Intq9OevpM50hCHi+IeXZd/casnOyt40C2qsilJD2A+gafZb3d7jALMC/885qxYjuoFCNIUBuljuIHkH9Q+JR37gKqFIU8+OroKlkceXo0WuCKFYYKz6qRxrEUsLfwwohVj5ihYjmv2rizmVkRez57jnqHDU+XvC+7yh/RDAsuMAf9T0vUMVrjzgzv46f7z7nLj86e81RPXHXvS4Kl72uFx9/UbvIb+f5nNIlkfe4qjoNWVnxLnvInedVrm9TonWLtfEpWdGUt4HiaghO4D18DMf9SMOtM8M2rWPWUSvXDs/D3/YoNQTTpRImU4CijBaLxR+zwoSOikiAiuWx56AbxqW+dWX/riwT+yZz4wRxBjeYvHY1W3/DMWECjJvg67egbEey6H4vpJvYo3YyCSQjkhGBsFYZcem4de1OMTOWKX6nv2uniJnIlNSV2fKu5R/Kch0/uur7mqAIXazue12iTvX+zaU3xfmqVaoSmbahJFawX5CwBEiLBpjVwmrmo98kUEzpA6T8iMAHQimEYhjOxx12DCtGX2wecSbU2RLhjYRVUWPoIUTmd5YZr+4+zHdUXA3FV/F9qhIarHiSxROihIgS0gwqOQuAJXicN24ZgXMGDvZl3hxgJyw4zz2n8VIkzMDHgnfCaGvsYPi559wxwDiwMlDfjGeqStROzZeCR+ud2zTvc8l3A+culOjFDCbtQMk4iMwJsVisQYbZXgTNaWMj3nzI6xPfW1UXLJsQ9gogRvOiMi7luMMg+KdGY37McuQheok9qgXlknPHwtAy6Cj4960EfSIXGF9KWBKMCP1V63Lx1SZwOHizhvED/FUxYKzKS4/NhIzzxhVXLdRDZslPmxztbfi87GwbasvO6T6c9jebqk5VbEUmkjmO44BRk/g6nMCaCtCdv+T/9gIUTv5tWlirxtq8bFu6tbDqS9XXaktaxFcRsmear6jRaesgLTIwzUIz02CoL42GqctHg3xdayJ2+4eTKRoASJq3rvxM4ybWQQSzLpFL+//f91UkAFTGyQ4WGUopzfBXHnP+/bQdig9JDP9eaR2+aYTIoTOEGQ9IKszD4QQOvfdzB2P4qQd/qGq9ym1gmwbTBfM9LqfPO368S+fYr/ZLC5MC+kHoNIAgoRFyN6yWG1zcD7CA8e7B1kzZHYPbvJYNlNWX3n1+NuQOJDEpWheHmxX6mntpl/aUf5u5QKEV6/CFrOtRGnGSooiURi6dE33zldCpecDhvlgb6gr7fqetqdXsnz/VJ09poSYmDXyrgOBQZQ+IzKkiCAJHQWAvBlYwsxweGcEe1EJYULCit75M5RCYLdsT9E0Huvelpb44BGv3eN2q5R/0t+vj/OdFxjlf5lH4XrAnJV1Sbg4fI446pRa8/E2gnUe7DqFjFjT2Waj2sA31IP9mCFRl/xq1GwbrOqAFHr6l5TNXJp8dUEndWqfMInhx0pHhpJarYnO8vkGfrRHs/odz2+fsuQ3vh6MxdwVEgKGUGOmqPNLFAY/wEB//zZkZc8X9qkoXd15q+taiFPb+h+vcaTszNgPsJcxAATqPOqgWbO+ZrHSOdH7pl5rGCGO4oj7ehrO8YouFvkQs9m/zQm66V/mvhVjYf9hJFqs9YOM371dzAJzj/lXFRqDwq+pN2F3xlfsqmMFZlp8gG/3b2Sr5Gzh9jJMA43mFAUm4majuTwoolPZftXPod390zJuXPfjBOkyzbcBNtb5qiO/xdJjh+Lz3LgCalMkPWWQAGW8OW5XfhyeGxEP20787H1P6Z5SmQGRWx6RRBQBJ9f6//9O4dYlMAkqs49J+vvKWBsj7qfPke0T1IAohVrJzKVsKzSVA6FXTR/fIoOwnoudj6PgA8bzsj73ABKKNP4c5cCveavGaBY6hd4pMu14HQ5Ov0Lzbk4so67YOQcGvd5mKgsTsvhF0rRd1BPBazypZwY83mPSDXf0W3qEd2qpXkWG0sedsJ4zY+0CJ5MRpXx3Ql5PXc+lSz+RPOfPtzPw05jsoQGKQ+VZ81CjjCzxYxDb2gJzPwWj9N+9vrPjKPQcGnGr2WhLQzjq2XCZUY1udoHBrFHSKCqijPJdbs3y5TfK0ji1Yeg7AKivje/YMb/5x9Suu3GraikLI1vHA8fnJwTdsGit6kDV6Do60AgAsvfIs1HHbaO/ApzIqQfSVbDAFpmmRbNU8hvfIKmq4wT2TKjqGnXbr4qYmkV/3P8U9J0/0PG5uDcMQJvq458TJnh2d/8qjXHlHR8HLyNx5HW3pjC4rWwvRI7gRdCiY7BMiShGi5NHWp1vZKBnQlFzINyRE30o/u3mVHEtT65s9L/0QMBAwEtADuibbSHplTfKyiKNHoziuJIqnh4gYtaEO51Tl8uWPy3JDs2VyQ3jWeblBlpEZmiUvdYqhMpAvtieF5mqlaql/UmDyHv+krHUGg9MfQDKlGrGM+06MWLrUP1NrUymbFBEab52vkVHAMEWpMe1IXAHDSFdHp2B840C6s7Nz5uaB8xnZJyXVeZocdTW7nv1ZmjZPnc2q8aiXVPvmP58cijWTY6j31MB+HgHoLAIQHAUIn8dHoHEYma06mcbgebiuIKc0c1o7vum0kppUB4NqY/6u3NQBUPVSrokwutaWk2tnz605v4vB4H3dMq1m2WbrW6bZ7NMu2wxNKgp3OGrBVo43/1opbtIH6YJIXE8EpXo/HwoiyNwrQqopWlINxP30OnzcgqxQQ6gstBp8g2GgBlu3+q7pUnzQglkky7sWvMZ/+e1sK1JUWfO5hph3hz75MEJpXlLnL6+sOxbkvQZrTTenzcaS+UUqVYWRxVCDuKB6w0tlWbKMjFCDvBjARcAQmi6TpVcOKCav/XgPkXnUaiqUwqtj+Czeav8RniC4ifYSO8Cic+7ofSYQ71s9ia3tC6xSFm7MGJmTsOX2iDiMXxT5/X8GQNYLNudWRvwt0WRm0kWE9X5BhrvGbYfwiPbTrkD7cIshmMLNKv50duF7ibtSL6f55gjLaEApelh1Pikwb9VBZhXzYHNgXisKEAJhoq0/1o6aRpKJZBOBEfZou5MluDUY+NvJmdqLTrcy9bco7NF32/3LBH/d6fxUAQXNcSrkOfEN5dq2vCPIUTZFvjEB/aNil1etrkIT0zq3qz/nV5IPmoS6xD17DPw1GXrGqlSyG/1V830v7Q4v7f3mV3Q38qpUPQP8kJOU8wNYt/n7yoJwEg/H4NIbyo7j1mMdnj2eho9Zj3sswarMnnkelcl6CwRy48Rj/pdR6/q/4EiYzl4ssbtJUOZU5feaNBl+bOWNiMf2277yGB4cr8PHl/R/jogjKBKjjE8qb6lTn6lHBDhvgh4E9NMZWzpiColeuoEevRrRenVsYbTPJNTGx9eutIQgo3+habScyfkj1Bc8f1GL+uZ094Z1tGtMN3yv+hSI+9S/eBwoKnGkvSgpeSH1Unnj3ipPqWP0F/fNWUbArhe8My5NsvNd1Gffpz6B3S5QOOTSndMdCCnCiwr0+XSfD/puaGLUX6qoQHGNLoifFZCY5U7+RWIAANgW4qtebxGx3uO/BwBkBYe1YbJ9mWApmyyYjhf4XTvFPeZxRy3a/JMoKDBFGxgkeZGe/nPqz8Xuy53EM9JTSQUIg5rM6mYn7JpM+Um0WX3HQz2LQioVK4zl4gq54FB04aNnCuv3Ty0Rn/1ZVBpAoqBs3tEEyY5hJNCW3UZxCnOitGW1BTiFX7W1BSLDITjVgcxT5YctS+wHA/kXfzgzdz9pjWw5WW36HRQ9OtMQm16Tutp+MtNjG2qPxLJTDRUhzeUhaQZ27JEt1zwvBl4KuhR4MWD0GgDX9XQ/d2HkXhQgbhyjMOldwI1QuL+hSoolT+JHFUZRS5EtaTp+9R9XYRTubLbgjH+IS9pLSuUxyYD2gpqaiebp7/aVmddQYr+oM6XyAqYvWQHGfnAhUCD/z5Pit3atYztsnPO5qrLbHSd5x7he8JJR6+YOwRpHoXZmBsio0k2LwVdOI5f/jur80cAOKeH95kkt2UeQo3W4IN2fwuVc+Kqd0q21MGO2vCyq3lUZ6SGnT5/x4aR07yaX4/7gkGsFWDD4Cidwi8rk3Gux4k1ukGhz0gjJQ7MyQ0syuuQ6gApui6fkcfxv6E7U+WJMcaCXVDAw7OZZg5LMVJaN9e2APpoj1Jilr15bZmHGSi4u9XSwKk2K3PDwXIVpzIKHDGXzsUfPirilFTFl0dFlMRWPLXjIUDZ//LgXJhpOGyv1aRrzudnkU3qzEQ73LDW7CLpoOBvbYDsSy04zlIc0V4SkVq5gbcX7dgGOGEfrcGGavwvXK7tfryLq9U5zD3lRHxxs/VnF8ppaz4K0AvWyU8uqwqunOpblVI/aSG1//fWR30WTa4Nnxty8CBj43aDHe81xnnLmvNw49zhC/10H2LG7CQ022rmMUYsh91aVNPpseD1D7f72jonDa44n053Dm/mWlDvf2lBbTo6Nqu2+/HHLoxrzsnsIQUs3Q1BSZG15xLFu8OrJj7MVY+Q2Mvva8syIILw/+SyOPCfXpHPrTm3/54XFDgADOA0BNT3/nwFpMNBY/6nCv0uSE07J1rvc4DRx3JycnRK4GU6eriQfN3qG1NnZyXNIHRLOPuLxHt3/ax3t9ObDK/P9gvVTSb8Rfzw75Dm0xQ4iIFhs2nrPndc9/L2YVOPs7OpGkvp7UkgkH1K6kxeN4xzsxkWdyKqyDFe/PWxyPvUeWloLaiIxv+FPegmI35Km9MF++SsPbz6to33tT3/P4wg7JFw95Onk7CzNoLv5kFw9nTK4CU7OTm6cJs4NvcunbUOeh47/evIelZzP3uOX4VqmIjuhXLdgZw7Nyymd5EMiUTz9pSQ3V2fnGtL34uFunvu9rSYxDEWA/9f8R3OGXZJSmlo0yRQB4tIEEQpooJOCnefsXesp1Sn4/+fB35lRjOs433/laSdcRyh+Riiv/LYU+MdXHmvy4VBGeLPJ5YStH5prsSQ1DD3OQngv6f5nDnZRVLk10sr1EwAgvZf+VcOU+xm64dsM7206gHsjGAGISZeri3bWpEv9v3RgAFPyrpbtXJauz6ELXj3jOkLx4Rxrqoxvvl0O5fkZKSOgV2fZVpDZSfkj+2kq1esDsz31sXr19Fx3kK549636EPqct/eGqMcgWxxi/j384O+BfwSGe1ZdtLsofmFgwNd5Mdx1snVcEGet6tszahl/jo9fKjc9h4nuqk2u5h9hGF4Yv+rXdrkhBmAzVRi1pxeGmXWUXUmbQr28MJu0i7Ix0LDpPKPmiPLdX5eW/7K8m7YXgV4XsJBRyyi0k5A97aXZLA8o3TUR/weDw4PnvSaDJr0c0/MVNz73+D73fD00GUysHBB8/uf9n9l9Xug7j42zu5hnmV3s8RkCdWFSmC6o8tmcX644/yMLvmjOVsvX+aYNAUBubU5OW3DtUhjVZnshziudeuFhfUXnmHv9NtXwAHbU8lMMasnrZJFP1ZCHiOGV9MgI3opb04pNg9hPShE3lqSmte28uiiPAjPgaxRpes3Ol+cdZ9iAMhHi5QOcWOOb6UBPTeFTidyhFdB+v/sl6zzry7v27juMwc9o8B5kjj+q70ZsWm3qiesWPPnMl/hk4iBBPCdt6OLWdqTnotyy2oqLRTKu9F9QA48QZTdagvyUXb2cVetX49fmZ4PPxZJMZJd2ZxMpmGQiubaTTcAx/dL9dYuwaUOs50sOrGK/fNPtnrinR3Ry6bdndJar1qGbMenFwaUhDUsrlYsiMBNeWFcUkh2UmaFiL3bZfXNFdmSGT94SvFT8V+dDetHMOXiZbCLFYors2k7i68uzs2Atq8av1s/m1wbOAf3qBG1NonL+oj8LyS4IW9sryHDcS21Yk9pwzzE3n/VWzIKanyF65sxXqUtTRNsBDVn/4E+P1mjBoh/+CEjK+HJ/f2pcM0Prm+Jr8jUObTSBzNeyf2HvkQyYsT1fWt3A4+OdLlpZO7q5dDPaLiMenZqEAm77v7p/22eAKvGnF1Xa7yXd4upDztDk/OaLXqQesXGLBoJK++816pT58WsVnYod0jfcxnuHM4MG1GXWesv8beufV65LduYg3zWsNY4/8//6L5hEJjv7F1NdhYzAdK+4ILIrQlJHsrLcOi+6UgrR/5eEr73nGp+3mvieZQb/DeY2vyvclNcyPJn+AeNdFKD0ptyWM59n3FH/TFI6B5OUJDLsrHH2dVY6e5W+yB3N+6ktlW13HOxYQHWif8OPk0/VurMBFYSFGjI+DupYljyCaLIHmY34TcBx/gPANm+2yI0q3X7qLdnaNtn9ytP1XMX0w/LfZ1urk4MU1a2zv5c/nK445+r5qvuWjSVP32M8bcGf6jjrs7q8EkIQv6isfJlZPkGAQP5290NCfv/+e1TnnZq1UjfNlVk96P/0U9r2OsIn8F2XP6dnSb9/E/FgKHzoQcQ3v5Nmp/90eTfQJ+L1GPXxyAiBE5Pe9dpbUq7BDCi829JSdV4WzErM4HirAS5hwjLfH/DTJEVX6nZw9qnT0t4ui57W8Hd69Wu435RF9qTNf0a2z2uHLqoyKgEC0ZW55P3htufZoclSHT9fqpNlyI++DNhPzo1RUh0w2LELnuc44F1gJ/UFx0Hd1Q87OPNwfz/MANUfRexKOXM6ND09VFZcUxJ/K2ND0dngFFIi9swz48bzaHCvQ/Nv9w0eN6BFjLg/Xakk8OPS8oGjkwScOwVzBSUG+UFoeilhI+mG7gdJG7pMWwEO1osEJAelybWCvsD0KBQKRkEafQswDo6Jw/hAUOALtMSohTOZh46wUhGts7KFgZEr/nJXWOMLjA7DiDgTcE8B+cQwhaKjHQIOJQjnQZvbB9RYhYpKxBpeGAR92cpmQYRPWNhhjIaA9CmAicZSwYhJABYGpwA9uIiVEoDLalA0TcSySRnAwBYW8Xh9bhVvvBHCDV1QeR1uEcGax5kpCUs8ea5cVmpswpvKI94EIIkQAmq7Xc7y/prWjD5qCCtmhKjjyKR7aHJKoDsC2fEICy9MRoMfTGFwOGKqH+Yw2IwUGznKrabyReSBlieXAWsEJsWNsIFbJmTQyhQGt42YWceZw+A3I8Wl+e2q5bzRsKpWbul+eBWhCssfsF6lxVrUwLgO/Ihh/DF5+GP3sgDelduhUFJotdnlFaHtAZyqVmuZJuUaovxZzZOIcVIh45eqCVsy4+xEIQW5cODHbj5cisrq2PKhaKGwLL9syVfDtSJAspp6vIZ1Yc1J6CggIWsybPEsWvGs4cQqR5vkwOKyxIVL+HLtUroE5MTrgkBRTeXm+rkAPKU/3SpGmGlWk7KQl1hqVgQmjaXICABcopa3mvIlWpd/JuUwBAqDI5CQUVDRQ/+xGuuwsHnw5IUDgfLmg4uHz5eAkB8RMQkpfwECBQkWQiaUXJhwChGUVCJFiYbBxYgVJ16CREkEIolModLoDCaLzeHWgPkCoUgskcrkCqVKrdHq9AajyWyx2uzsHRydnF0AEIIRFMNd3dw9PL28fXz9IFAYHIFEoTFYHJ5AJJEpvQCoNDqDyWJzuLzoni8QisQSqUyuUKrUGq1ObzAmcspssdrsDqfL7fH6+Pr5gxCMoBhOkBTNsBwviJJMrlCq1BqtTm8wmswWq83ucLrcHq/Pj/PnrjxGpRuyLmteJWs+VbVQd68uK/glvMShWCq7KAy/B0h/9yrhktBu7EM0Z6W00esuvH6IbOwSMoFH5zdcOIon3uEaHkcMqohSZUQ5wcOXSnPpflr/xbT79wEMDquSHgEr8E+bIuPcZhFGPNgPn7fNCSkKZBkFKMj697YYPH2lhwonQv91sTYfBeMXtO7f1a/4ve/zZ0gnJpOgJyoufcBr3duTL8NjjXQrmferfGMTpuO+C7G9zQx9nFSs0xezVb5jMEr+y6t7pWCp6xGtzQs67RUgB7g43BDRKNpBB9M1HXmVzksMaLps5t++iLpcRkUJYWjitpJ+YyyCkIuiBr8GOzb5+w+Ygo1yCfIdQJLdVmil4OMTibZa1l36m/leoaLfj5wQ8UhMIaKaSNOeBVmJMxnsUZ2RFVuuBw3ycxiyPbzyQKw3bPicWTpeMtnmOJEvOruMe0aPTAIPmNWABHslY3X0SHABclIA1QxWpBxIMhDZlOmOx1TRAscdPuyn8dnuN59DV0oImNJiBCMnQ9agGO/kb3yeX6nfYrDsl/PZIa9aEFG0wDH2iQCa8xbpUoJoNB83xWoGUz1nswtLhoecNsRcOiM4UawSYPCLTWvklU6gXYm+Ykbhn1GAh+anE0hzAZvXu0znfudIvnQYevYKeO9/oeidOHC5cKzS3lzfGkMwBeBLwRQIseHxx/izGL405PAzACYduH47JjuV3Ep3BkpAlwMwYDEvFWY1zbFHamKa9hGq43WCrXQCuU4xZ5MdYYRNjpUy4PXebFQ7GqaTldU/KhbseC6TMmuBVtLi9Amy+dsUopHrfH9yTc1TOpQcnStbDkAP38xRBPvZkIgPHM6qQ2HiDZMxBofkWXvW4eEHk7v78696W7S2mwXQ8zrTi4+qHfljnhGDaZ2VND3D3SZmzoYqbjxolcYPE2p7qqeF5hI421LIzFCnEtVWORuCAuVQ0QIvfFotxuJsMB5g01VtsxwoaHeMp0CoQP9UpEaalAUZ9Rgk0B3VuPitpc3bnPE6GA867d+CyaXzMaNCMyslAb7a2cQnhOkiydlgHOasyoXN/+6kRz87w8V7AZq2PgmWb287XPO+yCIMaTrdHK8yl/u3Udq1uGdoObPFm7NLOO55fObRzm6EQPZjb3euwbzTMzmNW/DiE88JdvzLHull5+DSW7R8NV55/x+Snm4uvpECpc6fbexjaReNa5kDqgudGpM5PVAA"}},n={};function i(e){var t=n[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var r=n[e]={id:e,exports:{}};try{var o={id:e,module:r,factory:a[e],require:i};i.i.forEach((function(e){e(o)})),r=o.module,o.factory.call(r.exports,r,r.exports,o.require)}catch(e){throw r.error=e,e}return r.exports}return i.m=a,i.c=n,i.i=[],i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.hu=e=>e+"."+i.h()+".hot-update.js",i.hmrF=()=>"option."+i.h()+".hot-update.json",i.h=()=>"0bdf24d6101dcf91d6c5",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="crx-links-collector:",i.l=(a,n,r,o)=>{if(e[a])e[a].push(n);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+r),s.src=a),e[a]=[n];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,a,n={},r=i.c,o=[],s=[],l="idle",c=0,d=[];function u(e){l=e;for(var t=[],a=0;a<s.length;a++)t[a]=s[a].call(null,e);return Promise.all(t)}function h(){0==--c&&u("ready").then((function(){if(0===c){var e=d;d=[];for(var t=0;t<e.length;t++)e[t]()}}))}function f(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return u("check").then(i.hmrM).then((function(a){return a?u("prepare").then((function(){var n=[];return t=[],Promise.all(Object.keys(i.hmrC).reduce((function(e,r){return i.hmrC[r](a.c,a.r,a.m,e,t,n),e}),[])).then((function(){return t=function(){return e?v(e):u("ready").then((function(){return n}))},0===c?t():new Promise((function(e){d.push((function(){e(t())}))}));var t}))})):u(m()?"ready":"idle").then((function(){return null}))}))}function p(e){return"ready"!==l?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+l+")")})):v(e)}function v(e){e=e||{},m();var n=t.map((function(t){return t(e)}));t=void 0;var i=n.map((function(e){return e.error})).filter(Boolean);if(i.length>0)return u("abort").then((function(){throw i[0]}));var r=u("dispose");n.forEach((function(e){e.dispose&&e.dispose()}));var o,s=u("apply"),l=function(e){o||(o=e)},c=[];return n.forEach((function(e){if(e.apply){var t=e.apply(l);if(t)for(var a=0;a<t.length;a++)c.push(t[a])}})),Promise.all([r,s]).then((function(){return o?u("fail").then((function(){throw o})):a?v(e).then((function(e){return c.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):u("idle").then((function(){return c}))}))}function m(){if(a)return t||(t=[]),Object.keys(i.hmrI).forEach((function(e){a.forEach((function(a){i.hmrI[e](a,t)}))})),a=void 0,!0}i.hmrD=n,i.i.push((function(d){var v,m,g,y,b=d.module,_=function(t,a){var n=r[a];if(!n)return t;var i=function(i){if(n.hot.active){if(r[i]){var s=r[i].parents;-1===s.indexOf(a)&&s.push(a)}else o=[a],e=i;-1===n.children.indexOf(i)&&n.children.push(i)}else console.warn("[HMR] unexpected require("+i+") from disposed module "+a),o=[];return t(i)},s=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(a){t[e]=a}}};for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&"e"!==d&&Object.defineProperty(i,d,s(d));return i.e=function(e){return function(e){switch(l){case"ready":u("prepare");case"prepare":return c++,e.then(h,h),e;default:return e}}(t.e(e))},i}(d.require,d.id);b.hot=(v=d.id,m=b,y={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:g=e!==v,_requireSelf:function(){o=m.parents.slice(),e=g?void 0:v,i(v)},active:!0,accept:function(e,t,a){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)y._acceptedDependencies[e[n]]=t||function(){},y._acceptedErrorHandlers[e[n]]=a;else y._acceptedDependencies[e]=t||function(){},y._acceptedErrorHandlers[e]=a},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)y._declinedDependencies[e[t]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=y._disposeHandlers.indexOf(e);t>=0&&y._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":t=[],Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](v,t)})),u("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](v,t)}));break;case"prepare":case"check":case"dispose":case"apply":(a=a||[]).push(v)}},check:f,apply:p,status:function(e){if(!e)return l;s.push(e)},addStatusHandler:function(e){s.push(e)},removeStatusHandler:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1)},data:n[v]},e=void 0,y),b.parents=o,b.children=[],o=[],d.require=_})),i.hmrC={},i.hmrI={}})(),i.p="./",(()=>{i.b=document.baseURI||self.location.href;var e,t,a,n,r,o=i.hmrS_jsonp=i.hmrS_jsonp||{728:0},s={};function l(t,a){return e=a,new Promise(((e,a)=>{s[t]=e;var n=i.p+i.hu(t),r=new Error;i.l(n,(e=>{if(s[t]){s[t]=void 0;var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;r.message="Loading hot update chunk "+t+" failed.\n("+n+": "+i+")",r.name="ChunkLoadError",r.type=n,r.request=i,a(r)}}))}))}function c(e){function s(e){for(var t=[e],a={},n=t.map((function(e){return{chain:[e],id:e}}));n.length>0;){var r=n.pop(),o=r.id,s=r.chain,c=i.c[o];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var d=0;d<c.parents.length;d++){var u=c.parents[d],h=i.c[u];if(h){if(h.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([u]),moduleId:o,parentId:u};-1===t.indexOf(u)&&(h.hot._acceptedDependencies[o]?(a[u]||(a[u]=[]),l(a[u],[o])):(delete a[u],t.push(u),n.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:a}}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];-1===e.indexOf(n)&&e.push(n)}}i.f&&delete i.f.jsonpHmr,t=void 0;var c={},d=[],u={},h=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var f in a)if(i.o(a,f)){var p,v=a[f],m=!1,g=!1,y=!1,b="";switch((p=v?s(f):{type:"disposed",moduleId:f}).chain&&(b="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":e.onDeclined&&e.onDeclined(p),e.ignoreDeclined||(m=new Error("Aborted because of self decline: "+p.moduleId+b));break;case"declined":e.onDeclined&&e.onDeclined(p),e.ignoreDeclined||(m=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+b));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(p),e.ignoreUnaccepted||(m=new Error("Aborted because "+f+" is not accepted"+b));break;case"accepted":e.onAccepted&&e.onAccepted(p),g=!0;break;case"disposed":e.onDisposed&&e.onDisposed(p),y=!0;break;default:throw new Error("Unexception type "+p.type)}if(m)return{error:m};if(g)for(f in u[f]=v,l(d,p.outdatedModules),p.outdatedDependencies)i.o(p.outdatedDependencies,f)&&(c[f]||(c[f]=[]),l(c[f],p.outdatedDependencies[f]));y&&(l(d,[p.moduleId]),u[f]=h)}a=void 0;for(var _,x=[],E=0;E<d.length;E++){var w=d[E],T=i.c[w];T&&(T.hot._selfAccepted||T.hot._main)&&u[w]!==h&&!T.hot._selfInvalidated&&x.push({module:w,require:T.hot._requireSelf,errorHandler:T.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete o[e]})),n=void 0;for(var t,a=d.slice();a.length>0;){var r=a.pop(),s=i.c[r];if(s){var l={},u=s.hot._disposeHandlers;for(E=0;E<u.length;E++)u[E].call(null,l);for(i.hmrD[r]=l,s.hot.active=!1,delete i.c[r],delete c[r],E=0;E<s.children.length;E++){var h=i.c[s.children[E]];h&&((e=h.parents.indexOf(r))>=0&&h.parents.splice(e,1))}}}for(var f in c)if(i.o(c,f)&&(s=i.c[f]))for(_=c[f],E=0;E<_.length;E++)t=_[E],(e=s.children.indexOf(t))>=0&&s.children.splice(e,1)},apply:function(t){for(var a in u)i.o(u,a)&&(i.m[a]=u[a]);for(var n=0;n<r.length;n++)r[n](i);for(var o in c)if(i.o(c,o)){var s=i.c[o];if(s){_=c[o];for(var l=[],h=[],f=[],p=0;p<_.length;p++){var v=_[p],m=s.hot._acceptedDependencies[v],g=s.hot._acceptedErrorHandlers[v];if(m){if(-1!==l.indexOf(m))continue;l.push(m),h.push(g),f.push(v)}}for(var y=0;y<l.length;y++)try{l[y].call(null,_)}catch(a){if("function"==typeof h[y])try{h[y](a,{moduleId:o,dependencyId:f[y]})}catch(n){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:f[y],error:n,originalError:a}),e.ignoreErrored||(t(n),t(a))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:o,dependencyId:f[y],error:a}),e.ignoreErrored||t(a)}}}for(var b=0;b<x.length;b++){var E=x[b],w=E.module;try{E.require(w)}catch(a){if("function"==typeof E.errorHandler)try{E.errorHandler(a,{moduleId:w,module:i.c[w]})}catch(n){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:w,error:n,originalError:a}),e.ignoreErrored||(t(n),t(a))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:w,error:a}),e.ignoreErrored||t(a)}}return d}}}self.webpackHotUpdatecrx_links_collector=(t,n,o)=>{for(var l in n)i.o(n,l)&&(a[l]=n[l],e&&e.push(l));o&&r.push(o),s[t]&&(s[t](),s[t]=void 0)},i.hmrI.jsonp=function(e,t){a||(a={},r=[],n=[],t.push(c)),i.o(a,e)||(a[e]=i.m[e])},i.hmrC.jsonp=function(e,s,d,u,h,f){h.push(c),t={},n=s,a=d.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],e.forEach((function(e){i.o(o,e)&&void 0!==o[e]?(u.push(l(e,f)),t[e]=!0):t[e]=!1})),i.f&&(i.f.jsonpHmr=function(e,a){t&&i.o(t,e)&&!t[e]&&(a.push(l(e)),t[e]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),i.nc=void 0,i(3012)})()));